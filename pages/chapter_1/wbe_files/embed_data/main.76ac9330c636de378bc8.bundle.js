(()=>{var FV=Object.defineProperty,jV=Object.defineProperties;var WV=Object.getOwnPropertyDescriptors;var yd=Object.getOwnPropertySymbols;var QE=Object.prototype.hasOwnProperty,qE=Object.prototype.propertyIsEnumerable;var XE=(No,Lo,wt)=>Lo in No?FV(No,Lo,{enumerable:!0,configurable:!0,writable:!0,value:wt}):No[Lo]=wt,ir=(No,Lo)=>{for(var wt in Lo||(Lo={}))QE.call(Lo,wt)&&XE(No,wt,Lo[wt]);if(yd)for(var wt of yd(Lo))qE.call(Lo,wt)&&XE(No,wt,Lo[wt]);return No},Ro=(No,Lo)=>jV(No,WV(Lo));var gi=(No,Lo)=>{var wt={};for(var sa in No)QE.call(No,sa)&&Lo.indexOf(sa)<0&&(wt[sa]=No[sa]);if(No!=null&&yd)for(var sa of yd(No))Lo.indexOf(sa)<0&&qE.call(No,sa)&&(wt[sa]=No[sa]);return wt};var HV=(No,Lo)=>()=>(Lo||No((Lo={exports:{}}).exports,Lo),Lo.exports);var Tu=(No,Lo,wt)=>new Promise((sa,z)=>{var l=f=>{try{o(wt.next(f))}catch(u){z(u)}},e=f=>{try{o(wt.throw(f))}catch(u){z(u)}},o=f=>f.done?sa(f.value):Promise.resolve(f.value).then(l,e);o((wt=wt.apply(No,Lo)).next())});var KV=HV(qp=>{(function(){try{var No=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Lo=new Error().stack;Lo&&(No._sentryDebugIds=No._sentryDebugIds||{},No._sentryDebugIds[Lo]="1bccd33c-2a91-40ce-a7f1-6a0a29ad67b5",No._sentryDebugIdIdentifier="sentry-dbid-1bccd33c-2a91-40ce-a7f1-6a0a29ad67b5")}catch(wt){}})();var VV=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};VV.SENTRY_RELEASE={id:"substack@35e84bf"};(()=>{var No={28599:z=>{"use strict";const{AbortController:l,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;z.exports=l,z.exports.AbortSignal=e,z.exports.default=l},21924:(z,l,e)=>{"use strict";var o=e(40210),f=e(55559),u=f(o("String.prototype.indexOf"));z.exports=function(g,v){var E=o(g,!!v);return typeof E=="function"&&u(g,".prototype.")>-1?f(E):E}},55559:(z,l,e)=>{"use strict";var o=e(58612),f=e(40210),u=f("%Function.prototype.apply%"),c=f("%Function.prototype.call%"),g=f("%Reflect.apply%",!0)||o.call(c,u),v=f("%Object.getOwnPropertyDescriptor%",!0),E=f("%Object.defineProperty%",!0),y=f("%Math.max%");if(E)try{E({},"a",{value:1})}catch(T){E=null}z.exports=function(O){var I=g(o,c,arguments);if(v&&E){var S=v(I,"length");S.configurable&&E(I,"length",{value:1+y(0,O.length-(arguments.length-1))})}return I};var p=function(){return g(o,u,arguments)};E?E(z.exports,"apply",{value:p}):z.exports.apply=p},94184:(z,l)=>{var e,o;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var f={}.hasOwnProperty;function u(){for(var c=[],g=0;g<arguments.length;g++){var v=arguments[g];if(v){var E=typeof v;if(E==="string"||E==="number")c.push(v);else if(Array.isArray(v)){if(v.length){var y=u.apply(null,v);y&&c.push(y)}}else if(E==="object")if(v.toString===Object.prototype.toString)for(var p in v)f.call(v,p)&&v[p]&&c.push(p);else c.push(v.toString())}}return c.join(" ")}z.exports?(u.default=u,z.exports=u):(e=[],o=function(){return u}.apply(l,e),o!==void 0&&(z.exports=o))})()},98767:z=>{z.exports=l;function l(o){if(o)return e(o)}function e(o){for(var f in l.prototype)o[f]=l.prototype[f];return o}l.prototype.on=l.prototype.addEventListener=function(o,f){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(f),this},l.prototype.once=function(o,f){function u(){this.off(o,u),f.apply(this,arguments)}return u.fn=f,this.on(o,u),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(o,f){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+o];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var c,g=0;g<u.length;g++)if(c=u[g],c===f||c.fn===f){u.splice(g,1);break}return u.length===0&&delete this._callbacks["$"+o],this},l.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var f=new Array(arguments.length-1),u=this._callbacks["$"+o],c=1;c<arguments.length;c++)f[c-1]=arguments[c];if(u){u=u.slice(0);for(var c=0,g=u.length;c<g;++c)u[c].apply(this,f)}return this},l.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},l.prototype.hasListeners=function(o){return!!this.listeners(o).length}},27484:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l="millisecond",e="second",o="minute",f="hour",u="day",c="week",g="month",v="quarter",E="year",y="date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},I=function(C,A,k){var L=String(C);return!L||L.length>=A?C:""+Array(A+1-L.length).join(k)+C},S={s:I,z:function(C){var A=-C.utcOffset(),k=Math.abs(A),L=Math.floor(k/60),K=k%60;return(A<=0?"+":"-")+I(L,2,"0")+":"+I(K,2,"0")},m:function C(A,k){if(A.date()<k.date())return-C(k,A);var L=12*(k.year()-A.year())+(k.month()-A.month()),K=A.clone().add(L,g),Z=k-K<0,J=A.clone().add(L+(Z?-1:1),g);return+(-(L+(k-K)/(Z?K-J:J-K))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:g,y:E,w:c,d:u,D:y,h:f,m:o,s:e,ms:l,Q:v}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},_="en",d={};d[_]=O;var s=function(C){return C instanceof M},w=function(C,A,k){var L;if(!C)return _;if(typeof C=="string")d[C]&&(L=C),A&&(d[C]=A,L=C);else{var K=C.name;d[K]=C,L=K}return!k&&L&&(_=L),L||!k&&_},P=function(C,A){if(s(C))return C.clone();var k=typeof A=="object"?A:{};return k.date=C,k.args=arguments,new M(k)},x=S;x.l=w,x.i=s,x.w=function(C,A){return P(C,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var M=function(){function C(k){this.$L=w(k.locale,null,!0),this.parse(k)}var A=C.prototype;return A.parse=function(k){this.$d=function(L){var K=L.date,Z=L.utc;if(K===null)return new Date(NaN);if(x.u(K))return new Date;if(K instanceof Date)return new Date(K);if(typeof K=="string"&&!/Z$/i.test(K)){var J=K.match(p);if(J){var q=J[2]-1||0,ne=(J[7]||"0").substring(0,3);return Z?new Date(Date.UTC(J[1],q,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ne)):new Date(J[1],q,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ne)}}return new Date(K)}(k),this.$x=k.x||{},this.init()},A.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},A.$utils=function(){return x},A.isValid=function(){return this.$d.toString()!=="Invalid Date"},A.isSame=function(k,L){var K=P(k);return this.startOf(L)<=K&&K<=this.endOf(L)},A.isAfter=function(k,L){return P(k)<this.startOf(L)},A.isBefore=function(k,L){return this.endOf(L)<P(k)},A.$g=function(k,L,K){return x.u(k)?this[L]:this.set(K,k)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(k,L){var K=this,Z=!!x.u(L)||L,J=x.p(k),q=function(ae,oe){var G=x.w(K.$u?Date.UTC(K.$y,oe,ae):new Date(K.$y,oe,ae),K);return Z?G:G.endOf(u)},ne=function(ae,oe){return x.w(K.toDate()[ae].apply(K.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(oe)),K)},F=this.$W,W=this.$M,ie=this.$D,he="set"+(this.$u?"UTC":"");switch(J){case E:return Z?q(1,0):q(31,11);case g:return Z?q(1,W):q(0,W+1);case c:var ye=this.$locale().weekStart||0,fe=(F<ye?F+7:F)-ye;return q(Z?ie-fe:ie+(6-fe),W);case u:case y:return ne(he+"Hours",0);case f:return ne(he+"Minutes",1);case o:return ne(he+"Seconds",2);case e:return ne(he+"Milliseconds",3);default:return this.clone()}},A.endOf=function(k){return this.startOf(k,!1)},A.$set=function(k,L){var K,Z=x.p(k),J="set"+(this.$u?"UTC":""),q=(K={},K[u]=J+"Date",K[y]=J+"Date",K[g]=J+"Month",K[E]=J+"FullYear",K[f]=J+"Hours",K[o]=J+"Minutes",K[e]=J+"Seconds",K[l]=J+"Milliseconds",K)[Z],ne=Z===u?this.$D+(L-this.$W):L;if(Z===g||Z===E){var F=this.clone().set(y,1);F.$d[q](ne),F.init(),this.$d=F.set(y,Math.min(this.$D,F.daysInMonth())).$d}else q&&this.$d[q](ne);return this.init(),this},A.set=function(k,L){return this.clone().$set(k,L)},A.get=function(k){return this[x.p(k)]()},A.add=function(k,L){var K,Z=this;k=Number(k);var J=x.p(L),q=function(W){var ie=P(Z);return x.w(ie.date(ie.date()+Math.round(W*k)),Z)};if(J===g)return this.set(g,this.$M+k);if(J===E)return this.set(E,this.$y+k);if(J===u)return q(1);if(J===c)return q(7);var ne=(K={},K[o]=6e4,K[f]=36e5,K[e]=1e3,K)[J]||1,F=this.$d.getTime()+k*ne;return x.w(F,this)},A.subtract=function(k,L){return this.add(-1*k,L)},A.format=function(k){var L=this;if(!this.isValid())return"Invalid Date";var K=k||"YYYY-MM-DDTHH:mm:ssZ",Z=x.z(this),J=this.$locale(),q=this.$H,ne=this.$m,F=this.$M,W=J.weekdays,ie=J.months,he=function(oe,G,re,se){return oe&&(oe[G]||oe(L,K))||re[G].substr(0,se)},ye=function(oe){return x.s(q%12||12,oe,"0")},fe=J.meridiem||function(oe,G,re){var se=oe<12?"AM":"PM";return re?se.toLowerCase():se},ae={YY:String(this.$y).slice(-2),YYYY:this.$y,M:F+1,MM:x.s(F+1,2,"0"),MMM:he(J.monthsShort,F,ie,3),MMMM:he(ie,F),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:he(J.weekdaysMin,this.$W,W,2),ddd:he(J.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(q),HH:x.s(q,2,"0"),h:ye(1),hh:ye(2),a:fe(q,ne,!0),A:fe(q,ne,!1),m:String(ne),mm:x.s(ne,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z};return K.replace(T,function(oe,G){return G||ae[oe]||Z.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(k,L,K){var Z,J=x.p(L),q=P(k),ne=6e4*(q.utcOffset()-this.utcOffset()),F=this-q,W=x.m(this,q);return W=(Z={},Z[E]=W/12,Z[g]=W,Z[v]=W/3,Z[c]=(F-ne)/6048e5,Z[u]=(F-ne)/864e5,Z[f]=F/36e5,Z[o]=F/6e4,Z[e]=F/1e3,Z)[J]||F,K?W:x.a(W)},A.daysInMonth=function(){return this.endOf(g).$D},A.$locale=function(){return d[this.$L]},A.locale=function(k,L){if(!k)return this.$L;var K=this.clone(),Z=w(k,L,!0);return Z&&(K.$L=Z),K},A.clone=function(){return x.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},C}(),N=M.prototype;return P.prototype=N,[["$ms",l],["$s",e],["$m",o],["$H",f],["$W",u],["$M",g],["$y",E],["$D",y]].forEach(function(C){N[C[1]]=function(A){return this.$g(A,C[0],C[1])}}),P.extend=function(C,A){return C.$i||(C(A,M,P),C.$i=!0),P},P.locale=w,P.isDayjs=s,P.unix=function(C){return P(1e3*C)},P.en=d[_],P.Ls=d,P.p={},P})},80790:function(z,l,e){(function(o,f){z.exports=f(e(27484))})(this,function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var f={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function u(g,v,E){var y=f[E];return Array.isArray(y)&&(y=y[v?0:1]),y.replace("%d",g)}var c={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_M\xE4rz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez".split("_"),ordinal:function(g){return g+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u}};return o.locale(c,null,!0),c})},28734:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f=e.prototype,u=f.format;o.en.ordinal=function(c){var g=["th","st","nd","rd"],v=c%100;return"["+c+(g[(v-20)%10]||g[v]||g[0])+"]"},f.format=function(c){var g=this,v=this.$locale(),E=this.$utils(),y=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return v.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return v.ordinal(g.week(),"W");case"w":case"ww":return E.s(g.week(),p==="w"?1:2,"0");case"W":case"WW":return E.s(g.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return E.s(String(g.$H===0?24:g.$H),p==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return p}});return u.bind(this)(y)}}})},90850:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f=e.prototype,u=f.parse;f.parse=function(c){c.date=function(g){var v=g.date,E=g.utc;return Array.isArray(v)?E?v.length?new Date(Date.UTC.apply(null,v)):new Date:v.length===1?o(String(v[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(v))):v}.bind(this)(c),u.bind(this)(c)}}})},94712:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f="h:mm A",u={lastDay:"[Yesterday at] "+f,sameDay:"[Today at] "+f,nextDay:"[Tomorrow at] "+f,nextWeek:"dddd [at] "+f,lastWeek:"[Last] dddd [at] "+f,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(c,g){var v=g||this.$locale().calendar||u,E=o(c||void 0).startOf("d"),y=this.diff(E,"d",!0),p=y<-6?"sameElse":y<-1?"lastWeek":y<0?"lastDay":y<1?"sameDay":y<2?"nextDay":y<7?"nextWeek":"sameElse",T=v[p]||u[p];return typeof T=="function"?T.call(this,o()):this.format(T)}}})},10285:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(I,S){return I.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,d,s){var w=s&&s.toUpperCase();return d||S[s]||l[s]||S[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,x,M){return x||M.slice(1)})})},o=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,f=/\d\d/,u=/\d\d?/,c=/\d*[^\s\d-_:/()]+/,g={},v=function(I){return function(S){this[I]=+S}},E=[/[+-]\d\d:?(\d\d)?/,function(I){(this.zone||(this.zone={})).offset=function(S){if(!S)return 0;var _=S.match(/([+-]|\d\d)/g),d=60*_[1]+(+_[2]||0);return d===0?0:_[0]==="+"?-d:d}(I)}],y=function(I){var S=g[I];return S&&(S.indexOf?S:S.s.concat(S.f))},p=function(I,S){var _,d=g.meridiem;if(d){for(var s=1;s<=24;s+=1)if(I.indexOf(d(s,0,S))>-1){_=s>12;break}}else _=I===(S?"pm":"PM");return _},T={A:[c,function(I){this.afternoon=p(I,!1)}],a:[c,function(I){this.afternoon=p(I,!0)}],S:[/\d/,function(I){this.milliseconds=100*+I}],SS:[f,function(I){this.milliseconds=10*+I}],SSS:[/\d{3}/,function(I){this.milliseconds=+I}],s:[u,v("seconds")],ss:[u,v("seconds")],m:[u,v("minutes")],mm:[u,v("minutes")],H:[u,v("hours")],h:[u,v("hours")],HH:[u,v("hours")],hh:[u,v("hours")],D:[u,v("day")],DD:[f,v("day")],Do:[c,function(I){var S=g.ordinal,_=I.match(/\d+/);if(this.day=_[0],S)for(var d=1;d<=31;d+=1)S(d).replace(/\[|\]/g,"")===I&&(this.day=d)}],M:[u,v("month")],MM:[f,v("month")],MMM:[c,function(I){var S=y("months"),_=(y("monthsShort")||S.map(function(d){return d.substr(0,3)})).indexOf(I)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[c,function(I){var S=y("months").indexOf(I)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,v("year")],YY:[f,function(I){I=+I,this.year=I+(I>68?1900:2e3)}],YYYY:[/\d{4}/,v("year")],Z:E,ZZ:E},O=function(I,S,_){try{var d=function(W){for(var ie=(W=e(W,g&&g.formats)).match(o),he=ie.length,ye=0;ye<he;ye+=1){var fe=ie[ye],ae=T[fe],oe=ae&&ae[0],G=ae&&ae[1];ie[ye]=G?{regex:oe,parser:G}:fe.replace(/^\[|\]$/g,"")}return function(re){for(var se={},le=0,Ee=0;le<he;le+=1){var ve=ie[le];if(typeof ve=="string")Ee+=ve.length;else{var pe=ve.regex,me=ve.parser,Ie=re.substr(Ee),_e=pe.exec(Ie)[0];me.call(se,_e),re=re.replace(_e,"")}}return function(de){var Re=de.afternoon;if(Re!==void 0){var ke=de.hours;Re?ke<12&&(de.hours+=12):ke===12&&(de.hours=0),delete de.afternoon}}(se),se}}(S)(I),s=d.year,w=d.month,P=d.day,x=d.hours,M=d.minutes,N=d.seconds,C=d.milliseconds,A=d.zone,k=new Date,L=P||(s||w?1:k.getDate()),K=s||k.getFullYear(),Z=0;s&&!w||(Z=w>0?w-1:k.getMonth());var J=x||0,q=M||0,ne=N||0,F=C||0;return A?new Date(Date.UTC(K,Z,L,J,q,ne,F+60*A.offset*1e3)):_?new Date(Date.UTC(K,Z,L,J,q,ne,F)):new Date(K,Z,L,J,q,ne,F)}catch(W){return new Date("")}};return function(I,S,_){_.p.customParseFormat=!0;var d=S.prototype,s=d.parse;d.parse=function(w){var P=w.date,x=w.utc,M=w.args;this.$u=x;var N=M[1];if(typeof N=="string"){var C=M[2]===!0,A=M[3]===!0,k=C||A,L=M[2];A&&(L=M[2]),g=this.$locale(),!C&&L&&(g=_.Ls[L]),this.$d=O(P,N,x),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),k&&P!==this.format(N)&&(this.$d=new Date("")),g={}}else if(N instanceof Array)for(var K=N.length,Z=1;Z<=K;Z+=1){M[1]=N[Z-1];var J=_.apply(this,M);if(J.isValid()){this.$d=J.$d,this.$L=J.$L,this.init();break}Z===K&&(this.$d=new Date(""))}else s.call(this,w)}}})},92997:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.dayOfYear=function(o){var f=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return o==null?f:this.add(o-f,"day")}}})},1646:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l,e,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},c=function(O){return O instanceof T},g=function(O,I,S){return new T(O,S,I.$l)},v=function(O){return e.p(O)+"s"},E=function(O){return O<0},y=function(O){return E(O)?Math.ceil(O):Math.floor(O)},p=function(O,I){return O?E(O)?{negative:!0,format:""+function(S){return Math.abs(S)}(O)+I}:{negative:!1,format:""+O+I}:{negative:!1,format:""}},T=function(){function O(S,_,d){var s=this;if(this.$d={},this.$l=d,_)return g(S*u[v(_)],this);if(typeof S=="number")return this.$ms=S,this.parseFromMilliseconds(),this;if(typeof S=="object")return Object.keys(S).forEach(function(P){s.$d[v(P)]=S[P]}),this.calMilliseconds(),this;if(typeof S=="string"){var w=S.match(f);if(w)return this.$d.years=w[2],this.$d.months=w[3],this.$d.weeks=w[4],this.$d.days=w[5],this.$d.hours=w[6],this.$d.minutes=w[7],this.$d.seconds=w[8],this.calMilliseconds(),this}return this}var I=O.prototype;return I.calMilliseconds=function(){var S=this;this.$ms=Object.keys(this.$d).reduce(function(_,d){return _+(S.$d[d]||0)*u[d]},0)},I.parseFromMilliseconds=function(){var S=this.$ms;this.$d.years=y(S/31536e6),S%=31536e6,this.$d.months=y(S/2592e6),S%=2592e6,this.$d.days=y(S/864e5),S%=864e5,this.$d.hours=y(S/36e5),S%=36e5,this.$d.minutes=y(S/6e4),S%=6e4,this.$d.seconds=y(S/1e3),S%=1e3,this.$d.milliseconds=S},I.toISOString=function(){var S=p(this.$d.years,"Y"),_=p(this.$d.months,"M"),d=+this.$d.days||0;this.$d.weeks&&(d+=7*this.$d.weeks);var s=p(d,"D"),w=p(this.$d.hours,"H"),P=p(this.$d.minutes,"M"),x=this.$d.seconds||0;this.$d.milliseconds&&(x+=this.$d.milliseconds/1e3);var M=p(x,"S"),N=S.negative||_.negative||s.negative||w.negative||P.negative||M.negative,C=w.format||P.format||M.format?"T":"",A=(N?"-":"")+"P"+S.format+_.format+s.format+C+w.format+P.format+M.format;return A==="P"||A==="-P"?"P0D":A},I.toJSON=function(){return this.toISOString()},I.format=function(S){var _=S||"YYYY-MM-DDTHH:mm:ss",d={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return _.replace(o,function(s,w){return w||String(d[s])})},I.as=function(S){return this.$ms/u[v(S)]},I.get=function(S){var _=this.$ms,d=v(S);return d==="milliseconds"?_%=1e3:_=d==="weeks"?y(_/u[d]):this.$d[d],_===0?0:_},I.add=function(S,_,d){var s;return s=_?S*u[v(_)]:c(S)?S.$ms:g(S,this).$ms,g(this.$ms+s*(d?-1:1),this)},I.subtract=function(S,_){return this.add(S,_,!0)},I.locale=function(S){var _=this.clone();return _.$l=S,_},I.clone=function(){return g(this.$ms,this)},I.humanize=function(S){return l().add(this.$ms,"ms").locale(this.$l).fromNow(!S)},I.milliseconds=function(){return this.get("milliseconds")},I.asMilliseconds=function(){return this.as("milliseconds")},I.seconds=function(){return this.get("seconds")},I.asSeconds=function(){return this.as("seconds")},I.minutes=function(){return this.get("minutes")},I.asMinutes=function(){return this.as("minutes")},I.hours=function(){return this.get("hours")},I.asHours=function(){return this.as("hours")},I.days=function(){return this.get("days")},I.asDays=function(){return this.as("days")},I.weeks=function(){return this.get("weeks")},I.asWeeks=function(){return this.as("weeks")},I.months=function(){return this.get("months")},I.asMonths=function(){return this.as("months")},I.years=function(){return this.get("years")},I.asYears=function(){return this.as("years")},O}();return function(O,I,S){l=S,e=S().$utils(),S.duration=function(s,w){var P=S.locale();return g(s,{$l:P},w)},S.isDuration=c;var _=I.prototype.add,d=I.prototype.subtract;I.prototype.add=function(s,w){return c(s)&&(s=s.asMilliseconds()),_.bind(this)(s,w)},I.prototype.subtract=function(s,w){return c(s)&&(s=s.asMilliseconds()),d.bind(this)(s,w)}}})},66607:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){e.prototype.isBetween=function(f,u,c,g){var v=o(f),E=o(u),y=(g=g||"()")[0]==="(",p=g[1]===")";return(y?this.isAfter(v,c):!this.isBefore(v,c))&&(p?this.isBefore(E,c):!this.isAfter(E,c))||(y?this.isBefore(v,c):!this.isAfter(v,c))&&(p?this.isAfter(E,c):!this.isBefore(E,c))}}})},10423:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isSameOrAfter=function(o,f){return this.isSame(o,f)||this.isAfter(o,f)}}})},37412:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isSameOrBefore=function(o,f){return this.isSame(o,f)||this.isBefore(o,f)}}})},96671:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l="month",e="quarter";return function(o,f){var u=f.prototype;u.quarter=function(v){return this.$utils().u(v)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(v-1))};var c=u.add;u.add=function(v,E){return v=Number(v),this.$utils().p(E)===e?this.add(3*v,l):c.bind(this)(v,E)};var g=u.startOf;u.startOf=function(v,E){var y=this.$utils(),p=!!y.u(E)||E;if(y.p(v)===e){var T=this.quarter()-1;return p?this.month(3*T).startOf(l).startOf("day"):this.month(3*T+2).endOf(l).endOf("day")}return g.bind(this)(v,E)}}})},84110:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){l=l||{};var f=e.prototype,u={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(v,E,y,p){return f.fromToBase(v,E,y,p)}o.en.relativeTime=u,f.fromToBase=function(v,E,y,p,T){for(var O,I,S,_=y.$locale().relativeTime||u,d=l.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=d.length,w=0;w<s;w+=1){var P=d[w];P.d&&(O=p?o(v).diff(y,P.d,!0):y.diff(v,P.d,!0));var x=(l.rounding||Math.round)(Math.abs(O));if(S=O>0,x<=P.r||!P.r){x<=1&&w>0&&(P=d[w-1]);var M=_[P.l];T&&(x=T(""+x)),I=typeof M=="string"?M.replace("%d",x):M(x,E,P.l,S);break}}if(E)return I;var N=S?_.future:_.past;return typeof N=="function"?N(I):N.replace("%s",I)},f.to=function(v,E){return c(v,E,this,!0)},f.from=function(v,E){return c(v,E,this)};var g=function(v){return v.$u?o.utc():o()};f.toNow=function(v){return this.to(g(this),v)},f.fromNow=function(v){return this.from(g(this),v)}}})},29387:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(o,f,u){var c,g=u().utcOffset(),v=function(T,O,I){I===void 0&&(I={});var S=new Date(T);return function(_,d){d===void 0&&(d={});var s=d.timeZoneName||"short",w=_+"|"+s,P=e[w];return P||(P=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),e[w]=P),P}(O,I).formatToParts(S)},E=function(T,O){for(var I=v(T,O),S=[],_=0;_<I.length;_+=1){var d=I[_],s=d.type,w=d.value,P=l[s];P>=0&&(S[P]=parseInt(w,10))}var x=S[3],M=x===24?0:x,N=S[0]+"-"+S[1]+"-"+S[2]+" "+M+":"+S[4]+":"+S[5]+":000",C=+T;return(u.utc(N).valueOf()-(C-=C%1e3))/6e4},y=f.prototype;y.tz=function(T,O){T===void 0&&(T=c);var I=this.utcOffset(),S=this.toDate().toLocaleString("en-US",{timeZone:T}),_=Math.round((this.toDate()-new Date(S))/1e3/60),d=u(S).$set("millisecond",this.$ms).utcOffset(g-_,!0);if(O){var s=d.utcOffset();d=d.add(I-s,"minute")}return d.$x.$timezone=T,d},y.offsetName=function(T){var O=this.$x.$timezone||u.tz.guess(),I=v(this.valueOf(),O,{timeZoneName:T}).find(function(S){return S.type.toLowerCase()==="timezonename"});return I&&I.value};var p=y.startOf;y.startOf=function(T,O){if(!this.$x||!this.$x.$timezone)return p.call(this,T,O);var I=u(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return p.call(I,T,O).tz(this.$x.$timezone,!0)},u.tz=function(T,O,I){var S=I&&O,_=I||O||c,d=E(+u(),_);if(typeof T!="string")return u(T).tz(_);var s=function(M,N,C){var A=M-60*N*1e3,k=E(A,C);if(N===k)return[A,N];var L=E(A-=60*(k-N)*1e3,C);return k===L?[A,k]:[M-60*Math.min(k,L)*1e3,Math.max(k,L)]}(u.utc(T,S).valueOf(),d,_),w=s[0],P=s[1],x=u(w).utcOffset(P);return x.$x.$timezone=_,x},u.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},u.tz.setDefault=function(T){c=T}}})},70178:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f=e.prototype;o.utc=function(p){return new e({date:p,utc:!0,args:arguments})},f.utc=function(p){var T=o(this.toDate(),{locale:this.$L,utc:!0});return p?T.add(this.utcOffset(),"minute"):T},f.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=f.parse;f.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var c=f.init;f.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var g=f.utcOffset;f.utcOffset=function(p,T){var O=this.$utils().u;if(O(p))return this.$u?0:O(this.$offset)?g.call(this):this.$offset;var I=Math.abs(p)<=16?60*p:p,S=this;if(T)return S.$offset=I,S.$u=p===0,S;if(p!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(I+_,"minute")).$offset=I,S.$x.$localOffset=_}else S=this.utc();return S};var v=f.format;f.format=function(p){var T=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,T)},f.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*p},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var E=f.toDate;f.toDate=function(p){return p==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var y=f.diff;f.diff=function(p,T,O){if(p&&this.$u===p.$u)return y.call(this,p,T,O);var I=this.local(),S=o(p).local();return y.call(I,S,T,O)}}})},55183:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l="week",e="year";return function(o,f,u){var c=f.prototype;c.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var v=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var E=u(this).startOf(e).add(1,e).date(v),y=u(this).endOf(l);if(E.isBefore(y))return 1}var p=u(this).startOf(e).date(v).startOf(l).subtract(1,"millisecond"),T=this.diff(p,l,!0);return T<0?u(this).startOf("week").week():Math.ceil(T)},c.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})},6833:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.weekday=function(o){var f=this.$locale().weekStart||0,u=this.$W,c=(u<f?u+7:u)-f;return this.$utils().u(o)?c:this.subtract(c,"day").add(o,"day")}}})},10251:(z,l,e)=>{var o=Array.prototype.slice,f=e(41705),u=e(45539),c=z.exports=function(y,p,T){return T||(T={}),y===p?!0:y instanceof Date&&p instanceof Date?y.getTime()===p.getTime():!y||!p||typeof y!="object"&&typeof p!="object"?T.strict?y===p:y==p:E(y,p,T)};function g(y){return y==null}function v(y){return!(!y||typeof y!="object"||typeof y.length!="number"||typeof y.copy!="function"||typeof y.slice!="function"||y.length>0&&typeof y[0]!="number")}function E(y,p,T){var O,I;if(g(y)||g(p)||y.prototype!==p.prototype)return!1;if(u(y))return u(p)?(y=o.call(y),p=o.call(p),c(y,p,T)):!1;if(v(y)){if(!v(p)||y.length!==p.length)return!1;for(O=0;O<y.length;O++)if(y[O]!==p[O])return!1;return!0}try{var S=f(y),_=f(p)}catch(d){return!1}if(S.length!=_.length)return!1;for(S.sort(),_.sort(),O=S.length-1;O>=0;O--)if(S[O]!=_[O])return!1;for(O=S.length-1;O>=0;O--)if(I=S[O],!c(y[I],p[I],T))return!1;return typeof y==typeof p}},45539:(z,l)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";l=z.exports=e?o:f,l.supported=o;function o(u){return Object.prototype.toString.call(u)=="[object Arguments]"}l.unsupported=f;function f(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Object.prototype.hasOwnProperty.call(u,"callee")&&!Object.prototype.propertyIsEnumerable.call(u,"callee")||!1}},41705:(z,l)=>{l=z.exports=typeof Object.keys=="function"?Object.keys:e,l.shim=e;function e(o){var f=[];for(var u in o)f.push(u);return f}},9996:z=>{"use strict";var l=function(w){return e(w)&&!o(w)};function e(s){return!!s&&typeof s=="object"}function o(s){var w=Object.prototype.toString.call(s);return w==="[object RegExp]"||w==="[object Date]"||c(s)}var f=typeof Symbol=="function"&&Symbol.for,u=f?Symbol.for("react.element"):60103;function c(s){return s.$$typeof===u}function g(s){return Array.isArray(s)?[]:{}}function v(s,w){return w.clone!==!1&&w.isMergeableObject(s)?_(g(s),s,w):s}function E(s,w,P){return s.concat(w).map(function(x){return v(x,P)})}function y(s,w){if(!w.customMerge)return _;var P=w.customMerge(s);return typeof P=="function"?P:_}function p(s){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(s).filter(function(w){return s.propertyIsEnumerable(w)}):[]}function T(s){return Object.keys(s).concat(p(s))}function O(s,w){try{return w in s}catch(P){return!1}}function I(s,w){return O(s,w)&&!(Object.hasOwnProperty.call(s,w)&&Object.propertyIsEnumerable.call(s,w))}function S(s,w,P){var x={};return P.isMergeableObject(s)&&T(s).forEach(function(M){x[M]=v(s[M],P)}),T(w).forEach(function(M){I(s,M)||(O(s,M)&&P.isMergeableObject(w[M])?x[M]=y(M,P)(s[M],w[M],P):x[M]=v(w[M],P))}),x}function _(s,w,P){P=P||{},P.arrayMerge=P.arrayMerge||E,P.isMergeableObject=P.isMergeableObject||l,P.cloneUnlessOtherwiseSpecified=v;var x=Array.isArray(w),M=Array.isArray(s),N=x===M;return N?x?P.arrayMerge(s,w,P):S(s,w,P):v(w,P)}_.all=function(w,P){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(x,M){return _(x,M,P)},{})};var d=_;z.exports=d},65987:z=>{"use strict";var l={single_source_shortest_paths:function(e,o,f){var u={},c={};c[o]=0;var g=l.PriorityQueue.make();g.push(o,0);for(var v,E,y,p,T,O,I,S,_;!g.empty();){v=g.pop(),E=v.value,p=v.cost,T=e[E]||{};for(y in T)T.hasOwnProperty(y)&&(O=T[y],I=p+O,S=c[y],_=typeof c[y]=="undefined",(_||S>I)&&(c[y]=I,g.push(y,I),u[y]=E))}if(typeof f!="undefined"&&typeof c[f]=="undefined"){var d=["Could not find a path from ",o," to ",f,"."].join("");throw new Error(d)}return u},extract_shortest_path_from_predecessor_list:function(e,o){for(var f=[],u=o,c;u;)f.push(u),c=e[u],u=e[u];return f.reverse(),f},find_path:function(e,o,f){var u=l.single_source_shortest_paths(e,o,f);return l.extract_shortest_path_from_predecessor_list(u,f)},PriorityQueue:{make:function(e){var o=l.PriorityQueue,f={},u;e=e||{};for(u in o)o.hasOwnProperty(u)&&(f[u]=o[u]);return f.queue=[],f.sorter=e.sorter||o.default_sorter,f},default_sorter:function(e,o){return e.cost-o.cost},push:function(e,o){var f={value:e,cost:o};this.queue.push(f),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};z.exports=l},17837:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.attributeNames=l.elementNames=void 0,l.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),l.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(z,l,e){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(M){for(var N,C=1,A=arguments.length;C<A;C++){N=arguments[C];for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&(M[k]=N[k])}return M},o.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(M,N,C,A){A===void 0&&(A=C),Object.defineProperty(M,A,{enumerable:!0,get:function(){return N[C]}})}:function(M,N,C,A){A===void 0&&(A=C),M[A]=N[C]}),u=this&&this.__setModuleDefault||(Object.create?function(M,N){Object.defineProperty(M,"default",{enumerable:!0,value:N})}:function(M,N){M.default=N}),c=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var N={};if(M!=null)for(var C in M)C!=="default"&&Object.prototype.hasOwnProperty.call(M,C)&&f(N,M,C);return u(N,M),N};Object.defineProperty(l,"__esModule",{value:!0});var g=c(e(99960)),v=e(45863),E=e(17837),y=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function p(M,N){if(M)return Object.keys(M).map(function(C){var A,k,L=(A=M[C])!==null&&A!==void 0?A:"";return N.xmlMode==="foreign"&&(C=(k=E.attributeNames.get(C))!==null&&k!==void 0?k:C),!N.emptyAttrs&&!N.xmlMode&&L===""?C:C+'="'+(N.decodeEntities!==!1?v.encodeXML(L):L.replace(/"/g,"&quot;"))+'"'}).join(" ")}var T=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function O(M,N){N===void 0&&(N={});for(var C=("length"in M)?M:[M],A="",k=0;k<C.length;k++)A+=I(C[k],N);return A}l.default=O;function I(M,N){switch(M.type){case g.Root:return O(M.children,N);case g.Directive:case g.Doctype:return s(M);case g.Comment:return x(M);case g.CDATA:return P(M);case g.Script:case g.Style:case g.Tag:return d(M,N);case g.Text:return w(M,N)}}var S=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function d(M,N){var C;N.xmlMode==="foreign"&&(M.name=(C=E.elementNames.get(M.name))!==null&&C!==void 0?C:M.name,M.parent&&S.has(M.parent.name)&&(N=o(o({},N),{xmlMode:!1}))),!N.xmlMode&&_.has(M.name)&&(N=o(o({},N),{xmlMode:"foreign"}));var A="<"+M.name,k=p(M.attribs,N);return k&&(A+=" "+k),M.children.length===0&&(N.xmlMode?N.selfClosingTags!==!1:N.selfClosingTags&&T.has(M.name))?(N.xmlMode||(A+=" "),A+="/>"):(A+=">",M.children.length>0&&(A+=O(M.children,N)),(N.xmlMode||!T.has(M.name))&&(A+="</"+M.name+">")),A}function s(M){return"<"+M.data+">"}function w(M,N){var C=M.data||"";return N.decodeEntities!==!1&&!(!N.xmlMode&&M.parent&&y.has(M.parent.name))&&(C=v.encodeXML(C)),C}function P(M){return"<![CDATA["+M.children[0].data+"]]>"}function x(M){return"<!--"+M.data+"-->"}},99960:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Doctype=l.CDATA=l.Tag=l.Style=l.Script=l.Comment=l.Directive=l.Text=l.Root=l.isTag=l.ElementType=void 0;var e;(function(f){f.Root="root",f.Text="text",f.Directive="directive",f.Comment="comment",f.Script="script",f.Style="style",f.Tag="tag",f.CDATA="cdata",f.Doctype="doctype"})(e=l.ElementType||(l.ElementType={}));function o(f){return f.type===e.Tag||f.type===e.Script||f.type===e.Style}l.isTag=o,l.Root=e.Root,l.Text=e.Text,l.Directive=e.Directive,l.Comment=e.Comment,l.Script=e.Script,l.Style=e.Style,l.Tag=e.Tag,l.CDATA=e.CDATA,l.Doctype=e.Doctype},47915:function(z,l,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(E,y,p,T){T===void 0&&(T=p),Object.defineProperty(E,T,{enumerable:!0,get:function(){return y[p]}})}:function(E,y,p,T){T===void 0&&(T=p),E[T]=y[p]}),f=this&&this.__exportStar||function(E,y){for(var p in E)p!=="default"&&!Object.prototype.hasOwnProperty.call(y,p)&&o(y,E,p)};Object.defineProperty(l,"__esModule",{value:!0}),l.DomHandler=void 0;var u=e(97790);f(e(97790),l);var c=/\s+/g,g={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},v=function(){function E(y,p,T){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof p=="function"&&(T=p,p=g),typeof y=="object"&&(p=y,y=void 0),this._callback=y!=null?y:null,this._options=p!=null?p:g,this._elementCB=T!=null?T:null}return E.prototype.onparserinit=function(y){this._parser=y},E.prototype.onreset=function(){var y;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(y=this._parser)!==null&&y!==void 0?y:null},E.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},E.prototype.onerror=function(y){this.handleCallback(y)},E.prototype.onclosetag=function(){this._lastNode=null;var y=this._tagStack.pop();!y||!this._parser||(this._options.withEndIndices&&(y.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(y))},E.prototype.onopentag=function(y,p){var T=new u.Element(y,p);this.addNode(T),this._tagStack.push(T)},E.prototype.ontext=function(y){var p=this._options.normalizeWhitespace,T=this._lastNode;if(T&&T.type==="text")p?T.data=(T.data+y).replace(c," "):T.data+=y;else{p&&(y=y.replace(c," "));var O=new u.Text(y);this.addNode(O),this._lastNode=O}},E.prototype.oncomment=function(y){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=y;return}var p=new u.Comment(y);this.addNode(p),this._lastNode=p},E.prototype.oncommentend=function(){this._lastNode=null},E.prototype.oncdatastart=function(){var y=new u.Text(""),p=new u.NodeWithChildren("cdata",[y]);this.addNode(p),y.parent=p,this._lastNode=y},E.prototype.oncdataend=function(){this._lastNode=null},E.prototype.onprocessinginstruction=function(y,p){var T=new u.ProcessingInstruction(y,p);this.addNode(T)},E.prototype.handleCallback=function(y){if(typeof this._callback=="function")this._callback(y,this.dom);else if(y)throw y},E.prototype.addNode=function(y){var p=this._tagStack[this._tagStack.length-1],T=p?p.children:this.dom,O=T[T.length-1];this._parser&&(this._options.withStartIndices&&(y.startIndex=this._parser.startIndex),this._options.withEndIndices&&(y.endIndex=this._parser.endIndex)),T.push(y),O&&(y.prev=O,O.next=y),p&&(y.parent=p),this._lastNode=null},E.prototype.addDataNode=function(y){this.addNode(y),this._lastNode=y},E}();l.DomHandler=v,l.default=v},97790:function(z,l){"use strict";var e=this&&this.__extends||function(){var I=function(S,_){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var w in s)Object.prototype.hasOwnProperty.call(s,w)&&(d[w]=s[w])},I(S,_)};return function(S,_){I(S,_);function d(){this.constructor=S}S.prototype=_===null?Object.create(_):(d.prototype=_.prototype,new d)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(I){for(var S,_=1,d=arguments.length;_<d;_++){S=arguments[_];for(var s in S)Object.prototype.hasOwnProperty.call(S,s)&&(I[s]=S[s])}return I},o.apply(this,arguments)};Object.defineProperty(l,"__esModule",{value:!0}),l.cloneNode=l.Element=l.NodeWithChildren=l.ProcessingInstruction=l.Comment=l.Text=l.DataNode=l.Node=void 0;var f=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),u=function(){function I(S){this.type=S,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(I.prototype,"nodeType",{get:function(){var S;return(S=f.get(this.type))!==null&&S!==void 0?S:1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.parent},set:function(S){this.parent=S},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"previousSibling",{get:function(){return this.prev},set:function(S){this.prev=S},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"nextSibling",{get:function(){return this.next},set:function(S){this.next=S},enumerable:!1,configurable:!0}),I.prototype.cloneNode=function(S){return S===void 0&&(S=!1),T(this,S)},I}();l.Node=u;var c=function(I){e(S,I);function S(_,d){var s=I.call(this,_)||this;return s.data=d,s}return Object.defineProperty(S.prototype,"nodeValue",{get:function(){return this.data},set:function(_){this.data=_},enumerable:!1,configurable:!0}),S}(u);l.DataNode=c;var g=function(I){e(S,I);function S(_){return I.call(this,"text",_)||this}return S}(c);l.Text=g;var v=function(I){e(S,I);function S(_){return I.call(this,"comment",_)||this}return S}(c);l.Comment=v;var E=function(I){e(S,I);function S(_,d){var s=I.call(this,"directive",d)||this;return s.name=_,s}return S}(c);l.ProcessingInstruction=E;var y=function(I){e(S,I);function S(_,d){var s=I.call(this,_)||this;return s.children=d,s}return Object.defineProperty(S.prototype,"firstChild",{get:function(){var _;return(_=this.children[0])!==null&&_!==void 0?_:null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"childNodes",{get:function(){return this.children},set:function(_){this.children=_},enumerable:!1,configurable:!0}),S}(u);l.NodeWithChildren=y;var p=function(I){e(S,I);function S(_,d,s){s===void 0&&(s=[]);var w=I.call(this,_==="script"?"script":_==="style"?"style":"tag",s)||this;return w.name=_,w.attribs=d,w.attribs=d,w}return Object.defineProperty(S.prototype,"tagName",{get:function(){return this.name},set:function(_){this.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"attributes",{get:function(){var _=this;return Object.keys(this.attribs).map(function(d){return{name:d,value:_.attribs[d]}})},enumerable:!1,configurable:!0}),S}(y);l.Element=p;function T(I,S){switch(S===void 0&&(S=!1),I.type){case"text":return new g(I.data);case"directive":{var _=I;return new E(_.name,_.data)}case"comment":return new v(I.data);case"tag":case"script":case"style":{var d=I,s=S?O(d.children):[],w=new p(d.name,o({},d.attribs),s);return s.forEach(function(M){return M.parent=w}),w}case"cdata":{var P=I,s=S?O(P.children):[],x=new y("cdata",s);return s.forEach(function(N){return N.parent=x}),x}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}l.cloneNode=T;function O(I){for(var S=I.map(function(d){return T(d,!0)}),_=1;_<S.length;_++)S[_].prev=S[_-1],S[_-1].next=S[_];return S}},16996:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getFeed=void 0;var o=e(43346),f=e(23905);function u(S){var _=p(I,S);return _?_.name==="feed"?c(_):g(_):null}l.getFeed=u;function c(S){var _,d=S.children,s={type:"atom",items:(0,f.getElementsByTagName)("entry",d).map(function(x){var M,N=x.children,C={media:y(N)};O(C,"id","id",N),O(C,"title","title",N);var A=(M=p("link",N))===null||M===void 0?void 0:M.attribs.href;A&&(C.link=A);var k=T("summary",N)||T("content",N);k&&(C.description=k);var L=T("updated",N);return L&&(C.pubDate=new Date(L)),C})};O(s,"id","id",d),O(s,"title","title",d);var w=(_=p("link",d))===null||_===void 0?void 0:_.attribs.href;w&&(s.link=w),O(s,"description","subtitle",d);var P=T("updated",d);return P&&(s.updated=new Date(P)),O(s,"author","email",d,!0),s}function g(S){var _,d,s=(d=(_=p("channel",S.children))===null||_===void 0?void 0:_.children)!==null&&d!==void 0?d:[],w={type:S.name.substr(0,3),id:"",items:(0,f.getElementsByTagName)("item",S.children).map(function(x){var M=x.children,N={media:y(M)};O(N,"id","guid",M),O(N,"title","title",M),O(N,"link","link",M),O(N,"description","description",M);var C=T("pubDate",M);return C&&(N.pubDate=new Date(C)),N})};O(w,"title","title",s),O(w,"link","link",s),O(w,"description","description",s);var P=T("lastBuildDate",s);return P&&(w.updated=new Date(P)),O(w,"author","managingEditor",s,!0),w}var v=["url","type","lang"],E=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function y(S){return(0,f.getElementsByTagName)("media:content",S).map(function(_){for(var d=_.attribs,s={medium:d.medium,isDefault:!!d.isDefault},w=0,P=v;w<P.length;w++){var x=P[w];d[x]&&(s[x]=d[x])}for(var M=0,N=E;M<N.length;M++){var x=N[M];d[x]&&(s[x]=parseInt(d[x],10))}return d.expression&&(s.expression=d.expression),s})}function p(S,_){return(0,f.getElementsByTagName)(S,_,!0,1)[0]}function T(S,_,d){return d===void 0&&(d=!1),(0,o.textContent)((0,f.getElementsByTagName)(S,_,d,1)).trim()}function O(S,_,d,s,w){w===void 0&&(w=!1);var P=T(d,s,w);P&&(S[_]=P)}function I(S){return S==="rss"||S==="feed"||S==="rdf:RDF"}},74975:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uniqueSort=l.compareDocumentPosition=l.removeSubsets=void 0;var o=e(63317);function f(g){for(var v=g.length;--v>=0;){var E=g[v];if(v>0&&g.lastIndexOf(E,v-1)>=0){g.splice(v,1);continue}for(var y=E.parent;y;y=y.parent)if(g.includes(y)){g.splice(v,1);break}}return g}l.removeSubsets=f;function u(g,v){var E=[],y=[];if(g===v)return 0;for(var p=(0,o.hasChildren)(g)?g:g.parent;p;)E.unshift(p),p=p.parent;for(p=(0,o.hasChildren)(v)?v:v.parent;p;)y.unshift(p),p=p.parent;for(var T=Math.min(E.length,y.length),O=0;O<T&&E[O]===y[O];)O++;if(O===0)return 1;var I=E[O-1],S=I.children,_=E[O],d=y[O];return S.indexOf(_)>S.indexOf(d)?I===v?20:4:I===g?10:2}l.compareDocumentPosition=u;function c(g){return g=g.filter(function(v,E,y){return!y.includes(v,E+1)}),g.sort(function(v,E){var y=u(v,E);return y&2?-1:y&4?1:0}),g}l.uniqueSort=c},89432:function(z,l,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(c,g,v,E){E===void 0&&(E=v),Object.defineProperty(c,E,{enumerable:!0,get:function(){return g[v]}})}:function(c,g,v,E){E===void 0&&(E=v),c[E]=g[v]}),f=this&&this.__exportStar||function(c,g){for(var v in c)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&o(g,c,v)};Object.defineProperty(l,"__esModule",{value:!0}),l.hasChildren=l.isDocument=l.isComment=l.isText=l.isCDATA=l.isTag=void 0,f(e(43346),l),f(e(85010),l),f(e(26765),l),f(e(98043),l),f(e(23905),l),f(e(74975),l),f(e(16996),l);var u=e(63317);Object.defineProperty(l,"isTag",{enumerable:!0,get:function(){return u.isTag}}),Object.defineProperty(l,"isCDATA",{enumerable:!0,get:function(){return u.isCDATA}}),Object.defineProperty(l,"isText",{enumerable:!0,get:function(){return u.isText}}),Object.defineProperty(l,"isComment",{enumerable:!0,get:function(){return u.isComment}}),Object.defineProperty(l,"isDocument",{enumerable:!0,get:function(){return u.isDocument}}),Object.defineProperty(l,"hasChildren",{enumerable:!0,get:function(){return u.hasChildren}})},23905:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getElementsByTagType=l.getElementsByTagName=l.getElementById=l.getElements=l.testElement=void 0;var o=e(63317),f=e(98043),u={tag_name:function(I){return typeof I=="function"?function(S){return(0,o.isTag)(S)&&I(S.name)}:I==="*"?o.isTag:function(S){return(0,o.isTag)(S)&&S.name===I}},tag_type:function(I){return typeof I=="function"?function(S){return I(S.type)}:function(S){return S.type===I}},tag_contains:function(I){return typeof I=="function"?function(S){return(0,o.isText)(S)&&I(S.data)}:function(S){return(0,o.isText)(S)&&S.data===I}}};function c(I,S){return typeof S=="function"?function(_){return(0,o.isTag)(_)&&S(_.attribs[I])}:function(_){return(0,o.isTag)(_)&&_.attribs[I]===S}}function g(I,S){return function(_){return I(_)||S(_)}}function v(I){var S=Object.keys(I).map(function(_){var d=I[_];return Object.prototype.hasOwnProperty.call(u,_)?u[_](d):c(_,d)});return S.length===0?null:S.reduce(g)}function E(I,S){var _=v(I);return _?_(S):!0}l.testElement=E;function y(I,S,_,d){d===void 0&&(d=1/0);var s=v(I);return s?(0,f.filter)(s,S,_,d):[]}l.getElements=y;function p(I,S,_){return _===void 0&&(_=!0),Array.isArray(S)||(S=[S]),(0,f.findOne)(c("id",I),S,_)}l.getElementById=p;function T(I,S,_,d){return _===void 0&&(_=!0),d===void 0&&(d=1/0),(0,f.filter)(u.tag_name(I),S,_,d)}l.getElementsByTagName=T;function O(I,S,_,d){return _===void 0&&(_=!0),d===void 0&&(d=1/0),(0,f.filter)(u.tag_type(I),S,_,d)}l.getElementsByTagType=O},26765:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.prepend=l.prependChild=l.append=l.appendChild=l.replaceElement=l.removeElement=void 0;function e(v){if(v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),v.parent){var E=v.parent.children;E.splice(E.lastIndexOf(v),1)}}l.removeElement=e;function o(v,E){var y=E.prev=v.prev;y&&(y.next=E);var p=E.next=v.next;p&&(p.prev=E);var T=E.parent=v.parent;if(T){var O=T.children;O[O.lastIndexOf(v)]=E}}l.replaceElement=o;function f(v,E){if(e(E),E.next=null,E.parent=v,v.children.push(E)>1){var y=v.children[v.children.length-2];y.next=E,E.prev=y}else E.prev=null}l.appendChild=f;function u(v,E){e(E);var y=v.parent,p=v.next;if(E.next=p,E.prev=v,v.next=E,E.parent=y,p){if(p.prev=E,y){var T=y.children;T.splice(T.lastIndexOf(p),0,E)}}else y&&y.children.push(E)}l.append=u;function c(v,E){if(e(E),E.parent=v,E.prev=null,v.children.unshift(E)!==1){var y=v.children[1];y.prev=E,E.next=y}else E.next=null}l.prependChild=c;function g(v,E){e(E);var y=v.parent;if(y){var p=y.children;p.splice(p.indexOf(v),0,E)}v.prev&&(v.prev.next=E),E.parent=y,E.prev=v.prev,E.next=v,v.prev=E}l.prepend=g},98043:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.findAll=l.existsOne=l.findOne=l.findOneChild=l.find=l.filter=void 0;var o=e(63317);function f(y,p,T,O){return T===void 0&&(T=!0),O===void 0&&(O=1/0),Array.isArray(p)||(p=[p]),u(y,p,T,O)}l.filter=f;function u(y,p,T,O){for(var I=[],S=0,_=p;S<_.length;S++){var d=_[S];if(y(d)&&(I.push(d),--O<=0))break;if(T&&(0,o.hasChildren)(d)&&d.children.length>0){var s=u(y,d.children,T,O);if(I.push.apply(I,s),O-=s.length,O<=0)break}}return I}l.find=u;function c(y,p){return p.find(y)}l.findOneChild=c;function g(y,p,T){T===void 0&&(T=!0);for(var O=null,I=0;I<p.length&&!O;I++){var S=p[I];if((0,o.isTag)(S))y(S)?O=S:T&&S.children.length>0&&(O=g(y,S.children));else continue}return O}l.findOne=g;function v(y,p){return p.some(function(T){return(0,o.isTag)(T)&&(y(T)||T.children.length>0&&v(y,T.children))})}l.existsOne=v;function E(y,p){for(var T,O=[],I=p.filter(o.isTag),S;S=I.shift();){var _=(T=S.children)===null||T===void 0?void 0:T.filter(o.isTag);_&&_.length>0&&I.unshift.apply(I,_),y(S)&&O.push(S)}return O}l.findAll=E},43346:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(l,"__esModule",{value:!0}),l.innerText=l.textContent=l.getText=l.getInnerHTML=l.getOuterHTML=void 0;var f=e(63317),u=o(e(97220)),c=e(99960);function g(T,O){return(0,u.default)(T,O)}l.getOuterHTML=g;function v(T,O){return(0,f.hasChildren)(T)?T.children.map(function(I){return g(I,O)}).join(""):""}l.getInnerHTML=v;function E(T){return Array.isArray(T)?T.map(E).join(""):(0,f.isTag)(T)?T.name==="br"?`
`:E(T.children):(0,f.isCDATA)(T)?E(T.children):(0,f.isText)(T)?T.data:""}l.getText=E;function y(T){return Array.isArray(T)?T.map(y).join(""):(0,f.hasChildren)(T)&&!(0,f.isComment)(T)?y(T.children):(0,f.isText)(T)?T.data:""}l.textContent=y;function p(T){return Array.isArray(T)?T.map(p).join(""):(0,f.hasChildren)(T)&&(T.type===c.ElementType.Tag||(0,f.isCDATA)(T))?p(T.children):(0,f.isText)(T)?T.data:""}l.innerText=p},85010:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.prevElementSibling=l.nextElementSibling=l.getName=l.hasAttrib=l.getAttributeValue=l.getSiblings=l.getParent=l.getChildren=void 0;var o=e(63317),f=[];function u(O){var I;return(I=O.children)!==null&&I!==void 0?I:f}l.getChildren=u;function c(O){return O.parent||null}l.getParent=c;function g(O){var I,S,_=c(O);if(_!=null)return u(_);for(var d=[O],s=O.prev,w=O.next;s!=null;)d.unshift(s),I=s,s=I.prev;for(;w!=null;)d.push(w),S=w,w=S.next;return d}l.getSiblings=g;function v(O,I){var S;return(S=O.attribs)===null||S===void 0?void 0:S[I]}l.getAttributeValue=v;function E(O,I){return O.attribs!=null&&Object.prototype.hasOwnProperty.call(O.attribs,I)&&O.attribs[I]!=null}l.hasAttrib=E;function y(O){return O.name}l.getName=y;function p(O){for(var I,S=O.next;S!==null&&!(0,o.isTag)(S);)I=S,S=I.next;return S}l.nextElementSibling=p;function T(O){for(var I,S=O.prev;S!==null&&!(0,o.isTag)(S);)I=S,S=I.prev;return S}l.prevElementSibling=T},63317:function(z,l,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(y,p,T,O){O===void 0&&(O=T);var I=Object.getOwnPropertyDescriptor(p,T);(!I||("get"in I?!p.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return p[T]}}),Object.defineProperty(y,O,I)}:function(y,p,T,O){O===void 0&&(O=T),y[O]=p[T]}),f=this&&this.__exportStar||function(y,p){for(var T in y)T!=="default"&&!Object.prototype.hasOwnProperty.call(p,T)&&o(p,y,T)};Object.defineProperty(l,"__esModule",{value:!0}),l.DomHandler=void 0;var u=e(99960),c=e(50943);f(e(50943),l);var g=/\s+/g,v={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},E=function(){function y(p,T,O){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof T=="function"&&(O=T,T=v),typeof p=="object"&&(T=p,p=void 0),this.callback=p!=null?p:null,this.options=T!=null?T:v,this.elementCB=O!=null?O:null}return y.prototype.onparserinit=function(p){this.parser=p},y.prototype.onreset=function(){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},y.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},y.prototype.onerror=function(p){this.handleCallback(p)},y.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},y.prototype.onopentag=function(p,T){var O=this.options.xmlMode?u.ElementType.Tag:void 0,I=new c.Element(p,T,void 0,O);this.addNode(I),this.tagStack.push(I)},y.prototype.ontext=function(p){var T=this.options.normalizeWhitespace,O=this.lastNode;if(O&&O.type===u.ElementType.Text)T?O.data=(O.data+p).replace(g," "):O.data+=p,this.options.withEndIndices&&(O.endIndex=this.parser.endIndex);else{T&&(p=p.replace(g," "));var I=new c.Text(p);this.addNode(I),this.lastNode=I}},y.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===u.ElementType.Comment){this.lastNode.data+=p;return}var T=new c.Comment(p);this.addNode(T),this.lastNode=T},y.prototype.oncommentend=function(){this.lastNode=null},y.prototype.oncdatastart=function(){var p=new c.Text(""),T=new c.NodeWithChildren(u.ElementType.CDATA,[p]);this.addNode(T),p.parent=T,this.lastNode=p},y.prototype.oncdataend=function(){this.lastNode=null},y.prototype.onprocessinginstruction=function(p,T){var O=new c.ProcessingInstruction(p,T);this.addNode(O)},y.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},y.prototype.addNode=function(p){var T=this.tagStack[this.tagStack.length-1],O=T.children[T.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),T.children.push(p),O&&(p.prev=O,O.next=p),p.parent=T,this.lastNode=null},y}();l.DomHandler=E,l.default=E},50943:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var C=function(A,k){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,K){L.__proto__=K}||function(L,K){for(var Z in K)Object.prototype.hasOwnProperty.call(K,Z)&&(L[Z]=K[Z])},C(A,k)};return function(A,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");C(A,k);function L(){this.constructor=A}A.prototype=k===null?Object.create(k):(L.prototype=k.prototype,new L)}}(),f=this&&this.__assign||function(){return f=Object.assign||function(C){for(var A,k=1,L=arguments.length;k<L;k++){A=arguments[k];for(var K in A)Object.prototype.hasOwnProperty.call(A,K)&&(C[K]=A[K])}return C},f.apply(this,arguments)};Object.defineProperty(l,"__esModule",{value:!0}),l.cloneNode=l.hasChildren=l.isDocument=l.isDirective=l.isComment=l.isText=l.isCDATA=l.isTag=l.Element=l.Document=l.NodeWithChildren=l.ProcessingInstruction=l.Comment=l.Text=l.DataNode=l.Node=void 0;var u=e(99960),c=new Map([[u.ElementType.Tag,1],[u.ElementType.Script,1],[u.ElementType.Style,1],[u.ElementType.Directive,1],[u.ElementType.Text,3],[u.ElementType.CDATA,4],[u.ElementType.Comment,8],[u.ElementType.Root,9]]),g=function(){function C(A){this.type=A,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(C.prototype,"nodeType",{get:function(){var A;return(A=c.get(this.type))!==null&&A!==void 0?A:1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),C.prototype.cloneNode=function(A){return A===void 0&&(A=!1),M(this,A)},C}();l.Node=g;var v=function(C){o(A,C);function A(k,L){var K=C.call(this,k)||this;return K.data=L,K}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(k){this.data=k},enumerable:!1,configurable:!0}),A}(g);l.DataNode=v;var E=function(C){o(A,C);function A(k){return C.call(this,u.ElementType.Text,k)||this}return A}(v);l.Text=E;var y=function(C){o(A,C);function A(k){return C.call(this,u.ElementType.Comment,k)||this}return A}(v);l.Comment=y;var p=function(C){o(A,C);function A(k,L){var K=C.call(this,u.ElementType.Directive,L)||this;return K.name=k,K}return A}(v);l.ProcessingInstruction=p;var T=function(C){o(A,C);function A(k,L){var K=C.call(this,k)||this;return K.children=L,K}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var k;return(k=this.children[0])!==null&&k!==void 0?k:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(k){this.children=k},enumerable:!1,configurable:!0}),A}(g);l.NodeWithChildren=T;var O=function(C){o(A,C);function A(k){return C.call(this,u.ElementType.Root,k)||this}return A}(T);l.Document=O;var I=function(C){o(A,C);function A(k,L,K,Z){K===void 0&&(K=[]),Z===void 0&&(Z=k==="script"?u.ElementType.Script:k==="style"?u.ElementType.Style:u.ElementType.Tag);var J=C.call(this,Z,K)||this;return J.name=k,J.attribs=L,J}return Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(k){this.name=k},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var k=this;return Object.keys(this.attribs).map(function(L){var K,Z;return{name:L,value:k.attribs[L],namespace:(K=k["x-attribsNamespace"])===null||K===void 0?void 0:K[L],prefix:(Z=k["x-attribsPrefix"])===null||Z===void 0?void 0:Z[L]}})},enumerable:!1,configurable:!0}),A}(T);l.Element=I;function S(C){return(0,u.isTag)(C)}l.isTag=S;function _(C){return C.type===u.ElementType.CDATA}l.isCDATA=_;function d(C){return C.type===u.ElementType.Text}l.isText=d;function s(C){return C.type===u.ElementType.Comment}l.isComment=s;function w(C){return C.type===u.ElementType.Directive}l.isDirective=w;function P(C){return C.type===u.ElementType.Root}l.isDocument=P;function x(C){return Object.prototype.hasOwnProperty.call(C,"children")}l.hasChildren=x;function M(C,A){A===void 0&&(A=!1);var k;if(d(C))k=new E(C.data);else if(s(C))k=new y(C.data);else if(S(C)){var L=A?N(C.children):[],K=new I(C.name,f({},C.attribs),L);L.forEach(function(ne){return ne.parent=K}),C.namespace!=null&&(K.namespace=C.namespace),C["x-attribsNamespace"]&&(K["x-attribsNamespace"]=f({},C["x-attribsNamespace"])),C["x-attribsPrefix"]&&(K["x-attribsPrefix"]=f({},C["x-attribsPrefix"])),k=K}else if(_(C)){var L=A?N(C.children):[],Z=new T(u.ElementType.CDATA,L);L.forEach(function(F){return F.parent=Z}),k=Z}else if(P(C)){var L=A?N(C.children):[],J=new O(L);L.forEach(function(F){return F.parent=J}),C["x-mode"]&&(J["x-mode"]=C["x-mode"]),k=J}else if(w(C)){var q=new p(C.name,C.data);C["x-name"]!=null&&(q["x-name"]=C["x-name"],q["x-publicId"]=C["x-publicId"],q["x-systemId"]=C["x-systemId"]),k=q}else throw new Error("Not implemented yet: ".concat(C.type));return k.startIndex=C.startIndex,k.endIndex=C.endIndex,C.sourceCodeLocation!=null&&(k.sourceCodeLocation=C.sourceCodeLocation),k}l.cloneNode=M;function N(C){for(var A=C.map(function(L){return M(L,!0)}),k=1;k<A.length;k++)A[k].prev=A[k-1],A[k-1].next=A[k];return A}},62378:z=>{"use strict";z.exports=function(e){for(var o=[],f=e.length,u=0;u<f;u++){var c=e.charCodeAt(u);if(c>=55296&&c<=56319&&f>u+1){var g=e.charCodeAt(u+1);g>=56320&&g<=57343&&(c=(c-55296)*1024+g-56320+65536,u+=1)}if(c<128){o.push(c);continue}if(c<2048){o.push(c>>6|192),o.push(c&63|128);continue}if(c<55296||c>=57344&&c<65536){o.push(c>>12|224),o.push(c>>6&63|128),o.push(c&63|128);continue}if(c>=65536&&c<=1114111){o.push(c>>18|240),o.push(c>>12&63|128),o.push(c>>6&63|128),o.push(c&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer}},44076:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(l,"__esModule",{value:!0}),l.decodeHTML=l.decodeHTMLStrict=l.decodeXML=void 0;var f=o(e(59323)),u=o(e(29591)),c=o(e(2586)),g=o(e(26)),v=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;l.decodeXML=E(c.default),l.decodeHTMLStrict=E(f.default);function E(T){var O=p(T);return function(I){return String(I).replace(v,O)}}var y=function(T,O){return T<O?1:-1};l.decodeHTML=function(){for(var T=Object.keys(u.default).sort(y),O=Object.keys(f.default).sort(y),I=0,S=0;I<O.length;I++)T[S]===O[I]?(O[I]+=";?",S++):O[I]+=";";var _=new RegExp("&(?:"+O.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),d=p(f.default);function s(w){return w.substr(-1)!==";"&&(w+=";"),d(w)}return function(w){return String(w).replace(_,s)}}();function p(T){return function(I){if(I.charAt(1)==="#"){var S=I.charAt(2);return S==="X"||S==="x"?g.default(parseInt(I.substr(3),16)):g.default(parseInt(I.substr(2),10))}return T[I.slice(1,-1)]||I}}},26:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var f=o(e(33600)),u=String.fromCodePoint||function(g){var v="";return g>65535&&(g-=65536,v+=String.fromCharCode(g>>>10&1023|55296),g=56320|g&1023),v+=String.fromCharCode(g),v};function c(g){return g>=55296&&g<=57343||g>1114111?"\uFFFD":(g in f.default&&(g=f.default[g]),u(g))}l.default=c},87322:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(l,"__esModule",{value:!0}),l.escapeUTF8=l.escape=l.encodeNonAsciiHTML=l.encodeHTML=l.encodeXML=void 0;var f=o(e(2586)),u=y(f.default),c=p(u);l.encodeXML=w(u);var g=o(e(59323)),v=y(g.default),E=p(v);l.encodeHTML=S(v,E),l.encodeNonAsciiHTML=w(v);function y(P){return Object.keys(P).sort().reduce(function(x,M){return x[P[M]]="&"+M+";",x},{})}function p(P){for(var x=[],M=[],N=0,C=Object.keys(P);N<C.length;N++){var A=C[N];A.length===1?x.push("\\"+A):M.push(A)}x.sort();for(var k=0;k<x.length-1;k++){for(var L=k;L<x.length-1&&x[L].charCodeAt(1)+1===x[L+1].charCodeAt(1);)L+=1;var K=1+L-k;K<3||x.splice(k,K,x[k]+"-"+x[L])}return M.unshift("["+x.join("")+"]"),new RegExp(M.join("|"),"g")}var T=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,O=String.prototype.codePointAt!=null?function(P){return P.codePointAt(0)}:function(P){return(P.charCodeAt(0)-55296)*1024+P.charCodeAt(1)-56320+65536};function I(P){return"&#x"+(P.length>1?O(P):P.charCodeAt(0)).toString(16).toUpperCase()+";"}function S(P,x){return function(M){return M.replace(x,function(N){return P[N]}).replace(T,I)}}var _=new RegExp(c.source+"|"+T.source,"g");function d(P){return P.replace(_,I)}l.escape=d;function s(P){return P.replace(c,I)}l.escapeUTF8=s;function w(P){return function(x){return x.replace(_,function(M){return P[M]||I(M)})}}},45863:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.decodeXMLStrict=l.decodeHTML5Strict=l.decodeHTML4Strict=l.decodeHTML5=l.decodeHTML4=l.decodeHTMLStrict=l.decodeHTML=l.decodeXML=l.encodeHTML5=l.encodeHTML4=l.escapeUTF8=l.escape=l.encodeNonAsciiHTML=l.encodeHTML=l.encodeXML=l.encode=l.decodeStrict=l.decode=void 0;var o=e(44076),f=e(87322);function u(y,p){return(!p||p<=0?o.decodeXML:o.decodeHTML)(y)}l.decode=u;function c(y,p){return(!p||p<=0?o.decodeXML:o.decodeHTMLStrict)(y)}l.decodeStrict=c;function g(y,p){return(!p||p<=0?f.encodeXML:f.encodeHTML)(y)}l.encode=g;var v=e(87322);Object.defineProperty(l,"encodeXML",{enumerable:!0,get:function(){return v.encodeXML}}),Object.defineProperty(l,"encodeHTML",{enumerable:!0,get:function(){return v.encodeHTML}}),Object.defineProperty(l,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return v.encodeNonAsciiHTML}}),Object.defineProperty(l,"escape",{enumerable:!0,get:function(){return v.escape}}),Object.defineProperty(l,"escapeUTF8",{enumerable:!0,get:function(){return v.escapeUTF8}}),Object.defineProperty(l,"encodeHTML4",{enumerable:!0,get:function(){return v.encodeHTML}}),Object.defineProperty(l,"encodeHTML5",{enumerable:!0,get:function(){return v.encodeHTML}});var E=e(44076);Object.defineProperty(l,"decodeXML",{enumerable:!0,get:function(){return E.decodeXML}}),Object.defineProperty(l,"decodeHTML",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTMLStrict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeHTML4",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTML5",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTML4Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeHTML5Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeXMLStrict",{enumerable:!0,get:function(){return E.decodeXML}})},14531:(z,l,e)=>{"use strict";e.d(l,{A:()=>o});const o={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(z,l,e)=>{"use strict";e.d(l,{Substitutions:()=>o});const o={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",LEADERBOARD_URL:"%%leaderboard_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(z,l,e)=>{"use strict";e.d(l,{B8:()=>x,BZ:()=>w,O1:()=>M,Po:()=>P,Ui:()=>d,Vn:()=>_,WZ:()=>s,Wn:()=>T,b6:()=>S,lc:()=>O,sn:()=>I});var o=e(4605),f=e(3258),u=e(58884),c=e(39419),g=e.n(c),v=e(15045),E=e(70444),y=e(83322);function p(N,C,A){const{shareUrl:k,post:L,pub:K,utm_campaign:Z}=A;(0,f.j)(f.FP.SHARE_LINK_CLICKED,{name:N,post_id:L?L.id:null,source:Z});const J=C(k);J&&typeof J=="string"&&(J.startsWith("http")?window.open(J,"_blank"):document.location.href=J),(0,u.ex)(`${K==null?void 0:K.subdomain} shared`,!0)}function T(N){const{pub:C,post:A,sharingSelfPub:k,shareName:L}=N,K=(C==null?void 0:C.twitter_screen_name)||C&&y.twitterScreenNames[C.subdomain];let Z=L;C&&k?Z="I just started a Substack! You can subscribe to it here":(C&&!A&&(Z=`Subscribe to ${Z}`),K&&(!A||C&&(!A.publishedBylines.length||A.publishedBylines.some(J=>J.id===C.author_id)))&&(Z+=`, by @${K}`)),p("twitter",J=>(0,v.pathWithQuery)("https://twitter.com/share",{url:J,text:Z}),N)}function O(N){p("linkedin",C=>(0,v.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:C}),N)}function I(N){p("reddit",C=>(0,v.pathWithQuery)("https://www.reddit.com/submit/",{url:C,title:N.shareName}),N)}function S(N){p("hackernews",C=>(0,v.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:C,title:N.shareName}),N)}function _(N){p("pinterest",C=>(0,v.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:C,description:N.shareName}),N)}function d(N){var C;const{iString:A}=I18N.i(((C=N.pub)==null?void 0:C.language)||"en");p("copy",k=>((0,c.copyToClipboard)(k),!1),N),(0,o.ZP)(A("Link copied to clipboard"))}function s(N){p("email",C=>(0,v.pathWithQuery)("mailto:",{subject:N.shareName,body:C}),N)}function w(N){p("notes",C=>(0,v.pathWithQuery)((0,E.TK)({message:C})),N)}function P(N){p("facebook",C=>(0,v.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:C}),N)}function x(N={}){const{post:C,pub:A,profile:k}=N;return C?C.title:A?A.name:k?`${k.name} on Substack`:document.title}function M(N,C={}){const{pub:A,post:k,profile:L,user:K,utm_campaign:Z,medium:J,referral_token:q,useCustomDomainOverOpen:ne}=C,F={r:K!=null&&K.id?K.id.toString(36):q,utm_campaign:Z||(k?"post":L?"profile":A?"pub":"unknown"),utm_medium:J||"web",utm_source:N};return A!=null&&A.subdomain&&(k!=null&&k.slug)?(0,v.getPostAppLinkUrl)(A.subdomain,k.slug,{params:F,hostOverride:ne&&A.custom_domain?(0,v.getBaseUrl)(A):null}):(0,v.pathWithQuery)(`${k?(0,v.getPostUrl)(A,k):A?`${A.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,F)}},35570:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(30396);const f=({root:u=null,threshold:c=0,rootMargin:g}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[v,E]=(0,o.eJ)(null),[y,p]=(0,o.eJ)(null),T=(0,o.sO)(new IntersectionObserver(([O])=>E(O),{root:u,threshold:c,rootMargin:g}));return(0,o.d4)(()=>{var O;const I=(O=y==null?void 0:y.base)!=null&&O.addEventListener?y.base:y!=null&&y.addEventListener?y:null,{current:S}=T;return S.disconnect(),I&&S.observe(I),()=>S.disconnect()},[y]),[p,v]}},36487:(z,l,e)=>{"use strict";e.d(l,{u:()=>f});var o=e(83322);function f(u){let c;try{c=new URL(u)}catch(E){return console.error("Failed to parse URL",u,E),u}c.hostname=c.hostname.replace(/^www\./,""),c.pathname=c.pathname.replace(/\/+$/,""),c.hash="";const g=[];c.hostname.includes("youtube")&&g.push("v"),c.searchParams.forEach((E,y)=>{g.includes(y)||c.searchParams.delete(y)});const v=c.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return v?(0,o.truncateText)(v,40):u}},55687:(z,l,e)=>{"use strict";e.d(l,{u:()=>f});const o=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function f(u){return o.format(u)}},80076:(z,l,e)=>{"use strict";e.d(l,{d:()=>o});function o(f){return Array.from(f.items).filter(u=>u.kind==="file"&&u.type.startsWith("image/")).length>0}},62952:(z,l,e)=>{"use strict";e.d(l,{h:()=>u});var o=e(30396),f=e(80076);function u({onAddFiles:c}){const g=(0,o.sO)(),v=(0,o.sO)(),[E,y]=(0,o.eJ)(!1),p=S=>{S instanceof DragEvent&&!S.defaultPrevented&&S.dataTransfer&&(0,f.d)(S.dataTransfer)&&(S.preventDefault(),c(Array.from(S.dataTransfer.files)),y(!1))},T=S=>{const{current:_}=g,{target:d}=S;!E&&_&&d&&d instanceof HTMLDivElement&&(_===d||_.contains(d))&&S.dataTransfer&&(0,f.d)(S.dataTransfer)&&(S.preventDefault(),v.current=d,y(!0))},O=S=>{v.current&&S.preventDefault()},I=S=>{const{current:_}=v;_&&S.relatedTarget!==_&&!_.contains(S.relatedTarget)&&(v.current=void 0,y(!1))};return{isDragging:E,props:{onDragEnter:T,onDragOver:O,onDragLeave:I,onDragEnd:I,onDrop:p,ref:g}}}},4070:(z,l,e)=>{"use strict";e.d(l,{Z:()=>K});var o=e(30396);function f(q){var ne,F;let W=0;if(q)if(q.content&&q.content.length>0)for(const ie of q.content)W+=f(ie);else W+=(F=(ne=q.text)==null?void 0:ne.length)!=null?F:0;return W}var u=e(83322),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(q,ne,F)=>ne in q?c(q,ne,{enumerable:!0,configurable:!0,writable:!0,value:F}):q[ne]=F,O=(q,ne)=>{for(var F in ne||(ne={}))y.call(ne,F)&&T(q,F,ne[F]);if(E)for(var F of E(ne))p.call(ne,F)&&T(q,F,ne[F]);return q},I=(q,ne)=>g(q,v(ne));function S(q,{limit:ne=420}={}){var F,W,ie,he;let ye=null,fe=0,ae=!1;if(q)if(ne<=0)ae=!0;else if(q.content&&q.content.length>0){ye=I(O({},q),{content:[]});for(const oe of q.content){const G=S(oe,{limit:ne-fe});if(G.doc){if((F=ye.content)==null||F.push(G.doc),fe+=G.length,G.isTruncated){ae=!0;break}}else{ae=!0;break}}}else ye=I(O({},q),{text:(W=(0,u.truncateText)(q.text,ne))!=null?W:void 0}),fe+=(he=(ie=ye.text)==null?void 0:ie.length)!=null?he:0,q.text!==ye.text&&(ae=!0);return{doc:ye,length:fe,isTruncated:ae}}var _=e(36487),d=Object.defineProperty,s=Object.defineProperties,w=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,N=(q,ne,F)=>ne in q?d(q,ne,{enumerable:!0,configurable:!0,writable:!0,value:F}):q[ne]=F,C=(q,ne)=>{for(var F in ne||(ne={}))x.call(ne,F)&&N(q,F,ne[F]);if(P)for(var F of P(ne))M.call(ne,F)&&N(q,F,ne[F]);return q},A=(q,ne)=>s(q,w(ne));const k=420,L=380;function K(q,{limit:ne=k,triggerLimit:F=L}={}){return(0,o.Ye)(()=>{var W;const ie=(W=q==null?void 0:q.body_json)!=null?W:q!=null&&q.body?Z(q.body):null,he=J(ie);if(f(he)<=F)return{bodyJson:he,truncatedBodyJson:he,isTruncated:!1};const ye=S(he,{limit:ne});return{bodyJson:he,truncatedBodyJson:ye.doc,isTruncated:ye.isTruncated}},[q==null?void 0:q.body,q==null?void 0:q.body_json])}function Z(q){return{type:"doc",attrs:{schemaVersion:"v1"},content:q.split(`

`).map(ne=>({type:"paragraph",content:[{type:"text",text:ne}]}))}}function J(q){var ne,F;let W=null;if(q)if(W=A(C({},q),{content:void 0,text:void 0}),q!=null&&q.content){W.content=[];for(const ie of q.content){const he=J(ie);he&&W.content.push(he)}}else{const ie=(ne=q.marks)==null?void 0:ne.find(he=>he.type==="link");(F=ie==null?void 0:ie.attrs)!=null&&F.href?W.text=(0,_.u)(ie.attrs.href):W.text=q.text}return W}},95582:(z,l,e)=>{"use strict";e.d(l,{L:()=>u});var o=e(30396),f=(c,g,v)=>new Promise((E,y)=>{var p=I=>{try{O(v.next(I))}catch(S){y(S)}},T=I=>{try{O(v.throw(I))}catch(S){y(S)}},O=I=>I.done?E(I.value):Promise.resolve(I.value).then(p,T);O((v=v.apply(c,g)).next())});function u(c,g){const[v,E]=(0,o._Y)(c,g),y=(0,o.sO)(v);y.current=v;const p=(0,o.Ye)(()=>T=>f(this,null,function*(){if(typeof T=="function")return yield T(p,()=>y.current);E(T)}),[]);return[v,p]}},92298:(z,l,e)=>{"use strict";e.d(l,{j:()=>y,l:()=>p});var o=Object.defineProperty,f=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,g=(T,O,I)=>O in T?o(T,O,{enumerable:!0,configurable:!0,writable:!0,value:I}):T[O]=I,v=(T,O)=>{for(var I in O||(O={}))u.call(O,I)&&g(T,I,O[I]);if(f)for(var I of f(O))c.call(O,I)&&g(T,I,O[I]);return T};let E={};function y(T){E=v({},T)}function p(){return v({},E)}},8461:(z,l,e)=>{"use strict";e.d(l,{IU:()=>E});var o=e(15045),f=e(83322),u=e(86405),c=e(28876),g=e(32081);function v(O,I,{quantity:S=1,plan:_,isSubscription:d,coupon:s}){var w;const P=(O/100).toFixed(2),x=(O/S/100).toFixed(2);I=I.toUpperCase(),E();const M=getConfig(),N=getPublicationFbPixelId();N&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Purchase&cd[value]=${P}&cd[currency]=${I}`),N&&d&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Subscribe&cd[value]=${P}&cd[currency]=${I}`),recordTwitterEvent("purchase",{price:Number(x),quantity:S});const C=randomString(),A=((w=_.amount)!=null?w:0)*S;let k;s&&s.percent_off?k=Math.round(A*((s.percent_off_precise||s.percent_off)/100)):s&&s.amount_off&&(k=Math.max(0,s.amount_off));const L=_.name;sendPublisherGa4Event("purchase",{transaction_id:C,value:P,currency:I,coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),items:[{item_id:_&&_.id,item_name:_&&(L||_.nickname||_.id)||"subscription",coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),discount:k,index:0,price:x,quantity:S}]}),sendPublisherGaEvent("transaction",{ti:C,tr:P,cu:I}),sendPublisherGaEvent("item",{ti:C,in:_&&(L||_.nickname||_.id)||"subscription",ip:x,iq:S,ic:_&&_.id,cu:I});const K="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",M!=null&&M.adwordsAccountId&&(M!=null&&M.adwordsEventSendTo)?{send_to:`${M.adwordsAccountId}/${K}`}:{});const Z=p();if(Z){const{id:J,label:q}=Z;new Image().src=`//www.googleadservices.com/pagead/conversion/${J}/?value=${P}&currency_code=${I}&label=${q}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${_&&(L||_.nickname||_.id)||""} Subscription`),T()==="bankless"){const J=_?`paid_${_.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:J})),page()}}function E(){const O=(0,c.iE)();if(O.properties.is_free_subscribed)return;O.properties.is_free_subscribed=!0,(0,c.Hx)("sign_up"),(0,c.XY)("event",{ec:"Signup",ea:"Signup Success"});const I="Yo9oCMOM1MYDEKuN5pYB";(0,c.NA)("conversion",O!=null&&O.adwordsAccountId&&(O!=null&&O.adwordsEventSendTo)?{send_to:`${O.adwordsAccountId}/${I}`}:{});const S=(0,c.xL)();S&&(new Image().src=`https://www.facebook.com/tr?id=${S}&ev=CompleteRegistration`),(0,u.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),T()==="bankless"&&(window.history.replaceState({},document.title,(0,o.updateQuery)({plan:"free"})),(0,g.Md)())}function y(O={}){sendLocalGaEvent("Publication Created",O)}function p(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function T(){var O,I;const S=typeof window!="undefined"&&((O=window._preloads)==null?void 0:O.pub);return((I=S==null?void 0:S.parent_publication)==null?void 0:I.subdomain)||(S==null?void 0:S.subdomain)}},3258:(z,l,e)=>{"use strict";e.d(l,{A:()=>u.A,FP:()=>u.FP,IU:()=>o.IU,K8:()=>u.K8,XY:()=>f.XY,j:()=>u.j,jA:()=>u.jA,jJ:()=>u.jJ,uF:()=>c.S,x6:()=>u.x6,xG:()=>u.xG});var o=e(8461),f=e(28876),u=e(32081),c=e(31256)},31256:(z,l,e)=>{"use strict";e.d(l,{S:()=>v});var o=e(39419),f=e.n(o),u=e(28876),c=e(32081);let g=null;function v(){var E;typeof window!="undefined"&&((E=window==null?void 0:window.navigator)!=null&&E.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,u.LH)(),(0,u.dl)(),(0,u.jP)(),(0,c.Md)(),(0,o.windowReady)(()=>{const y=g;g=null,y&&y.length>0&&(0,c.At)(y)})}},31032:(z,l,e)=>{"use strict";e.d(l,{W:()=>f});var o=e(83322);const f=(0,o.randomString)()},28876:(z,l,e)=>{"use strict";e.d(l,{Hx:()=>T,LH:()=>S,NA:()=>O,XY:()=>I,dl:()=>y,iE:()=>p,jP:()=>_,xL:()=>s});var o=e(15045),f=e(39776),u=e(39419),c=e.n(u),g=e(31032);function v(w,{toHead:P=!1}={}){(0,u.windowReady)(()=>{const x=document.createElement("script");if(x.async=!0,x.src=w,P)document.head.appendChild(x);else{const M=document.getElementsByTagName("script")[0];M.parentNode&&M.parentNode.insertBefore(x,M)}})}function E(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function y(){var w,P,x;if(typeof window=="undefined")return;const M=(P=(w=window==null?void 0:window._preloads)==null?void 0:w.pub)==null?void 0:P.google_tag_manager_token;if(!M)return;const N=E();if(M===N)return;window.dataLayer=window.dataLayer||[],(0,f.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const C=p();(x=C.user)!=null&&x.id&&window.dataLayer.push({userId:C.user.id.toString()}),v(`https://www.googletagmanager.com/gtm.js?id=${M}`,{toHead:!0})}function p(){let w;return typeof window!="undefined"&&(w=window._analyticsConfig),w||(w={}),w.properties||(w.properties={}),w.properties.browserSessionId=g.W,w}function T(w,P={}){var x;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const M=p();(x=M.user)!=null&&x.id&&(P.user_id=M.user.id.toString()),M.anonymousId&&(P.client_id=M.anonymousId),window.publisherGA4gtag("event",w,P)}function O(w,P){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",w,P)}function I(w,P={}){var x;const M=p(),N=d();if(!N)return;const C=(0,o.parseQuery)(window.location.href);P=Object.assign({v:1,t:w,tid:N,cid:M.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:C.utm_campaign,cs:C.utm_source,cm:C.utm_medium,ck:C.utm_term,cc:C.utm_content,ci:C.utm_id},P),(x=M.user)!=null&&x.id&&(P.uid=M.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,o.serializeQuery)(P)}`}function S(){var w;if(typeof window=="undefined")return;const P=E();if(!P)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var M;(M=window.GA4DataLayer)==null||M.push(arguments)},window.publisherGA4gtag("js",new Date),window.publisherGA4gtag("config",P);const x=p();(w=x.user)!=null&&w.id&&window.publisherGA4gtag("config",P,{user_id:x.user.id.toString()}),x.anonymousId&&window.publisherGA4gtag("set","client_id",x.anonymousId),v(`https://www.googletagmanager.com/gtm.js?id=${P}&l=GA4DataLayer`,{toHead:!0})}function _(){var w;if(typeof window=="undefined")return;const P=p();!P.localGaPixelId&&!P.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var x;(x=window==null?void 0:window.localGaDataLayer)==null||x.push(arguments)},window.gtag("js",new Date),P.localGaPixelId&&window.gtag("config",P.localGaPixelId),P.adwordsAccountId&&window.gtag("config",P.adwordsAccountId),(w=P.user)!=null&&w.id&&window.gtag("userId",P.user.id.toString()),v(`https://www.googletagmanager.com/gtag/js?id=${P.localGaPixelId}&l=localGaDataLayer`))}function d(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id}function s(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(z,l,e)=>{"use strict";e.d(l,{A:()=>k,At:()=>he,FP:()=>x,K8:()=>ne,Md:()=>W,j:()=>L,jA:()=>F,jJ:()=>Z,x6:()=>K,xG:()=>q});var o=e(85928),f=e.n(o),u=e(44043),c=e(15045),g=e(63830),v=e(86405),E=e(39419),y=e.n(E),p=e(92298),T=e(31032),O=e(28876),I=Object.defineProperty,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(fe,ae,oe)=>ae in fe?I(fe,ae,{enumerable:!0,configurable:!0,writable:!0,value:oe}):fe[ae]=oe,w=(fe,ae)=>{for(var oe in ae||(ae={}))_.call(ae,oe)&&s(fe,oe,ae[oe]);if(S)for(var oe of S(ae))d.call(ae,oe)&&s(fe,oe,ae[oe]);return fe},P;const x=u.F,M=10,N=typeof window!="undefined"&&window!=window.top&&(0,g.l)(E.uuidV4);let C="browser";typeof window!="undefined"&&(navigator.standalone||(P=window.matchMedia)!=null&&P.call(window,"(display-mode: standalone)").matches)&&(C="standalone");const A=null;function k(){return N}function L(fe,ae={}){var oe;if(["development","test"].includes((oe="production")!=null?oe:"")&&!fe)throw new Error("`undefined` event passed to FRONTEND track call");ie(fe,Object.assign({},ae))}function K(fe,ae,oe={}){L(x.PUBLICATION_VISITED,w({visited_publication_id:fe.id,visited_publication_subdomain:fe.subdomain,source:ae},oe))}function Z({post:fe,hasPaywall:ae,surface:oe,markRead:G}){L(x.POST_SEEN,{post_id:fe.id,post_audience:fe.audience,post_type:fe.type,has_paywall:ae,post_age_minutes:fe.post_date&&f()().diff(fe.post_date,"minute"),surface:oe}),G&&J(fe.id)}function J(fe){return fetch(`/api/v1/posts/${fe}/seen`,{method:"POST"})}function q({post:fe,hasPaywall:ae,surface:oe}){L(x.POST_BOTTOM_SEEN,{post_id:fe.id,post_audience:fe.audience,post_type:fe.type,has_paywall:ae,surface:oe})}function ne({post:fe}){fe!=null&&fe.id&&(L(x.POST_PAGE_PINGBACK,{seconds:0,post_id:fe.id}),setTimeout(()=>{L(x.POST_PAGE_PINGBACK,{seconds:10,post_id:fe.id})},1e4))}function F({previous:fe,url:ae}){fe&&(ae.includes("_no_an=true")||W())}function W(fe={}){var ae,oe;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((oe=(ae=window==null?void 0:window._preloads)==null?void 0:ae.pub)!=null&&oe.embed_tracking_disabled))return;ie(x.PAGES,Object.assign(ye(),fe));const G=(0,O.xL)();G&&(new Image().src=`https://www.facebook.com/tr?id=${G}&ev=PageView`),(0,v.g)("pageview"),(0,O.XY)("pageview"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function ie(fe,ae={}){var oe,G;if(typeof window=="undefined")return;const re={event:fe,properties:Object.assign({browserSessionId:T.W,iframeVisitId:N},ae),context:{client_type:"web",displayMode:C,page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,p.l)()}},se=(0,E.base64encode)(JSON.stringify(re));A&&A.length<M?A.push(se):new Image().src=(0,c.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:se}),(G=(oe=window==null?void 0:window._preloads)==null?void 0:oe.user)!=null&&G.is_global_admin&&console.log(`EVENT: ${fe}`,ae)}function he(fe){typeof window!="undefined"&&(new Image().src=(0,c.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:fe.join(",")}))}function ye(){const fe={};if(typeof window!="undefined"){const ae=window._preloads&&window._preloads.post,oe=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);oe&&ae&&oe[1]===ae.slug&&(fe.post_id=ae.id,fe.post_audience=ae.audience,fe.post_type=ae.type)}return fe}},66141:(z,l,e)=>{"use strict";e.d(l,{Z:()=>T});var o=e(15103),f=e(48583),u=e(95495),c=e(3258),g=e(85928),v=e.n(g),E=e(58884);const y=()=>{},p=(0,u.xu)(I=>(0,o.cn)({key:I,value:!1}));function T(I,S=null,_=y){const[d,s]=(0,f.KO)(p(I));if(!I)return[!0,y];const w=()=>{_(),(0,c.j)(c.FP.DASHBOARD_ACTION_BOX_DISMISSED,{key:I});const x=new Date;(0,E.ex)(I,x.toString()),s({key:I,value:!0})};return[d.value||O(I,S),w]}function O(I,S){let _;const d=typeof window=="undefined"?new Date().toString():(0,E.mM)(I);return d&&S?_=v()(d).add(S,"second").isAfterNow():_=!!d,_}},63030:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getNewPubPodcastSettings:()=>s,getNewSectionPodcastSettings:()=>_,getPodcastEpisodeImageUrl:()=>w,getPubPodcastSettings:()=>d,getSectionPodcastSettings:()=>S});var o=e(15045),f=e(83322),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(P,x,M)=>x in P?u(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,T=(P,x)=>{for(var M in x||(x={}))E.call(x,M)&&p(P,M,x[M]);if(v)for(var M of v(x))y.call(x,M)&&p(P,M,x[M]);return P},O=(P,x)=>c(P,g(x));const I=P=>{if(!P)return[];const x=[];for(const M of P){if(x.length===2)break;const N=M.toLowerCase();for(const[C,A]of Object.entries(f.PODCAST_CATEGORIES)){if(x.length===2)break;if(C.toLowerCase()===N||C.toLowerCase().split(" & ").includes(N)){x.push({category:C});break}for(const k of A){if(x.length===2)break;if(k.toLowerCase()===N||k.toLowerCase().split(" & ").includes(N)){x.push({category:C,subcategory:k});break}}}}return x},S=({pub:P,section:x})=>{var M,N,C,A,k,L,K,Z;const J=x==null?void 0:x.podcastSettings,q=(N=(M=J==null?void 0:J.podcast_title)!=null?M:x==null?void 0:x.name)!=null?N:null,ne=(A=(C=J==null?void 0:J.podcast_description)!=null?C:x==null?void 0:x.description)!=null?A:null,F=(k=J==null?void 0:J.itunes_podcast_primary_category)!=null?k:null,W=(L=J==null?void 0:J.itunes_podcast_primary_subcategory)!=null?L:null,ie=(K=J==null?void 0:J.itunes_podcast_secondary_category)!=null?K:null,he=(Z=J==null?void 0:J.itunes_podcast_secondary_subcategory)!=null?Z:null,ye=(J==null?void 0:J.itunes_explicit)||!1,fe=(J==null?void 0:J.podcast_art_url)||(0,o.getDefaultPodcastArtUrlCDN)(),ae=(J==null?void 0:J.paid_podcast_episode_art_url)||null,oe=(J==null?void 0:J.podcast_byline)||P.podcast_byline||P.author_name||"",G=(J==null?void 0:J.language)||P.podcast_language||"",re=!!J&&!!J.podcast_feed_url,se=re?J.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:O(T({},P),{section:x})});return{title:q,description:ne,primaryCategory:F,primarySubcategory:W,secondaryCategory:ie,secondarySubcategory:he,isExplicit:ye,artUrl:fe,byline:oe,language:G,isRedirected:re,podcastRssUrl:se,paidEpisodeArtUrl:ae}},_=({pub:P,section:x})=>{var M,N;const C=(M=x==null?void 0:x.name)!=null?M:null,A=(N=x==null?void 0:x.description)!=null?N:null,k=null,L=null,K=null,Z=null,J=!1,q=(0,o.getDefaultPodcastArtUrlCDN)(),ne=P.podcast_byline||P.author_name||"",F=P.podcast_language||"";return{title:C,description:A,primaryCategory:k,primarySubcategory:L,secondaryCategory:K,secondarySubcategory:Z,isExplicit:J,artUrl:q,byline:ne,language:F,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},d=({pub:P})=>{var x,M;const N=P.podcast_title||P.name,C=P.podcast_description||P.hero_text,A=P.itunes_podcast_primary_category,k=P.itunes_podcast_primary_subcategory,L=P.itunes_podcast_secondary_category,K=P.itunes_podcast_secondary_subcategory,Z=(x=P.itunes_explicit)!=null?x:!1,J=P.podcast_art_url||(0,o.getDefaultPodcastArtUrlCDN)(),q=P.podcast_byline||P.author_name,ne=P.podcast_language||"",F=!!P.show_pub_podcast_tab,W=!!P.podcast_feed_url,ie=T({},P);delete ie.section;const he=W?P.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:ie});return{title:N,description:C,primaryCategory:A,primarySubcategory:k,secondaryCategory:L,secondarySubcategory:K,isExplicit:Z,artUrl:J,byline:q,language:ne,isRedirected:W,podcastRssUrl:he,showPodcastTab:F,paidEpisodeArtUrl:(M=P.paid_podcast_episode_art_url)!=null?M:null}},s=({pub:P,publication:x})=>{var M,N,C;const[A,k]=I(x.tags.map(({canonical_name:fe})=>fe)),L=`${P.name} Podcast`,K=P.hero_text,Z=A==null?void 0:A.category,J=(M=A==null?void 0:A.subcategory)!=null?M:null,q=k==null?void 0:k.category,ne=(N=k==null?void 0:k.subcategory)!=null?N:null,F=P.explicit||!1,W=(0,o.getDefaultPodcastArtUrlCDN)(),ie=P.author_name;return{title:L,description:K,primaryCategory:Z,primarySubcategory:J,secondaryCategory:q,secondarySubcategory:ne,isExplicit:F,artUrl:W,byline:ie,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(C=P.paid_podcast_episode_art_url)!=null?C:null}};function w(P,x){return(x==null?void 0:x.cover_image)||(x==null?void 0:x.podcast_art_url)||(P==null?void 0:P.podcast_art_url)}},69229:(z,l,e)=>{"use strict";e.d(l,{b:()=>c});var o=e(85928),f=e.n(o);function u(g){var v;return`${[g.is_primary,((v=g.publication)==null?void 0:v.author_id)===g.user_id,g.role==="admin",g.role==="contributor"].map(y=>y?"0":"1").join("")}-${f()(g.created_at).valueOf()}`}function c(g){return g.slice(0).sort((v,E)=>u(v)>u(E)?1:-1)}},16527:(z,l,e)=>{"use strict";e.d(l,{Q:()=>f});var o=e(20042);function f(u,c,{native:g=!1,newTab:v=!1}={}){u.defaultPrevented||(u.preventDefault(),g?v||u.metaKey||u.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:c}).click():window.location.assign(c):(0,o.route)(c))}},86405:(z,l,e)=>{"use strict";e.d(l,{g:()=>E});var o=e(20501);const f=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,u=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,c=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,g=(y,p=null)=>{const T=f();if(!T)return;const O={p_id:"Twitter",p_user_id:0,txn_id:T,events:JSON.stringify([[y,p]]),tw_sale_amount:(p==null?void 0:p.value)||0,tw_order_quantity:(p==null?void 0:p.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};v(O)},v=y=>{new Image().src=`https://t.co/i/adsct?${(0,o.serializeQuery)(y)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,o.serializeQuery)(y)}`},E=(y,{quantity:p,price:T}={})=>{if(y==="purchase"){const O=c();O&&typeof window.twq=="function"&&window.twq("event",O),g("purchase",{num_items:p,value:T})}else if(y==="signup"){const O=u();O&&typeof window.twq=="function"&&window.twq("event",O),g("signup")}else g("pageview")}},8479:(z,l,e)=>{"use strict";e.d(l,{NL:()=>J,Q1:()=>L,Wf:()=>C,do:()=>N,ib:()=>Z,kp:()=>ne,rd:()=>q,x8:()=>A});var o=e(30396),f=e(28599),u=e.n(f),c=e(73955),g=e.n(c),v=e(80569),E=e.n(v),y=e(39419),p=e.n(y),T=Object.defineProperty,O=Object.defineProperties,I=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(ie,he,ye)=>he in ie?T(ie,he,{enumerable:!0,configurable:!0,writable:!0,value:ye}):ie[he]=ye,w=(ie,he)=>{for(var ye in he||(he={}))_.call(he,ye)&&s(ie,ye,he[ye]);if(S)for(var ye of S(he))d.call(he,ye)&&s(ie,ye,he[ye]);return ie},P=(ie,he)=>O(ie,I(he)),x=(ie,he)=>{var ye={};for(var fe in ie)_.call(ie,fe)&&he.indexOf(fe)<0&&(ye[fe]=ie[fe]);if(ie!=null&&S)for(var fe of S(ie))he.indexOf(fe)<0&&d.call(ie,fe)&&(ye[fe]=ie[fe]);return ye},M=(ie,he,ye)=>new Promise((fe,ae)=>{var oe=se=>{try{re(ye.next(se))}catch(le){ae(le)}},G=se=>{try{re(ye.throw(se))}catch(le){ae(le)}},re=se=>se.done?fe(se.value):Promise.resolve(se.value).then(oe,G);re((ye=ye.apply(ie,he)).next())});const N={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function C(ie,he,{auto:ye,initialResult:fe}={}){const[ae,oe]=(0,o.eJ)({result:fe||null,isLoading:!!ye,hasLoadedOnce:!1,error:null,promise:null}),G=()=>{oe(P(w({},ae),{error:null}))},re=(le={})=>{var Ee=le,{abortController:ve=new(u())}=Ee,pe=x(Ee,["abortController"]);const me=ie(P(w({},pe),{signal:ve.signal})).then(Ie=>{if(!ve.signal.aborted)return oe({isLoading:!1,hasLoadedOnce:!0,error:null,result:Ie,promise:null}),Ie},Ie=>{if(!ve.signal.aborted)return console.error("There was an error fetching resource",Ie),oe(_e=>P(w({},_e),{isLoading:!1,error:Ie,result:null,promise:null})),Ie});return oe(Ie=>P(w({},Ie),{isLoading:!0,error:null,promise:me})),me},se=le=>{oe(Ee=>P(w({},Ee),{error:null,result:le,isLoading:!1,promise:null}))};return(0,o.d4)(()=>{if(ye){const le=new(u());return re({abortController:le}),()=>{le.abort()}}},he||[]),P(w({},ae),{refetch:re,setResult:se,clearError:G})}function A(ie,he){switch(he.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const ye=ie.slice(),{page:fe,id:ae}=he.payload;return ye[fe]={result:null,id:ae,isLoading:!0,error:null},ye}case"page_load":{const{id:ye,result:fe}=he.payload;return ie.map(ae=>ae.id===ye?P(w({},ae),{isLoading:!1,result:fe,error:null}):ae)}case"page_error":{const{id:ye,error:fe}=he.payload;return ie.map(ae=>ae.id===ye?P(w({},ae),{isLoading:!1,result:null,error:fe}):ae)}}return ie}function k(ie,he,{auto:ye,initialResult:fe,pages:ae,dispatch:oe}={}){var G;const[re,se]=(0,o._Y)(A,[{result:fe||null,isLoading:!!ye,error:null}]),le=ae!=null?ae:re,Ee=oe!=null?oe:se,ve=(de={})=>{var Re=de,{abortController:ke=new(u()),page:Ve=le.length}=Re,Ge=x(Re,["abortController","page"]);const Qe=le[Ve-1],bt=g()();return Ee({type:"page_start",payload:{page:Ve,id:bt}}),ie({options:Ge,signal:ke.signal,page:Ve,lastPage:Qe}).then(Ce=>{if(!ke.signal.aborted)return Ee({type:"page_load",payload:{page:Ve,id:bt,result:Ce}}),Ce},Ce=>{if(!ke.signal.aborted)return Ee({type:"page_error",payload:{page:Ve,id:bt,error:Ce}}),Ce})},pe=de=>(Ee({type:"page_reset"}),ve(P(w({},de),{page:0})));(0,o.d4)(()=>{if(ye){const de=new(u());return pe({abortController:de}),()=>{de.abort()}}},he||[]);let me=!1;const Ie=()=>M(this,null,function*(){if(!me){const de=le[le.length-1];if(!de.isLoading&&!de.error)return me=!0,yield ve()}}),_e=le[le.length-1];return{pages:le,page:le.length,lastPage:_e,fetchMore:Ie,canFetchMore:_e&&!_e.isLoading&&!_e.error,fetchFirstPage:pe,hasLoadedOnce:!!((G=le[0])!=null&&G.result)}}function L(ie){var he=ie,{auto:ye,initialResult:fe,deps:ae}=he,oe=x(he,["auto","initialResult","deps"]);return C(G=>M(this,null,function*(){var re=G,{signal:se}=re,le=x(re,["signal"]);const{pathname:Ee="",query:ve,body:pe,method:me="get"}=w(w({},oe),le),Ie=E()(me.toUpperCase(),Ee);ve&&Ie.query(ve),pe&&Ie.send(pe),se.addEventListener("abort",()=>{Ie.abort()});const _e=yield Ie;if(se.aborted)return;const de=_e.error;if(de)throw de;return _e.body}),ae||[],{auto:ye,initialResult:fe})}const K=new Map;function Z(ie){var he=ie,{pathname:ye,auto:fe,initialResult:ae,deps:oe,cacheTtl:G}=he,re=x(he,["pathname","auto","initialResult","deps","cacheTtl"]);const se=C(Ee=>{var ve=Ee,{pathname:pe}=ve,me=x(ve,["pathname"]);if(!ye)throw new Error("useFetch requires a pathname");if(G){const _e=K.get(ye);if(_e){const{ts:de,ttl:Re,promise:ke}=_e;if(de+Re>Date.now())return ke}}const Ie=q(pe!=null?pe:ye,w(w({},re),me));return G&&K.set(ye,{ts:Date.now(),ttl:G,promise:Ie}),Ie},oe||[],{auto:fe,initialResult:ae}),le=Ee=>{ye&&G&&K.set(ye,{ts:Date.now(),ttl:G,promise:Promise.resolve(Ee)}),se.setResult(Ee)};return P(w({},se),{setResult:le})}function J(ie){var he=ie,{pathname:ye,auto:fe,initialResult:ae,deps:oe,getPageInit:G,pages:re,dispatch:se}=he,le=x(he,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return k(({page:Ee,lastPage:ve,options:pe})=>{if(!ye)throw new Error("useFetch requires a pathname");const me=G({init:w(w({},le),pe),page:Ee,lastPage:ve});return q(ye,me)},oe||[],{auto:fe,initialResult:ae,pages:re,dispatch:se})}function q(ie){return M(this,arguments,function*(he,ye={}){var fe;const oe=w({cache:"no-cache"},ye),{query:G,json:re}=oe,se=x(oe,["query","json"]);let le=he;if(G){let ve;G instanceof URLSearchParams?ve=G:ve=new URLSearchParams(Object.entries(G).reduce((me,[Ie,_e])=>(_e!==void 0&&(Array.isArray(_e)?_e.forEach(de=>{de!==void 0&&me.push([Ie,de])}):me.push([Ie,_e])),me),[]));const pe=ve.toString();pe&&(he.indexOf("?")!==-1?le+=`&${pe}`:le+=`?${pe}`)}re&&(se.body=JSON.stringify(re),se.headers instanceof Headers||(se.headers=new Headers(se.headers)),se.headers.set("Content-Type","application/json"));const Ee=yield fetch(le,se);if(!Ee.ok){let ve;try{ve=yield Ee.json()}catch(pe){ve={}}throw new ne(Ee,ve)}return["DELETE","HEAD"].includes((fe=se==null?void 0:se.method)!=null?fe:"")?{}:Ee.json()})}class ne extends Error{constructor(he,ye){super(),this.response=he,this.body=ye}getMessage(he){return(0,y.getNetworkErrorMessageFromResponse)(this.body,he)}}function F(ie,he="Something went wrong."){return ie instanceof ne?ie.getMessage():he}function W(ie,he,ye){const[fe,ae]=useState(null);return useCallback((...oe)=>{clearTimeout(fe),ae(null),ae(setTimeout(()=>ie(...oe),he))},[fe,...ye])}},11533:(z,l,e)=>{"use strict";e.d(l,{j:()=>u});var o=e(30396),f=e(20042);function u(g,v){(0,o.d4)(()=>{const E=y=>{g(y)};return f.subscribers.push(E),()=>{f.subscribers.splice(f.subscribers.indexOf(E)>>>0,1)}},v)}function c({path:g}={}){const[v,E]=useState({}),y=useRef(null);u(O=>{y.current=O,E({})},[]);const p=y.current||getCurrentUrl(),T=p.replace(/\?.+$/,"");return y.current=null,[{url:p,path:T,matches:g&&exec(T,g,{})||null},route]}},26686:(z,l,e)=>{"use strict";e.d(l,{_:()=>E});var o=e(83757),f=e(8479),u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(y,p)=>{var T={};for(var O in y)c.call(y,O)&&p.indexOf(O)<0&&(T[O]=y[O]);if(y!=null&&u)for(var O of u(y))p.indexOf(O)<0&&g.call(y,O)&&(T[O]=y[O]);return T};function E(y,p={},T){var O=p,{deps:I,auto:S=!0}=O,_=v(O,["deps","auto"]);return(0,o.ZP)(S?I?[...I,y]:y:null,()=>(0,f.rd)(y,_),T)}},6742:(z,l,e)=>{"use strict";e.d(l,{UM:()=>g,th:()=>v});var o=e(30396),f=e(39419),u=e.n(f);function c(E,y,{root:p,threshold:T=0,rootMargin:O,disabled:I=!1}={}){(0,o.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!E.current||I)return;const S=new IntersectionObserver(d=>{y(d.some(s=>s.isIntersecting))},{root:p,threshold:T,rootMargin:O});S.observe(E.current);function _(){S.disconnect()}return _},[E,y,p,T,O,I])}function g(E,y,{root:p,threshold:T=0,rootMargin:O,disabled:I=!1}={}){const S=(0,o.sO)(!1),_=(0,o.I4)(d=>{d&&!S.current&&(S.current=!0,y())},[y,S]);c(E,_,{root:p,threshold:T,rootMargin:O,disabled:I||S.current})}function v(E){const[y,p]=(0,o.eJ)(!1);return(0,o.d4)(()=>{const T=()=>{const O=(0,f.isWindowVisible)();p(O),E==null||E(O)};return(0,f.onWindowVisibilityChange)(T),()=>{(0,f.offWindowVisibilityChange)(T)}},[E]),y}},36868:(z,l,e)=>{"use strict";e.d(l,{P:()=>o});const o=(f,u)=>u.payments_state==="enabled"?f.is_subscribed:f.is_free_subscribed},62246:(z,l,e)=>{"use strict";e.d(l,{fe:()=>f.f,mz:()=>u.m,r6:()=>o.r,u_:()=>f.u,xB:()=>o.x});var o=e(28079),f=e(53940),u=e(29354)},21958:(z,l,e)=>{"use strict";e.d(l,{L:()=>_});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?g(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,I=(d,s)=>{for(var w in s||(s={}))p.call(s,w)&&O(d,w,s[w]);if(y)for(var w of y(s))T.call(s,w)&&O(d,w,s[w]);return d},S=(d,s)=>v(d,E(s));function _(d,s="div",w){return(0,f.forwardRef)((P,x)=>(0,o.createElement)(s,S(I(I({},w),P),{ref:x,className:c()(d,P==null?void 0:P.className)})))}},13045:(z,l,e)=>{"use strict";e.d(l,{HZ:()=>f.H,xu:()=>g.xu,zx:()=>u.zx,hE:()=>c.h,XZ:()=>P.X,ji:()=>M,iz:()=>E.i,hs:()=>y.hs,tu:()=>y.tu,gq:()=>y.gq,hU:()=>u.hU,Tz:()=>v.Tz,v2:()=>I.v2,sN:()=>I.sN,u_:()=>O.u_,xB:()=>O.xB,gu:()=>L.g,xv:()=>d.xv,oi:()=>q.o,gx:()=>F.g,FN:()=>w.FN,u:()=>s.u,pm:()=>w.pm,dd:()=>w.dd});var o=e(11059),f=e(83787),u=e(84040),c=e(91041),g=e(84606),v=e(15187),E=e(48960),y=e(51126),p=e(94016),T=e(56288),O=e(62246),I=e(76235),S=e(92106),_=e(65414),d=e(43887),s=e(92630),w=e(75425),P=e(53570),x=e(6400);const M=({contentBelow:ie,details:he,disabled:ye,label:fe,name:ae,paddingBottom:oe,paddingTop:G,testid:re,track:se,value:le,onChange:Ee})=>(0,x.h)(y.gq,{as:"label",gap:8,paddingBottom:oe,paddingTop:G},(0,x.h)(P.X,{as:"div",checked:le,name:ae!=null?ae:re,"data-track-input":se,disabled:ye,size:"small",onChange:Ee}),(0,x.h)(y.tu,{flex:"grow"},(0,x.h)(d.xv.B4,{as:"span",color:ye?"secondary":"primary"},fe),he&&(0,x.h)(d.xv.Detail,null,he),ie));var N=e(72657),C=e(69045);const A={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},k=({children:ie,label:he})=>h(FlexColumn,null,he&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},he),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},ie));var L=e(2019),K=e(96427);const Z=({details:ie,helpText:he,label:ye,name:fe,options:ae,paddingBottom:oe,paddingTop:G,value:re,onChange:se})=>h(Field,{label:ye,details:ie,helpText:he,paddingTop:G,paddingBottom:oe,wrapWithLabel:!0},h(Select,{name:fe,value:re,onChange:se},ae.map(le=>h("option",{value:le.value},le.label))));var J=e(30396),q=e(34394);const ne=({details:ie,disabled:he,helpText:ye,label:fe,paddingBottom:ae,paddingTop:oe,value:G,onChange:re})=>{const se=useCallback(le=>{re(le.target.value)},[re]);return h(Field,{label:fe,details:ie,helpText:ye,paddingTop:oe,paddingBottom:ae,wrapWithLabel:!0},h(TextInput,{disabled:he,value:G,onChange:se}))};var F=e(27885);const W=({details:ie,disabled:he,helpText:ye,label:fe,paddingBottom:ae,paddingTop:oe,value:G,onChange:re})=>{const se=useCallback(le=>{re(le.target.value)},[re]);return h(Field,{details:ie,helpText:ye,label:fe,paddingBottom:ae,paddingTop:oe,wrapWithLabel:!0},h(Textarea,{disabled:he,value:G,onChange:se}))}},50292:(z,l,e)=>{"use strict";e.d(l,{SJ:()=>g});var o=e(6400),f=e(30396);const u=(0,o.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function c(v,{shouldShowGetAppPill:E=!0,style:y,alwaysPinTitle:p,backAction:T,onRefresh:O}={}){const I=g();return useLayoutEffect(()=>{I.setChildOptions({title:v,style:y,alwaysPinTitle:p,backAction:T,shouldShowGetAppPill:E,onRefresh:O})},[I,v,y,T,E,O]),useLayoutEffect(()=>{I.setPinTitle(!1)},[]),I}function g(){return(0,f.qp)(u)}},19696:(z,l,e)=>{"use strict";e.d(l,{L:()=>o.L});var o=e(21958)},41474:(z,l,e)=>{"use strict";e.d(l,{CD:()=>s,Kr:()=>N,MJ:()=>d,rw:()=>I,zi:()=>O});var o=e(3258),f=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(C,A,k)=>A in C?f(C,A,{enumerable:!0,configurable:!0,writable:!0,value:k}):C[A]=k,p=(C,A)=>{for(var k in A||(A={}))v.call(A,k)&&y(C,k,A[k]);if(g)for(var k of g(A))E.call(A,k)&&y(C,k,A[k]);return C},T=(C,A)=>u(C,c(A));function O(C,A,{extraEventProps:k={},tabId:L}={}){_("seen",C,A,{extraEventProps:k,tabId:L})}function I(C,A,k,{extraEventProps:L={},tabId:K}={}){_("clicked",C,A,{extraEventProps:T(p({clicked_element:k},L),{tabId:K})})}function S(C,A){var k,L,K,Z;return{item_entity_key:"entity_key"in C?C.entity_key:"",item_type:C.type,item_context_type:"context"in C?C.context.type:"",item_context_timestamp:new Date("context"in C?C.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in C?(k=C.context.users[0])==null?void 0:k.id:void 0,item_publication_id:"publication"in C?(L=C.publication)==null?void 0:L.id:void 0,item_post_id:(K=C.post)==null?void 0:K.id,item_comment_id:(Z=C.comment)==null?void 0:Z.id,item_can_reply:"canReply"in C?C.canReply:!0,tab_id:A!=null?A:void 0}}function _(C,A,k,{extraEventProps:L={},tabId:K}={}){const Z=S(A,K!=null?K:null);(0,o.j)(C==="seen"?o.FP.FEED_ITEM_SEEN:o.FP.FEED_ITEM_CLICKED,p(p({surface:k,tabId:K},Z),L))}function d(C,A,{extraEventProps:k={}}={}){w("seen",C,A,{extraEventProps:k})}function s(C,A,k,{extraEventProps:L={}}={}){w("clicked",C,A,{extraEventProps:p({clicked_element:k},L)})}function w(C,A,k,{extraEventProps:L={}}={}){var K,Z,J,q;(0,o.j)(C==="seen"?o.FP.FEED_USER_SUGGESTION_SEEN:o.FP.FEED_USER_SUGGESTION_CLICKED,p({suggested_user_id:A.user.id,suggested_publication_id:(Z=(K=A.publication)==null?void 0:K.id)!=null?Z:null,suggestion_source:(J=A.source)!=null?J:null,suggestion_id:(q=A.id)!=null?q:null,surface:k},L))}function P(C,{utm_source:A}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:A,tab_id:C})}function x(C,{utm_source:A}={}){const k=S(C,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,p({utm_source:A},k))}function M(C){const A=S(C,null);track(EVENTS.FEED_HIDDEN_REPLIES_VIEWED,p({},A))}function N(C,A,{tabId:k,noteId:L}={}){(0,o.j)(o.FP.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:C,reason:A,tabId:k,noteId:L})}},91870:(z,l,e)=>{"use strict";e.d(l,{I0:()=>x,RR:()=>P,d6:()=>C,ev:()=>N,kc:()=>A});var o=e(6400),f=e(30396),u=e(70444),c=e(20501),g=e(95582),v=e(8479),E=e(39419),y=e.n(E),p=Object.defineProperty,T=Object.defineProperties,O=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(F,W,ie)=>W in F?p(F,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):F[W]=ie,s=(F,W)=>{for(var ie in W||(W={}))S.call(W,ie)&&d(F,ie,W[ie]);if(I)for(var ie of I(W))_.call(W,ie)&&d(F,ie,W[ie]);return F},w=(F,W)=>T(F,O(W));const P=(0,o.createContext)({dispatch:()=>{}});function x(){return(0,f.qp)(P).dispatch}const M={isSigningIn:!1,signInNoExit:!1,pages:[],posts:new Map,publications:new Map,comments:new Map,unhiddenReplyCommentIds:new Set},N=(0,o.createContext)(M);function C({initialItem:F}={}){return(0,g.L)(k,()=>F?K(M,F):M)}function A(){return(0,f.qp)(N)}function k(F,W){var ie,he,ye,fe;switch(W.type){case"sign_in":return w(s({},F),{lastDispatchType:W.type,isSigningIn:W.payload.isSigningIn,signInNoExit:(ie=W.payload.signInNoExit)!=null?ie:!1});case"page_load":{const{result:ae}=W.payload;return w(s({},L(F,ae.items)),{lastDispatchType:W.type,pages:(0,v.x8)(F.pages,W)})}case"post_load":{const{post:ae,publication:oe}=W.payload,G=new Map(F.posts);G.set(ae.id,s(s({},G.get(ae.id)),ae));const re=new Map(F.publications);return re.set(oe.id,s(s({},re.get(oe.id)),oe)),w(s({},F),{posts:G})}case"post_like":{const{postId:ae,isLiked:oe}=W.payload,G=F.posts.get(ae);return Z(F,W.type,ae,J(G,oe))}case"post_restack":{const{postId:ae,isRestacked:oe}=W.payload,G=F.posts.get(ae);return G?Z(F,W.type,ae,q(G,oe)):F}case"post_delete":{const{publication:ae,post:oe}=W.payload,G=new Map(F.posts);G.delete(oe.id);const re=new Map([...F.comments].filter(([se,le])=>le.post_id!==oe.id));return[(0,c.getFeedPostUrl)(oe.id,{noBase:!0}),(0,c.getFeedShortPostUrl)(ae,oe,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(u.Ds,{replace:!0}),w(s({},F),{lastDispatchType:W.type,posts:G,comments:re,pages:F.pages.map(se=>w(s({},se),{result:se.result?w(s({},se.result),{items:se.result.items.filter(le=>{var Ee;return((Ee=le.post)==null?void 0:Ee.id)!==oe.id})}):se.result}))})}case"post_save":{const{postId:ae,isSaved:oe}=W.payload;return F.posts.get(ae)?Z(F,W.type,ae,{is_saved:oe}):F}case"comment_like":{const{commentId:ae,isLiked:oe}=W.payload,G=F.comments.get(ae);return w(s({},F),{lastDispatchType:W.type,comments:ne(F.comments,ae,w(s({},G),{reaction:oe?"\u2764":void 0,reactions:w(s({},G.reactions),{"\u2764":(((he=G.reactions)==null?void 0:he["\u2764"])||0)+(oe?1:-1)}),reaction_count:(G.reaction_count||0)+(oe?1:-1)}))})}case"comment_restack":{const{commentId:ae,isRestacked:oe}=W.payload,G=F.comments.get(ae);return w(s({},F),{lastDispatchType:W.type,comments:G?ne(F.comments,ae,w(s({},G),{restacked:oe,restacks:(G.restacks||0)+(oe?1:-1)})):F.comments})}case"comment_delete":{const{comment:ae}=W.payload,oe=new Map(F.posts),G=new Map([...F.comments].filter(([le,Ee])=>Ee.id!==ae.id&&!new RegExp(`(^|.)${ae.id}(.|$)`).test(Ee.ancestor_path))),re=oe.get(ae.post_id),se=ae.ancestor_path&&G.get(Number(ae.ancestor_path.split(".").pop()));return se?G.set(se.id,w(s({},se),{children_count:(se.children_count||1)-1,children:(se.children||[]).filter(le=>le.id!==ae.id)})):re&&oe.set(re.id,w(s({},re),{child_comment_count:(re.child_comment_count||1)-1})),[(0,c.getFeedCommentUrl)(ae,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(u.Ds,{replace:!0}),w(s({},F),{lastDispatchType:W.type,posts:oe,comments:G,pages:F.pages.map(le=>w(s({},le),{result:le.result?w(s({},le.result),{items:le.result.items.filter(Ee=>{var ve;return((ve=Ee.comment)==null?void 0:ve.id)!==ae.id&&!(Ee.parentComments||[]).filter(Boolean).map(pe=>pe.id).includes(ae.id)})}):le.result}))})}case"new_post":return w(s({},F),{lastDispatchType:W.type,publications:new Map([...F.publications].concat([[W.payload.publication.id,W.payload.publication]])),posts:new Map([...F.posts].concat([[W.payload.post.id,W.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,u.vy)(W.payload.post.id),publication:W.payload.publication,post:W.payload.post,context:W.payload.context||{}}]}},...F.pages]});case"new_comment":{const{comment:ae}=W.payload,oe=new Map(F.posts),G=oe.get(ae.post_id);G&&oe.set(G.id,w(s({},G),{child_comment_count:(G.child_comment_count||0)+1}));const re=new Map(F.comments);re.set(ae.id,ae);const se=(((ye=ae.ancestor_path)==null?void 0:ye.split("."))||[]).map(Number).filter(Boolean).map(pe=>re.get(pe)||null),le=(fe=se[se.length-1])!=null?fe:null;le&&re.set(le.id,w(s({},le),{children_count:(le.children_count||0)+1,children:[ae].concat(le.children||[])}));const ve=[{error:null,isLoading:!1,result:{items:[{type:"comment",entity_key:(0,u.It)(ae.id),comment:ae,parentComments:se,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}}]}},...F.pages];return w(s({},F),{lastDispatchType:W.type,posts:oe,comments:re,pages:ve})}case"edit_comment":{const{comment:ae}=W.payload,oe=new Map(F.comments);return oe.set(ae.id,ae),w(s({},F),{lastDispatchType:W.type,comments:oe})}case"comments_load":{const{comments:ae}=W.payload,oe=[],G=ae.slice();for(;G.length>0;){const re=G.pop();oe.push(re),G.push(...re.children||[])}return w(s({},F),{lastDispatchType:W.type,comments:new Map([...F.comments].concat(oe.map(re=>[re.id,re])))})}case"item_load":{const{item:ae}=W.payload;return w(s({},K(F,ae)),{lastDispatchType:W.type})}case"items_load":{const{items:ae}=W.payload;return w(s({},L(F,ae)),{lastDispatchType:W.type})}case"new_feed_items":{const ae=[...F.pages];if(W.payload.insertLocation){const oe={error:null,isLoading:!1,result:{items:W.payload.feedItems}};W.payload.insertLocation==="prepend"?ae.unshift(oe):W.payload.insertLocation==="append"&&ae.push(oe)}return w(s({},L(F,W.payload.feedItems)),{lastDispatchType:W.type,pages:ae})}case"reply_unhidden":{const{comment_id:ae}=W.payload,oe=F.comments.get(ae),G=new Map(F.comments);return G.set(ae,w(s({},oe),{hide_reply:!1})),w(s({},F),{lastDispatchType:W.type,comments:G,unhiddenReplyCommentIds:new Set([...F.unhiddenReplyCommentIds,ae])})}}return w(s({},F),{lastDispatchType:W.type,pages:(0,v.x8)(F.pages,W)})}function L(F,W){const ie=new Map(F.publications),he=new Map(F.posts),ye=new Map(F.comments);for(const fe of W){if("publication"in fe&&fe.publication&&ie.set(fe.publication.id,fe.publication),"post"in fe){const{post:ae}=fe;ae&&he.set(ae.id,ae)}if("comment"in fe){const{comment:ae}=fe;if(ae&&(ye.set(ae.id,ae),ae.attachments))for(const oe of ae.attachments)oe.type==="post"&&(he.set(oe.post.id,oe.post),ie.set(oe.publication.id,oe.publication))}if("parentComments"in fe)for(const ae of fe.parentComments)ae&&ye.set(ae.id,ae)}return w(s({},F),{publications:ie,posts:he,comments:ye})}function K(F,W){var ie;return w(s({},F),{posts:W.post?ne(F.posts,W.post.id,W.post):F.posts,publications:W.publication?ne(F.publications,W.publication.id,W.publication):F.publications,comments:new Map([...F.comments].concat([W.comment,...(ie=W.parentComments)!=null?ie:[]].filter(Boolean).map(he=>[he.id,he])))})}function Z(F,W,ie,he){const ye=new Map(F.posts),fe=ye.get(ie);return fe&&ye.set(fe.id,s(s({},fe),he)),w(s({},F),{lastDispatchType:W,posts:ye})}function J(F,W){var ie;const he=W!=null?W:!F.reaction,ye="\u2764";return{reaction:he,reactions:{[ye]:(((ie=F.reactions)==null?void 0:ie[ye])||0)+(W?1:-1)}}}function q(F,W){return{restacked:W,restacks:(F.restacks||0)+(W?1:-1)}}function ne(F,W,ie){const he=new Map(F);return he.set(W,ie),he}},73413:(z,l,e)=>{"use strict";e.d(l,{L:()=>f});var o=e(30123);const f=document.location.origin===o.tE},4948:(z,l,e)=>{"use strict";e.d(l,{M:()=>f});var o=e(30396);function f(u,c,{shouldCheck:g,threshold:v=200,bodyRef:E}){const y=(0,o.sO)(),p=E!=null?E:y,T=()=>{const O=p.current;if(O){const{bottom:I}=O.getBoundingClientRect();I<window.innerHeight+v&&u()}};return(0,o.d4)(()=>{if(g)return window.addEventListener("scroll",T,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",T,{capture:!0})}},c),{bodyRef:p,check:T}}},44396:(z,l,e)=>{"use strict";e.d(l,{XA:()=>v});var o=e(30396),f=e(1852),u=e.n(f),c=e(39419),g=e.n(c);function v(){return(0,f.useMediaQuery)({maxWidth:650})}function E(){return useMediaQuery({maxWidth:1400})}function y(){const[p,T]=useState(!1);return useLayoutEffect(()=>{T(isIOs())},[]),p}},72307:(z,l,e)=>{"use strict";e.d(l,{Th:()=>d,Y0:()=>w,_V:()=>x,e:()=>_,lV:()=>S});var o=e(6400),f=e(30396),u=e(8479),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(M,N,C)=>N in M?c(M,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):M[N]=C,O=(M,N)=>{for(var C in N||(N={}))y.call(N,C)&&T(M,C,N[C]);if(E)for(var C of E(N))p.call(N,C)&&T(M,C,N[C]);return M},I=(M,N)=>g(M,v(N));function S(M){const N=(0,u.ib)({pathname:"/api/v1/subscriptions",auto:M,deps:[]});return(0,f.Ye)(()=>I(O({},N),{result:N.result?I(O({},N.result),{publicationMap:new Map(N.result.publications.map(A=>[A.id,A])),subscriptionMap:new Map(N.result.subscriptions.map(A=>[A.publication_id,A])),publicationUserMap:new Map(N.result.publicationUsers.map(A=>[A.publication_id,A]))}):null}),[N])}const _=(0,o.createContext)(u.do);function d(){return(0,f.qp)(_)}function s(M){var N;const{subscriptionMap:C,publicationUserMap:A,publicationsWithPledges:k}=(N=d().result)!=null?N:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},L=C.get(M),K=A.get(M);return{subscription:L,publicationUser:K,is_pledged:!!(k!=null&&k.includes(M))}}function w(M){const{subscription:N,publicationUser:C,is_pledged:A}=s(M),k=(N==null?void 0:N.membership_state)==="free_signup",L=(N==null?void 0:N.membership_state)==="subscribed",K=!!(N!=null&&N.is_founding),Z=!!(C&&["contributor","admin"].includes(C.role));return{subscription:N,publicationUser:C,isFreeSubscribed:k,isPaid:L,isAuthor:Z,isFounding:K,isPledged:A}}function P(){var M,N,C;const{publicationUsers:A,publicationMap:k}=(M=d().result)!=null?M:{publicationMap:new Map,publicationUsers:[]},L=(C=(N=A.find(K=>K.is_primary))!=null?N:A.find(K=>K.role==="admin"))!=null?C:A.find(K=>K.role==="contributor");return L&&k.get(L.publication_id)}function x(M){var N,C;const{publicationUsers:A}=(N=d().result)!=null?N:{publicationUsers:[]};return(C=A.find(k=>k.publication_id===M))!=null?C:null}},82622:(z,l,e)=>{"use strict";e.d(l,{COMMENT_STATUS:()=>T,Hz:()=>E,Ng:()=>I,Sh:()=>y,Zu:()=>c,_N:()=>S,hO:()=>p,us:()=>v});var o=e(85200),f=e(46131);const u=1e4,c=9999;var g=(s=>(s.everyone="everyone",s.free_subscriber="free_subscriber",s.paid_subscriber="paid_subscriber",s))(g||{}),v=(s=>(s.comments_disabled="comments_disabled",s.free_subscription_required="free_subscription_required",s.paid_subscription_required="paid_subscription_required",s))(v||{});const E=({likesEnabled:s=!0,language:w="en"}={})=>{const{iString:P}=I18N.i(w),x=[];return x.push({key:"most_recent_first",text:P("New First"),description:P("Newest first (good for live events)")}),s&&x.push({key:"best_first",text:P("Top First"),description:P("Top ranked first")}),x.push({key:"oldest_first",text:P("Chronological"),description:P("Chronological order (oldest first)")}),x},y=(s,w)=>E({language:w}).find(P=>P.key===s).text,p=function(s,w){if(Symbol.iterator in Object(s)){for(const P of s)if(w(P)===!1||p(P.children||[],w)===!1)return!1}},T={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required"},O=new Set([T.review_required,T.edit_review_required,T.published,T.moderator_approved,T.new_commenter_approval_required]),I=s=>s.deleted?!1:O.has(s.status);function S(s,w){const{attachments:P}=s;if(P&&P.length>0){for(const x of P)if(x.type==="post"){for(const M of x.post.publishedBylines)if(M.id===w)return!0;if((0,o.wN)(x.publication,w))return!0}else if(x.type==="comment"){if(x.comment.user_id===w)return!0}else if(x.type==="publication"&&(0,o.wN)(x.publication,w))return!0}return _(s).has(w)}function _(s){var w,P,x;const M=[];if(s.body_json)for(const N of(0,f.Z)(s.body_json))N.type==="substack_mention"&&(((w=N.attrs)==null?void 0:w.mentionType)==="user"||!((P=N.attrs)!=null&&P.mentionType))&&M.push((x=N.attrs)==null?void 0:x.id);return new Set(M)}function d(s){var w,P;const x=[];if(s.body_json)for(const M of traverse(s.body_json))M.type==="substack_mention"&&((w=M.attrs)==null?void 0:w.mentionType)==="pub"&&x.push((P=M.attrs)==null?void 0:P.id);return new Set(x)}},44043:(z,l,e)=>{"use strict";e.d(l,{F:()=>o});const o={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_AUDIO_CLICKED:"Add Episode Audio Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",ADD_WATERMARK_CLICKED:"Add Watermark Clicked",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_INSTALL_MODAL_OPENED:"App Install Modal Opened",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIOGRAM_DOWNLOAD_CLICKED:"Audiogram Download Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_READER_PARTICIPATION_CHANGED:"Chat Reader Participation Changed",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_SHOWN:"Cover Page Shown",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DASHBOARD_ACTION_CTA_DISMISSED:"Dashboard Action Cta Dismissed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Follow Suggestions Screen Completed",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_VIEWED:"Facebook Follow Suggestions Screen Viewed",FACEBOOK_PROFILE_VISIBLE_TOGGLED:"Facebook Profile Visible Toggled",FACEBOOK_PUB_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Pub Suggestions Screen Completed",FACEBOOK_PUB_SUGGESTIONS_SCREEN_VIEWED:"Facebook Pub Suggestions Screen Viewed",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_HIDDEN_REPLIES_VIEWED:"Feed Hidden Replies Viewed",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_POST_CLICKED:"Inbox Post Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LIKE_UPSELL_SHARE_CLICKED:"Like Upsell Share Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",LOCAL_CURRENCY_MODAL_SEEN:"Local Currency Modal Seen",LOCAL_CURRENCY_MODAL_TURN_OFF_CLICKED:"Local Currency Modal Turn Off Clicked",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYMENT_SUGGESTION_MODAL_ERROR:"Payment Suggestion Modal Error",PAYMENT_SUGGESTION_MODAL_SEEN:"Payment Suggestion Modal Seen",PAYMENT_SUGGESTION_MODAL_STRIPE_ERROR:"Payment Suggestion Modal Stripe Error",PAYMENT_SUGGESTION_MODAL_SUBMITTED:"Payment Suggestion Modal Submitted",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_AUDIO_CLICKED:"Processing Episode Audio Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_MORE_MENU_TAPPED:"Profile More Menu Tapped",PROFILE_PEOPLE_LIST_VIEWED:"Profile People List Viewed",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_APP_UPSELL_SHOWN:"Reader Onboarding App Upsell Shown",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",REMOVE_WATERMARK_CLICKED:"Remove Watermark Clicked",REPLY_ACTIVITY_SCREEN_VIEWED:"Reply Activity Screen Viewed",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SAVE_WATERMARK_CLICKED:"Save Watermark Clicked",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_PLANS_PAGE_FAILED:"Setup Plans Page Failed",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_CENTER_INSTAGRAM_MODAL_OPENED:"Share Center Instagram Modal Opened",SHARE_CENTER_MEDIA_ASSETS_EMAILED:"Share Center Media Assets Emailed",SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED:"Share Center Media Assets Emailed Failed",SHARE_CENTER_SEEN:"Share Center Seen",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",SIGN_IN_APP_UPSELL_CLICKED:"Sign In App Upsell Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_ERROR:"Subscriber Referrals Setup Error",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_BUTTON_SHOWN:"Subscribe Button Shown",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_NOTE_SCREEN_FAILED:"Subscribe Note Screen Failed",SUBSCRIBE_NOTE_SCREEN_SEEN:"Subscribe Note Screen Seen",SUBSCRIBE_NOTE_SCREEN_SUBMITTED:"Subscribe Note Screen Submitted",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_PUBS_UPSELL_SCREEN_FREE_SUBSCRIPTION_ERROR:"Suggested Pubs Upsell Screen Free Subscription Error",SUGGESTED_PUBS_UPSELL_SCREEN_SHOWN:"Suggested Pubs Upsell Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_DASHBOARD_POSTS_SEARCHED:"Writer Dashboard Posts Searched",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},f={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",CONTACT_SYNC_INITIATED:"Contact Sync Initiated",CONTACT_SYNC_PERMISSIONS_SCREEN_COMPLETED:"Contact Sync Permissions Screen Completed",CONTACT_SYNC_PERMISSIONS_SCREEN_VIEWED:"Contact Sync Permissions Screen Viewed",CONTACT_SYNC_SCREEN_DISMISSED:"Contact Sync Screen Dismissed",CONTACT_SYNC_SCREEN_VIEWED:"Contact Sync Screen Viewed",CONTACT_SYNC_SUGGESTIONS_SCREEN_COMPLETED:"Contact Sync Suggestions Screen Completed",CONTACT_SYNC_SUGGESTIONS_SCREEN_VIEWED:"Contact Sync Suggestions Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",FOLLOW_MODAL_VIEWED:"Follow Modal Viewed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_CATEGORIES_SCREEN_COMPLETED:"Onboarding Categories Screen Completed",ONBOARDING_CATEGORIES_SCREEN_VIEWED:"Onboarding Categories Screen Viewed",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PHONE_VERIFICATION_CODE_SCREEN_COMPLETED:"Phone Verification Code Screen Completed",PHONE_VERIFICATION_CODE_SCREEN_VIEWED:"Phone Verification Code Screen Viewed",PHONE_VERIFICATION_SCREEN_COMPLETED:"Phone Verification Screen Completed",PHONE_VERIFICATION_SCREEN_VIEWED:"Phone Verification Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},8111:(z,l,e)=>{"use strict";e.d(l,{mb:()=>O,u8:()=>v});var o=e(41595);const f=(0,o.Z)();f.setLocale("de");const u=(0,o.Z)(),c="en",g=I=>(Array.isArray(I)?(I[0]||"")+I.slice(1).map((S,_)=>`%${_+1}${S}`).join(""):I).toString(),v=(I,...S)=>{const _=g(I);return u.gettext(_,...S)},E=({pub:I}={})=>I&&I.language||c,O={i:(I=c)=>{const _=(typeof I=="string"?I:I?E({pub:I.pub}):c)==="de"?f:u;return{iString:_.gettext.bind(_),iPlural:_.ngettext.bind(_),iContext:_.pgettext.bind(_),iTemplate:(s,...w)=>{const P=g(s);return _.gettext(P,...w)},iCombo:_.dcnpgettext.bind(_,null)}},p:I=>[I,null],l:(I,S)=>{const _=I==="de"?f:u,d=JSON.parse(JSON.stringify(S));_.loadJSON(d,"messages")}};if(typeof window=="undefined"){const I=e(Object(function(){var _=new Error("Cannot find module './translations/translations-de.json'");throw _.code="MODULE_NOT_FOUND",_}()));O.l("de",I)}typeof window!="undefined"?window.I18N=O:e.g.I18N=O},61782:(z,l,e)=>{"use strict";e.d(l,{L:()=>o});const o=1653592864},48971:(z,l,e)=>{"use strict";e.r(l),e.d(l,{DEFAULT_MINIMUM_RATES:()=>u,MAX_MONTHLY_RATE:()=>c,MAX_YEARLY_RATE:()=>g,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>f,currencyFormattedPledgePriceString:()=>E,validatePledgePrices:()=>v});var o=e(83322);const f={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},u={month:5,year:50,founding:50},c=100,g=1e3,v=y=>{const{value:p,interval:T,is_founding:O,currency:I}=y,S=(f[I.toLowerCase()]||u)[O?"founding":T],_=T==="month"?c:g;return p<S?`${(0,o.toTitleCase)(T)}ly plan price must be at least ${E(S,I)}`:p>_?`${(0,o.toTitleCase)(T)}ly${y.is_founding?" founding":""} plan price must be less than ${E(_,I)}`:null},E=(y,p)=>(0,o.centsToPriceString)(y*((0,o.isZeroDecimalCurrency)(p)?1:100),p)},6385:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getAllAudiences:()=>I,getAudiencesForPublicListing:()=>S,getCommentAuthor:()=>q,getCoverImageUrl:()=>ne,getFoundingAudiences:()=>d,getPaidAudiences:()=>_,getPostAuthor:()=>J,isFoundingAudience:()=>w,isPaidAudience:()=>s,previewSubHasFullAccessToPost:()=>Z,pubRoleHasFullAccessToPost:()=>L,pubRolesHaveFullAccessToPost:()=>K,subHasFullAccessToPost:()=>C,subHasFullAccessToPostAudience:()=>A,userHasFullAccessToPost:()=>M});var o=Object.defineProperty,f=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,g=(F,W,ie)=>W in F?o(F,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):F[W]=ie,v=(F,W)=>{for(var ie in W||(W={}))u.call(W,ie)&&g(F,ie,W[ie]);if(f)for(var ie of f(W))c.call(W,ie)&&g(F,ie,W[ie]);return F},E=(F,W)=>{var ie={};for(var he in F)u.call(F,he)&&W.indexOf(he)<0&&(ie[he]=F[he]);if(F!=null&&f)for(var he of f(F))W.indexOf(he)<0&&c.call(F,he)&&(ie[he]=F[he]);return ie};const y=["founding","only_paid","everyone","only_free"],p=["founding","only_paid","everyone"],T=["founding","only_paid"],O=["founding"];function I(){return[...y]}function S(){return[...p]}function _(){return[...T]}function d(){return[...O]}function s(F){return _().includes(F)}function w(F){return d().includes(F)}function P(F,W,ie){if(!W&&!ie||(F==null?void 0:F.subscription_publication_id)===W||(F==null?void 0:F.subscription_publication_id)===ie){if(F!=null&&F.is_founding||F!=null&&F.is_contributor)return"founding";if(F!=null&&F.is_subscribed)return"paid"}return"free"}function x(F){switch(F){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${F}`)}}function M(F,W,ie){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const he=P(F,W.publication_id,ie==null?void 0:ie.parent_publication_id);return x(W.audience).includes(he)}function N(F,W){if(!W||(F==null?void 0:F.publication_id)===W){if((F==null?void 0:F.membership_state)==="subscribed"&&(F!=null&&F.is_founding))return"founding";if((F==null?void 0:F.membership_state)==="subscribed")return"paid"}return"free"}function C(F,W){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const ie=N(F,W.publication_id);return x(W.audience).includes(ie)}function A(F,W){const ie=N(F);return x(W).includes(ie)}function k(F){return(F==null?void 0:F.role)==="admin"||(F==null?void 0:F.role)==="contributor"||(F==null?void 0:F.membership_state)==="subscribed"&&(F!=null&&F.is_founding)?"founding":(F==null?void 0:F.membership_state)==="subscribed"?"paid":"free"}function L(F,W){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const ie=k(F);return x(W.audience).includes(ie)}function K(F,W){return!!(W&&(L(F==null?void 0:F[W.publication_id],W)||W.parent_publication_id&&L(F==null?void 0:F[W.parent_publication_id],W)))}function Z(F,W){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const ie=F;return x(W.audience).includes(ie)}function J(F,W){var ie;const he=(ie=W==null?void 0:W.publishedBylines)==null?void 0:ie[0];if(he)return he;const ye=F.contributors.find(ae=>ae.owner);if(ye){const ae=ye,{user_id:oe}=ae,G=E(ae,["user_id"]);return v({id:oe},G)}const fe=F.contributors.find(ae=>["admin","contributor"].includes(ae.role));if(fe){const ae=fe,{user_id:oe}=ae,G=E(ae,["user_id"]);return v({id:oe},G)}return{id:F.author_id,name:F.author_name,photo_url:F.author_photo_url,bio:F.author_bio}}function q(F){var W,ie,he,ye,fe,ae,oe,G,re,se,le,Ee,ve,pe,me;return{id:(he=(ie=(W=F.user)==null?void 0:W.id)!=null?ie:F.user_id)!=null?he:-1,name:(ae=(fe=(ye=F.user)==null?void 0:ye.name)!=null?fe:F.name)!=null?ae:"",handle:(G=(oe=F.user)==null?void 0:oe.handle)!=null?G:F.handle,photo_url:(se=(re=F.user)==null?void 0:re.photo_url)!=null?se:F.photo_url,bestseller_tier:(ve=(Ee=(le=F.user)==null?void 0:le.bestseller_tier)!=null?Ee:F.user_bestseller_tier)!=null?ve:null,primary_publication:(me=(pe=F.user)==null?void 0:pe.primary_publication)!=null?me:F.user_primary_publication}}function ne(F){return!F.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(F.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(F.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(F.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(F.cover_image)?null:F.cover_image}},85200:(z,l,e)=>{"use strict";e.d(l,{FV:()=>p,Im:()=>v,ab:()=>E,wN:()=>y});var o=e(39693),f=e.n(o),u=e(15045),c=e(83322);const g=function(T){const O=T.trim();return(0,c.endsWithPunctuation)(O)?O:`${O}.`},v=function(T,O=3){if(!(T!=null&&T.length)||!T[0].owner)return null;const I=T[0].name;if(T.length===1)return{owner:I,others:null};let S=T.slice(1);if(S.length>O&&(S=S.filter(_=>_.role==="admin")),S.length&&S.length<=O){const _=S.map(d=>d.name);return{owner:I,others:(0,c.oxfordComma)(_).toString()}}return{owner:I,others:null}},E=function(T,O,I,S,_,d){const s=T?g(T):"";let w;O&&!O.others?S.toLowerCase().includes(O.owner.toLowerCase())?w="":w=` by ${O.owner},`:w="";let P;return I&&d?P=" a Substack publication.":I?P=` a Substack publication with ${I}.`:_?P=` a Substack publication. ${_}.`:P=" a Substack publication.",g(`${d&&I?`${I}. `:""}${s} Click to read ${S},${w}${P}`)};function y(T,O){if(T){if(T.author_id===O)return!0;for(const I of T.contributors)if(I.user_id===O)return!0}return!1}const p=T=>{const O=T.podcast_enabled?{title:T.podcast_title,subtitle:T.podcast_description,podcast_art_url:T.podcast_art_url,url:(0,u.getPodcastLandingUrl)({pub:T,section:null})}:null,I=T.sections.filter(S=>S.is_podcast).map(S=>{var _,d;return{title:S.name,subtitle:(_=S.podcastSettings)==null?void 0:_.podcast_description,podcast_art_url:(d=S.podcastSettings)==null?void 0:d.podcast_art_url,url:(0,u.getPodcastLandingUrl)({pub:T,section:S})}});return f()([O,...I])}},91613:(z,l,e)=>{"use strict";e.d(l,{x:()=>f});var o=e(6385);const f=(u,c,g,v,E)=>!(!E&&!(u!=null&&u.has_publication)||v.invite_only||(0,o.isPaidAudience)(g.audience)||!c.enable_restacking)},82771:(z,l,e)=>{"use strict";e.d(l,{Rg:()=>s,hd:()=>d});var o=e(85928),f=e.n(o),u=e(6385),c=e(15045),g=e(83322),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(P,x,M)=>x in P?v(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,S=(P,x)=>{for(var M in x||(x={}))T.call(x,M)&&I(P,M,x[M]);if(p)for(var M of p(x))O.call(x,M)&&I(P,M,x[M]);return P},_=(P,x)=>E(P,y(x));function d(P,{name:x,url:M,description:N,potentialAction:C}={}){return C===void 0&&(C={"@type":"SearchAction",name:`Search ${P.name}`,target:`${P.base_url}${(0,c.getBaseArchiveUrl)(P)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:x||P.name,publisher:S(S({"@type":"Organization",name:P.name,url:P.base_url},P.logo_url?{logo:{"@type":"ImageObject",url:P.logo_url}}:{}),P.twitter_screen_name?{sameAs:[`https://twitter.com/${P.twitter_screen_name}`]}:{}),url:M||P.base_url,mainEntityOfPage:{"@type":"WebPage",url:M||P.base_url},description:N||P.hero_text,potentialAction:C}}function s(P,x){var M,N,C,A;const k=(0,g.getBylineUsers)(x),L=S(S(_(S({"@type":"Organization",name:(P.parent_publication||P).name,url:(0,c.getBaseUrl)(P.parent_publication||P),description:(P.parent_publication||P).hero_text},P.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:P.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${(P.parent_publication||P).id}`}),(P.parent_publication||P).logo_url&&{logo:{"@type":"ImageObject",url:(P.parent_publication||P).logo_url,contentUrl:(0,c.imginary)((M=(P.parent_publication||P).logo_url)!=null?M:""),thumbnailUrl:(0,c.imginary)((N=(P.parent_publication||P).logo_url)!=null?N:"",128,{height:128})},image:{"@type":"ImageObject",url:(P.parent_publication||P).logo_url,contentUrl:(0,c.imginary)((C=(P.parent_publication||P).logo_url)!=null?C:""),thumbnailUrl:(0,c.imginary)((A=(P.parent_publication||P).logo_url)!=null?A:"",128,{height:128})}}),(P.parent_publication||P).twitter_screen_name&&{sameAs:[`https://twitter.com/${(P.parent_publication||P).twitter_screen_name}`]});return _(S({"@context":"https://schema.org","@type":"NewsArticle",url:(0,c.getPostUrl)(P,x),mainEntityOfPage:(0,c.getPostUrl)(P,x),headline:x.search_engine_title||x.social_title||x.title,description:x.search_engine_description||x.description,image:x.cover_image?[{"@type":"ImageObject",url:x.cover_image}]:[],datePublished:f()(x.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:f()(x.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,u.isPaidAudience)(x.audience)},x.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:k.length>0?k.map(K=>S(S({"@type":"Person",name:K.name,url:(0,c.getReaderProfileUrl)(K),description:K.bio,identifier:`user:${K.id}`},K.twitter_screen_name&&{sameAs:[`https://twitter.com/${K.twitter_screen_name}`]}),K.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,c.imginary)(K.photo_url),thumbnailUrl:(0,c.imginary)(K.photo_url,128,{height:128})}})):L,publisher:L})}function w(P){return S({"@context":"https://schema.org","@type":"Person",image:(P==null?void 0:P.photo_url)&&imginary(P.photo_url),name:`${P==null?void 0:P.name}`,url:P&&getReaderProfileUrl(P),jobTitle:P==null?void 0:P.bio,description:P==null?void 0:P.bio},P!=null&&P.twitter_screen_name?{sameAs:[`https://twitter.com/${P.twitter_screen_name}`]}:{})}},86418:(z,l,e)=>{"use strict";e.d(l,{P:()=>u});const o=new Set(["subscribed","free_signup"]);function f(c){return o.has(c)}function u(c,g){if(!c)return!1;if(!g)return!0;const v=["unsubscribed","free_signup","subscribed"];return v.indexOf(c)>=v.indexOf(g)}},21125:(z,l,e)=>{"use strict";e.d(l,{gg:()=>u});var o=e(25235);function f(g){return g&&c(g)[0]||null}function u(g){return g&&c(g).pop()||null}function c(g){return(0,o.find)(g).filter(v=>v.type==="url"&&v.href.startsWith("http"))}},46131:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});function*o(f){if(yield f,f.content)for(const u of f.content)yield*o(u)}},81470:(z,l,e)=>{"use strict";e.d(l,{Uo:()=>o});var o=(c=>(c.Feed="feed",c.FeedSidebar="feed-sidebar",c.Suggestions="suggestions",c.Permalink="permalink",c.Profile="profile",c.Post="post",c.PostEmbed="post-embed",c.Publication="publication",c.RestacksList="restacks-list",c))(o||{}),f=(c=>(c.ForYou="for-you",c.ForYouComments="for-you-comments",c.Subscribed="subscribed",c.Writers="writers-v2",c.Everyone="everyone",c.FirstNote="first-note",c.Substack="substack",c.ForYouBeta="for-you-beta",c))(f||{});const u={["for-you"]:"Home",subscribed:"Subscribed",["writers-v2"]:"[Bestsellers]",everyone:"[Everyone]",["first-note"]:"[First notes]",substack:"Substack",["for-you-beta"]:"[Home/beta]",["for-you-comments"]:"[Home+comments]"}},20501:(z,l,e)=>{"use strict";e.r(l),e.d(l,{CDN_URL:()=>f.L4,CHAT_EXAMPLES_URL:()=>xe,CHAT_FAQ_URL:()=>We,FEED_PATH:()=>u.Ds,FEED_PATH_NAME:()=>u.qB,OLD_FEED_PATH:()=>u.Z3,_getUrl:()=>f.JD,extractDimensionsFromImageUrl:()=>Qe,feedPathRegex:()=>u.Qe,fixOldFeedPath:()=>u.sm,getActivityRepliesDeepLinkUrl:()=>u.AP,getAddPodcastToSectionUrl:()=>Rt,getAppLinkTabUrl:()=>Ee,getBaseAppLinkUrl:()=>G,getBaseUrl:()=>f.SV,getBillingDetailsUrl:()=>N,getBillingHistoryUrl:()=>C,getCancelOrUncancelUrl:()=>$t,getChangeEmailUrl:()=>L,getChatAppLinkUrl:()=>le,getCollabPostUrl:()=>Lr,getCommentDeepLinkUrl:()=>u.z5,getCommentEntityKey:()=>u.It,getCommentFallbackUrl:()=>u.NZ,getCommunityCommentAppLinkUrl:()=>Ie,getCommunityPostAppLinkUrl:()=>me,getCommunityPostEntityKey:()=>u.AO,getConnectFacebookUrl:()=>Me,getConnectTwitterUrl:()=>Pe,getCreateNotesUrl:()=>u.TK,getCustomPublicationThemeDisablePreviewUrl:()=>Ce,getCustomPublicationThemePreviewUrl:()=>bt,getDashboardHomeUrl:()=>ie,getDonateSubscriptionUrl:()=>x,getEditPostUrlById:()=>c.getEditPostUrlById,getEditProfileUrl:()=>g.getEditProfileUrl,getEditPubPodcastUrl:()=>Ct,getEditSectionPodcastUrl:()=>Le,getEmailTestUrl:()=>A,getFeedCommentAppLinkUrl:()=>_e,getFeedCommentUrl:()=>u.Sg,getFeedPeopleYouMayKnowUrl:()=>u.kM,getFeedPostRestacksUrl:()=>u.Oi,getFeedPostUrl:()=>u.rc,getFeedShortPostUrl:()=>u.mx,getFeedUrl:()=>u.E2,getGiftsUrl:()=>k,getGroupManagementUrl:()=>F,getHcProfileViolationFormUrl:()=>Nt,getHostname:()=>f.Fo,getImginariedFavicons:()=>Be,getImportPodcastToSectionUrl:()=>Jt,getInboxAppLinkUrl:()=>re,getLeaderboardUrl:()=>Tr,getLikelyLoggedInParam:()=>c.getLikelyLoggedInParam,getLinkToVideo:()=>c.getLinkToVideo,getLinkableElementIdForVideo:()=>c.getLinkableElementIdForVideo,getManageGroupSubscriptionUrl:()=>Z,getManageSubscriptionUrl:()=>K,getMeetingAdminUrl:()=>oe,getMeetingOrderUrl:()=>fe,getMeetingsUrl:()=>ae,getMentionsUrl:()=>Je,getNavigationBarItemUrl:()=>Ae,getNoteCommentPreviewUrl:()=>u.IY,getNoteEntityKey:()=>u.D2,getNoteRestacksUrl:()=>u.Ed,getNoteUrl:()=>u.gt,getOfferSubscribeUrl:()=>M,getPodcastArchiveUrl:()=>ke,getPodcastRssUrlFromIds:()=>cr,getPostDashboardUrl:()=>W,getPostDeepLinkUrl:()=>u.sH,getPostDetailsPageUrl:()=>Vt,getPostDetailsShareCenterUrl:()=>rr,getPostEntityKey:()=>u.vy,getPostManagementUrl:()=>he,getPostTagUrl:()=>je,getPostUrl:()=>c.getPostUrl,getPostUrlBySlug:()=>c.getPostUrlBySlug,getPresubscribeUrl:()=>w,getProfileConnectionsUrl:()=>g.getProfileConnectionsUrl,getProfileHandleUrl:()=>g.getProfileHandleUrl,getProfileSetupUrl:()=>g.getProfileSetupUrl,getProfileSubdomain:()=>g.getProfileSubdomain,getProfileUrlById:()=>g.getProfileUrlById,getPubAccountSettingsUrl:()=>c.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>ce,getPublicationAppLinkUrl:()=>ve,getPublicationChatAppLinkUrl:()=>pe,getPublishBaseUrl:()=>J,getPublishPledgeStats:()=>Br,getPublishSettingsUrl:()=>q,getPublishSubscriberNotesUrl:()=>Cr,getReaderAutoFollowUrl:()=>g.getReaderAutoFollowUrl,getReaderInviteUrl:()=>g.getReaderInviteUrl,getReaderPostUrl:()=>$e,getReaderProfileUrl:()=>g.getReaderProfileUrl,getReferralSettingsUrl:()=>ne,getSectionEmailBannerSettingUrl:()=>Q,getSectionUrl:()=>H,getSharePublicationUrl:()=>d,getStreakGraphicUrl:()=>Nn,getStripeInvoiceUrl:()=>Ne,getStripePlanUrl:()=>it,getSubdomainOrCustomDomain:()=>ut,getSubscribeUrl:()=>s,getSubscriberDashboardUrl:()=>ye,getSubstackUrl:()=>f.ZJ,getSubstackUrlWithDomain:()=>f.y,getThreadCommentsLandingPageUrl:()=>Re,getThreadsLandingPageUrl:()=>de,getUserAppLinkUrl:()=>se,getWebChatUrl:()=>P,imginary:()=>Ve,isFeedPath:()=>u.Z2,isHostedBySubstack:()=>lt,isHostedByUnsplash:()=>ze,isOldFeedPath:()=>u.p8,isOpenSubstackPostUrl:()=>et,matchCommentPath:()=>u.Th,matchFeedSubpath:()=>u.Iw,matchNoteId:()=>u.WF,matchNotePath:()=>u.Po,matchOldCommentPath:()=>u.Qd,matchPostPath:()=>u.nY,parsePostUrl:()=>ft,parseUrl:()=>rt,pathWithQuery:()=>f.n1,serializeQuery:()=>f.Y$,shareSamePub:()=>Et,stripeBaseUrl:()=>He,substackBaseUrl:()=>f.tE,substackDomain:()=>f.T9,substackUrl:()=>f.pv,unimginary:()=>Ge});var o=e(72985),f=e(30123),u=e(70444),c=e(36250),g=e(2731),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(Dt,Ft,zt)=>Ft in Dt?v(Dt,Ft,{enumerable:!0,configurable:!0,writable:!0,value:zt}):Dt[Ft]=zt,S=(Dt,Ft)=>{for(var zt in Ft||(Ft={}))T.call(Ft,zt)&&I(Dt,zt,Ft[zt]);if(p)for(var zt of p(Ft))O.call(Ft,zt)&&I(Dt,zt,Ft[zt]);return Dt},_=(Dt,Ft)=>E(Dt,y(Ft));const d=(Dt,Ft={})=>{const zt=S({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},Ft),sn=(0,f.SV)(Dt);return(0,f.n1)(sn,S(S({},zt),Ft))};function s(Dt,{root:Ft,user:zt,addBase:sn,params:Un={}}={}){return Ft?/[&?]$/.test(Ft)||(Ft.includes("?")||Ft.endsWith("%%")?Ft+="&":Ft+="?"):Ft=sn?`${(0,f.SV)(Dt)}/subscribe?`:"/subscribe?",zt!=null&&zt.email&&(Un.autoSubmit=!0,Un.email=zt==null?void 0:zt.email),Ft+(0,f.Y$)(Un)}function w(Dt){return`/api/v1/presubscribe/${Dt.id}`}function P({pubId:Dt,postId:Ft,commentId:zt,params:sn}){return(0,f.n1)(`${(0,f.ZJ)()}/chat${Dt?`/${Dt}`:""}${Ft?`/post/${Ft}`:""}${zt?`/reply/${zt}`:""}`,sn)}function x(Dt,{root:Ft,addBase:zt,params:sn={}}={}){return Ft?/[&?]$/.test(Ft)||(Ft.includes("?")||Ft.endsWith("%%")?Ft+="&":Ft+="?"):Ft=zt?`${(0,f.SV)(Dt)}/donate?`:"/donate?",Ft+(0,f.Y$)(sn)}function M(Dt,{root:Ft,user:zt,addBase:sn,offerCode:Un,params:gr={}}){return Ft?/[&?]$/.test(Ft)||(Ft.includes("?")||Ft.endsWith("%%")?Ft+="&":Ft+="?"):Ft=sn?`${(0,f.SV)(Dt)}/subscribe/offer/${Un}?`:`/subscribe/offer/${Un}?`,zt!=null&&zt.email&&(gr.autoSubmit=!0,gr.email=zt==null?void 0:zt.email),Ft+(0,f.Y$)(gr)}function N(Dt,{utm_source:Ft}={}){return(0,f.n1)(`${(0,f.SV)(Dt)}/account/billing?details`,{utm_source:Ft})}function C(Dt,{utm_source:Ft}={}){return(0,f.n1)(`${(0,f.SV)(Dt)}/account/receipts`,{utm_source:Ft})}function A(Dt,{utm_source:Ft}={}){return(0,f.n1)(`${(0,f.SV)(Dt)}/account/email-test`,{utm_source:Ft})}function k({pub:Dt}){return`${(0,f.SV)(Dt)}/account/gifts`}function L({utm_source:Dt}={}){return(0,f.n1)(`${(0,f.ZJ)()}/account/email`,{utm_source:Dt})}function K(Dt){return`${(0,f.SV)(Dt)}/account`}const Z=Dt=>`${(0,f.SV)(Dt)}/account/group`;function J(Dt,{addBase:Ft,baseUrlOptions:zt}={}){return`${Ft?(0,f.SV)(Dt,zt):""}/publish`}function q(Dt,{addBase:Ft=!1,baseUrlOptions:zt={},section:sn="",params:Un}={}){let gr=(0,f.n1)(`${J(Dt,{addBase:Ft,baseUrlOptions:zt})}/settings`,Un);return sn&&(gr+=`#${sn}`),gr}function ne(Dt,{addBase:Ft=!1,baseUrlOptions:zt={},params:sn}={}){return(0,f.n1)(`${J(Dt,{addBase:Ft,baseUrlOptions:zt})}/settings/reader_referrals`,sn)}function F(Dt,{addBase:Ft=!1,baseUrlOptions:zt={},params:sn}={}){return(0,f.n1)(`${J(Dt,{addBase:Ft,baseUrlOptions:zt})}/groups`,sn)}function W(Dt,{addBase:Ft,params:zt}={}){const Un=`${Ft?(0,f.SV)(Dt):""}/publish`;return zt?(0,f.n1)(Un,zt):Un}function ie(Dt,{addBase:Ft,params:zt}={}){const Un=`${Ft?(0,f.SV)(Dt):""}/publish/home`;return zt?(0,f.n1)(Un,zt):Un}function he(Dt,Ft="published",{addBase:zt,params:sn}={}){const gr=`${zt?(0,f.SV)(Dt):""}/publish/posts/${Ft}`;return sn?(0,f.n1)(gr,sn):gr}function ye(Dt,{addBase:Ft,params:zt}={}){const Un=`${Ft?(0,f.SV)(Dt):""}/publish/subscribers`;return zt?(0,f.n1)(Un,zt):Un}function fe(Dt,Ft,{addBase:zt,params:sn,referrer:Un}={}){const Dr=`${zt?(0,f.SV)(Dt):""}/meetings/book/${Ft}`,Fr=_(S({},sn),{referrer:Un});return sn||Un?(0,f.n1)(Dr,Fr):Dr}function ae(Dt,{addBase:Ft,params:zt,referrer:sn}={}){const gr=`${Ft?(0,f.SV)(Dt):""}/meetings`,Dr=_(S({},zt),{referrer:sn});return zt||sn?(0,f.n1)(gr,Dr):gr}function oe(Dt,{addBase:Ft,params:zt,filter:sn}={}){const gr=`${Ft?(0,f.SV)(Dt):""}/publish/meetings/${sn!=null?sn:"upcoming"}`;return zt?(0,f.n1)(gr,zt):gr}function G(){return(0,f.JD)(`open.${f.T9}`)}function re({utm_source:Dt,utm_campaign:Ft,redirect:zt}){return(0,f.n1)(`${G()}/inbox`,{utm_source:Dt,utm_campaign:Ft,redirect:zt})}function se({user_id:Dt,user_name:Ft,utm_source:zt,utm_campaign:sn,redirect:Un}){let gr=`${G()}/users/${Dt}`;const Dr=(0,o.cleanSlug)(Ft,{hashIfEmpty:!0});return Dr&&(gr+=`-${Dr}`),(0,f.n1)(gr,{utm_source:zt,utm_campaign:sn,redirect:Un})}function le({utm_source:Dt,utm_campaign:Ft}){return(0,f.n1)(`${G()}/chat`,{utm_source:Dt,utm_campaign:Ft})}function Ee({tab:Dt,utm_source:Ft,utm_campaign:zt,redirect:sn}){return(0,f.n1)(`${G()}/${Dt}`,{utm_source:Ft,utm_campaign:zt,redirect:sn})}function ve({subdomain:Dt,utm_source:Ft,utm_campaign:zt,redirect:sn}){return(0,f.n1)(`${G()}/pub/${Dt}`,{utm_source:Ft,utm_campaign:zt,redirect:sn})}function pe({pubKey:Dt,utm_source:Ft,utm_campaign:zt,redirect:sn,modal:Un}){return(0,f.n1)(`${G()}/pub/${Dt}/chat`,{utm_source:Ft,utm_campaign:zt,redirect:sn,modal:Un})}function me({postId:Dt,utm_source:Ft,utm_campaign:zt,redirect:sn,modal:Un}){return(0,f.n1)(`${G()}/chat/posts/${Dt}`,{utm_source:Ft,utm_campaign:zt,redirect:sn,modal:Un})}function Ie({commentId:Dt,targetReplyId:Ft,utm_source:zt,utm_campaign:sn,redirect:Un,modal:gr}){return(0,f.n1)(`${G()}/chat/replies/${Dt}`,{target_reply_id:Ft,utm_source:zt,utm_campaign:sn,redirect:Un,modal:gr})}function _e(Dt,{urlParams:Ft}={}){return(0,u.Sg)(Dt,{baseUrl:G(),urlParams:Ft})}function de({pub:Dt,postId:Ft,modal:zt,query:sn}){return(0,f.n1)(`${(0,f.SV)(Dt)}/chat${Ft?`/posts/${Ft}`:""}`,S({modal:zt},sn))}function Re({pub:Dt,commentId:Ft,targetReplyId:zt,modal:sn,query:Un}){return(0,f.n1)(`${(0,f.SV)(Dt)}/chat${Ft?`/replies/${Ft}`:""}`,S({modal:sn,target_reply_id:zt},Un))}function ke({pub:Dt,params:Ft,section:zt}){return zt?(0,f.n1)(`${(0,f.SV)(Dt)}/listen/${zt.slug}/archive`,Ft):(0,f.n1)(`${(0,f.SV)(Dt)}/podcast/archive`,Ft)}function Ve(Dt,Ft,{quality:zt="auto:good",format:sn="auto",crop:Un="limit",lossy:gr=!1,attachment:Dr=!1,filename:Fr=null,gravity:jr=null,height:kr=null,aspect:uo=null,version:to=null,smartCrop:ao=!1,portraitCrop:Ur=!1,skipDomainValidation:_o=!1,leadingSegments:fo=[],trailingSegments:no=[]}={}){var so;if(!Dt)return Dt;Dt.startsWith("/")&&!Dt.startsWith("//")&&(Dt=(0,f.ZJ)()+Dt),Dt=Ge(Dt);try{if(new URL(Dt).hostname.endsWith(".localhost"))return Dt}catch(vo){}if(typeof window!="undefined"&&((so=window==null?void 0:window.location)!=null&&so.hostname)&&["subwit.com","herokuapp.com"].reduce((vo,on)=>vo||window.location.hostname.endsWith(on),!1)&&(Dt=Dt.replace("//substack.com",`//${window.location.hostname}`)),Dt.startsWith("https://substackcdn.com")||Dt.startsWith(f.L4))return Dt;if(Dt.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return Dt.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,f.L4);if(Dt.startsWith("https://res.cloudinary.com"))return Dt.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,f.L4);if(!_o&&!Dt.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return Dt;if(ao&&Ft&&kr){const vo=Qe(Dt);if(vo){const on=Ft/kr,On=vo.width/vo.height;(on<1&&On>=1||on>=1&&On<1||on===1&&On>=1||on===1&&On<=1)&&Math.abs(on-On)>=.5&&(Un="fill",jr=jr!=null?jr:"auto")}}if(ao&&(Un="fill",jr=jr!=null?jr:"auto"),uo&&Ft&&kr==null){const[vo,on]=uo.split(":").map(Number);kr=Math.round(Ft*on/vo)}const go=[Ft&&`w_${Ft}`,kr&&`h_${kr}`,Un&&(Ft||kr)&&`c_${Un}`,sn&&`f_${sn}`,zt&&`q_${zt}`,`fl_${gr?"lossy":"progressive:steep"}`,jr&&`g_${jr}`,Dr&&`fl_attachment${Fr?`:${Fr}`:""}`].filter(Boolean).join(","),Zo=[Ft&&`w_${Ft}`,sn&&`f_${sn}`,zt&&`q_${zt}`,`fl_${gr?"lossy":"progressive:steep"}`,Dr&&`fl_attachment${Fr?`:${Fr}`:""}`].filter(Boolean).join(","),Co=[Un&&(Ft||kr)&&`c_${Un}`,jr&&`g_${jr}`,uo?`ar_${uo}`:"ar_1"].filter(Boolean).join(","),Oo=Ur?[Zo,"/if_ar_lt_1.0/",Co,"/if_end"].join(""):[go].filter(Boolean).join(",");return`${f.L4}/image/fetch/${fo.concat([Oo]).concat(no).join("/")}/${encodeURIComponent(Dt+(to?`${Dt.indexOf("?")!==-1?"&":"?"}version=${to}`:""))}`}function Ge(Dt){if(!Dt)return Dt;const Ft=[/^https:\/\/substackcdn\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i];for(const zt of Ft){const sn=zt.exec(Dt);if(sn)return decodeURIComponent(sn[1])}return Dt}function Qe(Dt){const Ft=Dt.match(/(\d+)x(\d+)\.\w+$/);return Ft?{width:+Ft[1],height:+Ft[2]}:null}function bt(Dt,Ft){return`${(0,f.SV)(Dt)}/api/v1/custom-publication-theme/${Ft.id}/preview`}function Ce(Dt){return`${(0,f.SV)(Dt)}/api/v1/custom-publication-theme/disable-preview`}const We="https://substack.link/chat-faq",xe="https://substack.link/chat-examples";function rt(Dt){const Ft=Dt.trim();if(/\s/.test(Ft))return null;try{const zt=new URL(Ft);return["http:","https:"].includes(zt.protocol)?zt:null}catch(zt){return null}}const Je=(Dt,Ft,zt,sn)=>{switch(Dt){case"user":default:return se({user_id:Ft,user_name:zt,utm_source:"mentions"});case"pub":return sn?(0,f.n1)(sn,{utm_source:"mentions"}):""}};function ft(Dt){var Ft;const zt=rt(Dt);if(!zt)return null;const sn=(Ft=zt.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:Ft[1];if(!sn)return null;let Un,gr;return zt.hostname.endsWith(`.${f.pv.hostname}`)?Un=zt.hostname.split(".")[0]:gr=zt.hostname,{slug:sn,subdomain:Un,customDomain:gr}}function je(Dt,Ft,{addBase:zt=!1,query:sn={}}={}){return(0,f.n1)(`${zt?(0,f.SV)(Dt):""}/t/${Ft.slug}`,sn)}const Rt=({section:Dt})=>`/publish/settings/new_podcast/${Dt.id}`,Jt=({section:Dt})=>Dt?`/publish/import/podcast/${Dt.id}`:"",Ct=({pub:Dt,addBase:Ft})=>`${Ft?(0,f.SV)(Dt):""}/publish/settings/podcast/edit`,Le=({pub:Dt,section:Ft,addBase:zt,referrer:sn})=>Ft?`${zt?(0,f.SV)(Dt):""}/publish/settings/podcast/${Ft.id}${sn?`?referrer=${sn}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),He="https://dashboard.stripe.com",it=(Dt,Ft)=>`${He}/${Dt.stripe_user_id}/prices/${Ft}`,Ne=(Dt,Ft)=>`${He}/${Dt.stripe_user_id}/invoices/${Ft}`;function Be(Dt){const Ft=Dt.html.map(zt=>{var sn;const Un=(sn=zt.match(/href="([^"]+)"/))==null?void 0:sn[1];return Un?zt.replace(Un,Ve(Un)):zt});return _(S({},Dt),{html:Ft})}function ze(Dt){return Dt?Dt.startsWith("https://images.unsplash.com/"):!1}function lt(Dt){if(Dt){if(Dt.startsWith(f.L4)||Dt.startsWith("https://res.cloudinary.com")||Dt.startsWith("https://bucketeer"))return!0;const{getPostMediaBucketName:Ft}=e(83322),zt=`https://${Ft()}.s3.amazonaws.com`;if(Dt.startsWith(zt))return!0}return!1}function et(Dt){if(!Dt)return!1;const{hostname:Ft,pathname:zt}=new URL(Dt);return Ft.startsWith("open.substack.com")?zt.startsWith("/pub/")&&zt.includes("/p/"):!1}function Ae(Dt,Ft,{addBase:zt}={}){var sn,Un;return Ft.section?H(Dt,{addBase:zt,section:Ft.section}):Ft.post?(0,c.getPostUrl)(Dt,Ft.post,{noBase:!zt}):Ft.postTag?je(Dt,Ft.postTag,{addBase:zt}):zt&&/^\/[^/]/.test((sn=Ft.link_url)!=null?sn:"")?`${(0,f.SV)(Dt)}${Ft.link_url}`:(Un=Ft.link_url)!=null?Un:""}function H(Dt,{addBase:Ft,section:zt}={}){if(zt=zt||(Dt==null?void 0:Dt.section),!zt)throw new Error("Section not found");return`${Ft?(0,f.SV)(Dt):""}/s/${zt.slug||zt.id}`}function Q(Dt,{addBase:Ft,section:zt}={}){if(zt=zt||(Dt==null?void 0:Dt.section),!zt)throw new Error("Section not found");const sn=Ft?(0,f.SV)(Dt):"";return(0,f.n1)(`${sn}/publish/settings/preamble`,{section:zt.id})}const ce=(Dt,{addBase:Ft,params:zt}={})=>{const sn=Ft&&Dt?qp.getBaseUrl(Dt):"";return Pe(S({base:sn},zt))},Pe=Dt=>{var Ft;const zt=`${(Ft=Dt==null?void 0:Dt.base)!=null?Ft:""}/api/v1/twitter/authorize`;return Dt?(0,f.n1)(zt,Dt):zt},Me=Dt=>{var Ft;const zt=`${(Ft=Dt==null?void 0:Dt.base)!=null?Ft:""}/api/v1/fb/auth`;return Dt?(0,f.n1)(zt,Dt):zt};function $e(Dt,Ft){return(0,f.n1)(`${(0,f.SV)()}/inbox/post/${Dt}`,Ft)}function ct(Dt){const Ft=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,zt=/^https?:\/\/([^\.]+)\.substack\.com/;let sn=Dt.match(Ft);return!sn&&(sn=Dt.match(zt),!sn)?null:sn[1]}function ut(Dt){Dt=(Dt||"").toLowerCase();const Ft=Dt.match(/^\s*(\w+)\s*$/);if(Ft)return Ft[1];const zt=Dt.match(/\w+(\.\w+)+/);if(zt){let sn=zt[0];return sn.includes("substack")&&(sn=sn.split(".")[0]),sn}}function Et({url:Dt,currentSubdomain:Ft,currentCustomDomain:zt}){return et(Dt)?Ft===ct(Dt):zt?zt===ut(Dt):Ft===ct(Dt)}function Nt(Dt){return`${(0,f.ZJ)()}/profile/${Dt}/hc-violation-form`}const $t=(Dt,{addBase:Ft,params:zt}={})=>{const sn=Ft?(0,f.SV)(Dt):"";return(0,f.n1)(`${sn}/account/cancel`,zt)},Nn=(Dt,Ft,zt)=>`${(0,f.SV)(Dt)}/api/v1/streak.jpg?n=${Ft}&pct=${zt}`,Vt=(Dt,Ft,{addBase:zt,referrer:sn,params:Un}={})=>{const Dr=`${zt?(0,f.SV)(Dt):""}/publish/posts/detail/${Ft}`,Fr=_(S({},Un),{referrer:sn});return Un||sn?(0,f.n1)(Dr,Fr):Dr},rr=(Dt,Ft,{addBase:zt,referrer:sn,params:Un}={})=>{const Dr=`${zt?(0,f.SV)(Dt):""}/publish/posts/detail/${Ft}/share-center`,Fr=_(S({},Un),{referrer:sn});return Un||sn?(0,f.n1)(Dr,Fr):Dr},Tr=(Dt,Ft,{addBase:zt,params:sn}={})=>{if(!(Dt!=null&&Dt.id))return"";const Un=zt?(0,f.SV)(Dt):"";return(0,f.n1)(`${Un}/leaderboard?`,S(S({},sn),(Ft==null?void 0:Ft.id)&&{referrer_token:Ft.id.toString(36)}))};function cr({pubId:Dt,sectionId:Ft,token:zt}){if(Ft){let Un=`${(0,f.SV)({subdomain:"api"})}/feed/podcast/${Dt}/s/`;return zt?Un+=`${Ft}/private/${zt}.rss`:Un+=`${Ft}.rss`,Un}let sn=`${(0,f.SV)({subdomain:"api"})}/feed/podcast/${Dt}`;return zt?sn+=`/private/${zt}.rss`:sn+=".rss",sn}const Lr=({pub:Dt,postId:Ft,params:zt={type:"newsletter"}})=>{const sn=`${(0,f.SV)(Dt)}/publish/collab`;return(0,f.n1)(Ft?`${sn}/${Ft}`:sn,zt)},Br=(Dt,{addBase:Ft,baseUrlOptions:zt,params:sn}={})=>{const Un=Ft?(0,f.SV)(Dt,zt):"";return(0,f.n1)(`${Un}/publish/stats/pledges`,sn)},Cr=(Dt,{addBase:Ft,baseUrlOptions:zt,params:sn}={})=>{const Un=Ft?(0,f.SV)(Dt,zt):"";return(0,f.n1)(`${Un}/publish/stats/notes`,sn)}},30123:(z,l,e)=>{"use strict";e.d(l,{Fo:()=>y,JD:()=>g,L4:()=>c,Q2:()=>_,SV:()=>O,T9:()=>f,Y$:()=>p,ZJ:()=>I,n1:()=>T,pv:()=>E,tE:()=>v,y:()=>S});var o=e(8221);const f=o.S?`${o.S}.substack.info`:"substack.com",u=null,c="https://substackcdn.com";function g(d){let s="https://",w="";return s+d+w}const v=g(f),E=new URL(v);function y(d,{forceSubdomain:s=!1}={}){if(d&&d.custom_domain&&!d.custom_domain_optional&&!s)return d.custom_domain;let w=f;return d&&d.subdomain!=="www"&&(w=`${d.subdomain}.${w}`),w}function p(d){return Object.keys(d).filter(s=>typeof d[s]!="undefined"&&d[s]!==null).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(d[s])}`).join("&")}function T(d,s){if(!d)return"";if(!s)return d;const w=p(s),P=w?d.indexOf("?")===-1?"?":"&":"";return`${d}${P}${w}`}function O(d,{forceSubdomain:s=!1}={}){if(d!=null&&d.rss_website_url)try{return new URL(d.rss_website_url).origin}catch(P){return d.rss_website_url}else if(d!=null&&d.base_url&&!s)return d.base_url;const w=y(d,{forceSubdomain:s});return g(w)}function I(){return O()}function S(d){return g(d)}function _(d,{noBase:s,urlParams:w}={}){const P=s?"":O();return T(`${P}${d}`,w)}},70444:(z,l,e)=>{"use strict";e.d(l,{AO:()=>ve,AP:()=>me,D2:()=>se,Ds:()=>O,E2:()=>W,Ed:()=>re,IY:()=>de,It:()=>le,Iw:()=>C,NZ:()=>ae,Oi:()=>G,Po:()=>ne,Qd:()=>q,Qe:()=>N,Sg:()=>ye,TK:()=>_e,Th:()=>Z,WF:()=>F,Z2:()=>_,Z3:()=>I,gt:()=>fe,kM:()=>ie,mx:()=>he,nY:()=>K,p8:()=>k,qB:()=>T,rc:()=>oe,sH:()=>Ie,sm:()=>L,vy:()=>Ee,z5:()=>pe});var o=e(6385),f=e(30123),u=e(2731),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(Re,ke,Ve)=>ke in Re?c(Re,ke,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):Re[ke]=Ve,p=(Re,ke)=>{for(var Ve in ke||(ke={}))v.call(ke,Ve)&&y(Re,Ve,ke[Ve]);if(g)for(var Ve of g(ke))E.call(ke,Ve)&&y(Re,Ve,ke[Ve]);return Re};const T="notes",O=`/${T}`,I="/feed",S=`${O}/`;function _(Re){return Re===O||Re.startsWith(S)}const d=/^([cp])-(\d+)$/,s=/^\/note\/([cp])-(\d+)$/,w=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,P=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,x=/^\/@[^\/]+\/note\/c-(\d+)$/,M=/^\/@[^\/]+\/note\/p-(\d+)$/,N=new RegExp(`${O}/(short|post)/p-(\\d+)`);function C(Re){const ke=Z(Re);if(ke)return ke;const Ve=K(Re);if(Ve)return Ve;const Ge=ne(Re);return Ge||null}const A=new RegExp(`^${I}(/?)`);function k(Re){return!!Re.match(A)}function L(Re){return Re.replace(A,`${O}$1`)}function K(Re){const ke=Re.match(P);if(ke)return{type:"post",id:Number(ke[3]),author:{id:Number(ke[1]),name:ke[2]}};const Ve=Re.match(M);if(Ve)return{type:"post",id:Number(Ve[1])};const Ge=Re.match(N);return Ge?{type:Ge[1]==="short"?"post":"postViewer",id:Number(Ge[2])}:null}function Z(Re){const ke=Re.match(w);if(ke)return{type:"comment",id:Number(ke[3]),author:{id:Number(ke[1]),name:ke[2]}};const Ve=Re.match(x);return Ve?{type:"comment",id:Number(Ve[1])}:null}const J=new RegExp(`^${I}/comment/(d+)$`);function q(Re){return Re.match(J)}function ne(Re){const ke=Re.match(s);return ke?{type:ke[1]==="c"?"comment":"post",id:Number(ke[2])}:null}function F(Re){const ke=Re.match(d);return ke?{type:ke[1]==="c"?"comment":"post",id:Number(ke[2])}:null}function W({baseUrl:Re,urlParams:ke}={}){let Ve=O;const Ge=Re!=null?Re:(0,f.ZJ)();return(typeof window=="undefined"||!window.location.href.startsWith(Ge))&&(Ve=Ge+Ve),(0,f.n1)(Ve,ke)}function ie({baseUrl:Re,urlParams:ke}={}){const Ve=W({baseUrl:Re});return(0,f.n1)(`${Ve}/suggestions`,ke)}function he(Re,ke,{noBase:Ve,urlParams:Ge}={}){var Qe,bt;const Ce=(Qe=ke.publishedBylines)!=null&&Qe[0]?(bt=ke.publishedBylines)==null?void 0:bt[0]:Re?(0,o.getPostAuthor)(Re,ke):{id:0,name:"someone"};return(0,f.n1)(`${(0,u.getReaderProfileUrl)(Ce,{noBase:Ve,extraParams:Ge})}/note/${Ee(ke.id)}`,Ge)}function ye(Re,{noBase:ke,baseUrl:Ve,urlParams:Ge,noHandle:Qe}={}){return Re.user_id?(0,f.n1)(`${(0,u.getReaderProfileUrl)((0,o.getCommentAuthor)(Re),{baseUrl:Ve,noBase:ke,noHandle:Qe})}/note/${le(Re.id)}`,Ge):W({baseUrl:Ve})}function fe(Re,{noBase:ke,baseUrl:Ve,urlParams:Ge}={}){const Qe=ke?"":Ve!=null?Ve:(0,f.ZJ)();return(0,f.n1)(`${Qe}/note/${Re}`,Ge)}function ae(Re,{noBase:ke,urlParams:Ve}={}){const Ge=ke?"":(0,f.SV)();return(0,f.n1)(`${Ge}/note/${le(Re)}`,Ve)}function oe(Re,{noBase:ke,urlParams:Ve}={}){const Ge=ke?"":(0,f.SV)();return(0,f.n1)(`${Ge}${O}/post/${Ee(Re)}`,Ve)}function G(Re,ke){return(0,f.Q2)(`/note/${Ee(Re)}/restacks`,ke)}function re(Re,ke,Ve){return(0,f.Q2)(`/note/${Re}/restacks${ke==="notes"?"/notes":""}`,Ve)}function se(Re,ke){return`${ke==="comment"?"c":"p"}-${Re}`}function le(Re){return`c-${Re}`}function Ee(Re){return`p-${Re}`}function ve(Re){return`cp-${Re}`}function pe(Re){return`substack://notes/${le(Re)}`}function me(Re){return`substack://activity/notes/${le(Re)}/replies`}function Ie(Re){return`substack://notes/${Ee(Re)}`}function _e(Re){return(0,f.n1)(W(),p({action:"compose"},Re))}function de(Re,{noBase:ke}={}){return`${ke?"":(0,f.SV)()}/note/${le(Re)}/preview.jpg`}},36250:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getCommentUrl:()=>w,getEditPostUrlById:()=>_,getLikelyLoggedInParam:()=>d,getLinkToVideo:()=>S,getLinkableElementIdForVideo:()=>I,getPostCommentsUrl:()=>O,getPostUrl:()=>p,getPostUrlBySlug:()=>T,getPubAccountSettingsUrl:()=>s});var o=e(30123),f=e(70444),u=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(P,x,M)=>x in P?u(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,y=(P,x)=>{for(var M in x||(x={}))g.call(x,M)&&E(P,M,x[M]);if(c)for(var M of c(x))v.call(x,M)&&E(P,M,x[M]);return P};function p(P,x,{noBase:M,edit:N,email:C,comments:A,commentId:k,commentInput:L,highlightComment:K,replyToComment:Z,commentContextId:J,uuid:q,urlParams:ne,signedIn:F=!1,feedViewer:W=!1}={}){if(P&&(P=[P].concat(P.child_publications||[]).find(ye=>ye.id===(x==null?void 0:x.publication_id))||P),(P==null?void 0:P.type)==="rss"&&x)return x.canonical_url||P.rss_website_url;const ie=x?q?x.uuid:x.slug:null;if((N||!ie)&&P&&(x!=null&&x.id)){const ye=M?"":(0,o.SV)(P),fe=!!(x!=null&&x.editor_v2);return`${ye}${_(P,x.id,fe,ne)}`}if((x==null?void 0:x.type)==="restack"&&(x!=null&&x.id))return`${M?"":(0,o.SV)(P)}/cp/${x.id}`;if(W||!P||!x||!ie){const ye=M?"":(0,o.SV)();return k?(0,f.NZ)(k,{noBase:M,urlParams:ne}):x?(0,f.rc)(x.id,{noBase:M,urlParams:ne}):(0,o.n1)(`${ye}${f.Ds}`,ne)}const he=d(F,P);return T(P,ie,{noBase:M,email:C,comments:A,commentId:k,commentInput:L,highlightComment:K,replyToComment:Z,commentContextId:J,urlParams:y({lli:he},ne)})}function T(P,x,{noBase:M,email:N,comments:C,commentId:A,commentInput:k,highlightComment:L,replyToComment:K,commentContextId:Z,urlParams:J}={}){let q="";return M||(q+=(0,o.SV)(P)),q+=`/p/${x}`,C&&(!A||L)&&(q+="/comments"),A&&!L&&!Z&&(q+=`/comment/${A}`),N&&(q+="/email"),J&&(q=(0,o.n1)(q,J)),A&&(L||K)?q+=`#comment-${A}${K?"-reply":""}`:k&&(q+="#input"),A&&Z&&(q+=`/comment/${Z}#comment-${A}`),q}function O(P,x,M,N){return p(P,x,y({comments:!0,commentId:M==null?void 0:M.id},N))}function I({mediaUploadId:P}){return`media-${P}`}function S({pub:P,post:x,mediaUploadId:M}){return`${p(P,x)}#${I({mediaUploadId:M})}`}function _(P,x,M,N){const C=M?"/publish/collab":"/publish/post";return(0,o.n1)(`${C}/${x}`,N)}function d(P,x){return x.custom_domain&&P?"1":void 0}function s(P,{addBase:x,params:M,signedIn:N}={}){const C=d(N,P),A=x?(0,o.SV)(P):"";return(0,o.n1)(`${A}/account`,y({lli:C},M))}function w(P,x,M,N){return x.post_id?O(M!=null?M:void 0,P!=null?P:void 0,x,N):(0,f.Sg)(x,N)}},2731:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getEditProfileUrl:()=>I,getProfileConnectionsUrl:()=>s,getProfileHandleUrl:()=>T,getProfileSetupUrl:()=>w,getProfileSubdomain:()=>O,getProfileUrlById:()=>p,getReaderAutoFollowUrl:()=>_,getReaderInviteUrl:()=>d,getReaderProfileUrl:()=>S});var o=e(72985),f=e(30123),u=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(P,x,M)=>x in P?u(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,y=(P,x)=>{for(var M in x||(x={}))g.call(x,M)&&E(P,M,x[M]);if(c)for(var M of c(x))v.call(x,M)&&E(P,M,x[M]);return P};function p(P,x,{searchParams:M,noBase:N,baseUrl:C}={}){let k=`${N?"":C!=null?C:(0,f.ZJ)()}/profile/${P}`;const L=(0,o.cleanSlug)(x,{hashIfEmpty:!0});return L&&(k+=`-${L}`),(0,f.n1)(k,M)}const T=(P,{searchParams:x,noBase:M,baseUrl:N}={})=>{const A=`${M?"":N!=null?N:(0,f.ZJ)()}/@${P}`;return(0,f.n1)(A,x)};function O(P,{searchParams:x,noBase:M,baseUrl:N}={}){const A=`${M?"":N!=null?N:(0,f.ZJ)()}/@${P}`;return(0,f.n1)(A,x)}function I(){return`${(0,f.ZJ)()}/profile/edit`}function S(P,{utm_source:x,utm_content:M,noBase:N,baseUrl:C,noHandle:A,extraParams:k}={}){const L=x||M?{utm_source:x,utm_content:M}:void 0,K=y(y({},k),L),Z=A?void 0:(P==null?void 0:P.handle)||(P==null?void 0:P.author_handle);return Z?T(Z,{noBase:N,baseUrl:C,searchParams:K}):p(P.author_id||P.user_id||P.id,P.user_profile_name||P.author_name||P.name,{noBase:N,baseUrl:C,searchParams:K})}function _(P){return`${S(P)}?follow`}function d(P){return`${S(P)}?invite`}function s(P,x,M){return(0,f.Q2)(`${S(P,{noBase:!0})}/${x!=null?x:"subscribers"}`,M)}function w(P={}){return(0,f.n1)(`${(0,f.ZJ)()}/profile/start`,P)}},96702:(z,l,e)=>{"use strict";e.r(l),e.d(l,{DEFAULT_PHOTO_URL:()=>v,getDefaultUserPhotoById:()=>g,getUserPhotoUrl:()=>u,getUserPhotoUrlWithoutDefault:()=>c});var o=e(20501),f=e(30123);function u(E,y){const p=c(E,y);return p||v}function c(E,{preferAuthorPhoto:y}={}){return y&&(E!=null&&E.author_photo_url)&&(0,o.imginary)(E.author_photo_url)?(0,o.imginary)(E.author_photo_url):E!=null&&E.photo_url&&(0,o.imginary)(E.photo_url)?(0,o.imginary)(E.photo_url):(E==null?void 0:E.id)!=null?g(E.id):null}function g(E){const y=["purple","yellow","orange","green","black"];return`${(0,f.ZJ)()}/img/avatars/${y[E%5]}.png`}const v=`${(0,f.ZJ)()}/img/avatars/logged-out.png`},76193:(z,l,e)=>{"use strict";e.r(l),e.d(l,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>f,MOBILE_USER_AGENT_PATTERN:()=>o,getIosVersion:()=>g,isAndroid:()=>p,isAndroidUserAgent:()=>y,isIos:()=>v,isMobile:()=>u,isMobileUserAgent:()=>c});const o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function u(T={}){let O=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!O&&typeof window!="undefined"&&(O=window.opera),O?c(O,T):!1}function c(T,{checkFirst4:O}={}){return o.lastIndex=0,f.lastIndex=0,!!(o.test(T)||O&&f.test(T.substr(0,4)))}function g(){if(typeof navigator=="undefined")return null;const T=navigator.userAgent;if(!T.match(/iPad/i)&&!T.match(/iPhone/i))return null;const O=T.indexOf("OS ");return O===-1?null:parseInt(T.substr(O+3,3).replace("_","."))||null}function v(){return!!g()}const E=/Android/i;function y(T){return E.lastIndex=0,!!T&&E.test(T)}function p(){return typeof navigator=="undefined"?!1:y(navigator.userAgent)}},63830:(z,l,e)=>{"use strict";e.d(l,{l:()=>o});const o=(f,{utm_source:u}={})=>{const c={id:f(),timestamp:new Date};return u&&(c.utm_source=u),c}},83322:(z,l,e)=>{"use strict";e.r(l),e.d(l,{AUDIENCE_ADJECTIVES:()=>bt,AppError:()=>Ne,CENTS_PER_EMAIL:()=>it,COMMUNITY_PICKS_CATEGORY_NAME:()=>Je,CONTENT_MODERATION_REASONS:()=>ke,ChatError:()=>Be,DEFAULT_PREVIEW_LIMIT:()=>ve,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>pe,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>Ee,DEFAULT_THEME_COLORS:()=>Ct,EU_COUNTRIES:()=>Un,GIFT_LENGTH_MONTHS:()=>xe,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>le,GRACE_PERIOD_DAYS:()=>G,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>We,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>re,MAX_BYLINES:()=>sr,MAX_FILE_SIZE:()=>L,MAX_MEDIA_FILE_SIZE:()=>A,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>k,MAX_PODCAST_FILE_SIZE:()=>C,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>me,MISSING_IMAGE_HEIGHT:()=>de,MISSING_IMAGE_URL:()=>_e,MISSING_IMAGE_WIDTH:()=>Re,MONTH_NAMES:()=>Rt,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>Le,NO_REPLY_EMAIL:()=>ct,NZD_COUNTRIES:()=>gr,OLD_PODCAST_CATEGORIES:()=>je,PODCAST_CATEGORIES:()=>rt,PUBLICATION_TIER_DESCRIPTIONS:()=>Cn,SECURITY_QUESTIONS:()=>Qe,SPECIAL_SUBDOMAINS:()=>Ge,STRIPE_DAYS_UNTIL_DUE:()=>se,STRIPE_TAX_ID_TYPES:()=>Jt,SUBSCRIPTION_WORDS:()=>Bo,SUBSTACK_PUBLICATION_IDS:()=>ye,SUBSTACK_PUBLICATION_ID_BETA:()=>F,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>ne,SUBSTACK_PUBLICATION_ID_COMPANY:()=>Z,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>J,SUBSTACK_PUBLICATION_ID_ON:()=>K,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>he,SUBSTACK_PUBLICATION_ID_READ:()=>W,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>q,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>ie,SUBSTACK_USER_ID:()=>fe,SUBSTACK_USER_IDS:()=>oe,SUBSTACK_WRITERS_USER_ID:()=>ae,SUPPORTED_CURRENCIES:()=>Dr,TASTEMAKER_CATEGORY_NAME:()=>ft,TERSE_AUDIENCE_ADJECTIVES:()=>Ce,TRANSPARENT_IMAGE_URL:()=>Ie,TWEET_PLACEHOLDER_DATA_URI:()=>s,WEEK_IN_SECONDS:()=>He,anonymousName:()=>co,areCommentsLocked:()=>mi,assertIsDefined:()=>w,assertIsError:()=>P,balanceTextWithCharacterWidths:()=>zt,baschezScoreToEmojis:()=>Jn,baschezToCategory:()=>Mn,canDeleteComment:()=>ui,canDeletePost:()=>nt,canEditComment:()=>li,canPostComments:()=>Xo,canReplyToPost:()=>$e,canReportComment:()=>Ze,canSeeCommenterEmails:()=>Mi,canSeeComments:()=>pi,canSeeTranscription:()=>hi,centsToDollarString:()=>_o,centsToPriceString:()=>Ur,colorLightness:()=>Yt,colorLuma:()=>ln,commentsEnabledForPost:()=>oi,couldPostCommentsIfSubscribed:()=>Ao,coverPageFreeSubscriberCount:()=>$r,currencySymbol:()=>to,decimalToPercent:()=>Gr,deep_equals:()=>Eo,defaultAudienceForPub:()=>Pt,defaultCommentLevelForPub:()=>Oe,defaultSendEmailForPub:()=>be,dollarFormatter:()=>fo,dollarStringToCents:()=>no,endsWithPunctuation:()=>Tr,escapeNewlines:()=>Jo,flat:()=>si,formatArray:()=>Dn,formatBytes:()=>Sr,formatEllipsis:()=>rr,formatPercentForDisplay:()=>Or,formatPodcastDuration:()=>xr,formattedBytesToNumber:()=>Ir,foundingMemberDescription:()=>Fo,fromEnv:()=>ee,getByLine:()=>ze,getBylineUsers:()=>An,getCurrencyForCountry:()=>Fr,getGiftValueText:()=>Zo,getInitalPayment:()=>go,getNext5HoursAfterMidnight:()=>Hr,getOpennodePaymentUrl:()=>ot,getPlanTitle:()=>V,getPostCtaPresentParticiple:()=>Ut,getPostCtaText:()=>Wt,getPostEmbedMeta:()=>Ae,getPostMediaBucketName:()=>Ve,getPrintedByline:()=>zn,getPrintedPostType:()=>un,getReadableAttribution:()=>St,getReaderRecommendationEmailSubject:()=>Vr,getRestackEmailSubject:()=>nn,getScheduledAt:()=>yo,getSubscribeText:()=>et,getSubscriptionSentenceWithCustomWords:()=>vi,getSubscriptionWord:()=>Vi,getSuperscriptNumberString:()=>Ti,getTrialEndOverride:()=>we,getWithIndefiniteArticle:()=>Er,get_month_name:()=>vt,group_by:()=>fi,guessFirstName:()=>Ke,guessLastName:()=>ht,handleDocumentLinkClick:()=>dr,hashString:()=>pr,hexToHSV:()=>Tn,hexToRgb:()=>Bn,hidePaidPostsFor:()=>H,isNotMainEntry:()=>lr,isNotesAttribution:()=>Qt,isPaidPub:()=>mt,isPinnable:()=>$n,isProbablyEmail:()=>rn,isSearchEngineCrawlerQuick:()=>ro,isUUID:()=>_r,isValidCommentLevel:()=>kt,isZeroDecimalCurrency:()=>kr,joinLines:()=>pt,kFormatter:()=>Rr,longestSetOfWordsBelowCost:()=>Ft,mode:()=>It,normalizeHex:()=>On,numberToHumanFileSize:()=>at,numberToOrderOfMagnitude:()=>wn,numberToOrderOfMagnitudeShortString:()=>wr,numberToOrderOfMagnitudeString:()=>Hn,numberToOrdinal:()=>mn,numberToRoughRankingString:()=>zr,numberToString:()=>En,objectMap:()=>ho,onlyOwnsRootComment:()=>ci,oxfordComma:()=>Ot,paymentPeriodToPlan:()=>Ln,planBasePricing:()=>Co,pluralize:()=>Mo,possessive:()=>po,postSocialDescription:()=>So,pubCurrency:()=>jr,pubHasPaymentsEnabled:()=>Xe,pubUsesZeroDecimalCurrency:()=>uo,pubsWithCustomSubscriptionWords:()=>Vo,randomString:()=>Mt,resolveTwitterShareText:()=>lt,restacksEnabledForPost:()=>ii,rgbToHex:()=>Tt,roundPriceUp:()=>so,sanitizeInlineText:()=>vn,satoshiToBitcoin:()=>ao,secondsToHHMMSS:()=>vo,secondsToLargestUnit:()=>Oo,setDateToMidnightPST:()=>Wr,shouldHidePostFromArchive:()=>dn,shouldUseInlineComments:()=>Q,showCommentsOnPost:()=>Di,simpleBalanceText:()=>Lr,sortSubscriptions:()=>Pe,spellOutNumber:()=>Yo,splitArray:()=>ni,stringCost:()=>Dt,stripInvalidBytes:()=>ut,subscriptionTypeText:()=>Me,textLengthAlphaNumericMinimumValidator:()=>$,toMap:()=>Si,toMillis:()=>ar,toSentenceCase:()=>qt,toTitleCase:()=>Kt,transformDocumentLink:()=>In,truncAndFormatArray:()=>hn,truncateBytes:()=>Et,truncateNumber:()=>an,truncateText:()=>$t,truncateToValidBytes:()=>Nt,truncateWords:()=>Nn,twitterScreenNames:()=>d,validCommentLevels:()=>jt,validateColor:()=>Lt,validateHex:()=>on,videoPlayerDimensions:()=>er});var o=e(57824),f=e.n(o),u=e(82626),c=e(82622);const g={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(R,te,ue)=>te in R?v(R,te,{enumerable:!0,configurable:!0,writable:!0,value:ue}):R[te]=ue,S=(R,te)=>{for(var ue in te||(te={}))T.call(te,ue)&&I(R,ue,te[ue]);if(p)for(var ue of p(te))O.call(te,ue)&&I(R,ue,te[ue]);return R},_=(R,te)=>E(R,y(te));const d=g,s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function w(R){if(R==null)throw new Ne(`Expected value to be defined, but received ${R}`)}function P(R){if(!(R instanceof Error))throw new Ne(`Expected value to be an Error, but received ${R}`)}const x="\u2026",M=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],N=["CA","AU","HK","NZ"],C=350*1024*1024,A=20*1024*1024*1024,k=50*1024*1024,L=700*1024*1024,K=1,Z=46438,J=86696,q=81318,ne=87805,F=508885,W=737237,ie=1014268,he=1056696,ye=[K,Z,J,q,ne,F,W,ie,he],fe=81309935,ae=41856304,oe=[fe,ae],G=16,re=45,se=30,le=0,Ee=1e3,ve=356,pe=256,me=6,Ie="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_e="/img/missing-image.png",de=455,Re=728,ke=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort();function Ve(){const R="substack-post-media";if(!R)throw new Ne("postMediaBucketName is not defined");return R}const Ge=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],Qe=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],bt={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},Ce={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},We=new Date("2020-01-16"),xe=1,rt={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},Je="writer favorites",ft="featured recommenders",je={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},Rt=["January","February","March","April","May","June","July","August","September","October","November","December"],Jt=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],Ct=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],Le=["IN"],He=60*60*24*7,it=.0064;class Ne extends Error{constructor(te,{status:ue=500,userVisible:Te=!1,messageHtml:Ue=null,responseBody:tt=null}={}){super(te),this.name=this.constructor.name,this.status=ue,this.userVisible=!!tt||Te||!1,this.messageHtml=Ue,this.response={body:tt||(this.userVisible?Ue?{errors:[{msg:te,msgHTML:Ue}]}:{error:te}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Be extends Error{constructor({status:te=500,errType:ue="SERVER_ERROR",errMessage:Te="",pub:Ue=null}){super(Te),this.name=this.constructor.name,this.status=te,this.response={body:{status:ue,error:Te}},Ue&&(this.response.body.publication=Ue),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function ze(R,{skipMultiContributorCheck:te=!1}={}){var ue,Te,Ue,tt;if(R.subdomain==="popularinformation")return"Judd Legum";if(R.subdomain==="whyisthisinteresting")return"Noah & Colin";if(R.subdomain==="informant")return"Nick Martin";if(R.subdomain==="colinmeloy")return"Colin Meloy";if(R.subdomain==="petition"||R.subdomain==="russiandissent")return null;if(R.subdomain==="mattlabash")return"Matt Labash";if(R.subdomain==="wmbrown")return"Matt Hranek";if(!te&&((ue=R.contributors)==null?void 0:ue.length)>1)return null;const _t=R.name||R.subdomain,dt=[(Ue=(Te=R.contributors)==null?void 0:Te[0])==null?void 0:Ue.name,R.author_name,R.email_from_name,(tt=R==null?void 0:R.author)==null?void 0:tt.name];for(let Zt of dt)if(Zt&&(Zt=Zt.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),Zt&&!Zt.startsWith(_t)&&!_t.startsWith(Zt)&&!Zt.endsWith(_t)&&!_t.endsWith(Zt)))return Zt;return null}function lt({pub:R,post:te}){var ue;const Te=(R==null?void 0:R.twitter_screen_name)||R&&d[R==null?void 0:R.subdomain];let Ue=(ue=te==null?void 0:te.title)!=null?ue:R==null?void 0:R.name;return R&&!te&&(Ue=`Subscribe to ${Ue}`),Te&&(!te||R&&(!te.publishedBylines.length||te.publishedBylines.some(tt=>tt.id===R.author_id)))&&(Ue+=`, by @${Te}`),Ue}function et(R,{now:te=!1,isFreeSubscribed:ue=!1,isMobile:Te=!1,isPledged:Ue=!1,pledgesEnabled:tt=!1}={}){if(!R)return"Subscribe";const{iString:_t}=I18N.i(R.language);return vi(R,()=>ue&&R.plans&&Te&&te?_t("Upgrade now"):ue&&R.plans&&Te&&!te?_t("Upgrade"):ue&&R.plans&&!Te&&te?_t("Upgrade to paid now"):ue&&R.plans&&!Te&&!te?_t("Upgrade to paid"):_t(ue&&tt&&!Ue&&te?"Pledge your support now":ue&&tt&&!Ue&&!te?"Pledge your support":te?"Subscribe now":"Subscribe"),dt=>(ue&&R.plans?qt(Te?dt.upgrade:dt.upgradeToPaid):ue&&tt&&!Ue?"Pledge your support":qt(Vi(R,"subscribe")))+(te?" now":""))}function Ae({date:R,bylines:te,like_count:ue,comment_count:Te,language:Ue="en"}){const{iPlural:tt}=I18N.i(Ue),_t=e(85928),dt=[];return dt.push(_t(R).locale(Ue).fromNow()),ue&&dt.push(tt("1 like","%1 likes",ue)),Te&&dt.push(tt("1 comment","%1 comments",Te)),te&&te.length&&dt.push(Dn(te.map(Zt=>Zt.name).filter(Zt=>Zt!==null),Ue)),dt.join(" \xB7 ")}const H=["astralcodexten"];function Q(R,te){return R.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(R==null?void 0:R.subdomain)||(te==null?void 0:te.type)==="video")}const ce=(R="")=>R.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function Pe(R){return R.sort((te,ue)=>{var Te,Ue;if(!te)return 1;if(!ue||te.membership_state==="subscribed"&&ue.membership_state!=="subscribed")return-1;if(ue.membership_state==="subscribed"&&te.membership_state!=="subscribed")return 1;const tt=ce((Te=te.publication)==null?void 0:Te.name),_t=ce((Ue=ue.publication)==null?void 0:Ue.name);return tt<_t?-1:tt>_t?1:0})}function Me(R){if(R.expiry&&new Date(R.expiry)>new Date)switch(R.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!R.email_disabled||R.email_settings&&Object.values(R.email_settings||{}).some(te=>te==="individual")?"Free Subscriber":R.digest_enabled||R.email_settings&&Object.values(R.email_settings||{}).some(te=>te==="digest")?"Follows in Digests":"Emails Disabled"}function $e({post:R,user:te}){return!!(R&&te&&te.has_publication&&!te.is_admin&&!te.is_contributor&&R.slug!=="coming-soon")}const ct="no-reply@substack.com";function ut(R){if(!R||typeof R!="string")return R;try{return encodeURIComponent(R),R}catch(te){}return R.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,te=>te.length>1?te:"")}function Et(R,te){const ue=new TextEncoder().encode(R);return ue.length>te?new TextDecoder().decode(ue.slice(0,te)):R}function Nt(R){for(;;)try{return encodeURIComponent(R),R}catch(te){R=R.substring(0,R.length-1)}}function $t(R,te,{words:ue=null,ellipsis:Te=x,extension:Ue=null}={}){if(!R)return R;let tt=!1;if(ue){const _t=new RegExp(`^(\\w+\\W+){${ue-1}}\\w+`).exec(R);_t&&(tt=!0,R=_t[0])}return te&&R.length>te&&(tt=!0,R=R.substring(0,te-Te.length)),tt&&(R=Nt(R),R+=Te,Ue&&(R+=Ue)),R}function Nn(R,te,{ellipsis:ue=x,quotationMarks:Te=!1}={}){if(!R)return R;Te&&(te-=2);let Ue=R;if(R&&R.length>te){const tt=R.split(/\s+/),_t=[];let dt=0;for(;dt<=te;){const Zt=tt.shift();if(!Zt||dt+Zt.length>te)break;_t.push(Zt),dt+=Zt.length+1}Ue=rr(_t.join(" "),ue)}return Te&&(Ue.endsWith(" ")||Ue.startsWith(" "))&&(Ue=Ue.trim()),Te?`"${Ue}"`:Ue}const Vt=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function rr(R,te=x){return`${R.replace(Vt,"")}${te}`}function Tr(R){return/[!.?](?:\s+)?$/.test(R)}const cr=new Set([" ","-"]);function Lr(R,{maxCharsPerLine:te=55,maxLines:ue=2,preferWide:Te=!1}={}){if(R.length<=te)return[R];const Ue=te*ue;if(R.length>Ue){let bn=Ue;for(;bn>=0&&R.charAt(bn)!==" ";)bn--;R=rr(R.slice(0,bn))}const tt=Te?te:Math.floor(R.length/ue);let _t=-1,dt=0;const Zt=[];for(;dt+tt<R.length-1;){for(dt=dt+tt;dt<=R.length-1&&!cr.has(R.charAt(dt));)dt++;const bn=R.charAt(dt)==="-";Zt.push(R.slice(_t+1,bn?dt+1:dt)),_t=dt}return dt<R.length-1&&Zt.push(R.slice(_t+1)),Zt}const Br=R=>/[A-Z]/.test(R),Cr=R=>/[\s-]/.test(R);function Dt(R,te){let ue=0;for(let Te=0;Te<R.length;Te+=1){const Ue=R[Te];Br(Ue)?ue+=te:ue+=1}return ue}function Ft(R,te,ue){const Te=[];let Ue=0,tt=!1;for(let Zt=0;Zt<R.length;Zt+=1){const bn=R[Zt];if(Cr(bn)){tt=!0;continue}else tt&&(Te.push(R.slice(Ue,Zt)),Ue=Zt,tt=!1)}if(Ue<R.length&&Te.push(R.slice(Ue)),!Te.length)return"";const _t=[Te[0]];let dt=Dt(Te[0],te);for(const Zt of Te.slice(1)){const bn=Dt(Zt,te);if(dt+=bn,dt<=ue)_t.push(Zt);else break}return _t.join("")}function zt(R,{maxCostPerLine:te=55,maxLines:ue=2,capitalCost:Te=1.2}={}){const Ue=R;if(Dt(R,Te)<=te)return[R];const _t=[];for(let dt=0;dt<ue;dt+=1){const Zt=Ft(R,Te,te);if(Zt)_t.push(Zt),R=R.slice(Zt.length);else break}return _t.reduce((dt,Zt)=>dt+Zt.length,0)<Ue.length&&(_t[_t.length-1]=rr(_t[_t.length-1].slice(0,_t[_t.length-1].length-1))),_t}const sn=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],Un=[...sn,"BG","CZ","DK","HU","PL","RO","SE"],gr=["NZ","CK","NU","PN","TK"],Dr=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function Fr(R){return R==="AU"?"aud":R==="BR"?"brl":R==="CA"?"cad":R==="LI"||R==="CH"?"chf":R==="DK"||R==="FO"||R==="GL"?"dkk":sn.includes(R)?"eur":R==="GB"?"gbp":R==="MX"?"mxn":R==="BV"||R==="NO"||R==="SJ"?"nok":gr.includes(R)?"nzd":R==="PL"?"pln":R==="SE"?"sek":R==="US"?"usd":null}const jr=R=>{var te,ue;return((ue=(te=R.draft_plans)==null?void 0:te[0])==null?void 0:ue.currency)||"usd"};function kr(R){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(R.toUpperCase())}function uo(R){const te=jr(R);return kr(te)}function to(R){return new Intl.NumberFormat("en-US",{style:"currency",currency:R,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const ao=R=>R/1e8;function Ur(R,te,{forceDecimals:ue=!1}={}){let Ue=new Intl.NumberFormat("en-US",{style:"currency",currency:te,minimumFractionDigits:ue||R%100?2:0,maximumFractionDigits:te==="btc"?8:2}).format(te==="btc"?ao(R):kr(te)?R:R/100);return te==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&N.includes(window._preloads.country)&&(Ue=`US${Ue}`),Ue}function _o(R){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(R/100)}const fo=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function no(R){if(!R)return null;if(typeof R!="string")throw new Error("Bad type for dollar string");const te=R.replace(/[^0-9.]/g,"");return te?Math.round(Number(te)*100):null}function so(R){let te=R/100;return te=te<50?Math.ceil(te):Math.ceil(te/5)*5,te*100}function go(R,{quantity:te=1,coupon:ue=null,noTrial:Te=!1,trial_end_override:Ue=null}={}){if(!Te&&(R.trial_period_days||ue&&ue.trial_period_days||Ue&&Ue>Date.now()/1e3+120))return 0;let tt=R.amount*te;return ue&&ue.percent_off?tt=Math.round(tt*(1-(ue.percent_off_precise||ue.percent_off)/100)):ue&&ue.amount_off&&(tt=Math.max(0,tt-ue.amount_off)),tt}function Zo(R,{interval:te="month",interval_count:ue=xe,multiplier:Te=1,min:Ue=0}={}){let tt,_t,dt;for(const Fn of R){if(!dt)dt=Fn.currency;else if(dt!=Fn.currency)continue;Fn.interval=="month"?(!tt||Fn.amount<tt)&&(tt=Fn.amount):Fn.interval=="year"&&(!_t||Fn.amount<_t)&&(_t=Fn.amount)}let Zt=tt;if(!Zt&&_t&&(Zt=_t/12),!Zt)return null;let bn;switch(te){case"month":bn=Zt;break;case"day":bn=Zt/30;break;case"year":bn=_t||Zt*12;break;default:throw new Error(`bad interval: ${te}`)}let Pn=bn*ue*Te;return Pn<Ue?null:(Pn=Math.floor(Pn/100)*100,Ur(Pn,dt))}function Co(R,{amount:te,interval:ue="",language:Te="en"}={}){const Ue=Ur(te!=null?te:R.amount,R.currency);if(R.interval!=="forever"){const tt=ue||R.interval,{iPlural:_t,iString:dt}=I18N.i(Te);if(R.interval_count===3){if(tt==="day")return dt("%1/three days",Ue);if(tt==="month")return dt("%1/three months",Ue);if(tt==="week")return dt("%1/three weeks",Ue);if(tt==="year")return dt("%1/three years",Ue)}if(tt==="day")return _t("%2/day","%2/%1 days",R.interval_count,Ue);if(tt==="month")return _t("%2/month","%2/%1 months",R.interval_count,Ue);if(tt==="week")return _t("%2/week","%2/%1 weeks",R.interval_count,Ue);if(tt==="year")return _t("%2/year","%2/%1 years",R.interval_count,Ue)}return Ue}function Oo(R,{secondsCutoff:te,minutesCutoff:ue,hoursCutoff:Te,daysCutoff:Ue,weeksCutoff:tt,long:_t,noNumber:dt,noWord:Zt,lessThanMinute:bn,language:Pn="en",appendAgo:Fn}={}){const{iCombo:qn}=I18N.i(Pn);R=Math.round(R);let nr;return R<(te||60)?(nr=Math.round(R),Zt?nr:dt&&_t?qn("secondsToLargestUnit","second","seconds",nr):dt&&!_t?qn("secondsToLargestUnit","sec","secs",nr):!_t&&Fn?qn("secondsToLargestUnit","%1 sec ago","%1 secs ago",nr):_t?Fn?qn("secondsToLargestUnit","%1 second ago","%1 seconds ago",nr):qn("secondsToLargestUnit","%1 second","%1 seconds",nr):qn("secondsToLargestUnit","%1 sec","%1 secs",nr)):R<(ue||3600)&&bn&&!Zt&&!dt?(nr=Math.round(R/60),!_t&&Fn?qn("secondsToLargestUnit","%1 min ago","%1 mins ago",nr):_t?Fn?qn("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",nr):qn("secondsToLargestUnit","less than %1 minute","less than %1 minutes",nr):qn("secondsToLargestUnit","less than %1 min","less than %1 mins",nr)):R<(ue||3600)?(nr=Math.round(R/60),Zt?nr:dt&&_t?qn("secondsToLargestUnit","minute","minutes",nr):dt&&!_t?qn("secondsToLargestUnit","min","mins",nr):!_t&&Fn?qn("secondsToLargestUnit","%1 min ago","%1 mins ago",nr):_t?Fn?qn("secondsToLargestUnit","%1 minute ago","%1 minutes ago",nr):qn("secondsToLargestUnit","%1 minute","%1 minutes",nr):qn("secondsToLargestUnit","%1 min","%1 mins",nr)):R<(Te||86400)?(nr=Math.round(R/60/60),Zt?nr:dt&&_t?qn("secondsToLargestUnit","hour","hours",nr):dt&&!_t?qn("secondsToLargestUnit","hr","hrs",nr):!_t&&Fn?qn("secondsToLargestUnit","%1 hr ago","%1 hrs ago",nr):_t?Fn?qn("secondsToLargestUnit","%1 hour ago","%1 hours ago",nr):qn("secondsToLargestUnit","%1 hour","%1 hours",nr):qn("secondsToLargestUnit","%1 hr","%1 hrs",nr)):R<(Ue||604800)?(nr=Math.round(R/60/60),Zt?nr:dt?qn("secondsToLargestUnit","day","days",nr):Fn?qn("secondsToLargestUnit","%1 day ago","%1 days ago",nr):qn("secondsToLargestUnit","%1 day","%1 days",nr)):R<(tt||31557600)?(nr=Math.round(R/60/60),Zt?nr:dt&&_t?qn("secondsToLargestUnit","week","weeks",nr):dt&&!_t?qn("secondsToLargestUnit","wk","wks",nr):!_t&&Fn?qn("secondsToLargestUnit","%1 wk ago","%1 wks ago",nr):_t?Fn?qn("secondsToLargestUnit","%1 week ago","%1 weeks ago",nr):qn("secondsToLargestUnit","%1 week","%1 weeks",nr):qn("secondsToLargestUnit","%1 wk","%1 wks",nr)):(nr=Math.round(R/60/60/24/365.25),Zt?nr:dt&&_t?qn("secondsToLargestUnit","year","years",nr):dt&&!_t?qn("secondsToLargestUnit","yr","yrs",nr):!_t&&Fn?qn("secondsToLargestUnit","%1 yr ago","%1 yrs ago",nr):_t?Fn?qn("secondsToLargestUnit","%1 year ago","%1 years ago",nr):qn("secondsToLargestUnit","%1 year","%1 years",nr):qn("secondsToLargestUnit","%1 yr","%1 yrs",nr))}function vo(R){const te=Math.floor(R/60/60),ue=Math.floor(R/60)%60,Te=Math.floor(R%60);return`${(te?`${te}:`:"")+(te?`0${ue}`.slice(-2):ue)}:${`0${Te}`.slice(-2)}`}function on(R){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(R)}function On(R){return R[0]!=="#"&&(R=`#${R}`),R=R.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(te,ue,Te,Ue)=>ue+ue+Te+Te+Ue+Ue),R}function Tn(R){R=On(R);function te(qn,nr){typeof qn=="string"&&qn.indexOf(".")!=-1&&parseFloat(qn)===1&&(qn="100%");const mo=typeof qn=="string"&&qn.indexOf("%")!=-1;return qn=Math.min(nr,Math.max(0,parseFloat(qn))),mo&&(qn=parseInt(qn*nr,10)/100),Math.abs(qn-nr)<1e-6?1:qn%nr/parseFloat(nr)}const ue=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R);let Te=parseInt(ue[1],16),Ue=parseInt(ue[2],16),tt=parseInt(ue[3],16);Te=te(Te,255),Ue=te(Ue,255),tt=te(tt,255);const _t=Math.max(Te,Ue,tt),dt=Math.min(Te,Ue,tt);let Zt;const bn=_t,Pn=_t-dt,Fn=_t===0?0:Pn/_t;if(_t==dt)Zt=0;else{switch(_t){case Te:Zt=(Ue-tt)/Pn+(Ue<tt?6:0);break;case Ue:Zt=(tt-Te)/Pn+2;break;case tt:Zt=(Te-Ue)/Pn+4;break}Zt/=6}return{h:Zt,s:Fn,v:bn}}function Bn(R){const te=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(On(R));return te?{r:parseInt(te[1],16),g:parseInt(te[2],16),b:parseInt(te[3],16)}:null}function Tt({r:R,g:te,b:ue}){return`#${R.toString(16).padStart(2,"0")}${te.toString(16).padStart(2,"0")}${ue.toString(16).padStart(2,"0")}`}function Lt(R){const te=Tn(R);if(te.h>.11&&te.h<.56)if(te.s>.25&&te.v>.5){if(te.s<.6&&te.v>.8)return!0;if(te.s>.6)return!0}else return!1;else if(te.s>.25&&te.v>.5)return!0;return!1}function Yt(R,te){const ue=Bn(R);return ue?(ue.r=Math.max(0,Math.min(255,Math.round(ue.r*te))),ue.g=Math.max(0,Math.min(255,Math.round(ue.g*te))),ue.b=Math.max(0,Math.min(255,Math.round(ue.b*te))),Tt(ue)):R}function ln(R){let{r:te,g:ue,b:Te}=Bn(R);return te=te/255,ue=ue/255,Te=Te/255,te=te<=.03928?te/12.92:Math.pow((te+.055)/1.055,2.4),ue=ue<=.03928?ue/12.92:Math.pow((ue+.055)/1.055,2.4),Te=Te<=.03928?Te/12.92:Math.pow((Te+.055)/1.055,2.4),.2126*te+.7152*ue+.0722*Te}function hn(R,te,{name:ue=dt=>dt,restWord:Te="other",noNames:Ue="people",pluralizeRest:tt=!0,showRestCount:_t=!0}={}){const dt=R.map(ue).filter(Boolean).slice(0,te);if(dt.length===0)dt.push(Mo(R.length,Ue));else if(dt.length<R.length){const Zt=R.length-dt.length;dt.push(`${_t?Zt:""} ${Te}${Zt>1&&tt?"s":""}`)}return Dn(dt)}function Dn(R,te="en"){const{iString:ue}=I18N.i(te);let Te="";return R.length===1?Te=R[0]:R.length===2?Te=R.join(` ${ue("and")} `):R.length>2&&(Te=`${R.slice(0,-1).join(", ")}, ${ue("and")} ${R.slice(-1)}`),Te}function an(R,{minSignificantDigits:te=1}={}){if(R<1e3)return R.toString();let ue;Math.round(R/1e3)<1e3?(R/=1e3,ue="k"):Math.round(R/1e6)<1e3?(R/=1e6,ue="m"):Math.round(R/1e9)<1e3?(R/=1e9,ue="b"):(R/=1e12,ue="t");const Te=Math.max(te-1-Math.floor(Math.log10(R)),0);return R=Math.round(R*Math.pow(10,Te))/Math.pow(10,Te),`${R}${ue}`}const Mn=R=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(R,1))/Math.LN10+1e-9))-1),Jn=R=>"\u{1F525}".repeat(Mn(R));function pt(R,te,ue){const Te=(R||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(tt=>tt.trim()).filter(tt=>tt),Ue=[];for(;Te.length>0;){const tt=Te.shift(),_t=Ue[Ue.length-1];_t&&_t.length<ue?Ue[Ue.length-1]+=te+tt:Ue.push(tt)}return Ue.join(`
`)}function Mt(){return Math.random().toString(36).replace(/^0\./,"")}function Kt(R){return R.trim().split(/\s+/).filter(Boolean).map(te=>te[0].toUpperCase()+te.substr(1).toLowerCase()).join(" ")}function qt(R,te){const ue=te?R.substr(1).toLowerCase():R.substr(1);return R[0].toUpperCase()+ue}function mn(R){const te=["th","st","nd","rd"],ue=R%100;return R+(te[(ue-20)%10]||te[ue]||te[0])}function En(R,te=0){return typeof R=="string"&&(R=Number(R.replace(/,/g,""))),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:te}).format(R)}function wn(R){return Math.pow(10,Math.floor(Math.log10(R)))||0}function Hn(R){return R<100?"tens":R<1e3?"hundreds":R<1e4?"thousands":R<1e5?"tens of thousands":R<1e6?"hundreds of thousands":R<1e7?"millions":R<1e8?"tens of millions":R<1e9?"hundreds of millions":R<1e10?"billions":R<1e11?"tens of billions":R<1e12?"hundreds of billions":R<1e13?"trillions":R<1e14?"tens of trillions":R<1e15?"hundreds of trillions":"gagillions"}function wr(R){return R>0?`${R.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:0,roundingMode:"floor"})}+`:"0"}function zr(R){return R<=10?`#${R}`:R<=25?"Top 25":R<=50?"Top 50":R<=100?"Top 100":""}function $r(R,te="en"){const{iTemplate:ue}=I18N.i(te),Te=1e6,Ue=1e5;if(R<1e3)return null;let tt=Math.floor(R/1e3)*1e3;tt>=Te&&(tt=Math.floor(R/Ue)*Ue);const _t=En(tt);return ue`Over ${_t} subscribers`}const Or=R=>R<1?"< 1%":`${R}%`;function Gr(R,{rounded:te=!1,display:ue=!1,decimalPlaces:Te=-1}={}){let Ue=parseFloat(R)*100;return Te>=0&&(Ue=Ue.toFixed(Te)),te&&(Ue=Math.floor(Ue)),ue?Or(Number(Ue)):Ue}function yo(R){var te;if((te=R==null?void 0:R.postSchedules)!=null&&te.length&&R.postSchedules[0].trigger_at)return new Date(R.postSchedules[0].trigger_at);if("scheduled_at"in R&&!(!R||!R.scheduled_at)&&!(R.email_sent_at&&R.should_send_email))return new Date(Math.max(new Date(R.scheduled_at).getTime(),Date.now()))}function Yo(R){return R===0?"zero":R===1?"one":R===2?"two":R===3?"three":R===4?"four":R===5?"five":R===6?"six":R===7?"seven":R===8?"eight":R===9?"nine":R===10?"ten":R===11?"eleven":R===12?"twelve":En(R)}function Mo(R,te,{zero_fallback:ue="",just_word:Te}={}){let Ue,tt;const _t=te.lastIndexOf(" ")+1,dt=te.substr(_t),Zt=te.substr(0,_t);return["person","people"].includes(dt)?(Ue=`${Zt}person`,tt=`${Zt}people`):["reply","replies"].includes(dt)?(Ue=`${Zt}reply`,tt=`${Zt}replies`):["entry","entries"].includes(dt)?(Ue=`${Zt}entry`,tt=`${Zt}entries`):["match","matches"].includes(dt)?(Ue=`${Zt}match`,tt=`${Zt}matches`):(Ue=te,tt=`${te}s`),Te||(Ue=`${En(R)} ${Ue}`,tt=`${En(R)} ${tt}`),!R&&ue?ue:R==1?Ue:tt}function po(R){return`${R}\u2019${R[R.length-1]==="s"?"":"s"}`}function Jo(R){return R.replace(/\n/g,"\\n")}const ho=(R,te,ue)=>{const Te={};for(const Ue in R)Te[Ue]=te.call(ue,R[Ue],Ue,R);return Te};function Eo(R,te){if(isNaN(R))return isNaN(te);if(R===null)return te===null;switch(typeof R){case"undefined":case"boolean":case"number":case"string":return R===te}const ue=Object.keys(R).sort(),Te=Object.keys(te).sort();if(ue.length!==Te.length)return!1;for(let Ue=0;Ue<ue.length;Ue+=1){const tt=ue[Ue];if(tt!==Te[Ue]||!Eo(R[tt],te[tt]))return!1}return!0}const Si=(R,te="id")=>{const ue={};for(const Te of R)typeof te=="function"?ue[te(Te)]=Te:ue[Te[te]]=Te;return ue};function ni(R,te){const ue=[],Te=[];for(const Ue of R)te(Ue)?ue.push(Ue):Te.push(Ue);return[ue,Te]}const si=(R,te=1)=>{const ue=[];function Te(Ue,tt){for(const _t of Ue)Array.isArray(_t)&&tt>0?Te(_t,tt-1):ue.push(_t)}return Te(R,te),ue},fi=(R,te,ue)=>{if(typeof te=="string"){const Te=te.split(".");te=Ue=>Te.reduce((tt,_t)=>tt[_t],Ue)}return[].reduce.call(R,(Te,Ue,tt)=>{const _t=te.call(ue,Ue,tt,R),dt=Te.get(_t);return dt?dt.push(Ue):Te.set(_t,[Ue]),Te},new Map)};function oi({publication:R,post:te}){return["adhoc_email","page"].includes(te==null?void 0:te.type)?!1:R.community_enabled&&te&&te.write_comment_permissions!=="none"}function ii({publication:R,post:te}){return!!(R.community_enabled&&te)}function Di({publication:R,post:te}){return(te==null?void 0:te.type)==="adhoc_email"||(te==null?void 0:te.slug)==="coming-soon"?!1:te&&te.comment_count>0||oi({publication:R,post:te})}const Mi=R=>!!(R&&R.is_contributor);function pi(R,te,{bypassContentAccessCheck:ue=!1}={}){const{userHasFullAccessToPost:Te}=e(6385);return R&&te.publishedBylines&&te.publishedBylines.find(Ue=>Ue.id===R.id)?!0:ue||Te(R,te)}function hi(R,te,{bypassContentAccessCheck:ue=!1}={}){const{userHasFullAccessToPost:Te}=e(6385);return R&&te.publishedBylines&&te.publishedBylines.find(Ue=>Ue.id===R.id)?!0:ue||Te(R,te)}const mi=R=>R.type==="thread"&&R.write_comment_permissions==="none";function Xo(R,te,ue){const Te=R&&"id"in R?R.id:null;if(Te&&te.publishedBylines&&te.publishedBylines.find(Ue=>Ue.id===Te))return{canReply:!0};if(R&&R.is_contributor)return{canReply:!0};switch(te.write_comment_permissions||ue.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:c.us.comments_disabled};case"only_paid":{const Ue=!!(R&&R.is_subscribed);return{canReply:Ue,repliesDisabledReason:Ue?void 0:c.us.paid_subscription_required}}}return{canReply:!1}}function Ao(R,te,ue){return Xo(_(S({},R),{is_subscribed:!0}),te,ue).canReply}const li=(R,te)=>!!(te&&R&&R.id===te.user_id);function ui(R,te,{pub:ue,post:Te,parentComments:Ue}){if(!R||!te)return!1;if(R.is_contributor||R.id===te.user_id)return!0;if(te.publication_id&&te.post_id){if(nt(R,ue,Te))return!0}else if(ci({user:R,comment:te,parentComments:Ue}))return!0;return!1}function ci({user:R,comment:te,parentComments:ue}){var Te;if(!R||!te||te.publication_id&&te.post_id||R.id===te.user_id||R.is_contributor)return!1;const Ue=Number((Te=te.ancestor_path)==null?void 0:Te.split(".").filter(Boolean)[0]);if(!Ue)return!1;const tt=ue==null?void 0:ue.find(_t=>(_t==null?void 0:_t.id)===Ue);return R.id===(tt==null?void 0:tt.user_id)}function nt(R,te,ue){return R?!!(R.is_contributor||R.id===(te==null?void 0:te.author_id)||te!=null&&te.contributors.find(Te=>Te.user_id===R.id&&["admin","contributor"].includes(Te.role))):!1}function Ze(R,te){return!(!R||!te||R.id===te.user_id)}function Xe(R){return!!R.plans}function mt(R){return!!(R.plans||R.has_subscribers)}function Pt(R,{type:te,coupon:ue}={}){return!R.plans||te==="page"?"everyone":ue?"only_free":"only_paid"}function jt(R,te,ue){if(te==="thread")switch(R){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(R){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return ue?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function kt(R,te,ue,Te){return R!=null&&jt(te,ue,Te).includes(R)}function Oe(R,te,ue,Te){return kt(ue.default_write_comment_permissions,R,te,Te)?ue.default_write_comment_permissions:jt(R,te,Te)[0]}function be(R,te,ue){return te==="page"?!1:ue==="only_free"?!0:!!R.default_post_publish_send_email}function we(R,te,ue){return te&&te.interval==="forever"?0:Math.max(0,...[R.trial_end_override>Date.now()/1e3?R.trial_end_override:0,te&&te.trial_period_days&&Math.round((Date.now()+te.trial_period_days*24*60*60*1e3)/1e3),ue&&ue.trial_period_days&&Math.round((Date.now()+ue.trial_period_days*24*60*60*1e3)/1e3)].filter(Te=>Te))}function Ke(R,{prependSpace:te=!1}={}){return R?(te?" ":"")+R.trim().split(/\s+/g)[0]:""}function ht(R){return R?R.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}const vt=R=>Rt[new Date(R).getMonth()];function Ot(R,{noBreakSpace:te}={}){const ue=te?"\xA0":" ";let Te=[];if(R.length==1)Te=[R[0]];else if(R.length==2)Te=[R[0],`${ue}and${ue}`,R[1]];else if(R.length>=3)for(let Ue=0;Ue<R.length;Ue++)Te.push(R[Ue]),Ue<R.length-2?Te.push(`,${ue}`):Ue===R.length-2&&Te.push(`,${ue}and${ue}`);return Te.toString=()=>Te.join(""),Te}function It(R){const te=new Map;for(const ue of R){let Te=te.get(ue);Te=(Te||0)+1,te.set(ue,Te)}return Array.from(te).sort((ue,Te)=>Te[1]-ue[1])[0][0]}function Wt(R,te="en"){const{iString:ue}=I18N.i(te);return R.type==="thread"?ue("View thread"):R.type==="podcast"?ue("Listen"):ue("Read")}function Ut(R,{isFinalWord:te}={}){return R==="podcast"?`listening${te?"":" to"}`:R==="video"?"watching":"reading"}function un(R){return R==="newsletter"?"post":R==="podcast"?"episode":R==="adhoc_email"?"email":R}function nn(R){return`${$t(R.title||"Untitled post",115)}`}function dn(R){return R.publication_id===10475&&R.section_id===18994}function An(R,{isDraft:te=!1}={}){return R?((te?R.draftBylines:R.publishedBylines)||[]).filter(Te=>Te.name):[]}function zn(R,te,{isDraft:ue=!1}={}){const Te=An(te,{isDraft:ue});return Te.length>0?Dn(Te.map(Ue=>Ue.name).filter(Ue=>Ue!==null)):null}const _r=R=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R);function ar(R){return typeof R=="string"?f()(R)||0:typeof R=="number"?R:0}function In(R){const te=ue=>new RegExp(`^.*${ue}`);if(R){if(R.includes(u.Substitutions.CHECKOUT_URL))return R.replace(te(u.Substitutions.CHECKOUT_URL),"/subscribe?");if(R.includes(u.Substitutions.FOUNDING_CHECKOUT_URL))return R.replace(te(u.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(R.includes(u.Substitutions.REFERRAL_URL))return R.replace(te(u.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(R.includes(u.Substitutions.UNSUBSCRIBE_URL))return R.replace(te(u.Substitutions.UNSUBSCRIBE_URL),"/account?");if(R.includes(u.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return R.replace(te(u.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(R))return null}else return R;return R}function dr(R){const te=In(R);if(te){const ue=window.open(te,"_blank");ue!=null&&ue.focus&&ue.focus()}}function lr(R){if(!R)return!0;const te=document.location&&document.location.pathname||"";return["publish","account"].includes(te.split("/")[1])}function Sr(R,te=2){if(R===0)return"0 Bytes";const ue=1024,Te=te<0?0:te,Ue=Math.floor(Math.log(R)/Math.log(ue));return`${parseFloat((R/Math.pow(ue,Ue)).toFixed(Te))} ${M[Ue]}`}function Ir(R=""){if(!R)return 0;const[te,ue]=R.split(" "),Te=M.indexOf(ue);return Te<0?0:Number(te)*Math.pow(1024,Te)}function ro(R){return/Googlebot/i.test(R||"")?"Google":/bingbot/i.test(R||"")||/BingPreview/i.test(R||"")?"Bing":/Slurp/i.test(R||"")?"Yahoo":/DuckDuckBot/i.test(R||"")?"DDG":/Baiduspider/i.test(R||"")?"Baidu":!1}function co(R,te,ue,Te){return R.name?R.name:(ue&&ue.author_id===Te.id||te&&te.publishedBylines&&te.publishedBylines.find(Ue=>Ue.id===Te.id))&&R.email||"Someone"}function So(R,te){return R&&R.description||te.hero_text||`Get ${te.name} in your inbox`}const Bo=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],ko={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},Vo=Bo.flatMap(R=>R.pubs);function vi(R,te,ue){const Te=Bo.find(tt=>{var _t;return tt.pubs.includes(((_t=R==null?void 0:R.parent_publication)==null?void 0:_t.subdomain)||(R==null?void 0:R.subdomain))})||null,Ue=Te?S(S({},ko),Te):null;return Ue?ue(Ue):te()}function Vi(R,te){const ue=Bo.find(Ue=>{var tt;return Ue.pubs.includes(((tt=R==null?void 0:R.parent_publication)==null?void 0:tt.subdomain)||(R==null?void 0:R.subdomain))});let Te=ue&&ue[te];if(!Te&&(Te=ko[te],!Te))throw new Error(`${te} is not a valid subscription word`);return Te}function Ti(R){const te={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${R}`).map(ue=>te[ue]))}const Fo=R=>{var te,ue,Te;return(Te=(ue=(te=R==null?void 0:R.plans)==null?void 0:te.find(Ue=>{var tt;return(tt=Ue.metadata)==null?void 0:tt.founding}))==null?void 0:ue.metadata)==null?void 0:Te.short_description},ot=R=>`https://checkout.opennode.com/${R}`;function at(R=0){const te=R===0?0:Math.floor(Math.log(R)/Math.log(1024));return`${+(R/Math.pow(1024,te)).toPrecision(3)}${["B","KB","MB","GB","TB"][te]}`}function St(R){if(!R)return null;const te="Substack Network";if(Qt(R))return te;const ue={"blog.substack.com":te,"library.substack.com":te,"on.substack.com":te,"post-end-cta":"Post Footer CTA","stories.substack.com":te,"substack-app":te,"substack-boost":te,"substack-categories-discovery":te,"substack-categories-discovery-search":te,"substack-comment-links":te,"substack-cross-posts":te,"substack-facepiles":te,"substack-mentions":te,"substack-onboarding-discovery":te,"substack-post-embeds":te,"substack-post-reply-comment":te,"substack-presubscribe":te,"substack-publication-embeds":te,"substack-reader-discovery":te,"substack-reader-profile-discovery":te,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":`${te} \u2014 Your Weekly Stack`,"substack-recommendation-email":te,"substack-referral":te,"substack-signup-flow":te,"substack-subscriber-referral":te,"substack-twitter-link":te,"substack-twitter-suggest":te,"substack-xp-post-template":te,"substack-xp-read-next":te,"substack.com":te,"t.co":"Twitter","www.substack.com":te,external:"external form / api","googleads.g.doubleclick.net":"Google","score-upsell":"Boost upsell to engaged subscribers"}[R];return ue||(/(\b|\.)facebook\./.test(R)?"Facebook":/(\b|\.)instagram\./.test(R)?"Instagram":/(\b|\.)linkedin\./.test(R)?"LinkedIn":/(\b|\.)youtube\./.test(R)?"YouTube":/(\b|\.)duckduckgo\./.test(R)?"DuckDuckGo":/(\b|\.)medium\./.test(R)?"Medium":/(\b|\.)reddit\./.test(R)?"Reddit":/(\b|\.)bing\./.test(R)?"Bing":/(\b|\.)google\./.test(R)?"Google":R!=null&&R.includes(".")?R:Kt(R.replace(/-/g," ")))}function Qt(R){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(R)}const rn=R=>/^\S+@\S+\.\S+$/.test(R),vn=R=>(R||"").replace(/\s+/g," "),Cn={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function Ln(R){return R?R<3456e3?"monthly":R<8121600?"quarterly":R<16070400?"semiannual":R<3456e4?"annual":R>3888e3?"lifetime":"other":"free"}function $n(R){return R&&(R.homepage_type==="newspaper"||R.homepage_type==="magaziney")}const sr=35;function er(R,{isStatic:te}={}){let ue,Te;return R.width>=R.height*1.7777777777777777?(ue=te?550:960,Te=Math.round(ue*(R.height/R.width))):R.width>=R.height?(ue=te?550:728,Te=Math.round(ue*(R.height/R.width))):ue=Te=te?550:728,{height:Te,width:ue}}function Wr(R){const te=e(85928),ue=te(R);return te.utc([ue.year(),ue.month(),ue.date(),8,0,0]).toDate()}function Hr({now:R}={}){const te=e(85928),ue=R?te(R):te();let Te=ue.utc().startOf("day").add(5,"hour");return Te.isBefore(ue)&&(Te=Te.utc().add(1,"day")),Te}function xr(R){const te=Math.round(R/60),ue=Math.floor(te/60),Te=te%60;return`${ue?`${ue}HR `:""}${Te}M`}function Mr(R){const te=R.toLowerCase()[0];return["a","e","i","o","u"].includes(te)}function Pr(R){return R.toLowerCase().startsWith("uni watch")?"a":Mr(R)?"an":"a"}function Er(R){return`${Pr(R)} ${R}`}function pr(R){return R.split("").reduce((te,ue)=>(te<<5)-te+ue.charCodeAt(0)|0,0)}function Rr(R){return Math.abs(R)>9999?`${Math.sign(R)*(Math.abs(R)/1e3).toFixed(1)}K`:(Math.sign(R)*Math.abs(R)).toString()}function Vr({recommendedPubs:R}){let te=null;for(const ue of R){for(const Te of ue.recommendations)if(Te.hasOwnProperty("blurb")&&Te.blurb){te=`${Te.name} recommended ${ue.name}`;break}if(te)break}return te!=null?te:"Recommendations from your Substacks"}function V(R,te="en"){const{iString:ue}=I18N.i(te);return R.metadata.short_description?R.metadata.short_description:R.interval==="year"?ue("Annual"):R.interval==="forever"?ue("Founding Membership"):R.interval==="month"&&R.interval_count===3?ue("Quarterly"):R.interval==="month"&&R.interval_count===6?ue("Semiannually"):R.interval==="day"?ue("Daily"):R.interval==="week"?ue("Weekly"):ue("Monthly")}const $=({minLength:R,maxLength:te,minAlphaNumeric:ue}={})=>Te=>{if(!Te)return"Missing input";if(R&&Te.length<R)return`Must be at least ${R} characters long`;if(te&&Te.length>te)return`Must be at most ${te} characters long`;const Ue=new RegExp("\\P{P}|`","gu"),tt=Te.match(Ue);if(!tt||(tt==null?void 0:tt.length)<(ue!=null?ue:R))return`Must contain at least ${ue!=null?ue:R} non-punctuation characters`;const _t=["`"];let dt=0;return tt.forEach(Zt=>{_t.includes(Zt)&&(dt+=1)}),tt.length-dt<(ue!=null?ue:R)?`Must contain at least ${ue!=null?ue:R} non-punctuation characters`:null};function ee(R,te){const ue=process.env[R],Te=typeof ue!="undefined",Ue=typeof te!="undefined";if(Te)return ue;if(Ue)return te;throw new Error(`Missing required env var ${R}`)}},32542:z=>{"use strict";const l={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3"};z.exports=l},25597:(z,l,e)=>{"use strict";e.d(l,{Z:()=>v});var o=e(6400),f=e(13639),u=e(36377),c=e(11851);const v=({audience:E,className:y,size:p=16,isStatic:T,thin:O})=>E==="only_paid"?O?(0,o.h)(c.Z,{className:y,height:p,isStatic:T}):(0,o.h)(f.Z,{className:y,size:p}):E==="founding"?(0,o.h)(u.Z,{className:y,height:p,isStatic:T,strokeWidth:1}):null},45809:(z,l,e)=>{"use strict";e.d(l,{M:()=>u});var o=e(6400),f=e(28488);function u({array:c,limit:g,formatter:v=E=>E}){const E=c.map(v).filter(Boolean).slice(0,g),{iString:y,iPlural:p}=(0,f.M1)(),T=y("and");if(E.length===0)return p("one person","%1 people",c.length);if(E.length===1)return E[0];if(E.length===2)return(0,o.h)(o.Fragment,null,E[0]," ",T," ",E[1]);const O=E.slice(0,-1).map(S=>(0,o.h)(o.Fragment,null,S,", ")),I=c.length-E.length;return I>0?(0,o.h)(o.Fragment,null,O,p("and 1 other","and %1 others",I)):(0,o.h)(o.Fragment,null,O,T," ",E[E.length-1])}},85344:(z,l,e)=>{"use strict";e.d(l,{q:()=>T});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(51126),v=e(43887),E=e(11688),y=e(79786);const p={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"};function T({className:I,assets:S,readOnly:_,isRestack:d,isPreview:s,onClick:w,aspect:P}){let x=S;S.length>6&&(x=x.slice(0,5));const[M,N]=(0,f.eJ)(null),C=(A,k)=>{A.preventDefault(),N({index:k})};return(0,o.h)(g.hs,{className:c()(p.imageGroup,p[`size-${Math.min(S.length,6)}`],d&&p.restack,s&&p.preview,I),alignSelf:"stretch",gap:4},x.map((A,k)=>(0,o.h)(O,{key:A,asset:A,index:k,total:S.length,readOnly:_,aspect:P,onClick:_?void 0:L=>{L.preventDefault(),w&&w(),C(L,k)}})),S.length>6&&(0,o.h)(O,{asset:S[6],index:5,total:6,count:S.length-x.length,readOnly:_,onClick:w,aspect:P}),!_&&(0,o.h)(E.cr,{module:"./ImageViewerModal",resolve:A=>A.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:!!M,modalContent:S.map(A=>({attrs:{src:A}})),onClose:()=>{N(null)},step:M?M.index:void 0,includeDownloadButton:!1}))}function O({asset:I,onClick:S,index:_,total:d,count:s,readOnly:w,aspect:P}){return(0,o.h)(g.hs,{className:c()(p.image,!w&&p.clickable,_===0&&p.topLeft,(_===0&&d===1||_===1&&d===2||_===1&&d===4||_===2&&d!==4)&&p.topRight,(_===0&&d<=3||_===2&&d===4||_===3&&d>4)&&p.bottomLeft,(_+1===d||_==2&&d===5)&&p.bottomRight),flex:"grow",radius:6,onClick:S},(0,o.h)(y.e,{src:I,maxWidth:1e3,imageProps:{aspect:P||"1:1",smartCrop:!0,portraitCrop:d===1}}),s!=null&&(0,o.h)(g.hs,{className:p.imageCount,justifyContent:"center",alignItems:"center"},(0,o.h)(v.xv.H2,{color:"bg-light"},"+",s)))}},55661:(z,l,e)=>{"use strict";e.r(l),e.d(l,{ImageViewerContents:()=>w,ImageViewerModal:()=>s});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(2564),v=e(56743),E=e(71375),y=e(71212),p=e(15045),T=e(39419),O=e(92271),I=e(51126),S=e(62246),_=e(15822);const d={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function s({showModal:M,modalContent:N,onClose:C,step:A,includeDownloadButton:k=!0}){(0,f.d4)(()=>{M?(document.body.style.backgroundColor="black",document.body.style.transform="background-color 0.2s"):document.body.style.removeProperty("background-color")},[M]);const L=K=>{K.stopPropagation(),C()};return(0,o.h)(S.u_,{isOpen:M,onClose:C,position:"full",opacity:"dark",onEscape:L},(0,o.h)(w,{modalContent:N,onClose:C,stepDefault:A,includeDownloadButton:k}))}function w({modalContent:M=[],onClose:N,stepDefault:C,includeDownloadButton:A}){const[k,L]=(0,f.eJ)(C),[K,Z]=(0,f.eJ)(!0),J=(0,T.isMobileBrowser)(),q=re=>{re.currentTarget===re.target&&N()},[ne,F]=(0,f.eJ)(!1);(0,f.d4)(()=>{if(!J){let re;const se=Ee=>{const{key:ve}=Ee;["ArrowRight","ArrowDown"].includes(ve)?(ie(),Ee.stopPropagation()):["ArrowLeft","ArrowUp"].includes(ve)&&(W(),Ee.stopPropagation())},le=Ee=>{(Ee==null?void 0:Ee.type)==="keydown"&&se(Ee),clearTimeout(re),F(!1),re=setTimeout(()=>{F(!0)},2e3)};return window.addEventListener("pointermove",le,{capture:!0,passive:!0}),window.addEventListener("pointerdown",le,{capture:!0,passive:!0}),window.addEventListener("keydown",le,{capture:!0,passive:!0}),le(),()=>{clearTimeout(re),window.removeEventListener("pointermove",le,{capture:!0}),window.removeEventListener("pointerdown",le,{capture:!0}),window.removeEventListener("keydown",le,{capture:!0})}}},[J,k]);const W=()=>{k!==0&&(L(k-1),Z(!0))},ie=()=>{k!==M.length-1&&(L(k+1),Z(!0))},he=M[k],{attrs:{src:ye,alt:fe,title:ae}}=he,oe=J?8:16,G="#FFFFFF";return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:c()(d.chrome,ne&&d.inactive)},k<M.length-1&&(0,o.h)(P,{buttonFunction:ie,style:{right:0,padding:oe},isSidebar:!0,icon:(0,o.h)(g.Z,{size:20,strokeWidth:2,stroke:G})}),k>0&&(0,o.h)(P,{buttonFunction:W,style:{left:0,padding:oe},isSidebar:!0,icon:(0,o.h)(v.Z,{size:20,strokeWidth:2,stroke:G})}),(0,o.h)(P,{buttonFunction:N,style:{position:"absolute",right:oe,top:oe},isSidebar:!1,icon:(0,o.h)(E.Z,{size:20,strokeWidth:2,stroke:G})}),A&&(0,o.h)(P,{buttonFunction:re=>{re.stopPropagation(),x(ae,ye)},style:{position:"absolute",left:oe,top:oe},isSidebar:!1,icon:(0,o.h)(y.Z,{size:20,strokeWidth:2,stroke:G})})),(0,o.h)("div",{className:d.imgContainer,onClick:q},(0,o.h)("img",{className:c()(d.img,K&&d.isLoading),onLoad:()=>{Z(!1)},alt:fe,title:ae,src:(0,p.imginary)(ye,void 0,{quality:"auto:good"}),key:ye,onClick:q})),K&&(0,o.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,o.h)(_.S,{className:d.imgDrunkSpin})))}function P({buttonFunction:M,style:N,isSidebar:C,icon:A,tetherRef:k}){return(0,o.h)(I.hs,{className:c()(d.modalImageButtonContainer,C?d.modalImageSidebar:null),style:N,alignItems:"center",justifyContent:"center",onClick:M,ref:k},(0,o.h)(O.z,{className:d.modalImageButton,look:"circle"},A))}function x(M,N){const C=document.createElement("a");return document.body.appendChild(C),C.href=N,C.target="_blank",C.click(),document.body.removeChild(C),null}},35442:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Metadata:()=>I});var o=e(6400),f=e(53836),u=e.n(f),c=e(15045),g=e(63030),v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&T(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&T(_,s,d[s]);return _};function I({badge:_,title:d,socialTitle:s,searchDescription:w,description:P,themeColor:x,image:M,seoProps:N,isLargeImage:C=!1,imageWidth:A,imageHeight:k,isPodcast:L=!1,isVideo:K=!1,slug:Z,pub:J,post:q,siteName:ne,publishedTime:F,meta:W=[],siteConfigs:ie={}}){const he={meta:[...W,{property:"og:type",content:"article"}]};_&&(he.titleTemplate=`(${_}) %s`),d&&(he.title=d,he.meta.push({property:"og:title",content:s||d},{name:"twitter:title",content:s||d})),(P||w)&&he.meta.push({name:"description",content:w||P},{property:"og:description",content:P},{name:"twitter:description",content:P}),x&&he.meta.push({name:"theme-color",content:x});const ye=!!J&&J.invite_only,fe=!!q&&q.audience==="everyone",ae=!ye&&fe,oe=ae&&ie.twitter_player_card_enabled,G=(J==null?void 0:J.subdomain)&&S.includes(J.subdomain)&&ae;if(L&&J&&q){const re=(0,g.getPodcastEpisodeImageUrl)(J,q);re&&(M=(0,c.imginary)(re,1200,{height:600,smartCrop:!0,format:"jpg"}),C=!0)}if(M){let re="summary";C&&(re="summary_large_image"),(L&&oe||K&&G)&&(re="player"),he.meta.push({property:"og:image",content:M},{name:"twitter:image",content:M},{name:"twitter:card",content:re}),A&&he.meta.push({property:"og:image:width",content:A}),k&&he.meta.push({property:"og:image:height",content:k})}if(N){const re=Object.entries(N).filter(([se,le])=>le).map(([se])=>se).join(", ");re&&he.meta.push({name:"robots",content:re})}return J!=null&&J.explicit&&he.meta.push({name:"rating",content:"adult"}),L&&oe&&he.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)(J)}/embed/podcast/${Z}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),K&&G&&he.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)(J)}/embed/video/${Z}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),ne&&he.meta.push({property:"og:site_name",content:ne}),F&&he.meta.push({property:"og:published_time",content:F}),q&&J&&J.subdomain==="thirdcluster"&&he.meta.push({name:"apple-itunes-app",content:`app-id=1581650857, app-argument=${(0,c.getPostAppLinkUrl)(J.subdomain,q.slug)}`}),(0,o.h)(u(),O({},he))}const S=["pinespodcast","test1"]},74285:(z,l,e)=>{"use strict";e.d(l,{X:()=>g,h:()=>v});var o=e(6400),f=e(98661),u=e(30396);const c=(0,o.createContext)(null);function g({root:E,children:y}){const p=(0,u.sO)(E);return(0,o.h)(c.Provider,{value:p},y,!E&&(0,o.h)("div",{ref:p}))}function v({children:E}){const y=(0,u.qp)(c).current;return y?(0,f.createPortal)(E,y):null}},55489:(z,l,e)=>{"use strict";e.d(l,{s:()=>C});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(31131),v=e(28596),E=e(99869),y=e(82626),p=e(68227),T=e(17835),O=e(9e3),I=e(66839),S=e(56838),_=e(91004),d=e(3258),s=e(58884),w=e(39419),P=e(13045),x=e(28488);const M={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var N=(L,K,Z)=>new Promise((J,q)=>{var ne=ie=>{try{W(Z.next(ie))}catch(he){q(he)}},F=ie=>{try{W(Z.throw(ie))}catch(he){q(he)}},W=ie=>ie.done?J(ie.value):Promise.resolve(ie.value).then(ne,F);W((Z=Z.apply(L,K)).next())});function C({post:L,user:K,pub:Z,trigger:J,onChange:q,position:ne}){const{iString:F,iTemplate:W}=(0,x.M1)(),ie=(0,_.O1)(null,{post:L,pub:Z,user:K,useCustomDomainOverOpen:!0}),he=(0,_.B8)({post:L,pub:Z}),ye={title:he,url:ie},fe=(0,w.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(ye),[ae,oe]=(0,f.eJ)(fe),G=()=>N(this,null,function*(){var Ie;if((0,d.j)(d.FP.POST_SHARE_BUTTON_CLICKED,{position:ne}),fe&&ae)try{yield navigator.share(ye),(0,d.j)(d.FP.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(Ie=L.id)!=null?Ie:null,utm_campaign:"default"}),(0,s.ex)(`${Z.subdomain} shared`,!0);return}catch(_e){if(!(_e instanceof Error)||_e.name==="AbortError")return;oe(!1),(0,d.j)(d.FP.NATIVE_SHARE_FAILED,{errorName:_e.name,errorMessage:_e.message})}}),re=()=>{(0,_.Wn)({shareUrl:ie,shareName:he,pub:Z,post:L,utm_campaign:ne}),q==null||q()},se=()=>{(0,_.Po)({shareUrl:ie,pub:Z,post:L,utm_campaign:ne}),q==null||q()},le=()=>{(0,_.lc)({shareUrl:ie,pub:Z,post:L,utm_campaign:ne}),q==null||q()},Ee=()=>{(0,_.BZ)({shareUrl:ie,pub:Z,post:L,utm_campaign:ne}),q==null||q()},ve=()=>{(0,_.WZ)({shareUrl:ie,shareName:he,pub:Z,post:L,utm_campaign:ne}),q==null||q()},pe=()=>{(0,_.Ui)({shareUrl:ie,pub:Z,post:L,utm_campaign:ne}),q==null||q()};let me;if(A(J))me=J;else if(k(J)){let Ie;L.share_url_override?Ie=L.share_url_override:J.isStatic?L?Ie=y.Substitutions.SHARE_URL:Ie=y.Substitutions.SHARE_PUB_URL:Ie="javascript:void(0)";const _e=J.labelStyle==="none";me=(0,o.h)(S.Ng,{style:J.style,icon:_e?(0,o.h)(g.Z,{className:"icon",height:(0,S.Su)(J.style),strokeWidth:S.PA}):null,href:Ie,noLabel:J.labelStyle==="none",className:c()(!_e&&"no-icon")},J.labelStyle==="cta"&&F("Share"))}return(0,o.h)(P.v2,{trigger:me,onOpen:G,useMobileBottomSheet:!0,disableMenu:ae,layerOptions:{placement:ne==="pub-preview"?"bottom-start":"bottom-end",preferX:ne==="pub-preview"?"right":"left"},className:M.dropdownMenu},(0,o.h)(P.sN,{icon:(0,o.h)(O.Z,{height:24}),onClick:Ee},(0,o.h)(P.gq,{justifyContent:"space-between",alignItems:"center"},F("Share to Notes"),(0,o.h)(P.hs,{className:M.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,o.h)(P.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,o.h)(P.sN,{icon:(0,o.h)(I.Z,{height:24}),onClick:re},F("Share to Twitter")),(0,o.h)(P.sN,{icon:(0,o.h)(p.Z,{height:24}),onClick:se},F("Share to Facebook")),(0,o.h)(P.sN,{icon:(0,o.h)(T.Z,{height:24}),onClick:le},F("Share to Linkedin")),(0,o.h)("div",{className:M.divider}),(0,o.h)(P.sN,{icon:(0,o.h)(P.hs,{className:M.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,o.h)(v.Z,{className:M.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:ve},F("Send as email")),(0,o.h)(P.sN,{icon:(0,o.h)(P.hs,{className:M.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,o.h)(E.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:pe},F("Copy link")))}function A(L){return L.type!==void 0}function k(L){const K=L;return K.style!==void 0&&K.labelStyle!==void 0}},80332:(z,l,e)=>{"use strict";e.d(l,{Ct:()=>pe,L0:()=>ve,PP:()=>We});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(32224),v=e(77883),E=e(15045),y=e(20501),p=e(76193),T=e(83322),O=e(4190),I=e(58718),S=e(92643),_=e(67963),d=e(69518),s=e(60779),w=e(59386),P=e(3258),x=e(69229),M=e(84040),N=e(48960),C=e(51126),A=e(94016),k=e(43887),L=e(10186),K=e(55886),Z=e(68262),J=e(44695),q=e(45809),ne=e(56617),F=e(27797),W=Object.defineProperty,ie=Object.defineProperties,he=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,oe=(Je,ft,je)=>ft in Je?W(Je,ft,{enumerable:!0,configurable:!0,writable:!0,value:je}):Je[ft]=je,G=(Je,ft)=>{for(var je in ft||(ft={}))fe.call(ft,je)&&oe(Je,je,ft[je]);if(ye)for(var je of ye(ft))ae.call(ft,je)&&oe(Je,je,ft[je]);return Je},re=(Je,ft)=>ie(Je,he(ft)),se=(Je,ft)=>{var je={};for(var Rt in Je)fe.call(Je,Rt)&&ft.indexOf(Rt)<0&&(je[Rt]=Je[Rt]);if(Je!=null&&ye)for(var Rt of ye(Je))ft.indexOf(Rt)<0&&ae.call(Je,Rt)&&(je[Rt]=Je[Rt]);return je};const le=3,Ee=1;function ve(Je){return!!Je.id&&!!Je.name}function pe(Je){var ft=Je,{dontStopPropagation:je,inline:Rt,children:Jt}=ft,Ct=se(ft,["dontStopPropagation","inline","children"]);const Le=me(Ct);return(0,p.isMobile)()?(0,o.h)(o.Fragment,null,Jt):(0,o.h)("div",re(G(G({className:c()("profile-hover-card-target",F.Z.profileHoverCardTarget,Rt&&F.Z.inline,Ct.className&&Ct.className)},Le.triggerProps),Le.hoverProps),{onClick:He=>{je||He.stopPropagation()}}),Jt,Le.layer)}function me(Je){var ft=Je,{subject:je,utmSource:Rt,placement:Jt}=ft,Ct=se(ft,["subject","utmSource","placement"]);const{loading:Le,refetch:He,viewerProfile:it,subjectProfile:Ne}=(0,S.Un)({subjectId:(je==null?void 0:je.author_id)||(je==null?void 0:je.user_id)||(je==null?void 0:je.id),subjectName:(je==null?void 0:je.name)||"Substack user",delayLoading:!0}),Be=je&&it&&(je==null?void 0:je.id)===it.id,ze=je==null?void 0:je.id,lt=(0,f.I4)(()=>{var Ae;ze&&!Ne&&He(ze);const H=(((Ae=Ne==null?void 0:Ne.publicationUsers)==null?void 0:Ae.length)||0)>0;Ne&&(0,P.j)(P.FP.ACCOUNT_CARD_SHOWN,{profile_user_id:Ne.id,is_self:!!Be,has_publication:!!H})},[He,ze,Ne,Be]),et=(0,A.o)(G({className:F.Z.profileHoverCard,onOpen:lt,loading:Le&&!Ne,hideOnScroll:!0,layerOptions:{placement:Jt!=null?Jt:"right-center"},content:Ne?(0,o.h)(We,{profile:Ne,subject:je,utmSource:Rt,forceRefresh:()=>He(ze)}):null},Ct));return(0,p.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:et}const Ie="account-card";function _e(Je){let ft=[];Je&&Je.subscriptions&&(ft=(0,T.sortSubscriptions)(Je.subscriptions.filter(Rt=>!!Rt)));let je=null;return ft.length>le&&(je=`See all (${(0,T.numberToString)(ft.length)})`),ft=ft.slice(0,le),{subscriptions:ft,moreSubsLabel:je}}function de(Je){let ft=[];Je&&Je.publicationUsers&&(ft=Je.publicationUsers.filter(Rt=>!!Rt),ft=ft&&(0,x.b)(ft));let je=null;return ft.length>Ee&&(je=`See all (${(0,T.numberToString)(ft.length)})`),ft=ft.slice(0,Ee),{publications:ft,morePubsLabel:je}}function Re({pub:Je,isWrites:ft,isFounding:je,isPaid:Rt,utmSource:Jt}){const Ct=(0,E.getPubUrl)(Je,{params:{utm_source:Jt||Ie,utm_content:ft?"writes":"reads"},signedIn:!!(0,_.aF)()});return Je?(0,o.h)("a",{href:Ct,target:"_blank",onClick:()=>{(0,P.j)(ft?P.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED:P.FP.ACCOUNT_CARD_READS_LINK_CLICKED),(0,P.x6)(Je,"hover_profile")},className:F.Z.hoverCardAvatar,rel:"noopener"},(0,o.h)(Z.F,{pub:Je,size:32,badgeType:je?"founder":Rt?"subscribed":null}),(0,o.h)(k.xv.B4,{weight:"medium",title:Je.name},Je.name)):null}function ke({pub:Je,utmSource:ft}){const je=(0,E.getPubUrl)(Je,{params:{utm_source:ft||Ie,utm_content:"writes"},signedIn:!!(0,_.aF)()}),Rt=(0,T.getByLine)(Je);return(0,o.h)(C.tu,{as:"a",href:je,target:"_blank",onClick:()=>{(0,P.j)(P.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,P.x6)(Je,"hover_profile")},rel:"noopener",padding:12,gap:12,className:F.Z.writesCard,radius:12},(0,o.h)(C.gq,{gap:12},(0,o.h)(Z.F,{pub:Je,size:40}),(0,o.h)(C.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,o.h)(k.xv.B4,{weight:"semibold"},Je.name),Rt&&(0,o.h)(k.xv.B4,{color:"secondary"},"By ",Rt))),Je.hero_text&&(0,o.h)(k.xv.B4,{color:"secondary",clamp:3},Je.hero_text))}function Ve({subject:Je,subscriptions:ft,moreSubsLabel:je,utmSource:Rt}){return(0,o.h)(C.tu,null,(0,o.h)(J.GF,{sectionTitle:"Reads",seeAllLabel:je,link:xe(Je,{utmSource:Rt})}),(0,o.h)(C.tu,null,ft.map(Jt=>(0,o.h)(Re,{pub:Jt.publication,isPaid:Jt.membership_state==="subscribed",isFounding:Jt.is_founding,utmSource:Rt}))))}function Ge({publication:Je,utmSource:ft}){return Je?(0,o.h)(ke,{pub:Je,utmSource:ft}):null}function Qe({pub:Je,profileId:ft,isSubscribed:je,user:Rt,utmSource:Jt,forceRefreshCard:Ct}){const{getExperimentVariant:Le,exposeExperiment:He}=(0,O.jc)(),{isLoading:it,subscribe:Ne}=(0,v.G)({publication:Je,profileId:ft,source:Jt!=null?Jt:"profile-card",onSuccess:()=>{Ct()}}),Be=Je?(0,y.getSubscribeUrl)(Je,{user:Rt,addBase:!0,params:{utm_source:Jt||Ie,utm_content:"subscribes",next:document.location.href}}):"";return Je&&(je?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",href:Be,rounded:!0,onClick:()=>{(0,P.j)(P.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,P.x6)(Je,"hover_profile")},title:Je.name},"Subscribed"):Jt==="feed"&&Rt?(0,o.h)(o.Fragment,null,(0,o.h)(ne.Z,{onVisible:()=>{He("subscribe_icon"),(0,P.j)(P.FP.SUBSCRIBE_BUTTON_SHOWN,{source:"profile-card"})}}),(0,o.h)(M.zx,{priority:"primary",rounded:!0,onClick:ze=>{ze.preventDefault(),Ne()},title:Je.name,disabled:it},(0,o.h)(C.gq,{alignItems:"center",gap:8},Le("subscribe_icon")==="treatment"?(0,o.h)(g.Z,{size:20}):null,"Subscribe"))):(0,o.h)(o.Fragment,null,(0,o.h)(ne.Z,{onVisible:()=>{He("subscribe_icon"),(0,P.j)(P.FP.SUBSCRIBE_BUTTON_SHOWN,{source:"profile-card"})}}),(0,o.h)(M.zx,{priority:"primary",href:Be,localNavigation:!1,rounded:!0,onClick:()=>{(0,P.j)(P.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,P.x6)(Je,"hover_profile")},title:Je.name},(0,o.h)(C.gq,{alignItems:"center",gap:8},Le("subscribe_icon")==="treatment"?(0,o.h)(g.Z,{size:20}):null,"Subscribe"))))}function bt({profile:Je}){const{isFollowing:ft,buttonProps:je,css:Rt}=(0,I.yr)(Je,"hover-card");return(0,o.h)(M.hU,G({fill:"outline"},je),ft?(0,o.h)(o.Fragment,null,(0,o.h)(d.$,{className:Rt.off}),(0,o.h)(w.m,{className:Rt.on})):(0,o.h)(s.w,null))}function Ce({profile:Je}){const{isFollowing:ft,buttonProps:je}=(0,I.yr)(Je,"hover-card");return(0,o.h)(M.zx,G({fill:"outline",priority:"primary",rounded:!0},je),ft?(0,o.h)(o.Fragment,null,(0,o.h)(I.OK,null,"Following"),(0,o.h)(I.Rc,null,"Unfollow")):"Follow")}function We({profile:Je,subject:ft,themed:je,className:Rt,utmSource:Jt,hideSubscribeButtons:Ct,forceRefresh:Le}){var He,it;const Ne=(0,_.aF)();if(!Je)return null;const{subscriptions:Be,moreSubsLabel:ze}=_e(Je),{publications:lt}=de(Je),et=xe(ft,{utmSource:Jt}),Ae=(ft==null?void 0:ft.name)||"",H=Je.primaryPublication&&((He=Je.publicationUsers.find(ct=>{var ut;return ct.publication_id===((ut=Je==null?void 0:Je.primaryPublication)==null?void 0:ut.id)}))==null?void 0:He.publication),Q=ft&&ft.id===(Ne==null?void 0:Ne.id),ce=Q&&Je&&!Je.profile_set_up_at,Pe=lt.length>0&&!ce,Me=Be.length>0&&!ce&&!Pe,$e=(it=Je==null?void 0:Je.handle)!=null?it:null;return(0,o.h)("div",{className:c()(F.Z.card,Rt)},(0,o.h)(C.tu,{gap:16,padding:8},(0,o.h)(C.gq,{justifyContent:"space-between"},(0,o.h)("a",{href:et},(0,o.h)(L.qE,{user:Je,size:64})),ce?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,E.getProfileSetupUrl)({utm_source:Jt||Ie})},"Set up profile"):Q?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,E.getEditProfileUrl)()},"Edit profile"):Ct?null:(0,o.h)(C.hs,{gap:4},H?(0,o.h)(o.Fragment,null,(0,o.h)(bt,{profile:Je}),(0,o.h)(Qe,{pub:H,isSubscribed:Je.isSubscribed,user:Ne,profileId:Je.id,utmSource:Jt,forceRefreshCard:Le})):(0,o.h)(Ce,{profile:Je}))),(0,o.h)(C.tu,{gap:6},(0,o.h)(J.Sz,{themed:je,title:Ae,handle:$e,blurb:Je.bio,url:et,userId:ft.id,bestsellerTier:Je.bestseller_tier})),Pe&&(0,o.h)(Ge,{publication:H,utmSource:Jt}),Me&&(0,o.h)(o.Fragment,null,(0,o.h)(N.i,null),(0,o.h)(Ve,{subject:ft,subscriptions:Be,moreSubsLabel:ze,utmSource:Jt})),Je.mutuals&&(0,o.h)(rt,{mutuals:Je.mutuals,utmSource:Jt})))}function xe(Je,{utmSource:ft}={}){const je=typeof window!="undefined"&&window.location.href.startsWith((0,y.getSubstackUrl)());return(0,E.getReaderProfileUrl)(Je,{noBase:je,utm_source:ft||Ie})}function rt({mutuals:Je,utmSource:ft}){const{paidSubscribers:Jt,freeSubscribers:Ct,recommenders:Le}=Je;let He,it;Jt.length>0?(He="paid",it=Jt):Le.length>0?(He="recommended",it=Le):(He="free",it=Ct);const Ne=it.sort(Be=>Be.photo_url?1:-1);return Ne.length===0?null:(0,o.h)(C.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,o.h)(C.hs,{style:{paddingLeft:6}},Ne.slice(0,3).map(Be=>(0,o.h)(C.hs,{as:"a",key:Be.id,href:(0,E.getReaderProfileUrl)(Be,{utm_source:"profile-card"})},(0,o.h)(K.t,{className:F.Z.facepileFace,src:Be.photo_url||(0,E.getDefaultUserPhotoById)(Be.id),size:24})))),(0,o.h)(k.xv,{font:"text",color:"secondary",size:12},He==="recommended"&&"Recommended by ",(0,o.h)(q.M,{array:Ne,limit:3,formatter:Be=>(0,o.h)(k.hh,{href:xe(Be,{utmSource:ft})},Be.name)}),He==="paid"?it.length>1?" are paid subscribers":" is a paid subscriber":He==="free"&&(it.length>1?" subscribe":" subscribes"),"."))}},96098:(z,l,e)=>{"use strict";e.d(l,{h:()=>u});var o=e(6400),f=e(61864);function u({children:c}){return(0,o.h)("div",{className:f.Z.pubTheme},c)}},35291:(z,l,e)=>{"use strict";e.d(l,{p:()=>g});var o=e(6400),f=e(94184),u=e.n(f),c=e(1602);const g=({name:v,label:E,info:y,checked:p,disabled:T,onChange:O,isRow:I=!0,className:S})=>{const _=(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:u()("big-checkbox",{checked:p,disabled:T}),onClick:()=>!T&&(O==null?void 0:O(!p)),onKeyDown:d=>{d.key===" "&&(O==null||O(!p))},role:"checkbox","aria-checked":p,"aria-label":E||v,tabIndex:0},(0,o.h)(c.Z,{fill:"#ffffff"})));return(0,o.h)("label",{className:u()("big-checkbox-input",S,{"big-checkbox-input-row":I})},!I&&_,(0,o.h)("div",{onClick:()=>{(E||y)&&!T&&(O==null||O(!p))}},E,y&&(0,o.h)("div",{className:"info"},y)),I&&_,(0,o.h)("input",{type:"hidden",name:v,"data-testid":v,value:String(p)}))}},7922:(z,l,e)=>{"use strict";e.d(l,{Z:()=>P,k:()=>x});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=e(39419),v=e.n(g),E=Object.defineProperty,y=Object.defineProperties,p=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,S=(M,N,C)=>N in M?E(M,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):M[N]=C,_=(M,N)=>{for(var C in N||(N={}))O.call(N,C)&&S(M,C,N[C]);if(T)for(var C of T(N))I.call(N,C)&&S(M,C,N[C]);return M},d=(M,N)=>y(M,p(N)),s=(M,N)=>{var C={};for(var A in M)O.call(M,A)&&N.indexOf(A)<0&&(C[A]=M[A]);if(M!=null&&T)for(var A of T(M))N.indexOf(A)<0&&I.call(M,A)&&(C[A]=M[A]);return C};const P=M=>{var N=M,{children:C,className:A=void 0,disabled:k=void 0,loading:L=void 0,type:K="button",href:Z=void 0,localNavigation:J=!1,onClick:q=void 0,forwardedRef:ne=void 0,newTab:F=void 0}=N,W=s(N,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const ie=he=>{if(k||L){he&&he.preventDefault();return}q?q(he):Z?(0,g.redirect)(Z,{event:he,local_navigation:J,newTab:F}):K!=="submit"&&console.log("No onClick set!")};return(0,o.h)("button",d(_({tabIndex:0},W),{type:K,className:c()("button",A,{disabled:k}),disabled:k||L,onClick:ie,ref:ne}),L?"Please wait...":C)},x=(0,f.forwardRef)((M,N)=>{var C=M,{onClick:A,href:k,localNavigation:L,newTab:K}=C,Z=s(C,["onClick","href","localNavigation","newTab"]);const J=k?q=>{A&&(A.call(q.target,q),q.defaultPrevented)||(0,g.redirect)(k,{event:q,local_navigation:L,newTab:K})}:A;return(0,o.h)("button",d(_({tabIndex:0},Z),{ref:N,onClick:J}))})},22939:(z,l,e)=>{"use strict";e.d(l,{E:()=>f});var o=e(30396);function f(){const u=(0,o.sO)(null);return[u,()=>{var g;return(g=u.current)==null?void 0:g.toggle()}]}},43615:(z,l,e)=>{"use strict";e.d(l,{FF:()=>pe,Pn:()=>le,ZP:()=>re});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(71375),v=e(49770),E=e(58718),y=e(15045),p=e(83322),T=e(67963),O=e(62017),I=e(39419),S=e(84040),_=e(51126),d=e(62246),s=e(43887),w=e(10186),P=e(33510),x=e(44695);const M=40,N=.5*M,C=.2,A=2;function k(_e){return{width:(_e-1)*M*(1-C)+M+2*A,height:M+2*A}}function L({faces:_e}){const Re=_e.slice(0).reverse().map(({id:Ge,photo_url:Qe},bt)=>({id:Ge,photo_url:Qe||getDefaultUserPhotoById(Ge),x:(_e.length-bt-1)*(1-C)*M+A})),{width:ke,height:Ve}=k(_e.length);return h("svg",{version:"1.1",width:ke,height:Ve,viewBox:`0 0 ${ke} ${Ve}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,Re.map(({id:Ge,photo_url:Qe,x:bt})=>h("pattern",{id:`image-${Ge}`,x:bt,y:A,patternUnits:"userSpaceOnUse",height:M,width:M},h("image",{height:M,width:M,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:Qe})))),Re.map(({id:Ge,x:Qe})=>h("circle",{cx:Qe+N,cy:N+A,r:N,fill:`url(#image-${Ge})`,stroke:"#fff","stroke-width":A})))}var K=e(80332),Z=e(79786),J=e(30105);const q={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var ne=Object.defineProperty,F=Object.defineProperties,W=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,fe=(_e,de,Re)=>de in _e?ne(_e,de,{enumerable:!0,configurable:!0,writable:!0,value:Re}):_e[de]=Re,ae=(_e,de)=>{for(var Re in de||(de={}))he.call(de,Re)&&fe(_e,Re,de[Re]);if(ie)for(var Re of ie(de))ye.call(de,Re)&&fe(_e,Re,de[Re]);return _e},oe=(_e,de)=>F(_e,W(de)),G=(_e,de)=>{var Re={};for(var ke in _e)he.call(_e,ke)&&de.indexOf(ke)<0&&(Re[ke]=_e[ke]);if(_e!=null&&ie)for(var ke of ie(_e))de.indexOf(ke)<0&&ye.call(_e,ke)&&(Re[ke]=_e[ke]);return Re};function re(_e){var de=_e,{faces:Re,secondaryFaces:ke,maximum:Ve=5,pileLabel:Ge,modalLabel:Qe,secondaryLabel:bt,secondaryHref:Ce,enableModal:We,className:xe,totalCount:rt,detailUtmSource:Je,onDialogOpen:ft,showFaces:je=!0,showBlanks:Rt=!1,relativeLinks:Jt=!1}=de,Ct=G(de,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","showBlanks","relativeLinks"]);const[Le,He]=(0,f.eJ)(!1),[it,Ne]=(0,f.eJ)(!1),ze=Re.concat((ke==null?void 0:ke.filter(lt=>!Re.find(et=>et.id===lt.id)))||[]).filter(({photo_url:lt})=>Rt?!0:!!lt).slice(0,Ve);return(0,o.h)(_.hs,{alignItems:"center",gap:8,flex:"grow",className:c()("facepile",xe)},je&&(0,o.h)(se,oe(ae({},Ct),{className:xe,faces:ze,maximum:Ve,showBlanks:Rt,relativeLinks:Jt})),Ge&&(0,o.h)(ve,{label:Ge,clickable:!!(We&&Re.length),onClick:()=>{!We||!(Re!=null&&Re.length)||(He(!0),ft&&ft())}}),bt&&(0,o.h)(s.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),bt&&(0,o.h)(ve,{label:bt,clickable:!!(We&&(ke!=null&&ke.length)),href:Ce,onClick:Ce?void 0:()=>{!We||!(ke!=null&&ke.length)||(Ne(!0),ft&&ft())}}),Le&&(0,o.h)(pe,{isOpen:Le,modalLabel:Qe,faces:Re,totalCount:rt,onClose:()=>He(!1),utmSource:Je}),it&&ke&&(0,o.h)(pe,{isOpen:it,modalLabel:bt,faces:ke,totalCount:ke.length,onClose:()=>Ne(!1),utmSource:Je}))}function se({faces:_e,loading:de,className:Re,clickable:ke=!0,hoverProfiles:Ve,faceUtmSource:Ge,elevated:Qe,showBlanks:bt=!1,maximum:Ce=5,size:We=40,relativeLinks:xe=!1}){const rt=(0,I.isMobileBrowser)(),Je=_e.filter(({photo_url:ft})=>bt?!0:!!ft).slice(0,Ce);return(0,o.h)(_.hs,{alignItems:"center"},!de&&Je.length>0&&(0,o.h)(_.hs,{alignItems:"center",className:c()(q.faces,q[`size-${We}`],Re)},Je.map(({id:ft,name:je,photo_url:Rt,className:Jt,tooltipTitle:Ct,tooltipContent:Le,noLink:He},it)=>{const Ne=(0,y.getReaderProfileUrl)({id:ft,name:je},{utm_source:Ge,noBase:!!xe}),Be=(0,o.h)(Z.e,{className:c()("facepile-face",q.face,q[`size-${We}`],Jt,it===0&&q.first,it===Je.length-1&&q.last,Qe&&q.elevated),style:{zIndex:Je.length-it},maxWidth:We*2,src:(0,y.imginary)(Rt||(0,y.getDefaultUserPhotoById)(ft),64)});return He||!ke?Be:(0,o.h)(K.Ct,{disabled:!Ve||rt,key:ft,subject:{id:ft,name:je,photo_url:Rt},utmSource:Ge},(0,o.h)(J.L,{disabled:!Ct&&!Le,title:Ct,content:Le,className:"inverse bottom"},(0,o.h)(_.hs,{as:"a",flex:"auto",href:Ne,target:"_blank",rel:"noopener"},Be)))})),de&&(0,o.h)(Ee,{maximum:Ce,size:We}))}function le({pub:_e,post:de}){var Re;const ke=(0,y.imginary)(`${(0,y.getBaseUrl)(_e)}/p/${de.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:Ve,width:Ge}=k((Re=de==null?void 0:de.publishedBylines)==null?void 0:Re.length);return(0,o.h)("img",{src:ke,width:Ge,height:Ve})}function Ee({maximum:_e,size:de}){return(0,o.h)(_.hs,{gap:12},new Array(_e).fill(null).map(()=>(0,o.h)(P.Vm,{type:"circle",height:de,width:de})))}function ve({label:_e,clickable:de,href:Re,onClick:ke}){return(0,o.h)(s.xv.B4,null,(0,o.h)(O.hh,{className:de?q.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:de?"hover-underline":"none",onClick:ke,href:Re},_e))}function pe(_e){var de=_e,{isOpen:Re,onClose:ke}=de,Ve=G(de,["isOpen","onClose"]);return(0,o.h)(d.u_,{isOpen:!!Re,onClose:ke,width:500},(0,o.h)(me,ae({onClose:ke},Ve)))}function me({faces:_e,modalLabel:de,onClose:Re,openLinksInNewTab:ke,totalCount:Ve,utmSource:Ge}){const Qe=(Ve||0)-_e.length;return(0,o.h)(o.Fragment,null,(0,o.h)(_.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,o.h)(s.xv.H2,null," ",de),Re&&(0,o.h)(S.hU,{onClick:Re},(0,o.h)(g.Z,{height:20}))),(0,o.h)(_.tu,{overflowY:"auto",className:q.column},(0,o.h)(_.tu,{gap:4,padding:8,flex:"grow"},_e.map(bt=>(0,o.h)(Ie,{face:bt,openLinksInNewTab:ke,utmSource:Ge})),Qe>0&&(0,o.h)(_.hs,{gap:16,alignItems:"center",padding:8},(0,o.h)(_.hs,{className:q.avatarOther,alignItems:"center",justifyContent:"center"},(0,o.h)(v.Z,{className:q.avatarOtherIcon,size:20})),(0,o.h)(s.xv.B4,{color:"secondary"},"+",(0,p.pluralize)(Qe,"other reader"))))))}function Ie({face:_e,openLinksInNewTab:de,utmSource:Re}){const{id:ke,name:Ve,photo_url:Ge,primary_publication:Qe,writes:bt,className:Ce,noLink:We}=_e,xe=Re||"facepile-modal",rt=(0,y.getReaderProfileUrl)({id:ke,name:Ve},{utm_source:xe}),Je=(0,T.aF)(),ft=(0,E.Sv)(_e,xe);return(0,o.h)(_.hs,{key:ke,flex:"grow"},We?(0,o.h)(_.hs,{gap:16,padding:8,radius:12,className:q.row,alignItems:"center",flex:"grow"},(0,o.h)(w.BG,{user:_e,pub:Qe,size:40,className:Ce}),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(s.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(q.link,c()({"no-name":!(Ve||"").trim().length}))},Ve))):(0,o.h)(_.hs,ae({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:q.row,href:rt},de?{target:"_blank"}:{}),(0,o.h)(w.BG,{user:_e,pub:Qe,size:40,className:Ce}),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(K.Ct,{disabled:(0,I.isMobileBrowser)(),subject:{id:ke,name:Ve,photo_url:Ge},utmSource:xe,className:q.link},(0,o.h)(s.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(q.link,c()({"no-name":!(Ve||"").trim().length}))},Ve)),bt&&Qe&&(0,o.h)(x.Sm,{disabled:(0,I.isMobileBrowser)(),publication_id:Qe==null?void 0:Qe.id,className:q.link},(0,o.h)(s.xv.B4,{color:"secondary",decoration:"hover-underline",className:c()(q.link,{"no-name":!(Ve||"").trim().length})},bt))),Je&&Je.id!==ke&&(0,o.h)(S.zx,{fill:"empty",priority:ft.isFollowing?"secondary":"primary",className:q.button,onClick:je=>{je.preventDefault(),ft.toggle()}},ft.isFollowing?"Following":"Follow")))}},45634:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s)),I=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{name:w,children:P}=s,x=I(s,["name","children"]);return(0,o.h)(f.l,O(T({},x),{name:w,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),P)}},47819:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(45634),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.Z,O(T({},_),{name:"ActivationUsersIcon"}),(0,o.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}))},32127:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,o.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,o.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},1782:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,o.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,o.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s)),I=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{fill:w="#1C110B"}=s,P=I(s,["fill"]);return(0,o.h)(f.l,O(T({},P),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:w}}),(0,o.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},1602:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s)),I=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{fill:w}=s,P=I(s,["fill"]);return(0,o.h)(f.l,O(T({},P),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:w||"white"}}),(0,o.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:w||"white"}))}},26059:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,o.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},46595:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,o.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,o.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,o.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,o.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},78041:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}))},71765:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,o.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},36377:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,o.h)("circle",{cx:"3.93749",cy:"5.97916",r:"3.4375"}),(0,o.h)("path",{d:"M8.39583 9.49273C8.39583 11.3912 6.85681 12.9302 4.95833 12.9302C3.05985 12.9302 1.52083 11.3912 1.52083 9.49273C1.52083 7.59425 3.05985 6.05523 4.95833 6.05523C6.85681 6.05523 8.39583 7.59425 8.39583 9.49273Z"}),(0,o.h)("path",{d:"M12.4792 9.49273C12.4792 11.3912 10.9402 12.9302 9.04172 12.9302C7.14324 12.9302 5.60422 11.3912 5.60422 9.49273C5.60422 7.59425 7.14324 6.05523 9.04172 6.05523C10.9402 6.05523 12.4792 7.59425 12.4792 9.49273Z"}),(0,o.h)("circle",{cx:"6.99999",cy:"3.9375",r:"3.4375"}),(0,o.h)("circle",{cx:"10.0625",cy:"5.97916",r:"3.4375"}))},51889:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,o.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,o.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,o.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,o.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},24491:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("g",null,h("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),h("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}var u=null},48963:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const I=_=>h(SvgIcon,O(T({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99998 3.01998C4.80189 3.01998 3.01998 4.80189 3.01998 6.99998V17C3.01998 19.1981 4.80189 20.98 6.99998 20.98H17C19.1981 20.98 20.98 19.1981 20.98 17V6.99998C20.98 4.80189 19.1981 3.01998 17 3.01998H6.99998ZM0.97998 6.99998C0.97998 3.67523 3.67523 0.97998 6.99998 0.97998H17C20.3247 0.97998 23.02 3.67523 23.02 6.99998V17C23.02 20.3247 20.3247 23.02 17 23.02H6.99998C3.67523 23.02 0.97998 20.3247 0.97998 17V6.99998Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4982 8.89054C11.8532 8.7949 11.1944 8.90507 10.6157 9.20538C10.0369 9.50569 9.56756 9.98085 9.27441 10.5633C8.98126 11.1457 8.87922 11.8057 8.98281 12.4495C9.0864 13.0933 9.39034 13.688 9.85141 14.149C10.3125 14.6101 10.9072 14.9141 11.5509 15.0176C12.1947 15.1212 12.8547 15.0192 13.4372 14.726C14.0196 14.4329 14.4948 13.9635 14.7951 13.3848C15.0954 12.806 15.2056 12.1473 15.1099 11.5023C15.0123 10.8444 14.7058 10.2353 14.2355 9.76498C13.7652 9.29468 13.1561 8.9881 12.4982 8.89054ZM9.78664 7.60766C10.7015 7.13297 11.7427 6.95883 12.7622 7.11001C13.8021 7.26422 14.7649 7.74881 15.5083 8.49219C16.2516 9.23557 16.7362 10.1983 16.8904 11.2383C17.0416 12.2578 16.8675 13.299 16.3928 14.2138C15.9181 15.1286 15.167 15.8705 14.2464 16.3339C13.3258 16.7972 12.2825 16.9585 11.265 16.7948C10.2474 16.631 9.30739 16.1506 8.57861 15.4218C7.84984 14.6931 7.36941 13.753 7.20567 12.7355C7.04193 11.7179 7.20322 10.6746 7.66659 9.75402C8.12996 8.83341 8.87181 8.08235 9.78664 7.60766Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6 6.5001C16.6 6.00304 17.0029 5.6001 17.5 5.6001H17.51C18.007 5.6001 18.41 6.00304 18.41 6.5001C18.41 6.99715 18.007 7.4001 17.51 7.4001H17.5C17.0029 7.4001 16.6 6.99715 16.6 6.5001Z"}));var S=null},64484:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,o.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,o.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,o.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},53668:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const I=_=>h(SvgIcon,O(T({},_),{name:"LinkedinIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.35951 21.3538V8.96983H2.24333V21.3538H6.35951V21.3538ZM4.3014 7.27902C5.7368 7.27902 6.63021 6.32807 6.63021 5.13966C6.60346 3.9245 5.7368 2.99994 4.32863 2.99994C2.92061 2.99994 2 3.9245 2 5.13966C2 6.32807 2.89322 7.27902 4.27457 7.27902H4.30132H4.3014Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.63708 21.3538H12.7532V14.4381C12.7532 14.0679 12.78 13.6982 12.8887 13.4336C13.1862 12.6941 13.8635 11.9282 15.0006 11.9282C16.4901 11.9282 17.0859 13.0639 17.0859 14.7286V21.3538H21.2017V14.253C21.2017 10.4492 19.171 8.67924 16.4629 8.67924C14.2423 8.67924 13.2675 9.92041 12.7259 10.7658H12.7533V8.96983H8.6372C8.69121 10.1319 8.6372 21.3538 8.6372 21.3538H8.63708Z"}));var S=null},11851:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s)),I=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{color:w="#262626"}=s,P=I(s,["color"]);return(0,o.h)(f.l,O(T({},P),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,o.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:w}),(0,o.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:w,stroke:w}))}},965:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(66298),u=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&T(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&T(d,w,s[w]);return d},I=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(u.l,I(O({},d),{name:"LucideArrowUpRight",svgParams:{height:24,width:24}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},15440:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(13808),u=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&T(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&T(d,w,s[w]);return d},I=(d,s)=>g(d,v(s));function S(d){return(0,o.h)(u.l,I(O({},d),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))}const _=S},63295:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(7617),u=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&T(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&T(d,w,s[w]);return d},I=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(u.l,I(O({},d),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},12650:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(8618),u=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&T(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&T(d,w,s[w]);return d},I=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(u.l,I(O({},d),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},19698:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"LucideMute",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}))},43498:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(4675),u=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&T(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&T(d,w,s[w]);return d},I=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(u.l,I(O({},d),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},11628:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":_.strokeWidth,fill:_.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},49542:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(31131),u=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&T(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&T(d,w,s[w]);return d},I=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(u.l,I(O({},d),{name:"LucideShare2",svgParams:{height:24,width:24}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},73416:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:_.fill,stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:_.fill,stroke:"none"}))},31517:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},29820:(z,l,e)=>{"use strict";e.d(l,{Z:()=>y});var o=e(6400),f=Object.defineProperty,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(p,T,O)=>T in p?f(p,T,{enumerable:!0,configurable:!0,writable:!0,value:O}):p[T]=O,E=(p,T)=>{for(var O in T||(T={}))c.call(T,O)&&v(p,O,T[O]);if(u)for(var O of u(T))g.call(T,O)&&v(p,O,T[O]);return p};function y(p){return(0,o.h)("svg",E({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},p),(0,o.h)("g",{transform:"translate(0, -2)"},(0,o.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,o.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},11762:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,o.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,o.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,o.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,o.h)("g",null,(0,o.h)("g",null,(0,o.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},40353:(z,l,e)=>{"use strict";e.d(l,{Z:()=>d});var o=e(6400),f=e(83322),u=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,O=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&T(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&T(s,P,w[P]);return s},I=(s,w)=>g(s,v(w)),S=(s,w)=>{var P={};for(var x in s)y.call(s,x)&&w.indexOf(x)<0&&(P[x]=s[x]);if(s!=null&&E)for(var x of E(s))w.indexOf(x)<0&&p.call(s,x)&&(P[x]=s[x]);return P};function _(s){var w=s,{fill:P="#FF6719"}=w,x=S(w,["fill"]);const M=(0,f.colorLuma)(P)>.6?"black":"white";return(0,o.h)(u.l,I(O({},x),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:P,stroke:"none"}),(0,o.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:M,stroke:"none"}),(0,o.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:M,stroke:"none"}),(0,o.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:M,stroke:"none"}))}const d=_},64234:(z,l,e)=>{"use strict";e.d(l,{A:()=>c});var o=e(6400);const f="#FF6719";var u=e(34755);function c({className:v,type:E,accentColor:y}){return(0,o.h)(u.l,{name:"ReaderBadgeIcon",className:v,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,o.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,o.h)("circle",{cx:"11",cy:"11",r:"9",fill:y||f}),E==="subscribed"?(0,o.h)(o.Fragment,null,(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,o.h)(o.Fragment,null,(0,o.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,o.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,o.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,o.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,o.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const g=null},7370:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(I,S,_)=>S in I?u(I,S,{enumerable:!0,configurable:!0,writable:!0,value:_}):I[S]=_,y=(I,S)=>{for(var _ in S||(S={}))g.call(S,_)&&E(I,_,S[_]);if(c)for(var _ of c(S))v.call(S,_)&&E(I,_,S[_]);return I},p=(I,S)=>{var _={};for(var d in I)g.call(I,d)&&S.indexOf(d)<0&&(_[d]=I[d]);if(I!=null&&c)for(var d of c(I))S.indexOf(d)<0&&v.call(I,d)&&(_[d]=I[d]);return _};function T(I){var S=p(I,[]);return(0,o.h)(f.l,y({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},S),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const O=T},85362:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(I,S,_)=>S in I?u(I,S,{enumerable:!0,configurable:!0,writable:!0,value:_}):I[S]=_,y=(I,S)=>{for(var _ in S||(S={}))g.call(S,_)&&E(I,_,S[_]);if(c)for(var _ of c(S))v.call(S,_)&&E(I,_,S[_]);return I},p=(I,S)=>{var _={};for(var d in I)g.call(I,d)&&S.indexOf(d)<0&&(_[d]=I[d]);if(I!=null&&c)for(var d of c(I))S.indexOf(d)<0&&v.call(I,d)&&(_[d]=I[d]);return _};function T(I){var S=p(I,[]);return(0,o.h)(f.l,y({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},S),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_24306_47333"},(0,o.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const O=T},65665:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,o.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,o.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,o.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},26523:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(O,I,S)=>I in O?u(O,I,{enumerable:!0,configurable:!0,writable:!0,value:S}):O[I]=S,y=(O,I)=>{for(var S in I||(I={}))g.call(I,S)&&E(O,S,I[S]);if(c)for(var S of c(I))v.call(I,S)&&E(O,S,I[S]);return O};const p=O=>h(SvgIcon,y({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},O),h("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));var T=null},7775:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,o.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,o.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325807"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},17835:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,o.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,o.h)("stop",{"stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,o.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,o.h)("clipPath",{id:"clip0_23936_14598"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325810"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},33705:(z,l,e)=>{"use strict";e.d(l,{Z:()=>s});var o=e(6400),f=e(89018),u=e.n(f),c=e(34755),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(w,P,x)=>P in w?g(w,P,{enumerable:!0,configurable:!0,writable:!0,value:x}):w[P]=x,I=(w,P)=>{for(var x in P||(P={}))p.call(P,x)&&O(w,x,P[x]);if(y)for(var x of y(P))T.call(P,x)&&O(w,x,P[x]);return w},S=(w,P)=>v(w,E(P)),_=(w,P)=>{var x={};for(var M in w)p.call(w,M)&&P.indexOf(M)<0&&(x[M]=w[M]);if(w!=null&&y)for(var M of y(w))P.indexOf(M)<0&&T.call(w,M)&&(x[M]=w[M]);return x};const s=w=>{var P=w,{color:x=f.substack_color}=P,M=_(P,["color"]);return(0,o.h)(c.l,S(I({},M),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:x,stroke:"none"}}),(0,o.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,o.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,o.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,o.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,o.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,o.h)("path",{d:"M16 0H0V2H16V0Z"}))},1138:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s)),I=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{stroke:w,size:P=36}=s,x=I(s,["stroke","size"]);return(0,o.h)(f.l,O(T({},x),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:P,width:P,fill:"none"}}),(0,o.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:w||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:w||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},96733:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const I=_=>h(SvgIcon,O(T({},_),{name:"TikTokSimpleIcon",svgParams:{height:24,width:24}}),h("path",{d:"M18.7113 6.09867C18.5721 6.02672 18.4366 5.94785 18.3053 5.86234C17.9234 5.60988 17.5733 5.31241 17.2624 4.97633C16.4847 4.08645 16.1942 3.18367 16.0872 2.5516H16.0915C16.0022 2.02695 16.0391 1.6875 16.0447 1.6875H12.5024V15.3851C12.5024 15.569 12.5024 15.7507 12.4946 15.9304C12.4946 15.9527 12.4925 15.9733 12.4912 15.9974C12.4912 16.0073 12.4912 16.0176 12.489 16.0279C12.489 16.0305 12.489 16.033 12.489 16.0356C12.4517 16.5271 12.2942 17.0019 12.0303 17.4181C11.7664 17.8344 11.4042 18.1795 10.9757 18.423C10.529 18.6771 10.0239 18.8104 9.51002 18.8097C7.85959 18.8097 6.52197 17.4639 6.52197 15.8019C6.52197 14.1398 7.85959 12.7941 9.51002 12.7941C9.82244 12.7938 10.1329 12.8429 10.43 12.9397L10.4343 9.33293C9.53252 9.21645 8.61641 9.28811 7.74373 9.54341C6.87106 9.7987 6.06076 10.2321 5.36396 10.8162C4.75341 11.3467 4.24011 11.9797 3.84717 12.6866C3.69764 12.9445 3.13346 13.9804 3.06514 15.6618C3.02217 16.6161 3.30877 17.6048 3.44541 18.0135V18.0221C3.53135 18.2627 3.86435 19.0838 4.40705 19.7761C4.84466 20.3313 5.36168 20.8191 5.94146 21.2237V21.2151L5.95006 21.2237C7.66494 22.389 9.56631 22.3125 9.56631 22.3125C9.89545 22.2992 10.998 22.3125 12.2501 21.7191C13.6389 21.0613 14.4295 20.0811 14.4295 20.0811C14.9346 19.4955 15.3362 18.8281 15.6172 18.1076C15.9377 17.265 16.0447 16.2543 16.0447 15.8504V8.58355C16.0877 8.60934 16.66 8.98789 16.66 8.98789C16.66 8.98789 17.4846 9.51641 18.7711 9.86059C19.694 10.1055 20.9376 10.1571 20.9376 10.1571V6.64051C20.5019 6.68777 19.6171 6.55027 18.7113 6.09867Z"}));var S=null},59736:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))},95950:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,o.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},51736:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s)),I=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{fill:w="#FF6719"}=s,P=I(s,["fill"]);return(0,o.h)(f.l,O(T({},P),{fill:w,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:w,stroke:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const S=_=>(0,o.h)(f.l,O(T({},_),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},81243:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s)),I=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{strokeWidth:w=1.5}=s,P=I(s,["strokeWidth"]);return(0,o.h)(f.l,O(T({},P),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),(0,o.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":w,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":w,"stroke-linecap":"round","stroke-linejoin":"round"}))}},63861:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?u(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>c(_,g(d));const I=_=>h(SvgIcon,O(T({},_),{name:"YoutubeIcon",svgParams:{height:24,width:24}}),h("path",{d:"M21.582 6.07467C21.352 5.21467 20.674 4.53667 19.814 4.30667C18.254 3.88867 12 3.88867 12 3.88867C12 3.88867 5.746 3.88867 4.186 4.30667C3.326 4.53667 2.648 5.21467 2.418 6.07467C2 7.63467 2 11.8887 2 11.8887C2 11.8887 2 16.1427 2.418 17.7027C2.648 18.5627 3.326 19.2407 4.186 19.4707C5.746 19.8887 12 19.8887 12 19.8887C12 19.8887 18.254 19.8887 19.814 19.4707C20.675 19.2407 21.352 18.5627 21.582 17.7027C22 16.1427 22 11.8887 22 11.8887C22 11.8887 22 7.63467 21.582 6.07467ZM10 15.3527V8.42467L16 11.8887L10 15.3527Z"}));var S=null},34755:(z,l,e)=>{"use strict";e.d(l,{l:()=>O});var o=e(6400),f=e(15045),u=e(89867),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(I,S,_)=>S in I?c(I,S,{enumerable:!0,configurable:!0,writable:!0,value:_}):I[S]=_,p=(I,S)=>{for(var _ in S||(S={}))v.call(S,_)&&y(I,_,S[_]);if(g)for(var _ of g(S))E.call(S,_)&&y(I,_,S[_]);return I},T=(I,S)=>{var _={};for(var d in I)v.call(I,d)&&S.indexOf(d)<0&&(_[d]=I[d]);if(I!=null&&g)for(var d of g(I))S.indexOf(d)<0&&E.call(I,d)&&(_[d]=I[d]);return _};const O=I=>{var S=I,{name:_,svgParams:d,isStatic:s,height:w,fill:P,stroke:x,version:M=4,strokeWidth:N=1.8,strokeLinecap:C,strokeLinejoin:A,alt:k,additionalStaticParams:L={},children:K}=S,Z=T(S,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const J=w?(d.width||1)*w/(d.height||1):d.width||1,q=w||d.height||1;return s?(0,o.h)(u.Z,p(p({src:(0,f.imginary)((0,f.pathWithQuery)(`/icon/${_}`,{v:M||4,height:q*2,fill:P,stroke:x,strokeWidth:N*2,strokeLinecap:C,strokeLinejoin:A}),J*2,{format:"png",crop:"scale"}),width:J,height:q,style:{maxWidth:`${J}px`},alt:k||""},L),Z)):(0,o.h)("svg",p({role:"img",style:w?{height:`${q}px`,width:`${J}px`}:void 0,width:J,height:q,viewBox:d.viewBox||`0 0 ${d.width} ${d.height}`,fill:P||d.fill||"none",strokeWidth:N||typeof N=="number"?Number(N):typeof d.strokeWidth=="number"?d.strokeWidth:1,stroke:x||d.stroke||"#000",strokeLinecap:C,strokeLinejoin:A,xmlns:"http://www.w3.org/2000/svg"},Z),(0,o.h)("g",null,(0,o.h)("title",null,k||""),K))}},11862:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}var u=null},91704:(z,l,e)=>{"use strict";e.d(l,{HA:()=>I});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?u(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>c(d,g(s));function I(d){return(0,o.h)("svg",T({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},d),(0,o.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function S(d){return h(SvgIcon,O(T({},d),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),h("circle",{cx:"11",cy:"11",r:"11",fill:"#1DA1F2"}),h("g",{transform:"translate(5 5)"},h("path",{fill:"#ffffff",d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}var _=null},38199:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}var u=null},56790:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}var u=null},49786:(z,l,e)=>{"use strict";e.d(l,{hF:()=>F,_q:()=>q,xt:()=>ne,G0:()=>Z,RH:()=>J});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(36808),v=e(69427),E=e(85928),y=e.n(E),p=e(20501),T=e(83322),O=e(63270),I=e(3258),S=e(36868),_=e(39419),d=e(84040),s=e(51126),w=e(62246),P=e(43887);const x={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var M=Object.defineProperty,N=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,k=(W,ie,he)=>ie in W?M(W,ie,{enumerable:!0,configurable:!0,writable:!0,value:he}):W[ie]=he,L=(W,ie)=>{for(var he in ie||(ie={}))C.call(ie,he)&&k(W,he,ie[he]);if(N)for(var he of N(ie))A.call(ie,he)&&k(W,he,ie[he]);return W};const K="like_upsell_last_shown_at",Z=()=>{const W=g.get(K);if(W){const ie=y()(W),he=y()().subtract(30,"days");if(ie.isAfter(he))return!1}return!0},J=W=>{g.set(K,y()().format(),L({expires:365*10},!W.custom_domain&&{domain:`.${new URL((0,p.getBaseUrl)()).hostname}`}))},q=({pub:W})=>{var ie,he;const ye=(0,O.xR)(),[fe,ae]=(0,f.eJ)((ie=W==null?void 0:W.plans)==null?void 0:ie[0]),oe=ye.getConfigFor("disable_monthly_subscriptions");return(0,o.h)(s.tu,{gap:20},(0,o.h)(s.tu,{gap:4},(0,o.h)(P.xv.H4,{weight:"semibold"},"Support ",W.name),(0,o.h)(P.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",W.name," with a subscription?")),(0,o.h)("form",{className:x.form},(0,o.h)(s.tu,{gap:12},(he=W==null?void 0:W.plans)==null?void 0:he.map(G=>{if(!(G.interval==="month"&&oe))return(0,o.h)("label",{className:x.label,key:G.id},(0,o.h)(s.gq,{gap:12,alignItems:"center"},(0,o.h)("input",{name:"plan",type:"radio",value:G.id,onInput:()=>ae(G),checked:fe&&fe.id===G.id,className:c()({[x.selectedInput]:fe&&fe.id===G.id},x.input)}),(0,o.h)(s.gq,{gap:8},(0,o.h)(P.xv.B4,{as:"span",weight:"semibold",color:fe&&fe.id===G.id?"primary":"secondary"},(0,T.getPlanTitle)(G,W.language)),(0,o.h)(P.xv.B4,{as:"span",color:"secondary"},(0,T.planBasePricing)(G)))))}))),(0,o.h)(d.zx,{onClick:()=>{(0,I.j)(I.FP.LIKE_UPSELL_PLAN_SELECTED),(0,_.redirect)((0,p.getSubscribeUrl)(W,{params:L({utm_source:"like-button-upsell"},fe&&{selectedPlanId:fe.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},ne=({pub:W,onClose:ie,shareDialogRef:he})=>(0,o.h)(s.tu,{gap:20},(0,o.h)(s.tu,{gap:4},(0,o.h)(P.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,o.h)(P.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,o.h)(d.zx,{onClick:()=>{var ye;(0,I.j)(I.FP.LIKE_UPSELL_SHARE_CLICKED),(ye=he.current)==null||ye.open(),ie==null||ie()},grow:!0,priority:"primary-theme"},"Share")),F=({user:W,pub:ie,post:he})=>{const ye=(0,f.sO)(),fe=Z(),[ae,oe]=(0,f.eJ)(fe),[G,re]=(0,f.eJ)(fe);(0,f.d4)(()=>{(!fe||W!=null&&W.is_contributor||W!=null&&W.is_admin)&&(0,_.removeQueryParam)("show_reaction_upsell")},[fe,W]),(0,f.d4)(()=>{G&&ae&&((0,I.j)(I.FP.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,S.P)(W,ie)?"share":"paid"}),J(ie))},[G,ae,ie,W]);const se=()=>{oe(!ae),re(!1),(0,_.removeQueryParam)("show_reaction_upsell")};return W&&!W.is_contributor&&!W.is_admin&&G?(0,o.h)(o.Fragment,null,(0,o.h)(w.u_,{isOpen:ae,onClose:se},(0,o.h)(w.fe,null,(0,S.P)(W,ie)?(0,o.h)(ne,{pub:ie,onClose:se,shareDialogRef:ye}):(0,o.h)(q,{pub:ie}))),(0,o.h)(v.ZP,{ref:ye,user:W,pub:ie,post:he})):null}},65726:(z,l,e)=>{"use strict";e.d(l,{Z:()=>T});var o=e(6400),f=Object.defineProperty,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(O,I,S)=>I in O?f(O,I,{enumerable:!0,configurable:!0,writable:!0,value:S}):O[I]=S,E=(O,I)=>{for(var S in I||(I={}))c.call(I,S)&&v(O,S,I[S]);if(u)for(var S of u(I))g.call(I,S)&&v(O,S,I[S]);return O},y=(O,I)=>{var S={};for(var _ in O)c.call(O,_)&&I.indexOf(_)<0&&(S[_]=O[_]);if(O!=null&&u)for(var _ of u(O))I.indexOf(_)<0&&g.call(O,_)&&(S[_]=O[_]);return S};const T=O=>{var I=O,{children:S,href:_,onClick:d}=I,s=y(I,["children","href","onClick"]);return(0,o.h)("a",E(E({role:"button",tabIndex:0,href:_!=null?_:"javascript:void(0)"},d&&{onClick:w=>{w.stopPropagation(),d(w)}}),s),S)}},86602:(z,l,e)=>{"use strict";e.r(l),e.d(l,{chatMentionsSearch:()=>k,default:()=>M,mentionsSearch:()=>C});var o=e(6400),f=e(80569),u=e.n(f),c=e(20501),g=e(92643),v=e(44695),E=e(80332);const y={mention:"frontend-components-mention-module__mention--UisMf"};var p=Object.defineProperty,T=Object.defineProperties,O=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(L,K,Z)=>K in L?p(L,K,{enumerable:!0,configurable:!0,writable:!0,value:Z}):L[K]=Z,s=(L,K)=>{for(var Z in K||(K={}))S.call(K,Z)&&d(L,Z,K[Z]);if(I)for(var Z of I(K))_.call(K,Z)&&d(L,Z,K[Z]);return L},w=(L,K)=>T(L,O(K)),P=(L,K,Z)=>new Promise((J,q)=>{var ne=ie=>{try{W(Z.next(ie))}catch(he){q(he)}},F=ie=>{try{W(Z.throw(ie))}catch(he){q(he)}},W=ie=>ie.done?J(ie.value):Promise.resolve(ie.value).then(ne,F);W((Z=Z.apply(L,K)).next())});const M=({id:L,type:K,name:Z,url:J,photo_url:q,uuid:ne,mentionText:F,isStatic:W=!1,isEditorContext:ie=!1})=>{if(W)return(0,o.h)("span",{className:y.mention,"data-component-name":"MentionStatic"},(0,o.h)("a",{href:(0,c.getMentionsUrl)(K,L,Z,J)},Z||"Substack user"));if(K==="user"){const he={id:L,name:Z||"Substack user",photo_url:q};return(0,o.h)(g.am,null,(0,o.h)(E.Ct,{subject:he,utmSource:"mention"},(0,o.h)("a",{className:y.mention,href:ie?void 0:(0,c.getMentionsUrl)(K,L,Z,J),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:Z,id:L,type:K,url:J,photo_url:q,uuid:ne}),onClick:ye=>ye.stopPropagation(),"data-component-name":"MentionUser"},F!=null?F:Z)))}return K==="pub"?(0,o.h)(v.Sm,{publication_id:L,utmSource:"mention"},(0,o.h)("a",{className:y.mention,href:J,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:Z,id:L,type:K,url:ie?void 0:(0,c.getMentionsUrl)(K,L,Z,J),uuid:ne}),onClick:he=>he.stopPropagation(),"data-component-name":"MentionPub"},F!=null?F:Z)):(0,o.h)("a",{className:y.mention,target:"_blank",rel:"noopener",href:(0,c.getMentionsUrl)(K,L,Z,J),"data-attrs":JSON.stringify({name:Z,id:L,type:K,url:J,photo_url:q,uuid:ne}),"data-component-name":"Mention"},F!=null?F:Z)},N={},C=(L,...K)=>P(void 0,[L,...K],function*(Z,{pathname:J="/api/v1/posts/mention"}={}){if(N[Z])return N[Z];const q=yield u().get(J).query({query:Z}),{profiles:ne,publications:F}=q.body,W=new Map;return ne&&ne.length&&W.set("Writers",ne.map(ie=>w(s({},ie),{type:"user"}))),F&&F.length&&W.set("Publications",F==null?void 0:F.map(ie=>w(s({},ie),{type:"pub",url:(0,c.getPublicationAppLinkUrl)({subdomain:ie.subdomain}),photo_url:ie.logo_url}))),N[Z]=W,W}),A={},k=(L,...K)=>P(void 0,[L,...K],function*(Z,{pathname:J="/api/v1/community/mention"}={}){const q=`${J}-${Z}`;if(A[q])return A[q];const ne=yield u().get(J).query({query:Z}),{results:F}=ne.body,W=new Map;return F&&W.set("Writers",F.map(ie=>w(s({},ie),{type:"user",id:ie.user_id}))),A[q]=W,W})},56838:(z,l,e)=>{"use strict";e.d(l,{Cz:()=>no,Er:()=>fo,F6:()=>so,L9:()=>Oo,Mp:()=>vo,Ng:()=>Ur,PA:()=>Me,RY:()=>Co,Su:()=>Pe,TJ:()=>sn,_2:()=>ct,c1:()=>Un,fh:()=>go,mt:()=>Nt,pD:()=>kr,sV:()=>Nn,vk:()=>Ft,yT:()=>on,z5:()=>_o});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),g=e.n(c),v=e(12297),E=e.n(v),y=e(23493),p=e.n(y),T=e(80587),O=e(77951),I=e(95951),S=e(65207),_=e(13808),d=e(18794),s=e(8618),w=e(31131),P=e(67358),x=e(80569),M=e.n(x),N=e(965),C=e(55489),A=e(69427),k=e(82626),L=e(85928),K=e.n(L),Z=e(6385),J=e(91613),q=e(15045),ne=e(20501),F=e(83322),W=e(2405),ie=e(28488),he=e(85065),ye=e(32076),fe=e(63270),ae=e(18597),oe=e(18492),G=e(3258),re=e(8479),se=e(35225),le=e(36868),Ee=e(39419),ve=e.n(Ee),pe=e(84040),me=e(51126),Ie=e(76235),_e=e(62246),de=e(43887),Re=e(75425),ke=e(16742),Ve=e(25597),Ge=e(19826),Qe=e(47819),bt=e(15440),Ce=e(63295),We=e(12650),xe=e(43498),rt=e(11628),Je=e(49542),ft=e(31517),je=e(11762),Rt=e(49786),Jt=e(50615),Ct=e(80332),Le=e(31533),He=e(49715),it=Object.defineProperty,Ne=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,Ae=(Tt,Lt,Yt)=>Lt in Tt?it(Tt,Lt,{enumerable:!0,configurable:!0,writable:!0,value:Yt}):Tt[Lt]=Yt,H=(Tt,Lt)=>{for(var Yt in Lt||(Lt={}))lt.call(Lt,Yt)&&Ae(Tt,Yt,Lt[Yt]);if(ze)for(var Yt of ze(Lt))et.call(Lt,Yt)&&Ae(Tt,Yt,Lt[Yt]);return Tt},Q=(Tt,Lt)=>Ne(Tt,Be(Lt)),ce=(Tt,Lt,Yt)=>new Promise((ln,hn)=>{var Dn=Jn=>{try{Mn(Yt.next(Jn))}catch(pt){hn(pt)}},an=Jn=>{try{Mn(Yt.throw(Jn))}catch(pt){hn(pt)}},Mn=Jn=>Jn.done?ln(Jn.value):Promise.resolve(Jn.value).then(Dn,an);Mn((Yt=Yt.apply(Tt,Lt)).next())});function Pe(Tt,Lt){return Tt==="button"&&Lt==="verbose"?16:Tt==="button"?20:Tt==="tabs"?24:Tt==="compressed"?16:0}const Me=2,$e=({isFullWidth:Tt,children:Lt})=>Tt?(0,o.h)(me.gq,{className:"post-ufi-button-wrapper",gap:8},Lt):Lt;function ct({post:Tt,pub:Lt,user:Yt,style:ln,justified:hn,isStatic:Dn,hideReactions:an,hideComments:Mn,hideShare:Jn,hideSavePost:pt,useShareLabel:Mt,allowEdit:Kt,editButtonIsLast:qt,onChange:mn,addedPodcastComments:En,hidePinning:wn,showEmailSent:Hn,allowSendEmail:wr,footerHidden:zr,onCommentsClick:$r,labelStyle:Or,showPreamble:Gr,preambleConfig:yo={},position:Yo,hideByDisabling:Mo,showRestackButton:po,showRestackModal:Jo,hideFeedRestackButton:ho}){const Eo=(0,ae.Tf)(),{showPins:Si,showAudience:ni,showDate:si,showDatetime:fi,showAuthor:oi,showPublicationName:ii,showCrossPostedPublicationName:Di}=yo;an=an||!Lt.community_enabled||!Tt.slug||Tt.is_draft;const Mi=E()(Object.values((Tt==null?void 0:Tt.reactions)||{})),pi=Hn?!!Tt.email_sent_at:null,hi=(0,W.LC)(),mi=Kt&&(Yt==null?void 0:Yt.is_contributor)&&!hi,Xo=ut({post:Tt,pub:Lt,user:Yt,defaultOpen:po&&Jo&&Yo!=="post-footer"&&Yo!=="post-footer-full-width"}),Ao=Yt&&(0,o.h)(ao,{style:ln,pub:Lt,post:Tt,user:Yt,hidePinning:wn,emailSent:pi!=null?pi:void 0,allowSendEmail:wr,footerHidden:zr,canBeCrossPosted:po}),li=!ho&&Lt.community_enabled&&Tt.slug&&!Tt.is_draft,ui=po&&!Gr&&(Mo||an&&Mn&&Jn&&!mi),ci=Or==="counts-or-none"&&Mi?"count":Or==="labels"?"cta":"none",nt=Or==="counts-or-none"&&Tt.comment_count?"count":Or==="labels"?"cta":"none",Ze=Yo==="post-footer-full-width";return(0,o.h)("div",{className:g()("post-ufi",`style-${ln}`,{justified:hn,themed:Eo,"single-full-width-button":ui})},(0,o.h)($e,{isFullWidth:Ze},Gr&&yo&&(0,o.h)(Zo,{pub:Lt,post:Tt,showPins:Si,showAudience:ni,showDate:si,showDatetime:fi,showEmailSent:Hn,showAuthor:oi,showPublicationName:ii,showCrossPostedPublicationName:Di}),mi&&!qt&&Ao,(Mo||!an)&&(0,o.h)(Vt,{post:Tt,pub:Lt,user:Yt,labelStyle:Mo&&an?"none":ci,style:ln,onChange:mn,isStatic:Dn,isDisabled:Mo&&an}),(Mo||!Mn)&&(0,o.h)(jr,{post:Tt,pub:Lt,isStatic:Dn,labelStyle:Mo&&Mn?"none":nt,style:ln,count:Tt.comment_count+(En||0),onClick:$r,isDisabled:Mo&&Mn}),li&&Yt&&(0,o.h)(Tr,{pub:Lt,post:Tt,onChange:mn,style:ln}),!Jn&&(0,o.h)(C.s,{post:Tt,pub:Lt,user:Yt,trigger:{style:ln,labelStyle:Mt?"cta":"none",isStatic:Dn},position:Yo})),(0,o.h)($e,{isFullWidth:Ze},!pt&&!po&&Yt&&(0,o.h)(Dr,{post:Tt,labelStyle:nt,style:ln,onChange:mn}),mi&&qt&&Ao,po&&!mi&&Yo==="post-header"&&(0,o.h)(o.Fragment,null,(0,o.h)(Ie.v2,{trigger:(0,o.h)(pe.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,o.h)(T.Z,{size:20}))},Yt&&(0,o.h)(to,{onClick:Xo.open,post:Tt,pub:Lt,user:Yt}),(0,o.h)(Fr,{post:Tt,onChange:mn}))),po&&!mi&&Ze&&(0,o.h)(o.Fragment,null,!pt&&(0,o.h)(Dr,{post:Tt,labelStyle:"verbose",style:"button",onChange:mn}),Yt&&(0,o.h)(uo,{onClick:Xo.open,post:Tt,pub:Lt,user:Yt,style:"button"}))),Xo.modal)}function ut({pub:Tt,user:Lt,post:Yt,defaultOpen:ln=!1}){const[hn,Dn]=(0,u.eJ)(ln);return(0,u.d4)(()=>{ln&&Lt&&(0,G.j)(G.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Tt.id,restacked_post_id:Yt.id,restacking_user_id:Lt.id,is_from_email:!0})},[ln,Tt,Yt,Lt]),{open:()=>Dn(!0),modal:(0,o.h)(He.J,{pub:Tt,user:Lt,post:Yt,open:hn,setOpen:Dn})}}function Et(){const Lt=typeof window=="undefined",Yt=250,[ln,hn]=(0,u.eJ)(Lt?0:window.pageYOffset),[Dn,an]=(0,u.eJ)(!1),Mn=100,Jn=(0,u.Ye)(()=>Date.now()+1e3,[]),pt=(0,u.sO)(0);return(0,u.d4)(()=>{if(Lt)return;const Mt=p()(()=>{const Kt=Date.now(),qt=(Kt-pt.current)/1e3,En=(ln-window.pageYOffset)/qt;pt.current=Kt,!(window.pageYOffset<0)&&(Kt<Jn?an(!1):-En>Mn?an(!0):En>Mn&&an(!1),hn(window.pageYOffset))},Yt);return window.addEventListener("scroll",Mt),()=>window.removeEventListener("scroll",Mt)},[Lt,ln,hn,an,Jn,pt,!1]),Dn}function Nt({post:Tt,pub:Lt,user:Yt,isStatic:ln,onChange:hn,allowEdit:Dn,hidePinning:an,showEmailSent:Mn,allowSendEmail:Jn,hideComments:pt,onCommentsClick:Mt,showRestackButton:Kt,showRestackModal:qt,setFooterShown:mn}){const En=Et(),wn=(0,Re.pm)();return(0,u.d4)(()=>{wn.addOffset(64*(En?1:-1)),mn&&mn(!En)},[En,mn]),(0,o.h)(me.hs,{alignItems:"center",padding:8,className:g()("mobile-footer-ufi",{hidden:En})},(0,o.h)(ct,{post:Tt,pub:Lt,user:Yt,isStatic:ln,justified:!0,style:"tabs",onChange:hn,allowEdit:Dn,editButtonIsLast:!0,hidePinning:an,showEmailSent:Mn,allowSendEmail:Jn,footerHidden:En,labelStyle:"counts-or-none",hideComments:pt,onCommentsClick:Mt,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:qt,showRestackButton:Kt}))}function $t({post:Tt,pub:Lt,user:Yt,surface:ln,onChange:hn,subscribePromptRef:Dn}){const an=!!(Tt!=null&&Tt.reaction),Mn=(0,W.LC)(),Jn=(0,re.ib)({pathname:Mn?`/api/v1/cross-post/${Tt==null?void 0:Tt.id}/reaction`:`/api/v1/post/${Tt==null?void 0:Tt.id}/reaction`,method:"POST",deps:[Tt==null?void 0:Tt.id]}),pt=(0,se.S)({user:Yt,noBase:!1});return{isLiked:an,toggle:()=>ce(this,null,function*(){var Mt;if(Jn.isLoading)return"error";an||!pt()&&Yt&&!Yt.is_admin&&!Yt.is_contributor&&(Dn!=null&&Dn.current)&&(0,Rt.G0)()&&((0,G.j)(G.FP.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:Yt!=null&&Yt.is_free_subscribed?(0,le.P)(Yt,Lt)?"share":"paid":"free"}),Dn.current.open(),(0,Rt.RH)(Lt));const{reaction:Kt,reactions:qt,reactor_names:mn}=(0,Le.fS)(Yt,Tt);Tt.reaction=Kt,Tt.reactions=qt,Tt.reactor_names=mn,hn==null||hn({post:Tt});const En=yield Jn.refetch(Kt?{method:"POST",json:{reaction:"\u2764",surface:ln}}:{method:"DELETE"}),wn=(Mt=En==null?void 0:En.response)==null?void 0:Mt.status;if(wn){const{reaction:Hn,reactions:wr,reactor_names:zr}=(0,Le.fS)(Yt,Tt);Tt.reaction=Hn,Tt.reactions=wr,Tt.reactor_names=zr,hn==null||hn({post:Tt})}return wn===401?"unauthorized":wn?"error":Kt?"liked":"unliked"})}}function Nn(){const Tt=gr();return(Yt,ln,...hn)=>ce(this,[Yt,ln,...hn],function*(Dn,an,{tabId:Mn}={}){yield(0,re.rd)(`/api/v1/post/${Dn}/reaction`,an?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:Mn}}:{method:"DELETE",json:{tabId:Mn}}),Tt(an)})}function Vt({post:Tt,pub:Lt,user:Yt,style:ln,labelStyle:hn,onChange:Dn,isStatic:an,isDisabled:Mn}){const Jn=E()(Object.values((Tt==null?void 0:Tt.reactions)||{})),pt=hn==="count"?(0,F.numberToString)(Jn||0):hn==="cta"?"Like":null;return(0,o.h)(Dt,{post:Tt,pub:Lt,user:Yt,onChange:Dn,isStatic:an,style:ln},({isLiked:Mt,handleLike:Kt})=>(0,o.h)(Ur,{style:ln,state:Mt?"liked":void 0,icon:(0,o.h)(We.Z,{className:"icon",height:Pe(ln),strokeWidth:Me}),onClick:Mn?()=>{}:Kt,noLabel:hn==="none",isDisabled:Mn},pt))}function rr({style:Tt,onClick:Lt}){return(0,o.h)(Ur,{style:Tt,state:void 0,icon:(0,o.h)(O.Z,{className:"icon",height:Pe(Tt),strokeWidth:Me}),"aria-label":"menu",onClick:Lt})}function Tr({pub:Tt,post:Lt,onChange:Yt,style:ln}){const{canRestack:hn,isRestacked:Dn,restacks:an,menuItems:Mn,nuxModal:Jn}=(0,ke.K)({pub:Tt,post:Lt,onRestack:Kt=>{Yt==null||Yt({post:Q(H({},Lt),{restacked:Kt,restacks:an+(Kt?1:-1)})})}});if(!hn)return null;const pt=!Tt.community_enabled,Mt=(0,o.h)(Ur,{style:ln,state:Dn?"restacked":void 0,icon:(0,o.h)(ft.Z,{className:"icon",height:Pe(ln),strokeWidth:Me}),noLabel:an===0,"aria-label":"menu",isDisabled:pt},an.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,o.h)(o.Fragment,null,Jn,pt?Mt:(0,o.h)(Ie.v2,{trigger:Mt},Mn))}function cr({postId:Tt,isOpen:Lt,onClose:Yt}){const ln=(0,fe.xR)(),[hn,Dn]=(0,u.eJ)(),an=ln.getConfigFor("enable_post_summarization")==!0,Mn=(0,u.sO)(!1),Jn=(0,u.I4)(()=>{Mn.current=!0,M().post(`/api/v1/posts/${Tt}/summary`).then(pt=>{var Mt;(Mt=pt.body)!=null&&Mt.summary&&Dn(pt.body.summary)}).finally(()=>{Mn.current=!1})},[Tt]);return(0,u.d4)(()=>{Lt&&an&&!hn&&!Mn.current&&Jn()},[Lt,Jn,an,hn]),an?(0,o.h)(_e.u_,{isOpen:Lt,onClose:Yt,width:750},(0,o.h)(_e.xB,{includeClose:!0,title:"Reader guide",onClose:Yt}),(0,o.h)(me.tu,{padding:16,paddingBottom:32},hn?(0,o.h)("div",{dangerouslySetInnerHTML:{__html:hn}}):(0,o.h)(me.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,o.h)("div",{className:"embed-loader"})))):null}function Lr({post:Tt,pub:Lt,user:Yt,onChange:ln,showRestackModal:hn,canBeCrossPosted:Dn,onSummaryOpen:an}){const Mn="button",pt=(0,fe.xR)().getConfigFor("enable_post_summarization")==!0,Mt=ut({pub:Lt,user:Yt,post:Tt,defaultOpen:hn&&Dn}),Kt=()=>{Mt.open(),(0,G.j)(G.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Lt.id,restacked_post_id:Tt.id,restacking_user_id:Yt.id,is_from_email:!1})};return(0,o.h)(o.Fragment,null,(0,o.h)(Ie.v2,{trigger:(0,o.h)(Ur,{style:Mn,icon:(0,o.h)(T.Z,{className:"icon edit-icon",size:Pe(Mn),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},Yt&&(0,o.h)(Fr,{post:Tt,onChange:ln,showIcon:!0}),pt&&(0,o.h)(Ie.sN,{icon:(0,o.h)(I.Z,{height:24,strokeWidth:2}),onClick:an},"Reader guide"),Dn&&(0,o.h)(Ie.sN,{icon:(0,o.h)(xe.Z,null),onClick:Kt},"Cross post"),Yt&&(0,o.h)(Ie.sN,{icon:(0,o.h)(S.Z,null),href:(0,ne.getReaderPostUrl)(Tt.id)},"Substack Reader")),Mt.modal)}function Br(Tt){var Lt;const Yt=E()(Object.values(((Lt=Tt.post)==null?void 0:Lt.reactions)||{}));return(0,o.h)(Vt,Q(H({},Tt),{labelStyle:Yt>0?"count":"none"}))}const Cr=({pub:Tt,user:Lt})=>{const[Yt,ln]=(0,u.eJ)(Lt==null?void 0:Lt.email),[hn,Dn]=(0,u.eJ)(!1),{iString:an}=(0,ie.M1)();return(0,o.h)(me.tu,{gap:20},(0,o.h)(me.tu,{gap:4},(0,o.h)(de.xv.H4,{translated:!0,weight:"semibold"},"Support ",I18N.p(Tt.name)),(0,o.h)(de.xv.B4,{translated:!0,color:"secondary"},"Since you liked this post, why not subscribe?")),(0,o.h)(me.tu,{gap:12},(0,o.h)("input",{disabled:!!(Lt!=null&&Lt.email),value:Yt,onChange:Mn=>ln(Mn.currentTarget.value)}),(0,o.h)(pe.zx,{onClick:()=>ce(void 0,null,function*(){(0,G.j)(G.FP.LIKE_UPSELL_FREE_SUBSCRIBED,{email:Yt}),Dn(!0);try{const Mn=yield M().post("/api/v1/free").send({email:Yt,source:"like-button-upsell"}),{referral_token:Jn}=Mn.body;(0,Ee.redirect)((0,ne.getSubscribeUrl)(Tt,{params:{utm_source:"like-button-upsell",just_signed_up:!0,referral_token:Jn}}),{local_navigation:!1})}catch(Mn){alert((0,Ee.getNetworkErrorMessage)(Mn))}}),grow:!0,disabled:hn,priority:"primary-theme"},an(hn?"Please wait...":"Subscribe"))))};function Dt({post:Tt,pub:Lt,user:Yt,onChange:ln,isStatic:hn,children:Dn,style:an}){const Mn=(0,u.sO)(),Jn=(0,u.sO)(),{isLiked:pt,toggle:Mt}=$t({post:Tt,pub:Lt,user:Yt,subscribePromptRef:Mn,onChange:ln}),Kt=(0,u.sO)(),[qt,mn]=(0,u.eJ)(!1),En=(0,u.I4)(wn=>ce(this,null,function*(){var Hn;(Hn=wn==null?void 0:wn.stopPropagation)==null||Hn.call(wn),(yield Mt())==="unauthorized"&&mn(!0)}),[Mt]);return(0,u.d4)(()=>{!(Kt!=null&&Kt.current)||!qt||Kt.current.open()},[qt]),(0,o.h)("div",{className:g()("like-button-container","post-ufi-button",`style-${an}`,pt&&"state-liked")},Dn({isLiked:pt,handleLike:En}),!hn&&qt&&(0,o.h)(Le.oq,{modalRef:Kt,user:Yt,pub:Lt,onClose:()=>mn(!1),react:Mt}),Yt&&!Yt.is_admin&&!Yt.is_contributor&&(an==="button"||an==="tabs")&&(0,o.h)(Ge.Fx,{ref:Mn,className:g()("subscribe-prompt-dropdown",!(Yt!=null&&Yt.is_free_subscribed)&&"free"),hideMenuTail:!0},Yt!=null&&Yt.is_free_subscribed?(0,le.P)(Yt,Lt)?(0,o.h)(Rt.xt,{pub:Lt,onClose:()=>{var wn;return(wn=Mn.current)==null?void 0:wn.close()},shareDialogRef:Jn}):(0,o.h)(Rt._q,{pub:Lt}):(0,o.h)(Cr,{pub:Lt,user:Yt})),!hn&&(0,o.h)(A.ZP,{ref:Jn,user:Yt,pub:Lt,post:Tt}))}function Ft({post:Tt,defaultSaved:Lt,isSaved:Yt,trackSurface:ln}){var hn;return zt({postId:Tt.id,defaultSaved:(hn=Lt!=null?Lt:Tt.is_saved)!=null?hn:!1,isSaved:Yt,trackSurface:ln})}function zt({postId:Tt,defaultSaved:Lt,isSaved:Yt,trackSurface:ln}){const[hn,Dn]=(0,u.eJ)(Lt),an=Yt!=null?Yt:hn,{refetch:Mn,isLoading:Jn,error:pt}=(0,re.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:Tt},deps:[Tt]}),Mt=(0,he.yH)(),Kt=Un();return{isSaved:an,onSave:()=>(Jn||(Mn({method:an?"DELETE":"POST"}).then(()=>{Mt.refetch()}),Dn(!an),Kt(!an),(0,G.j)(G.FP.POST_SAVED,{post_id:Tt,surface:ln})),!an)}}function sn(Tt,Lt,Yt){return ce(this,arguments,function*(ln,hn,{surface:Dn}){yield(0,re.rd)("/api/v1/posts/saved",{method:hn?"POST":"DELETE",json:{post_id:ln}}),(0,G.j)(G.FP.POST_SAVED,{post_id:ln,surface:Dn,is_saved:hn})})}function Un(){const Tt=(0,Re.pm)(),{iString:Lt}=(0,ie.M1)();return Yt=>{Yt?Tt.popToast(ln=>(0,o.h)(Re.FN,Q(H({},ln),{text:Lt("Post saved"),Icon:_.Z,cta:Lt("View"),href:(0,q.getSavedPostsUrl)()}))):Tt.popToast(ln=>(0,o.h)(Re.FN,Q(H({},ln),{text:Lt("Post unsaved"),Icon:d.Z})))}}function gr(){const Tt=(0,Re.pm)(),{iString:Lt}=(0,ie.M1)();return Yt=>{Yt?Tt.popToast(ln=>(0,o.h)(Re.FN,Q(H({},ln),{text:Lt("Post liked"),Icon:s.Z}))):Tt.popToast(ln=>(0,o.h)(Re.FN,Q(H({},ln),{text:Lt("Post unliked"),Icon:s.Z})))}}function Dr({style:Tt,post:Lt,isSaved:Yt,labelStyle:ln,onChange:hn}){const{isSaved:Dn,onSave:an}=Ft({defaultSaved:Yt,post:Lt,isSaved:Lt.is_saved}),{iString:Mn}=(0,ie.M1)(),Jn=()=>{const pt=an();hn({post:Q(H({},Lt),{is_saved:pt})})};return(0,o.h)(Ur,{state:Dn?"saved":void 0,style:Tt,icon:(0,o.h)(bt.Z,{className:"icon",height:Pe(Tt,ln==="verbose"?"verbose":null),strokeWidth:Me}),noLabel:ln==="none",verboseLabel:ln==="verbose",onClick:Jn},ln==="cta"||ln==="verbose"?Mn("Save"):null)}function Fr({post:Tt,isSaved:Lt,onChange:Yt,showIcon:ln}){const{onSave:hn}=Ft({defaultSaved:Lt,post:Tt,isSaved:Tt.is_saved}),{iString:Dn}=(0,ie.M1)(),an=()=>{const Jn=hn();Yt({post:Q(H({},Tt),{is_saved:Jn})})},Mn=Tt.is_saved?"var(--color-accent-substack)":void 0;return(0,o.h)(Ie.sN,{icon:ln?(0,o.h)(_.Z,{style:{stroke:Mn,fill:Mn}}):void 0,onClick:an},Tt.is_saved?Dn("Unsave"):Dn("Save"))}function jr({style:Tt,count:Lt,labelStyle:Yt,post:ln,pub:hn,isStatic:Dn,onClick:an,isDisabled:Mn}){const{iString:Jn}=(0,ie.M1)();let pt;return ln!=null&&ln.comment_url_override?pt=ln.comment_url_override:Dn?pt=`${k.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:hn&&(pt=(0,q.getPostUrl)(hn,ln,{comments:!0})),(0,o.h)(Ur,{style:Tt,icon:(0,o.h)(Ce.Z,{className:"icon",height:Pe(Tt),strokeWidth:Me}),href:Mn?null:pt,onClick:Mn?()=>{}:Mt=>{an?an(Mt):(Mt==null||Mt.preventDefault(),window.location.href=pt)},noLabel:Yt==="none",className:"post-ufi-comment-button",isDisabled:Mn},Yt==="cta"&&Jn("Comment"),Yt==="count"&&(0,F.numberToString)(Lt||0))}function kr({post:Tt,user:Lt,pub:Yt,style:ln,labelStyle:hn,isStatic:Dn,onChange:an,position:Mn}){const Jn=(0,u.sO)(),pt=(0,u.I4)(()=>{(0,G.j)(G.FP.POST_SHARE_BUTTON_CLICKED,{position:Mn}),Jn.current.open()},[]),{iString:Mt}=(0,ie.M1)();let Kt;Tt.share_url_override?Kt=Tt.share_url_override:Dn?Tt?Kt=k.Substitutions.SHARE_URL:Kt=k.Substitutions.SHARE_PUB_URL:Kt="javascript:void(0)";const qt=hn==="none";return(0,o.h)(o.Fragment,null,(0,o.h)(Ur,{style:ln,icon:qt?(0,o.h)(w.Z,{className:"icon",height:Pe(ln),strokeWidth:Me}):null,onClick:pt,href:Kt,noLabel:hn==="none",className:g()(!qt&&"no-icon")},hn==="cta"&&Mt("Share")),!Dn&&(0,o.h)(A.ZP,{ref:Jn,user:Lt,pub:Yt,post:Tt,onChange:an}))}function uo({post:Tt,user:Lt,pub:Yt,onClick:ln,style:hn}){const{iString:Dn}=(0,ie.M1)();return(0,o.h)(o.Fragment,null,(0,o.h)(Ur,{style:hn,icon:(0,o.h)(xe.Z,{className:"icon",height:Pe(hn,"verbose"),strokeWidth:Me}),onClick:()=>{(0,G.j)(G.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Yt.id,restacked_post_id:Tt.id,restacking_user_id:Lt.id,is_from_email:!1}),ln()},noLabel:!1,verboseLabel:!0,title:Dn("Cross-Post")},Dn("Cross-post")))}function to({post:Tt,user:Lt,pub:Yt,onClick:ln}){const hn=()=>{(0,G.j)(G.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Yt.id,restacked_post_id:Tt.id,restacking_user_id:Lt.id,is_from_email:!1}),ln()},{iString:Dn}=(0,ie.M1)();return(0,o.h)(o.Fragment,null,(0,o.h)(Ie.sN,{onClick:hn},Dn("Cross-post")))}function ao({style:Tt,pub:Lt,post:Yt,user:ln,hidePinning:hn,emailSent:Dn,allowSendEmail:an,footerHidden:Mn,showRestackModal:Jn,canBeCrossPosted:pt,onSummaryOpen:Mt}){const Kt=(0,u.sO)();Mn&&Kt.current&&Kt.current.close();const qt=ut({post:Yt,pub:Lt,user:ln,defaultOpen:Jn&&pt}),mn=()=>{qt.open(),(0,G.j)(G.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Lt.id,restacked_post_id:Yt.id,restacking_user_id:ln.id,is_from_email:!1})};return(0,o.h)("div",{className:g()("edit-button-container","post-ufi-button",`style-${Tt}`)},(0,o.h)(Ur,{onClick:()=>Kt.current.open(),style:Tt,icon:(0,o.h)(T.Z,{className:"icon edit-icon",size:Pe(Tt),strokeWidth:2}),noLabel:!0}),(0,o.h)(Jt.y,{ref:Kt,pub:Lt,post:Yt,user:ln,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:hn,emailSent:Dn,allowSendEmail:an,handleCrossPost:pt&&mn,onSummaryOpen:Mt}),qt.modal)}const Ur=(0,f.forwardRef)(({icon:Tt,children:Lt,state:Yt,style:ln,onClick:hn,href:Dn,noLabel:an,verboseLabel:Mn,noBorder:Jn,className:pt,isDisabled:Mt,iconPosition:Kt="left",title:qt},mn)=>(0,o.h)("a",{role:"button",className:g()("post-ufi-button",`style-${ln}`,pt,Yt?`state-${Yt}`:void 0,Mt?"state-disabled":void 0,Lt&&!an?"has-label":"no-label",Jn?"no-border":"with-border",Mn?"verbose-label":""),title:qt,href:Dn,onClick:En=>{hn&&(En.stopPropagation(),hn(En))},ref:mn},Kt==="left"&&Tt,!an&&Lt&&(0,o.h)("div",{className:"label"},Lt),Kt==="right"&&Tt)),_o=({pub:Tt,post:Lt,showAuthor:Yt})=>!!(Yt&&Tt.bylines_enabled&&(0,F.getPrintedByline)(Tt,Lt)),fo=({pub:Tt,post:Lt,showAuthor:Yt,showPhoto:ln,isMobileWidth:hn})=>_o({pub:Tt,post:Lt,showAuthor:Yt})&&!no({pub:Tt,post:Lt,showAuthor:Yt})&&!so({pub:Tt,post:Lt,showAuthor:Yt,showPhoto:ln})&&!hn,no=({pub:Tt,post:Lt,showAuthor:Yt})=>_o({pub:Tt,post:Lt,showAuthor:Yt})&&(0,F.getBylineUsers)(Lt).length>1,so=({pub:Tt,post:Lt,showAuthor:Yt,showPhoto:ln})=>{var hn;return _o({pub:Tt,post:Lt,showAuthor:Yt})&&ln&&((hn=(0,F.getBylineUsers)(Lt)[0])==null?void 0:hn.photo_url)&&Tt.byline_images_enabled};function go({post:Tt,showDatetime:Lt,isStatic:Yt,fromPostPage:ln,showReactions:hn,language:Dn="en"}){const an=Tt.reactions?Object.values(Tt.reactions).reduce((Jn,pt)=>Jn+pt,0):0,Mn=ln&&!Yt&&hn&&an>=70&&an<100;return Lt&&Mn?K()(Tt.post_date).locale(Dn).standardDatetimeWithYear():Lt&&!Mn?K()(Tt.post_date).locale(Dn).standardDatetime():Yt?K()(Tt.post_date).locale(Dn).standardDate():Mn?K()(Tt.post_date).locale(Dn).standardDate({full:Mn}):K()(Tt.post_date).locale(Dn).standardDateOrTime()}function Zo({pub:Tt,post:Lt,showPins:Yt,showAudience:ln,showDate:hn,showDatetime:Dn,showEmailSent:an,showAuthor:Mn,showPublicationName:Jn,showCrossPostedPublicationName:pt}){const Mt=(0,ae.Tf)(),Kt=!!(Mn&&Tt.bylines_enabled&&(0,F.getPrintedByline)(Tt,Lt)),qt=!1,mn=hn&&Lt.post_date&&!Lt.is_draft,En=an?!!Lt.email_sent_at:null,{iString:wn,iTemplate:Hn,language:wr}=(0,ie.M1)();return(0,o.h)("div",{className:g()("ufi-preamble",{themed:Mt})},pt&&Lt.restacked_pub_name?(0,o.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},Hn`Published on ${Lt.restacked_pub_name}`):null,an&&En&&(0,o.h)("div",{className:"email-sent",title:wn("This post was sent as an email")},(0,o.h)(P.Z,{className:"post-ufi-preamble-icon",size:16})),Yt&&Lt.is_section_pinned&&(0,o.h)("div",{className:"pinned"},(0,o.h)(je.Z,{className:"post-ufi-preamble-icon"})),Lt.type==="adhoc_email"?(0,o.h)("div",{className:"audience-adhoc"},(0,o.h)(Qe.Z,{className:"post-ufi-preamble-icon"})):ln&&(0,Z.isPaidAudience)(Lt.audience)&&(0,o.h)("div",{className:"audience-lock"},(0,o.h)(Ve.Z,{audience:Lt.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),fo({pub:Tt,post:Lt,showAuthor:Kt,isMobileWidth:qt})&&(0,o.h)("div",{className:"ufi-preamble-label author"},(0,F.getBylineUsers)(Lt).length>0?(0,F.oxfordComma)((0,F.getBylineUsers)(Lt).map(zr=>(0,o.h)(o.Fragment,null,(0,o.h)(Ct.Ct,{subject:zr,utmSource:"byline"},(0,o.h)("a",{href:(0,q.getProfileUrl)(zr,Tt,{base:!0}),onClick:$r=>$r.stopPropagation()},zr.name))))):(0,F.getPrintedByline)(Tt,Lt)),Jn&&(0,o.h)("div",{className:"post-publication-name"},Tt.name),mn&&(0,o.h)("div",{className:"ufi-preamble-label post-date",title:K()(Lt.post_date).toISOString()},(0,o.h)("time",{dateTime:K()(Lt.post_date).toISOString()},go({post:Lt,showDatetime:Dn,language:wr}))))}const Co=({pub:Tt,post:Lt,user:Yt,onChange:ln})=>(0,fe.xR)().getConfigFor("like_posts_enabled")&&Tt.community_enabled?(0,o.h)(Br,{style:"button",post:Lt,pub:Tt,user:Yt,onChange:ln}):null,Oo=({pub:Tt,post:Lt,onClick:Yt})=>{const ln=(0,F.showCommentsOnPost)({publication:Tt,post:Lt}),{comment_count:hn}=Lt;return ln?(0,o.h)(jr,{post:Lt,pub:Tt,labelStyle:hn>0?"count":"none",style:"button",count:hn,onClick:Yt}):null};function vo({post:Tt,pub:Lt,user:Yt,onChange:ln,onCommentsClick:hn,showRestackModal:Dn=!1,showTranscriptionButton:an,onTranscriptionClick:Mn}){const Jn=(0,W.LC)(),pt=(Yt==null?void 0:Yt.is_contributor)&&!Jn,{getSettingFor:Mt}=(0,ye.So)(),Kt=!Tt.is_draft&&(0,J.x)(Yt,{enable_restacking:!!Mt("enable_restacking")},Tt,Lt,!1),[qt,mn]=(0,u.eJ)(!1);return(0,o.h)(me.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,o.h)(me.hs,{gap:8},(0,o.h)(Co,{post:Tt,pub:Lt,user:Yt,onChange:ln}),(0,o.h)(Oo,{pub:Lt,post:Tt,onClick:hn}),(0,o.h)(Tr,{pub:Lt,post:Tt,onChange:ln,style:"button"}),an&&(0,o.h)(rr,{style:"button",onClick:Mn})),(0,o.h)(me.hs,{gap:8},(0,o.h)(C.s,{post:Tt,pub:Lt,user:Yt,trigger:{style:"button",labelStyle:"cta"}}),pt?(0,o.h)(ao,{style:"button",pub:Lt,post:Tt,user:Yt,showRestackModal:Dn,canBeCrossPosted:Kt,onSummaryOpen:()=>mn(!0)}):(Yt||Kt)&&(0,o.h)(Lr,{post:Tt,pub:Lt,user:Yt,onChange:ln,showRestackModal:Dn,canBeCrossPosted:Kt,onSummaryOpen:()=>mn(!0)})),(0,o.h)(cr,{postId:Tt.id,isOpen:qt,onClose:()=>mn(!1)}))}function on({isFooter:Tt,customization:{showAppUpsell:Lt,showShare:Yt,showComments:ln,showReactions:hn,showListen:Dn,showSave:an,showRestack:Mn,showCommentRestack:Jn}}){const pt=Tt?"email-ufi-2-bottom":"email-ufi-2-top",Mt=!Tt&&(Mn||Dn||an),Kt=Tt,{iString:qt}=(0,ie.M1)();return!Tt&&!Yt&&!ln&&!hn&&!Dn&&!an&&Mn?(0,o.h)(oe.YF,{className:"email-ufi-2-empty",width:"100%"},(0,o.h)("tr",{height:1},(0,o.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,o.h)(oe.YF,{className:pt,width:"100%"},Mn&&Tt&&(0,o.h)(o.Fragment,null,(0,o.h)(On,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(oe.YF,{width:"100%",className:"email-ufi-2-row"},(0,o.h)("tr",null,(0,o.h)("td",{width:"95%"},Yt&&(0,o.h)(oe._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:k.Substitutions.SHARE_URL},(0,o.h)(rt.Z,H({},Tn)),(0,o.h)("span",{className:"email-button-text"},qt("Share"))))),(0,o.h)(On,null))))),(0,o.h)(On,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(oe.YF,{width:"100%"},(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(oe.zK,{gap:8,style:Mt?void 0:{margin:"0 auto"}},hn?Kt?(0,o.h)(oe._i,{aClassName:"email-button-outline",href:k.Substitutions.REACTION_URL},(0,o.h)(We.Z,H({},Tn)),(0,o.h)("span",{className:"email-button-text"},qt("Like"))):(0,o.h)(Bn,{href:k.Substitutions.REACTION_URL},(0,o.h)(We.Z,H({},Tn))):null,ln?Kt?(0,o.h)(oe._i,{aClassName:"email-button-outline",href:`${k.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Ce.Z,H({},Tn)),(0,o.h)("span",{className:"email-button-text"},qt("Comment"))):(0,o.h)(Bn,{href:`${k.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Ce.Z,H({},Tn))):null,Yt&&Lt&&(Kt?(0,o.h)(oe._i,{aClassName:"email-button-outline",href:k.Substitutions.SHARE_URL},(0,o.h)(Je.Z,H({},Tn)),(0,o.h)("span",{className:"email-button-text"},"Share")):(0,o.h)(Bn,{href:k.Substitutions.SHARE_URL},(0,o.h)(Je.Z,H({},Tn)))),Jn&&(Kt?(0,o.h)(oe._i,{aClassName:"email-button-outline",href:`${k.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(ft.Z,H({},Tn)),(0,o.h)("span",{className:"email-button-text"},qt("Restack"))):(0,o.h)(Bn,{href:`${k.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(ft.Z,H({},Tn)))))),(0,o.h)("td",{align:"right"},(0,o.h)(oe.zK,{gap:8},Yt&&!Lt&&!Tt&&(0,o.h)(oe._i,{aClassName:"email-button-outline",href:k.Substitutions.SHARE_URL},(0,o.h)("div",{className:"email-button-spacer"}),(0,o.h)("span",{className:"email-button-text"},qt("Share"))),Lt&&!Tt&&(0,o.h)(oe._i,{aClassName:"email-button-outline",href:k.Substitutions.POST_APP_LINK_URL},(0,o.h)("div",{className:"email-button-spacer"}),(0,o.h)("span",{className:"email-button-text",style:{marginRight:4}},"READ IN APP"),(0,o.h)(N.Z,Q(H({},Tn),{className:g()("icon","text-icon")}))))))))),(0,o.h)(On,null))}function On(){return(0,o.h)("tr",{height:16},(0,o.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const Tn={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function Bn({size:Tt=38,href:Lt,children:Yt}){return(0,o.h)(oe.YF,{width:Tt},(0,o.h)("tr",null,(0,o.h)("td",{align:"center"},(0,o.h)("a",{className:"email-icon-button",href:Lt,style:{width:Tt}},Yt))))}},79786:(z,l,e)=>{"use strict";e.d(l,{e:()=>w});var o=e(6400),f=e(94184),u=e.n(f),c=e(15045),g=e(20501);const v={img:"frontend-components-responsive_img-module__img--Pgjj2"};var E=Object.defineProperty,y=Object.defineProperties,p=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,S=(P,x,M)=>x in P?E(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,_=(P,x)=>{for(var M in x||(x={}))O.call(x,M)&&S(P,M,x[M]);if(T)for(var M of T(x))I.call(x,M)&&S(P,M,x[M]);return P},d=(P,x)=>y(P,p(x)),s=(P,x)=>{var M={};for(var N in P)O.call(P,N)&&x.indexOf(N)<0&&(M[N]=P[N]);if(P!=null&&T)for(var N of T(P))x.indexOf(N)<0&&I.call(P,N)&&(M[N]=P[N]);return M};function w(P){var x=P,{src:M,maxWidth:N,imageProps:C={},alt:A="",className:k,imageRef:L}=x,K=s(x,["src","maxWidth","imageProps","alt","className","imageRef"]);const Z=F=>{if(C!=null&&C.height){const W=N/C.height;return{height:Math.floor(F/W),aspect:null}}return{}},J=c.WEB_RESPONSIVE_IMAGE_WIDTHS.includes(N)?c.WEB_RESPONSIVE_IMAGE_WIDTHS:[...c.WEB_RESPONSIVE_IMAGE_WIDTHS,N];J.sort((F,W)=>F-W);const q=J.map(F=>({width:F,src:(0,g.imginary)(M,F,_(_({},C),Z(F)))})).filter(F=>F.width<=N),ne=J.map(F=>({width:F,src:(0,g.imginary)(M,F,d(_(_({},C),Z(F)),{format:"webp"}))})).filter(F=>F.width<=N);return(0,o.h)("picture",null,ne.length>1?(0,o.h)("source",{type:"image/webp",srcset:ne.map(F=>`${F.src} ${F.width}w`).join(", "),sizes:"100vw"}):(0,o.h)("source",{type:"image/webp",srcset:(0,g.imginary)(M,N,d(_({},C),{format:"webp"}))}),(0,o.h)("img",d(_({className:u()(v.img,k),src:(0,g.imginary)(M,N,C),sizes:"100vw",alt:A,srcset:q.length>1?q.map(F=>`${F.src} ${F.width}w`).join(", "):void 0},K),{width:N,height:C==null?void 0:C.height,ref:L})))}},30105:(z,l,e)=>{"use strict";e.d(l,{L:()=>c});var o=e(6400),f=e(94184),u=e.n(f);const c=({children:g,title:v="",content:E="",className:y="",showFirst:p=!1,disabled:T=!1})=>T?(0,o.h)(o.Fragment,null,g):(0,o.h)("div",{className:`popover-container ${y}`},(0,o.h)("div",{className:u()("popover typography",{showfirst:p})},(0,o.h)("div",{className:"content"},v&&(0,o.h)("strong",null,v),E&&(0,o.h)("section",null,E)),(0,o.h)("div",{className:"popover-tail"})),g)},25877:(z,l,e)=>{"use strict";e.d(l,{CH:()=>Z,KG:()=>K,Yq:()=>ne});var o=e(6400),f=e(30396),u=e(88812),c=e(83322),g=e(19698),v=e(8479),E=e(39419),y=e.n(E),p=e(13045),T=e(76235),O=e(67963),I=Object.defineProperty,S=Object.defineProperties,_=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(F,W,ie)=>W in F?I(F,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):F[W]=ie,x=(F,W)=>{for(var ie in W||(W={}))s.call(W,ie)&&P(F,ie,W[ie]);if(d)for(var ie of d(W))w.call(W,ie)&&P(F,ie,W[ie]);return F},M=(F,W)=>S(F,_(W)),N=(F,W,ie)=>new Promise((he,ye)=>{var fe=G=>{try{oe(ie.next(G))}catch(re){ye(re)}},ae=G=>{try{oe(ie.throw(G))}catch(re){ye(re)}},oe=G=>G.done?he(G.value):Promise.resolve(G.value).then(fe,ae);oe((ie=ie.apply(F,W)).next())});const C={mutes:[],blocks:[],blocked:[]},A=(0,o.createContext)({result:C,refetch:()=>null});A.displayName="UserBlockContext";function k({user:F,children:W}){var ie;const he=useFetch({pathname:"/api/v1/blocks/ids",deps:[F],auto:!!F});return h(A.Provider,{value:{result:(ie=he.result)!=null?ie:C,refetch:he.refetch}},W)}function L(){return(0,f.qp)(A)}function K(F){const{result:{mutes:W,blocks:ie,blocked:he}}=(0,f.qp)(A);return F?W.includes(F)?"muting":ie.includes(F)?"blocking":he.includes(F)?"blocked":null:null}function Z(F,W){const ie=(0,O.aF)(),he=!!(ie&&F&&ie.id!==F.id),ye=L(),fe=K(F==null?void 0:F.id),ae=(0,p.pm)(),oe=(0,c.guessFirstName)((F==null?void 0:F.name)||""),G=()=>N(this,null,function*(){if(F){try{yield(0,v.rd)(`/api/v1/blocks/${F.id}`,{method:"POST",json:{type:"mute",surface:W}})}catch(ve){ae.popToast(pe=>(0,o.h)(p.FN,M(x({},pe),{text:(0,E.getNetworkErrorMessage)(ve)})));return}ye.refetch(),ae.popToast(ve=>(0,o.h)(p.FN,M(x({},ve),{text:`${F.name||"User"} muted`,Icon:g.Z})))}}),re=()=>N(this,null,function*(){if(F){try{yield(0,v.rd)(`/api/v1/blocks/${F.id}`,{method:"DELETE",query:{surface:W}})}catch(ve){ae.popToast(pe=>(0,o.h)(p.FN,M(x({},pe),{text:(0,E.getNetworkErrorMessage)(ve)})));return}ye.refetch(),ae.popToast(ve=>(0,o.h)(p.FN,M(x({},ve),{text:`${F.name||"User"} unmuted`,Icon:g.Z})))}}),se=()=>N(this,null,function*(){if(F){try{yield(0,v.rd)(`/api/v1/blocks/${F.id}`,{method:"POST",json:{type:"block",surface:W}})}catch(ve){ae.popToast(pe=>(0,o.h)(p.FN,M(x({},pe),{text:(0,E.getNetworkErrorMessage)(ve)})));return}ye.refetch(),ae.popToast(ve=>(0,o.h)(p.FN,M(x({},ve),{text:`${F.name||"User"} blocked`,Icon:u.Z})))}}),le=()=>N(this,null,function*(){if(F){try{yield(0,v.rd)(`/api/v1/blocks/${F.id}`,{method:"DELETE",query:{surface:W}})}catch(ve){ae.popToast(pe=>(0,o.h)(p.FN,M(x({},pe),{text:(0,E.getNetworkErrorMessage)(ve)})));return}ye.refetch(),ae.popToast(ve=>(0,o.h)(p.FN,M(x({},ve),{text:`${F.name||"User"} unblocked`,Icon:u.Z})))}}),Ee=[];return he&&(fe!=="blocking"&&Ee.push((0,o.h)(T.sN,{icon:(0,o.h)(g.Z,null),onClick:fe==="muting"?re:G},fe==="muting"?"Unmute":"Mute")),Ee.push((0,o.h)(T.sN,{icon:(0,o.h)(u.Z,null),onClick:fe==="blocking"?le:se},fe==="blocking"?"Unblock":"Block"))),Ee}const J=(0,o.createContext)(!1);J.displayName="MuteFreeZone";function q({muteFree:F=!0,children:W}){return h(J.Provider,{value:F},W)}function ne(){return(0,f.qp)(J)}},2405:(z,l,e)=>{"use strict";e.d(l,{LC:()=>g,uL:()=>c});var o=e(6400),f=e(30396);const u=(0,o.createContext)(null);u.displayName="CrossPostContext";function c({crossPost:v=null,children:E}){return(0,o.h)(u.Provider,{value:v},E)}function g(){return(0,f.qp)(u)}},4190:(z,l,e)=>{"use strict";e.d(l,{Vt:()=>C,jc:()=>A,kx:()=>N,ng:()=>M,xu:()=>w});var o=e(6400),f=e(98661),u=e(30396),c=e(80569),g=e.n(c),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(L,K,Z)=>K in L?v(L,K,{enumerable:!0,configurable:!0,writable:!0,value:Z}):L[K]=Z,S=(L,K)=>{for(var Z in K||(K={}))T.call(K,Z)&&I(L,Z,K[Z]);if(p)for(var Z of p(K))O.call(K,Z)&&I(L,Z,K[Z]);return L},_=(L,K)=>E(L,y(K)),d=(L,K,Z)=>new Promise((J,q)=>{var ne=ie=>{try{W(Z.next(ie))}catch(he){q(he)}},F=ie=>{try{W(Z.throw(ie))}catch(he){q(he)}},W=ie=>ie.done?J(ie.value):Promise.resolve(ie.value).then(ne,F);W((Z=Z.apply(L,K)).next())}),s;const w={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},P=typeof window!="undefined"&&window._preloads||w,x=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.siteConfigs:{},M=(L,K)=>{const Z=F=>{if(!F||!L)return null;const W=L[F];return W===void 0?null:W},J=(F,{onlyConsiderExposedValues:W}={})=>{if(!F)return null;const ie=Z(F);if(ie&&typeof ie=="string"&&ie!=="experiment")return{intendedVariant:ie,shouldLog:!1};if(K.variantOverrides&&F in K.variantOverrides)return{intendedVariant:K.variantOverrides[F],shouldLog:!1};const he=K.experimentExposures||{};if(he[F])return{intendedVariant:he[F],shouldLog:!1};if(!W){const ye=K.experimentFeatures||{};if(ye[F])return{intendedVariant:ye[F],shouldLog:!0}}return null};return{getExperimentVariant:(F,{onlyConsiderExposedValues:W}={})=>{const ie=J(F,{onlyConsiderExposedValues:W});return ie?ie.intendedVariant:null},exposeExperiment:F=>d(void 0,null,function*(){const{intendedVariant:W,shouldLog:ie}=J(F)||{};if(!ie)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const he=window._preloads.experimentExposures;he[F]=W;try{yield g().post("/api/v1/experiment_exposure").send({experiment_name:F,variant_name:W})}catch(ye){delete he[F]}}return!0})}},N=(0,o.createContext)(M(x,P));N.displayName="ExperimentsContext";function C({siteConfigs:L={},experimentInfo:K,children:Z}){const J=K||P,q=(0,u.Ye)(()=>M(L,J),[L,...Object.values(J)]);return(0,o.h)(N.Provider,{value:q},Z)}function A(){return(0,u.qp)(N)}const k=L=>{const K=forwardRef((Z,J)=>{const q=A();return h(L,_(S(S({},q),Z),{ref:J}))});return K.displayName=`withExperimentsContext(${L.displayName||L.name||"Anonymous"})`,K}},58718:(z,l,e)=>{"use strict";e.d(l,{OK:()=>oe,Rc:()=>ae,oh:()=>he,Sv:()=>ye,yr:()=>fe,Xe:()=>F,oJ:()=>W});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(82569),v=e.n(g),E=e(83757),y=e(69518),p=e(60779),T=e(59386),O=e(26686),I=e(84606),S=e(83322),_=e(8479),d=e(39419),s=e(13045),w=e(76235),P=e(25877),x=e(67963);const M={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Z=(G,re,se)=>re in G?N(G,re,{enumerable:!0,configurable:!0,writable:!0,value:se}):G[re]=se,J=(G,re)=>{for(var se in re||(re={}))L.call(re,se)&&Z(G,se,re[se]);if(k)for(var se of k(re))K.call(re,se)&&Z(G,se,re[se]);return G},q=(G,re)=>C(G,A(re)),ne=(G,re,se)=>new Promise((le,Ee)=>{var ve=Ie=>{try{me(se.next(Ie))}catch(_e){Ee(_e)}},pe=Ie=>{try{me(se.throw(Ie))}catch(_e){Ee(_e)}},me=Ie=>Ie.done?le(Ie.value):Promise.resolve(Ie.value).then(ve,pe);me((se=se.apply(G,re)).next())});function F(){return(0,O._)("/api/v1/feed/following")}function W(){const{mutate:G}=(0,E.kY)();return(...re)=>G("/api/v1/feed/following",...re)}function ie(G){const{data:re}=F();return(re!=null?re:[]).includes(G!=null?G:0)}function he(G,re){const{isFollowing:se,toggle:le}=ye(G,re),Ee=(0,x.aF)(),ve=(0,P.KG)(G==null?void 0:G.id),pe=!!(Ee&&G&&Ee.id!==G.id)&&!ve,me=(0,S.guessFirstName)((G==null?void 0:G.name)||""),Ie=[];return pe&&Ie.push((0,o.h)(w.sN,{icon:se?(0,o.h)(T.m,{stroke:"var(--color-primary)"}):(0,o.h)(p.w,{stroke:"var(--color-primary)"}),onClick:le},se?`Unfollow ${me}`:`Follow ${me}`)),Ie}function ye(G,re){const se=ie(G==null?void 0:G.id),{mutate:le,data:Ee}=F(),ve=(0,s.pm)(),pe=(0,S.guessFirstName)((G==null?void 0:G.name)||""),me=_e=>ne(this,null,function*(){if(G){le((de=[])=>_e?[...de,G.id]:v()(de,G.id),{revalidate:!1});try{yield(0,_.rd)(`/api/v1/feed/${G.id}/follow`,{method:_e?"POST":"DELETE",json:{surface:re}}),ve.popToast(de=>(0,o.h)(s.FN,q(J({},de),{Icon:_e?y.$:T.m,text:_e?`Followed ${pe}`:`Unfollowed ${pe}`})))}catch(de){ve.popToast(Re=>(0,o.h)(s.FN,q(J({},Re),{text:(0,d.getNetworkErrorMessage)(de)})));return}}});return{isFollowing:se,toggle:()=>me(!se),isLoaded:!!Ee}}function fe(G,re){const{isFollowing:se,toggle:le}=ye(G,re),[Ee,ve]=(0,f.eJ)(!1);return{isFollowing:se,buttonProps:{onClick:()=>{le(),se||ve(!0)},onMouseLeave:()=>ve(!1),className:c()(M.followButton,Ee&&M.justFollowed)},css:M}}const ae=(0,I.E7)({className:M.on,as:"span"}),oe=(0,I.E7)({className:M.off,as:"span"})},28488:(z,l,e)=>{"use strict";e.d(l,{M1:()=>d,_7:()=>s,fz:()=>w,wj:()=>_});var o=e(6400),f=e(98661),u=e(30396),c=e(8111),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(P,x,M)=>x in P?g(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,I=(P,x)=>{for(var M in x||(x={}))p.call(x,M)&&O(P,M,x[M]);if(y)for(var M of y(x))T.call(x,M)&&O(P,M,x[M]);return P},S=(P,x)=>v(P,E(x));const _=(0,o.createContext)({language:"en",iString:(P,...x)=>P,iContext:(P,x)=>x,iPlural:(P,x,M)=>P,iTemplate:(P,...x)=>(0,c.u8)(P,...x),iCombo:(P,x,M,N,...C)=>x});_.displayName="I18NContext";function d(){return(0,u.qp)(_)}function s({children:P,language:x="en"}){const M=(0,u.Ye)(()=>I({language:x},c.mb.i(x)),[x]);return(0,o.h)(_.Provider,{value:M},P)}function w(P){const x=(0,f.forwardRef)((M,N)=>{const C=d();return(0,o.h)(P,S(I(I({},C),M),{ref:N}))});return x.displayName=`withI18NContext(${P.displayName||P.name||"Anonymous"})`,x}},85065:(z,l,e)=>{"use strict";e.d(l,{N$:()=>N,lR:()=>A,yH:()=>Z});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),g=e(6742),v=e(35442),E=e(63503),y=e(8479),p=e(39419),T=e.n(p),O=Object.defineProperty,I=Object.defineProperties,S=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(q,ne,F)=>ne in q?O(q,ne,{enumerable:!0,configurable:!0,writable:!0,value:F}):q[ne]=F,P=(q,ne)=>{for(var F in ne||(ne={}))d.call(ne,F)&&w(q,F,ne[F]);if(_)for(var F of _(ne))s.call(ne,F)&&w(q,F,ne[F]);return q},x=(q,ne)=>I(q,S(ne)),M=(q,ne,F)=>new Promise((W,ie)=>{var he=ae=>{try{fe(F.next(ae))}catch(oe){ie(oe)}},ye=ae=>{try{fe(F.throw(ae))}catch(oe){ie(oe)}},fe=ae=>ae.done?W(ae.value):Promise.resolve(ae.value).then(he,ye);fe((F=F.apply(q,ne)).next())});function N({defaultState:q,shouldLoad:ne=!0,shouldPoll:F=!1,children:W}){return(0,o.h)(k,{defaultState:q==null?void 0:q.activity,shouldLoad:ne,shouldPoll:F},(0,o.h)(J,{shouldLoad:ne},W))}const C=(0,o.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>M(void 0,null,function*(){return!0}),markAllAsRead:()=>M(void 0,null,function*(){}),hasLoadedOnce:!1});C.displayName="NotificationsContext";function A(){return(0,f.qp)(C)}function k({defaultState:q,shouldLoad:ne=!0,shouldPoll:F=!1,children:W}){const ie=(0,y.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:ne,initialResult:q}),he=!(0,g.th)(),ye=()=>M(this,null,function*(){const ae=yield c().post("/api/v1/activity/unread").send({after:new Date().toISOString()});ie.setResult(ae.body)});(0,E.Z)(()=>M(this,null,function*(){var ae;if(F&&ne&&(0,p.isWindowVisible)()){const oe=((ae=ie.result)==null?void 0:ae.count)||0,G=yield ie.refetch(),re=!(G instanceof Error)&&G.count||0;if(oe!==re)return!0}}),6e4);const fe=ie.result!=null?ie.result.count:0;return(0,f.d4)(()=>{var ae;try{(ae=navigator.setAppBadge)==null||ae.call(navigator,fe)}catch(oe){console.warn(oe)}},[fe]),(0,o.h)(C.Provider,{value:{lastViewedAt:ie.result!=null?ie.result.lastViewedAt:null,activityUnreadCount:fe,activityUnreadAtMax:ie.result!=null?ie.result.max:!1,refetch:ie.refetch,markAllAsRead:ye,hasLoadedOnce:ie.hasLoadedOnce}},(0,o.h)(v.Metadata,{badge:he?fe:void 0}),W)}const L={count:0,max:!1,refetch:()=>M(void 0,null,function*(){return!0}),markAllAsRead:()=>M(void 0,null,function*(){}),hasLoadedOnce:!1},K=(0,o.createContext)(L);K.displayName="SavedPostsContext";function Z(){return(0,f.qp)(K)}function J({shouldLoad:q=!0,children:ne}){const F=(0,y.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:q,initialResult:L}),W=()=>F.refetch({method:"PUT"});return(0,o.h)(K.Provider,{value:x(P({},F.result),{refetch:F.refetch,markAllAsRead:W,hasLoadedOnce:F.hasLoadedOnce})},ne)}},92643:(z,l,e)=>{"use strict";e.d(l,{Un:()=>T,am:()=>p});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),g=e(72985),v=e(67963),E=(O,I,S)=>new Promise((_,d)=>{var s=x=>{try{P(S.next(x))}catch(M){d(M)}},w=x=>{try{P(S.throw(x))}catch(M){d(M)}},P=x=>x.done?_(x.value):Promise.resolve(x.value).then(s,w);P((S=S.apply(O,I)).next())});const y=(0,o.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});y.displayName="ProfileContext";function p({value:O,handle:I,children:S}){const[_,d]=(0,f.eJ)({profile:null,loading:!1}),[s,w]=(0,f.eJ)(new Map(O?[[I||O.id,{profile:O,loading:!1}]]:[])),P={viewerProfile:_,setViewerProfile:(0,f.I4)((x,M)=>{d(N=>N.profile===x&&N.loading===M?N:{profile:x,loading:M})},[]),profiles:s,setProfile:(0,f.I4)((x,M,N)=>{w(C=>{var A,k;if(((A=C.get(x))==null?void 0:A.profile)===M&&((k=C.get(x))==null?void 0:k.loading)===N)return C;const L=new Map(C);return L.set(x,{profile:M,loading:N}),L})},[])};return(0,o.h)(y.Provider,{value:P},S)}function T({subjectId:O,subjectName:I,delayLoading:S}){const _=(0,v.aF)(),{viewerProfile:d,setViewerProfile:s,profiles:w,setProfile:P}=(0,f.qp)(y),[x,M]=(0,f.eJ)(null);if(typeof O=="string")if(O.includes("-")){const K=O.split("-");O=K[0],I=K.slice(1).join("-")}else O.startsWith("@")&&(O=O.slice(1));const N=w.get(O),C=(0,f.I4)(K=>E(this,null,function*(){s(d.profile,!0);const Z=(0,g.cleanSlug)(K.name,{hashIfEmpty:!0});try{const J=yield c().get(`/api/v1/user/${K.id}-${Z}/public_profile/self`).then(q=>q.body);s(J,!1)}catch(J){J instanceof Error&&M(J),s(null,!1)}}),[d,s,M]),A=N==null?void 0:N.profile,k=d.profile,L=(0,f.I4)(K=>E(this,null,function*(){!k&&_&&C(_),P(K,A,!0);try{const Z=I&&(0,g.cleanSlug)(I,{hashIfEmpty:!0}),J=yield Z?c().get(`/api/v1/user/${K}-${Z}/public_profile`).then(q=>q.body):c().get(`/api/v1/user/${K}/public_profile`).then(q=>q.body);P(K,J,!1)}catch(Z){Z instanceof Error&&M(Z),P(K,A,!1)}}),[A,P,I,k,C,_]);return(0,f.d4)(()=>{!S&&!(N!=null&&N.profile)&&!(N!=null&&N.loading)&&!x&&L(O),!S&&!d.loading&&!d.profile&&!x&&_&&C(_)},[S,O,L,N,x,d,C,_]),{loading:!!(N!=null&&N.loading),viewerProfile:d.profile,subjectProfile:N==null?void 0:N.profile,refetch:L,error:x}}},71720:(z,l,e)=>{"use strict";e.d(l,{G:()=>g,I:()=>v});var o=e(6400),f=e(30396),u;const c=typeof window!="undefined"?(u=window._preloads)==null?void 0:u.pub:null,g=(0,o.createContext)(c);g.displayName="PubContext";function v(){return(0,f.qp)(g)}},32076:(z,l,e)=>{"use strict";e.d(l,{Iz:()=>M,So:()=>N,us:()=>x,vz:()=>P});var o=e(6400),f=e(98661),u=e(30396),c=e(8479),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(C,A,k)=>A in C?g(C,A,{enumerable:!0,configurable:!0,writable:!0,value:k}):C[A]=k,I=(C,A)=>{for(var k in A||(A={}))p.call(A,k)&&O(C,k,A[k]);if(y)for(var k of y(A))T.call(A,k)&&O(C,k,A[k]);return C},S=(C,A)=>v(C,E(A)),_=(C,A,k)=>new Promise((L,K)=>{var Z=ne=>{try{q(k.next(ne))}catch(F){K(F)}},J=ne=>{try{q(k.throw(ne))}catch(F){K(F)}},q=ne=>ne.done?L(ne.value):Promise.resolve(ne.value).then(Z,J);q((k=k.apply(C,A)).next())}),d;const s=typeof window!="undefined"?(d=window._preloads)==null?void 0:d.publicationSettings:{},w=C=>({getSettingFor:k=>{if(!k||!C)return null;const L=C[k];return L===void 0?null:L}}),P=(0,o.createContext)(S(I({},w(s)),{changeSetting:()=>Promise.resolve(void 0)}));P.displayName="PublicationSettingsContext";const x=C=>{const A=(0,f.forwardRef)((k,L)=>{const K=N();return(0,o.h)(C,S(I(I({},K),k),{ref:L}))});return A.displayName=`withPubSettingsContext(${C.displayName||C.name||"Anonymous"})`,A};function M({settings:C={},children:A}){const[k,L]=(0,u.eJ)(C),K=J=>_(this,null,function*(){L(I(I({},k),J));try{yield(0,c.rd)("/api/v1/publication_settings",{method:"PUT",json:J})}catch(q){console.error(q)}}),Z=(0,u.Ye)(()=>S(I({},w(k)),{changeSetting:K}),[k]);return(0,o.h)(P.Provider,{value:Z},A)}function N(){return(0,u.qp)(P)}},63270:(z,l,e)=>{"use strict";e.d(l,{QA:()=>s,Xz:()=>d,vC:()=>w,xR:()=>x});var o=e(6400),f=e(98661),u=e(30396),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(M,N,C)=>N in M?c(M,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):M[N]=C,O=(M,N)=>{for(var C in N||(N={}))y.call(N,C)&&T(M,C,N[C]);if(E)for(var C of E(N))p.call(N,C)&&T(M,C,N[C]);return M},I=(M,N)=>g(M,v(N)),S;const _=typeof window!="undefined"?(S=window._preloads)==null?void 0:S.siteConfigs:{},d=M=>({allConfigs:M,getConfigFor:C=>{if(!C||!M)return null;const A=M[C];return A===void 0?null:A}}),s=(0,o.createContext)(d(_));s.displayName="SiteConfigsContext";function w({siteConfigs:M={},children:N}){const C=(0,u.Ye)(()=>d(M),[M]);return(0,o.h)(s.Provider,{value:C},N)}const P=M=>{const N=forwardRef((C,A)=>{const k=x();return h(M,I(O(O({},k),C),{ref:A}))});return N.displayName=`withSiteConfigContext(${M.displayName||M.name||"Anonymous"})`,N};function x(){return(0,u.qp)(s)}},18597:(z,l,e)=>{"use strict";e.d(l,{Tf:()=>c,ze:()=>g});var o=e(6400),f=e(30396);const u=(0,o.createContext)({hasThemedBackground:!1});u.displayName="ThemeContext";function c(){var v;return!!((v=(0,f.qp)(u))!=null&&v.hasThemedBackground)}function g({value:v,children:E}){const y=(0,f.Ye)(()=>v,Object.values(v));return(0,o.h)(u.Provider,{value:y},E)}},67963:(z,l,e)=>{"use strict";e.d(l,{SE:()=>A,St:()=>x,aF:()=>N,dr:()=>M});var o=e(6400),f=e(30396),u=e(8479),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(L,K,Z)=>K in L?c(L,K,{enumerable:!0,configurable:!0,writable:!0,value:Z}):L[K]=Z,O=(L,K)=>{for(var Z in K||(K={}))y.call(K,Z)&&T(L,Z,K[Z]);if(E)for(var Z of E(K))p.call(K,Z)&&T(L,Z,K[Z]);return L},I=(L,K)=>g(L,v(K)),S=(L,K,Z)=>new Promise((J,q)=>{var ne=ie=>{try{W(Z.next(ie))}catch(he){q(he)}},F=ie=>{try{W(Z.throw(ie))}catch(he){q(he)}},W=ie=>ie.done?J(ie.value):Promise.resolve(ie.value).then(ne,F);W((Z=Z.apply(L,K)).next())}),_,d,s;const w=typeof window!="undefined"?(_=window._preloads)==null?void 0:_.user:null,P=(s=typeof window!="undefined"&&((d=window._preloads)==null?void 0:d.userSettings))!=null?s:{},x=(0,o.createContext)({user:w,setUser:()=>{},userSettings:P,changeSetting:()=>{}});x.displayName="UserContext";function M({defaultValue:L,userSettings:K,children:Z}){const[J,q]=(0,f.eJ)(L||w),[ne,F]=(0,f.eJ)(K!=null?K:P),W=(he,ye)=>S(this,null,function*(){if(!J)return;const fe=ne[he];F(I(O({},ne),{[he]:ye}));const ae=typeof ye=="boolean"?ye:void 0,oe=typeof ye=="string"?ye:void 0;try{yield(0,u.rd)("/api/v1/user-setting",{method:"PUT",json:{type:he,value_bool:ae,value_datetime:oe}})}catch(G){if(G instanceof u.kp)alert(G.getMessage()),F(re=>I(O({},re),{[he]:fe}));else throw G}}),ie=(0,f.Ye)(()=>({user:J,setUser:q,userSettings:ne,changeSetting:W}),[J,ne]);return(0,o.h)(x.Provider,{value:ie},Z)}function N(){return(0,f.qp)(x).user}function C(){return useContext(x).userSettings}function A(){return(0,f.qp)(x)}const k=L=>{const K=Z=>{const J=useContext(x);return h(L,O({user:J},Z))};return K.displayName=`withUserContext(${L.name||L.displayName||"Anonymous"})`,K}},46505:(z,l,e)=>{"use strict";e.d(l,{E:()=>c});var o=e(6400),f=e(32076),u=e(63270);const c=(0,o.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function g({isAmp:v,isFreeSubscribed:E,isFreemail:y,siteConfigValues:p,children:T,isPledged:O,publicationSettings:I}){return h(c.Provider,{value:{isStatic:!0,isAmp:v,isFreeSubscribed:E!==!1,isFreemail:y,siteConfigValues:p,isPledged:O}},h(SiteConfigsProvider,{siteConfigs:p},h(PublicationSettingsProvider,{settings:I},T)))}},18492:(z,l,e)=>{"use strict";e.d(l,{NS:()=>ze,_i:()=>it,zK:()=>Q,i$:()=>H,YF:()=>Me,Bj:()=>Ne,b9:()=>Be});var o=e(6400),f=e(94184),u=e.n(f),c=e(39693),g=e(32542),v=e(14531),E=e(6378),y=e(15045),p=e(83322),T=e(45809),O=e(89867),I=e(19696),S=e(68262),_=e(30396),d=e(46505),s=e(82626),w=e(43887);const P={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var x=Object.defineProperty,M=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,A=(ut,Et,Nt)=>Et in ut?x(ut,Et,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):ut[Et]=Nt,k=(ut,Et)=>{for(var Nt in Et||(Et={}))N.call(Et,Nt)&&A(ut,Nt,Et[Nt]);if(M)for(var Nt of M(Et))C.call(Et,Nt)&&A(ut,Nt,Et[Nt]);return ut},L=(ut,Et)=>{var Nt={};for(var $t in ut)N.call(ut,$t)&&Et.indexOf($t)<0&&(Nt[$t]=ut[$t]);if(ut!=null&&M)for(var $t of M(ut))Et.indexOf($t)<0&&C.call(ut,$t)&&(Nt[$t]=ut[$t]);return Nt};function K({pub:ut,upsell:Et,unsubscribe_url:Nt,unsubscribeOverrideText:$t,hasApp:Nn,hideStartWriting:Vt}){return h(Z,{upsell:Et,hasApp:Nn,hideStartWriting:Vt},h(ne,{pub:ut,unsubscribe_url:Nt,unsubscribeOverrideText:$t}))}function Z({upsell:ut,children:Et,hasApp:Nt,hideStartWriting:$t}){const Nn=`${getSubstackUrl()}/img/email/publish-button.png`;return h("div",{className:classnames("footer",css.footer)},!Nt&&ut&&h(Fragment,null,h("div",{className:css.footerSection},ut),h("div",{className:css.divider})),Et&&h("div",{style:{paddingBottom:24}},Et),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!ut&&!Nt&&h(F,null),!$t&&h("a",{href:Substitutions.START_WRITING_URL},h(W,{alt:"Start writing",src:Nn,pixelRatio:3,width:135,height:40}))))}function J({primary:ut,secondary:Et,replaceAppButtonsWithCTA:Nt}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},ut),h(Text.B4,{color:"secondary",style:{marginBottom:16}},Et),!Nt&&h("div",null,h(ie,{utm_source:"substack",utm_campaign:"app-marketing"}),h(he,{utm_source:"substack",utm_campaign:"app-marketing"})),Nt&&h("div",null,h(ThemedEmailButtonMod,{href:Nt.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},Nt.text)))}function q({children:ut}){return h("div",{className:classnames("footer")},ut)}function ne({pub:ut,unsubscribe_url:Et,unsubscribeOverrideText:Nt}){const $t=joinLines(ut.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,ut.copyright),$t&&$t.split(`
`).reduce((Nn,Vt)=>(Nn.push(h("br",null),Vt),Nn),[]),Et!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:Et||Substitutions.UNSUBSCRIBE_URL},h("span",null,Nt||"Unsubscribe")))])}function F(){return h("a",{href:getAppStoreRedirectUrl({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},h(W,{alt:"Get the app",src:`${getSubstackUrl()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function W(ut){var Et=ut,{src:Nt,pixelRatio:$t,width:Nn}=Et,Vt=L(Et,["src","pixelRatio","width"]);let rr;const{isAmp:Tr}=useContext(EmailRenderingContext);if(typeof URL=="undefined")rr=null;else{let cr;try{cr=new URL(Nt)}catch(Br){cr=new URL(getSubstackUrl()+Nt)}const Lr=Array($t).fill(0).map((Br,Cr)=>{if(Cr===0)return imginary(Nt,Nn);const Dt=new URL(cr),[Ft,zt]=Dt.pathname.split("."),sn=Cr+1;return Dt.pathname=`${Ft}@${sn}x.${zt}`,imginary(Dt.toString(),Nn*sn)});Tr?Nt=Lr[Lr.length-1]:(Nt=Lr[1]||Lr[0],rr=Lr.map((Br,Cr)=>Cr===0?Br:`${Br} ${Cr+1}x`).join(", "))}return h(Img,k({src:Nt,srcset:rr,width:Nn},Vt))}function ie({utm_campaign:ut,utm_source:Et}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:ut,utm_source:Et})},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function he({utm_campaign:ut,utm_source:Et}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:ut,utm_source:Et})},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const ye=({text:ut="Tweet",href:Et})=>h("a",{className:css.twitter,href:Et},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},ut));var fe=Object.defineProperty,ae=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,re=(ut,Et,Nt)=>Et in ut?fe(ut,Et,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):ut[Et]=Nt,se=(ut,Et)=>{for(var Nt in Et||(Et={}))oe.call(Et,Nt)&&re(ut,Nt,Et[Nt]);if(ae)for(var Nt of ae(Et))G.call(Et,Nt)&&re(ut,Nt,Et[Nt]);return ut},le=(ut,Et)=>{var Nt={};for(var $t in ut)oe.call(ut,$t)&&Et.indexOf($t)<0&&(Nt[$t]=ut[$t]);if(ut!=null&&ae)for(var $t of ae(ut))Et.indexOf($t)<0&&G.call(ut,$t)&&(Nt[$t]=ut[$t]);return Nt};const Ee="550",ve=ut=>{var Et=ut,{children:Nt,className:$t}=Et,Nn=le(Et,["children","className"]);return h("table",se({role:"presentation",className:$t,width:"auto"},Nn),Nt)},pe=({children:ut,className:Et,width:Nt=Ee})=>(0,o.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{className:"content",width:Nt}),(0,o.h)("td",null)),(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{align:"left",className:Et?`content ${Et}`:"content",width:Nt},(0,o.h)("div",null,ut)),(0,o.h)("td",null))),me=({text:ut})=>(0,o.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},ut," ","\xA0\u200C".repeat(200)),Ie=({children:ut,className:Et,description:Nt,title:$t="Email from Substack"})=>h("html",null,h("head",null,h("title",null,$t),h("meta",{charset:"utf-8"})),h("body",{className:Et},Nt&&h(me,{text:Nt}),ut)),_e=({title:ut,description:Et,children:Nt,bodyClassName:$t="email-body",className:Nn="",emailWidth:Vt=""})=>{const{isAmp:rr}=(0,_.qp)(d.E);return(0,o.h)("html",se({},{amp4email:rr?!0:void 0,"data-css-strict":rr?!0:void 0}),(0,o.h)("head",null,(0,o.h)("meta",{charset:"utf-8"}),!rr&&(0,o.h)("title",null,ut),rr&&(0,o.h)(o.Fragment,null,(0,o.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,o.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,o.h)("body",{className:$t},Et&&(0,o.h)(me,{text:Et}),(0,o.h)(pe,se({className:Nn},Vt&&{width:Vt}),Nt)))},de=({title:ut,description:Et,children:Nt,className:$t,width:Nn})=>h("html",null,h("head",null,h("title",null,ut),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},Et&&h(me,{text:Et}),h(pe,{className:$t,width:Nn},Nt))),Re=()=>{const ut=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},ut)},ke=({delta:ut,className:Et,withPercent:Nt})=>{const $t=ut<0?"negative":ut>0?"positive":"neutral";return $t==="neutral"?h("span",{className:`${Et} neutral`},"\u2013"):h("span",{className:`${Et} ${$t}`},$t==="positive"?`+${numberToString(ut)}${Nt?"%":""}`:`${numberToString(ut)}${Nt?"%":""}`)},Ve={EmailDocument:_e},Ge={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var Qe=Object.defineProperty,bt=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,Je=(ut,Et,Nt)=>Et in ut?Qe(ut,Et,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):ut[Et]=Nt,ft=(ut,Et)=>{for(var Nt in Et||(Et={}))xe.call(Et,Nt)&&Je(ut,Nt,Et[Nt]);if(We)for(var Nt of We(Et))rt.call(Et,Nt)&&Je(ut,Nt,Et[Nt]);return ut},je=(ut,Et)=>bt(ut,Ce(Et)),Rt=(ut,Et)=>{var Nt={};for(var $t in ut)xe.call(ut,$t)&&Et.indexOf($t)<0&&(Nt[$t]=ut[$t]);if(ut!=null&&We)for(var $t of We(ut))Et.indexOf($t)<0&&rt.call(ut,$t)&&(Nt[$t]=ut[$t]);return Nt};function Jt(ut){return h(Ct,je(ft({},ut),{unsubscribe_url:"%%unsubscribe_url%%"}))}function Ct({pub:ut=wwwPub,description:Et,noPromo:Nt,children:$t,noLogo:Nn,noFooter:Vt,unsubscribe_url:rr}){const Tr=(ut.id===0||!!getLogo(ut))&&!Nn;return h(Pe,{description:Et},h(H,{gap:16},compact([Tr&&h(PubIcon,{pub:ut.id===0?je(ft({},ut),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):ut,size:40}),$t,Vt?null:Nt?h(He,{pub:ut,unsubscribe_url:rr}):h(Le,{pub:ut,unsubscribe_url:rr}),h(SignatureFoldBreaker,null)])))}function Le(ut){var Et=ut,{pub:Nt,unsubscribe_url:$t}=Et,Nn=Rt(Et,["pub","unsubscribe_url"]);return Nt?h(EmailFooter,ft({pub:Nt,unsubscribe_url:$t==null?!1:$t},Nn)):null}function He({pub:ut,unsubscribe_url:Et}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:ut,unsubscribe_url:Et==null?!1:Et}))}function it({children:ut,href:Et,testId:Nt,tableClassName:$t,tdClassName:Nn,aClassName:Vt,alt:rr,download:Tr,target:cr,style:Lr}){return(0,o.h)(Me,{className:$t,style:Lr},(0,o.h)("tr",null,(0,o.h)("td",{className:Nn,align:"center"},Et?(0,o.h)("a",{href:Et,className:u()(Vt),"data-test-id":Nt,alt:rr,download:Tr,target:cr},ut):(0,o.h)("span",{className:Vt,"data-test-id":Nt},ut))))}function Ne(ut={children:"",noUnderline:!1}){return(0,o.h)(it,je(ft({},ut),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function Be(ut){var Et=ut,{fullWidth:Nt,priority:$t="primary",aClassName:Nn}=Et,Vt=Rt(Et,["fullWidth","priority","aClassName"]);return(0,o.h)(it,je(ft({},Vt),{tableClassName:Nt?Ge.fullWidth:void 0,aClassName:u()(Nt&&Ge.fullWidth,Ge.emailButtonA,Nn),tdClassName:u()(Nt&&Ge.fullWidth,Ge.emailButtonTd,Ge[`priority_${$t}`])}))}function ze({src:ut,size:Et,framed:Nt}){return(0,o.h)(O.Z,{className:u()(v.A.avatar,Ge.avatar,Nt&&Ge.framed),src:(0,y.imginary)(ut),style:{width:Et,height:Et,minWidth:Et,minHeight:Et,objectFit:"cover",margin:0,display:"inline"},width:Et,height:Et})}function lt({src:ut,size:Et}){return h(Img,{className:css.icon,src:imginary(ut),style:{width:Et,height:Et,minWidth:Et,minHeight:Et,objectFit:"cover",margin:0},width:Et,height:Et})}const et=(0,I.L)("email-text-button","a"),Ae=(0,I.L)("email-text-b4 email-text-secondary","div");function H({children:ut,gap:Et=0,style:Nt}){const $t=(0,o.toChildArray)(ut),Nn=[];for(const rr of $t.slice(0,-1))Nn.push((0,o.h)("tr",null,(0,o.h)("td",null,rr))),Et>0&&Nn.push((0,o.h)("tr",{height:Et},(0,o.h)("td",null)));const Vt=$t[$t.length-1];return Vt&&Nn.push((0,o.h)("tr",null,(0,o.h)("td",null,Vt))),(0,o.h)(Me,{style:Nt},Nn)}function Q({children:ut,gap:Et=0,style:Nt,verticalAlign:$t="middle"}){const Nn=(0,o.toChildArray)(ut),Vt=[];for(const Tr of Nn.slice(0,-1))Vt.push((0,o.h)("td",{style:{verticalAlign:$t}},Tr)),Et>0&&Vt.push((0,o.h)("td",{width:Et,style:`min-width: ${Et}px`}));const rr=Nn[Nn.length-1];return rr&&Vt.push((0,o.h)("td",{style:{verticalAlign:$t}},rr)),(0,o.h)(Me,{style:Nt},(0,o.h)("tr",null,Vt))}function ce({users:ut,post:Et,pub:Nt,user:$t}){return h(FormattedArray,{array:ut,limit:3,formatter:Nn=>h("a",{href:getReaderProfileUrl(Nn)},anonymousName(Nn,Et,Nt,$t))})}function Pe({children:ut,description:Et}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:Et},h(Me,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},ut),h("td",{style:{color:"transparent"}},"\xA0"))))}function Me(ut){var Et=ut,{children:Nt}=Et,$t=Rt(Et,["children"]);return(0,o.h)("table",ft({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},$t),Nt)}function $e(ut){var Et=ut,{src:Nt}=Et,$t=Rt(Et,["src"]);return h(Img,ft({src:getSubstackUrl()+Nt},$t))}function ct(){return h("div",{className:css.emailSeparator})}},9869:(z,l,e)=>{"use strict";e.d(l,{K:()=>x});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=e(84040),v=e(51126),E=e(44396),y=e(92630),p=e(25666);function T({text:M,icon:N}){const C=(0,E.XA)(),{layerProps:A,triggerProps:k,transitionProps:L,renderLayer:K,shouldShow:Z}=(0,p.l)();return{triggerProps:C||!M?null:k,layer:Z&&K((0,o.h)(y._,{transitionProps:L,tooltipProps:A,text:M,icon:N}))}}var O=e(28967),I=Object.defineProperty,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(M,N,C)=>N in M?I(M,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):M[N]=C,w=(M,N)=>{for(var C in N||(N={}))_.call(N,C)&&s(M,C,N[C]);if(S)for(var C of S(N))d.call(N,C)&&s(M,C,N[C]);return M},P=(M,N)=>{var C={};for(var A in M)_.call(M,A)&&N.indexOf(A)<0&&(C[A]=M[A]);if(M!=null&&S)for(var A of S(M))N.indexOf(A)<0&&d.call(M,A)&&(C[A]=M[A]);return C};const x=(0,f.forwardRef)((M,N)=>{var C=M,{className:A,active:k,disabled:L,permalink:K,tooltip:Z}=C,J=P(C,["className","active","disabled","permalink","tooltip"]);const q=T({text:Z});return(0,o.h)(v.hs,w({flex:"grow",justifyContent:K?"center":"start",alignItems:"center"},q.triggerProps),q.layer,(0,o.h)(g.kG,w({className:c()(O.Z.actionButton,A,k&&O.Z.active,L&&O.Z.disabled,K&&O.Z.permalink),resetCss:!0,ref:N,disabled:L},J)))})},63771:(z,l,e)=>{"use strict";e.d(l,{A4:()=>me,Bq:()=>Ee,Kk:()=>J.K,_x:()=>ve,ij:()=>Ie,s9:()=>le,uD:()=>pe,ve:()=>_e});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),g=e.n(c),v=e(31131),E=e(20501),y=e(83322),p=e(31517),T=e(26240),O=e(56838),I=e(67963),S=e(69371),_=e(55687),d=e(3258),s=e(39419),w=e.n(s),P=e(51126),x=e(76235),M=e(43887),N=e(41474),C=e(91870),A=e(50292),k=e(10174),L=e(33812),K=e(16742),Z=e(44396),J=e(9869),q=e(11132),ne=e(28967),F=Object.defineProperty,W=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,ae=(Ve,Ge,Qe)=>Ge in Ve?F(Ve,Ge,{enumerable:!0,configurable:!0,writable:!0,value:Qe}):Ve[Ge]=Qe,oe=(Ve,Ge)=>{for(var Qe in Ge||(Ge={}))ye.call(Ge,Qe)&&ae(Ve,Qe,Ge[Qe]);if(he)for(var Qe of he(Ge))fe.call(Ge,Qe)&&ae(Ve,Qe,Ge[Qe]);return Ve},G=(Ve,Ge)=>W(Ve,ie(Ge)),re=(Ve,Ge)=>{var Qe={};for(var bt in Ve)ye.call(Ve,bt)&&Ge.indexOf(bt)<0&&(Qe[bt]=Ve[bt]);if(Ve!=null&&he)for(var bt of he(Ve))Ge.indexOf(bt)<0&&fe.call(Ve,bt)&&(Qe[bt]=Ve[bt]);return Qe},se=(Ve,Ge,Qe)=>new Promise((bt,Ce)=>{var We=Je=>{try{rt(Qe.next(Je))}catch(ft){Ce(ft)}},xe=Je=>{try{rt(Qe.throw(Je))}catch(ft){Ce(ft)}},rt=Je=>Je.done?bt(Je.value):Promise.resolve(Je.value).then(We,xe);rt((Qe=Qe.apply(Ve,Ge)).next())});function le({item:Ve,pub:Ge,post:Qe,onLike:bt,permalink:Ce}){var We;const xe=(0,S.rI)(),rt=(0,q.F)(),Je=(0,k.i3)(),ft=(0,I.aF)(),{requireLogin:je}=(0,A.SJ)(),Rt=Re(Qe.id,{tabId:rt}),Jt=ke(Qe),Ct=!!Qe.reaction,Le=!Ge.community_enabled,He=!(0,y.commentsEnabledForPost)({publication:Ge,post:Qe}),it=(We=Qe.child_comment_count)!=null?We:0,Ne=ze=>se(this,null,function*(){if(ze.preventDefault(),!ft){je==null||je();return}const lt=!Qe.reaction;(yield Rt(Qe.id,lt))&&(bt==null||bt(lt),Ve&&(0,N.rw)(Ve,xe,"like",{tabId:rt}))}),Be=ze=>{if(ze.preventDefault(),!ft){je==null||je();return}Je.open({parentPubId:Qe.publication_id,parentPostId:Qe.id,tabId:rt}),Ve&&(0,N.rw)(Ve,xe,"comment",{tabId:rt})};return(0,o.h)(Ee,null,(0,o.h)(ve,{className:g()(ne.Z.like,ne.Z.likeButton,Jt===0&&ne.Z.shrink),active:Ct,disabled:Le,onClick:Ne,permalink:Ce},(0,o.h)(pe,{isLiked:Ct}),!Ce&&(0,o.h)(M.xv.Digit,{className:g()(ne.Z.digit,Jt===0&&ne.Z.hidden)},(0,_.u)(Math.max(Jt,1)))),(0,o.h)(J.K,{className:g()(ne.Z.reply,it===0&&ne.Z.shrink),disabled:He,onClick:Be,permalink:Ce},(0,o.h)(T.Z,{strokeWidth:Ce?2:2.5}),!Ce&&(0,o.h)(M.xv.Digit,{className:g()(ne.Z.digit,it===0&&ne.Z.hidden)},(0,_.u)(Math.max(it,1)))),(0,o.h)(me,{disabled:Le,pub:Ge,post:Qe,permalink:Ce}),(0,o.h)(_e,{publication:Ge,post:Qe,item:Ve,twitterText:(0,y.resolveTwitterShareText)({pub:Ge,post:Qe}),permalink:Ce}))}function Ee(Ve){const Ge=(0,Z.XA)();return(0,o.h)(P.hs,oe({flex:"grow",justifyContent:Ge?"space-between":"start",className:ne.Z.actionRow},Ve))}function ve(Ve){var Ge=Ve,{className:Qe,onClick:bt}=Ge,Ce=re(Ge,["className","onClick"]);const[We,xe]=(0,u.eJ)(!1),rt=Je=>{xe(!0),bt==null||bt(Je)};return(0,o.h)(J.K,G(oe({},Ce),{onClick:rt,className:g()(Qe,Ce.permalink&&ne.Z.permalink,We&&ne.Z.clickedOnce)}))}function pe({isLiked:Ve}){return(0,o.h)("div",{className:g()(ne.Z.heartWrapper,Ve&&ne.Z.isLiked)},(0,o.h)("svg",{className:ne.Z.heart,width:"24",height:"24",viewBox:"0 0 24 24"},(0,o.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),(0,o.h)("div",{className:ne.Z.sparks,style:"--total-sparks: 8"},Array(8).fill(0).map((Qe,bt)=>(0,o.h)("div",{className:ne.Z.spark,style:`--i: ${bt+1};`}))))}function me({pub:Ve,post:Ge,comment:Qe,rootComment:bt,onOpen:Ce,permalink:We,disabled:xe}){const rt=(0,q.F)(),{canRestack:Je,isRestacked:ft,restacks:je,menuItems:Rt,nuxModal:Jt}=(0,K.K)({pub:Ve,post:Ge,comment:Qe,tabId:rt});return Je?(0,o.h)(o.Fragment,null,Jt,(0,o.h)(x.v2,{trigger:(0,o.h)(Ie,{restacks:je,"aria-label":"menu",active:ft,disabled:xe,permalink:We}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",onOpen:()=>Ce==null?void 0:Ce(ft)},Rt)):null}const Ie=(0,f.forwardRef)((Ve,Ge)=>{var Qe=Ve,{permalink:bt,restacks:Ce}=Qe,We=re(Qe,["permalink","restacks"]);return(0,o.h)(J.K,oe({className:g()(ne.Z.restack,Ce===0&&ne.Z.shrink),"aria-label":"restack-menu",permalink:bt,ref:Ge},We),(0,o.h)(p.Z,{strokeWidth:bt?2:2.5}),!bt&&(0,o.h)(M.xv.Digit,{className:g()(ne.Z.digit,Ce===0&&ne.Z.hidden)},(0,_.u)(Math.max(Ce,1))))});function _e({publication:Ve,post:Ge,comment:Qe,item:bt,twitterText:Ce,permalink:We}){const xe=(0,S.rI)(),rt=(0,q.F)(),Je=(0,I.aF)(),ft=Je?Je.id.toString(36):void 0,je=Qe?(0,E.getFeedCommentUrl)(Qe,{urlParams:{utm_source:"notes-share-action",r:ft}}):Ge?(0,E.getFeedShortPostUrl)(Ve,Ge,{urlParams:{utm_source:"notes-share-action",r:ft}}):null,Rt=(0,L.wg)({url:je,twitterText:Ce,onLinkClicked:Ct=>{(0,d.j)(d.FP.FEED_ITEM_SHARE_LINK_CLICKED,{type:Ct,shared_post_id:Ge==null?void 0:Ge.id,shared_comment_id:Qe==null?void 0:Qe.id})},comment:Qe}),Jt=()=>{bt&&(0,N.rw)(bt,xe,"share",{tabId:rt})};return(0,o.h)(x.v2,{trigger:(0,o.h)(de,{permalink:We}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350,onOpen:Jt},Rt)}const de=(0,f.forwardRef)(({onClick:Ve,permalink:Ge},Qe)=>(0,o.h)(J.K,{"aria-label":"share",onClick:Ve,permalink:Ge,className:ne.Z.share,ref:Qe},(0,o.h)(v.Z,{strokeWidth:Ge?2:2.5})));function Re(Ve,{tabId:Ge}={}){const Qe=(0,C.I0)(),bt=(0,O.sV)();return(Ce,We)=>se(this,null,function*(){Qe({type:"post_like",payload:{postId:Ce,isLiked:We}});try{return yield bt(Ce,We,{tabId:Ge}),!0}catch(xe){return Qe({type:"post_like",payload:{postId:Ce,isLiked:!We}}),alert((0,s.getNetworkErrorMessage)(xe)),!1}})}function ke(Ve){var Ge;return(Ge=Ve.reactions["\u2764"])!=null?Ge:0}},65024:(z,l,e)=>{"use strict";e.d(l,{y:()=>re,k:()=>_e});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(27484),v=e.n(g),E=e(65445),y=(de=>(de.Removed="removed",de.Unavailable="unavailable",de.BlockedYou="blocked-you",de.YouBlocked="you-blocked",de.YouMuted="you-muted",de))(y||{});function p(de){return de.type==="missing"}var T=e(20501),O=e(85344),I=e(79786),S=e(84040),_=e(51126),d=e(43887),s=e(10186),w=e(41474),P=e(73413),x=e(44396),M=e(224),N=e(66337),C=e(2564),A=e(6385),k=e(80332),L=e(16527),K=e(70762),Z=e(62017),J=e(28967);const q="notes_quote_attachment";function ne({attachment:de,readOnly:Re,onClick:ke}){const Ve=(0,x.XA)(),{postSelection:Ge,post:Qe,publication:bt,author:Ce}=de,We=Ce!=null?Ce:(0,A.getPostAuthor)(bt,Qe),xe=(0,K._)({publication:bt,subscriptionSource:q,publicationName:bt.name}),rt=(0,o.h)(s.qE,{size:36,user:We});return(0,o.h)(_.tu,{className:J.Z.quote,as:Re?"div":"a",border:"detail",radius:12,onClick:Je=>{ke&&ke(),!Ve&&P.L&&!Re&&(0,L.Q)(Je,(0,T.getPostUrl)(bt,Qe,{noBase:!Ve,feedViewer:!Ve,urlParams:{selection:Ge.id}}))},href:Re?void 0:(0,T.getPostUrl)(bt,Qe,{feedViewer:!1,urlParams:{selection:Ge.id}})},(0,o.h)(_.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,o.h)(d.xv,{font:"serif",className:c()(J.Z.quoteText,Ve&&J.Z.mobile)},"\u201C",F(Ge.text),"\u201D")),(0,o.h)(_.hs,{className:J.Z.quoteBottom,alignItems:"center",paddingX:Ve?12:16,paddingY:Ve?8:12,gap:12},(0,o.h)(_.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},Re?rt:(0,o.h)(k.Ct,{subject:We,dontStopPropagation:!0,utmSource:"feed"},rt),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(d.xv.B4,{weight:"medium",ellipsis:!0},Re?We.name:(0,o.h)(Z.Zg,{user:We,ellipsis:!0,utm_source:q})),(0,o.h)(_.hs,{gap:6,minWidth:0},(0,o.h)(d.xv.B4,{color:"secondary",ellipsis:!0},Qe.title),xe.showCta&&(0,o.h)(o.Fragment,null,(0,o.h)(d.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,o.h)(d.xv.B4,{color:xe.isSubscribed?"secondary":"substack"},(0,o.h)(Z.hh,{href:"javascript:void",onClick:Re?void 0:xe.isSubscribed?xe.unsubscribe:xe.subscribe},xe.isSubscribed?"Subscribed":"Subscribe")))))),(0,o.h)(C.Z,{size:24,color:"var(--color-secondary)"})))}function F(de){return de.replace(/[]/g,"\u2018").replace(/[]/g,"\u2019").replace(/["]/g,"'")}var W=e(11132),ie=e(4070),he=Object.defineProperty,ye=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,oe=(de,Re,ke)=>Re in de?he(de,Re,{enumerable:!0,configurable:!0,writable:!0,value:ke}):de[Re]=ke,G=(de,Re)=>{for(var ke in Re||(Re={}))fe.call(Re,ke)&&oe(de,ke,Re[ke]);if(ye)for(var ke of ye(Re))ae.call(Re,ke)&&oe(de,ke,Re[ke]);return de};function re({attachments:de,readOnly:Re,isRestack:ke,onAttachmentClick:Ve,utm_content:Ge}){if(de.length===0)return null;const Qe=de.filter(Ce=>Ce.type==="image"),bt=de.filter(Ce=>Ce.type!=="image");return(0,o.h)(o.Fragment,null,Qe.length>0&&(0,o.h)(O.q,{readOnly:Re,isRestack:ke,assets:Qe.map(Ce=>Ce.imageUrl)}),bt.map(Ce=>(0,o.h)(se,{attachment:Ce,readOnly:Re,isRestack:ke,onAttachmentClick:Ve,utm_content:Ge})))}function se({attachment:de,readOnly:Re,isRestack:ke,onAttachmentClick:Ve,utm_content:Ge}){var Qe;return p(de)?(0,o.h)(Ee,{attachment:de,readOnly:Re,isRestack:ke,onAttachmentClick:Ve,utm_content:Ge}):de.type==="image"?(0,o.h)(O.q,{readOnly:Re,isRestack:ke,assets:[de.imageUrl],onClick:Ve}):de.type==="link"?(0,o.h)(me,G({readOnly:Re,onClick:Ve},de.linkMetadata)):de.type==="comment"?(0,o.h)(ve,{readOnly:Re,publication:(Qe=de.publication)!=null?Qe:void 0,post:de.post,comment:de.comment,onAttachmentClick:Ve,utm_content:Ge}):de.type==="post"?de.postSelection?(0,o.h)(ne,{readOnly:Re,attachment:de,onClick:Ve}):(0,o.h)(N.I,{readOnly:Re,publication:de.publication,post:de.post,onClick:Ve}):de.type==="publication"?(0,o.h)(pe,{readOnly:Re,publication:de.publication,onClick:Ve}):(0,o.h)(le,{attachment:de})}function le({attachment:de}){return(0,o.h)(_.hs,null)}function Ee({attachment:de,readOnly:Re,isRestack:ke,onAttachmentClick:Ve,utm_content:Ge}){const Qe=(0,W.F)(),bt=[y.YouBlocked,y.YouMuted].includes(de.reason)&&!!de.hidden_attachment,[Ce,We]=(0,f.eJ)(!1);return Ce&&de.hidden_attachment?(0,o.h)(se,{attachment:de.hidden_attachment,readOnly:Re,isRestack:ke,onAttachmentClick:Ve,utm_content:Ge}):(0,o.h)(_.hs,{bg:"elevated",border:"detail",justifyContent:bt?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,o.h)(d.xv.B4,{color:"secondary",align:"center"},de.reason===y.YouBlocked?"This note is from someone you blocked.":de.reason===y.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),bt&&(0,o.h)(S.kG,{resetCss:!0,onClick:()=>{var xe;(0,w.Kr)(de.id,de.reason,{noteId:(xe=de.hidden_attachment)==null?void 0:xe.id}),We(!0)}},(0,o.h)(d.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function ve({comment:de,publication:Re,readOnly:ke,onAttachmentClick:Ve,utm_content:Ge}){var Qe,bt,Ce;const{truncatedBodyJson:We}=(0,ie.Z)(de,{limit:280,triggerLimit:280});return(0,o.h)(_.tu,{className:J.Z.post,as:ke?"div":"a",bg:"elevated",border:"detail",radius:12,href:ke?void 0:(0,T.getFeedCommentUrl)(de),onClick:()=>Ve==null?void 0:Ve({commentId:de.id}),padding:12,gap:8},(0,o.h)(_.hs,{gap:8,alignItems:"center"},(0,o.h)("a",{href:(0,T.getReaderProfileUrl)(de.user,{noBase:P.L,utm_content:"substack-feed-item",utm_source:Ge!=null?Ge:void 0})},(0,o.h)(s.qE,{size:20,user:de.user})),(0,o.h)(_.hs,{alignItems:"center",gap:8},(0,o.h)(d.xv.B4,{weight:"medium"},ke?de.user.name:(0,o.h)(Z.xG,{user:de.user,utm_source:"substack-feed-item",utm_content:Ge},de.user.name)),(0,o.h)(Ie,{comment:de}))),de.body&&(0,o.h)(d.xv.B4,{className:J.Z.feedCommentBodyInner},de.hidden?Re&&(0,o.h)("i",null,"This comment is only visible to paid subscribers of"," ",Re.name):We&&(0,o.h)(M.x,{content:We})),((bt=(Qe=de.attachments)==null?void 0:Qe.length)!=null?bt:0)>0&&(0,o.h)(re,{isRestack:!0,attachments:(Ce=de.attachments)!=null?Ce:[],onAttachmentClick:Ve,utm_content:Ge}))}function pe({publication:de,readOnly:Re,onClick:ke}){var Ve;return(0,o.h)(me,{image:(Ve=de.logo_url)!=null?Ve:void 0,title:de.name,description:de.hero_text,url:de.base_url,onClick:ke,host:de.base_url.replace(/^https?:\/\//,""),readOnly:Re})}function me({image:de,title:Re,description:ke,url:Ve,host:Ge,readOnly:Qe,onClick:bt}){const Ce=(0,x.XA)();return(0,o.h)(_.hs,{className:J.Z.post,padding:12,gap:12,as:Qe?"div":"a",bg:"elevated",border:"detail",radius:12,href:Qe?void 0:Ve,onClick:bt,rel:"nofollow noopener ugc",target:"_blank"},(0,o.h)(_.tu,{gap:2,flex:"grow",minWidth:0},(0,o.h)(d.xv.Meta,{color:"secondary",ellipsis:!0},Ge),Ce?(0,o.h)(d.xv.B4,{clamp:1},Re):(0,o.h)(d.xv.B3,{clamp:2,weight:"medium"},Re),ke&&(0,o.h)(d.xv.B4,{as:"p",color:"secondary",clamp:Ce?1:2},ke)),de&&(0,o.h)(I.e,{className:c()(J.Z.linkImage,Ce&&J.Z.mobile),src:de,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}),!de&&(0,o.h)(_.hs,{alignItems:"center",justifyContent:"center",radius:12,className:c()(J.Z.linkImage,J.Z.linkImagePlaceholder,Ce&&J.Z.mobile)},(0,o.h)(E.Z,null)))}function Ie({post:de,comment:Re}){return(0,o.h)(d.xv.B4,{color:"secondary"},v()((Re==null?void 0:Re.date)||(de==null?void 0:de.post_date)).fromNowShort())}function _e(de){var Re;switch(de.type){case"post":return de.postSelection?(0,T.getPostUrl)(de.publication,de.post,{urlParams:{selection:de.postSelection.id}}):de.post.canonical_url;case"comment":return(0,T.getFeedCommentUrl)(de.comment);case"publication":return de.publication.base_url;case"link":return(Re=de.linkMetadata.url)!=null?Re:null;default:return null}}},224:(z,l,e)=>{"use strict";e.d(l,{x:()=>d});var o=e(6400),f=e(36487),u=e(80332),c=e(44695),g=e(2731);function v({id:w,label:P,type:x,url:M}){return(0,o.h)("span",{className:"node-substack_mention"},x==="pub"?(0,o.h)(y,{id:w,url:M,label:P}):(0,o.h)(E,{id:w,label:P}))}function E({id:w,label:P}){return(0,o.h)(u.Ct,{inline:!0,subject:{id:w,name:P}},(0,o.h)("a",{className:"substack-mention",href:(0,g.getProfileUrlById)(w,P)},"@",P))}function y({id:w,url:P,label:x}){return(0,o.h)(c.Sm,{publication_id:w,inline:!0},(0,o.h)("a",{className:"substack-mention",href:P},"@",x))}var p=Object.defineProperty,T=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,S=(w,P,x)=>P in w?p(w,P,{enumerable:!0,configurable:!0,writable:!0,value:x}):w[P]=x,_=(w,P)=>{for(var x in P||(P={}))O.call(P,x)&&S(w,x,P[x]);if(T)for(var x of T(P))I.call(P,x)&&S(w,x,P[x]);return w};function d({content:w}){return(0,o.h)(s,{content:w})}function s({content:w}){var P,x,M,N,C;if(w.type==="text"){const k=(M=(x=(P=w.marks)==null?void 0:P.find(Z=>Z.type==="link"))==null?void 0:x.attrs)==null?void 0:M.href,L=k?(0,f.u)(k):w.text;let K=(0,o.h)(o.Fragment,null,L);if(w.marks)for(const Z of w.marks)Z.type==="link"?K=(0,o.h)("a",_({className:"note-link"},Z.attrs),K):Z.type==="bold"?K=(0,o.h)("strong",null,K):Z.type==="italic"?K=(0,o.h)("em",null,K):Z.type==="strike"?K=(0,o.h)("s",null,K):Z.type==="code"&&(K=(0,o.h)("code",null,K));return K}const A=(N=w.content)==null?void 0:N.filter(k=>!!k).map(k=>(0,o.h)(s,{content:k}));if(w.type==="substack_mention"){const{id:k,label:L,mentionType:K,url:Z}=(C=w.attrs)!=null?C:{};return k&&L?(0,o.h)(v,{id:k,label:L,type:K,url:Z}):null}return w.type==="doc"?(0,o.h)("div",{className:"ProseMirror FeedProseMirror"},A):w.type==="paragraph"?(0,o.h)("p",null,A):w.type==="blockquote"?(0,o.h)("blockquote",null,A):w.type==="codeBlock"?(0,o.h)("pre",null,(0,o.h)("code",null,A)):w.type==="orderedList"?(0,o.h)("ol",null,A):w.type==="bulletList"?(0,o.h)("ul",null,A):w.type==="listItem"?(0,o.h)("li",null,A):null}},51731:(z,l,e)=>{"use strict";e.d(l,{WS:()=>_e,bN:()=>Ve});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(6385),v=e(81470),E=e(70444),y=e(20501),p=e(83322),T=e(26240),O=e(29820),I=e(80332),S=e(58718),_=e(63270),d=e(67963),s=e(65024),w=e(69371),P=e(55687),x=e(62017),M=e(50670),N=e(4070),C=e(8479),A=e(39419),k=e.n(A),L=e(51126),K=e(43887),Z=e(41474),J=e(91870),q=e(73413),ne=e(50292),F=e(10174),W=e(44695),ie=e(70762),he=e(63771),ye=e(224),fe=e(29800),ae=e(75309),oe=e(8796),G=e(11132),re=e(28967),se=Object.defineProperty,le=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,pe=(Ce,We,xe)=>We in Ce?se(Ce,We,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ce[We]=xe,me=(Ce,We)=>{for(var xe in We||(We={}))Ee.call(We,xe)&&pe(Ce,xe,We[xe]);if(le)for(var xe of le(We))ve.call(We,xe)&&pe(Ce,xe,We[xe]);return Ce},Ie=(Ce,We,xe)=>new Promise((rt,Je)=>{var ft=Jt=>{try{Rt(xe.next(Jt))}catch(Ct){Je(Ct)}},je=Jt=>{try{Rt(xe.throw(Jt))}catch(Ct){Je(Ct)}},Rt=Jt=>Jt.done?rt(Jt.value):Promise.resolve(Jt.value).then(ft,je);Rt((xe=xe.apply(Ce,We)).next())});function _e({comment:Ce,item:We,isParent:xe,showReplyingTo:rt,showContext:Je,utm_content:ft,parentCommentUserId:je}){var Rt,Jt,Ct,Le,He,it,Ne;const Be=(0,d.aF)(),{getConfigFor:ze}=(0,_.xR)(),lt=!!ze("hidden_replies_ui_enabled"),et=(0,w.rI)(),Ae=(0,G.F)(),H=()=>(0,Z.rw)(We,et,"profile",{tabId:Ae}),Q=!Ce.ancestor_path,ce=We.publication&&We.post&&(0,g.getPostAuthor)(We.publication,We.post);let Pe=null;if(!Q){const ct=(Rt=Ce.ancestor_path)==null?void 0:Rt.split(".").pop(),ut=ct&&Number(ct);Pe=(Ct=(Jt=We.parentComments)==null?void 0:Jt.find(Et=>(Et==null?void 0:Et.id)===ut))!=null?Ct:null}const Me=ct=>{if(!ct.defaultPrevented){(0,Z.rw)(We,et,"item",{tabId:Ae});const ut=(0,y.getFeedCommentUrl)(Ce,{noBase:!Ce.hidden&&q.L});(0,A.redirect)(Ce.hidden&&We.publication?(0,y.getSubscribeUrl)(We.publication,{addBase:!0,params:{next:ut}}):ut,{event:ct,newTab:!!Ce.hidden,local_navigation:!Ce.hidden})}},$e=(0,g.getCommentAuthor)(Ce);return(0,o.h)(M.oM,{showGutter:xe,hasContext:Je,onClick:Me},(0,o.h)(oe.n,{userId:$e==null?void 0:$e.id,comment:Ce},(Je||!xe&&["comment_like","comment_top","comment_restack"].includes(We.context.type))&&(0,o.h)(fe.L,{context:We.context,onClick:()=>(0,Z.rw)(We,et,"context",{tabId:Ae}),utm_content:ft}),(0,o.h)(L.hs,{gap:12},(0,o.h)(M.Fb,{user:$e,onClick:H,utm_content:ft,desaturate:lt&&((Le=We.comment)==null?void 0:Le.hide_reply)}),(0,o.h)(L.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(L.tu,{gap:12},(0,o.h)(L.tu,null,(0,o.h)(L.tu,null,(0,o.h)(ae.Ev,{user:$e,post:(He=We.post)!=null?He:void 0,comment:Ce,onClick:H,utm_content:ft,publication:(it=We.publication)!=null?it:void 0,item:We,parentCommentUserId:je}),rt&&(Q&&ce||!Q&&Pe)?(0,o.h)(K.xv.Detail,null,"Replying to"," ",(0,o.h)(I.Ct,{subject:Q?ce:Pe?{id:Pe.user_id,user_id:Pe.user_id,name:Pe.name,photo_url:Pe.photo_url}:ce,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(x.hh,{href:Q?(0,y.getFeedShortPostUrl)(We.publication,We.post,{noBase:q.L}):(0,y.getFeedCommentUrl)(Pe,{noBase:q.L})},(Ne=Q?ce:Pe)==null?void 0:Ne.name))):Be&&Be.id!==Ce.user_id&&(0,o.h)(de,{comment:Ce})),Ce.body&&(0,o.h)(Ve,{comment:Ce,publication:We.publication})),Ce.attachments&&(0,o.h)(s.y,{attachments:Ce.attachments,onAttachmentClick:({commentId:ct}={})=>{(0,Z.rw)(We,v.Uo.PostEmbed,"attachment",{extraEventProps:{tabId:Ae,commentId:ct}})},utm_content:ft})),!Ce.hidden&&(0,o.h)(bt,{item:We,comment:Ce})))))}function de({comment:Ce}){var We;const xe=(0,g.getCommentAuthor)(Ce),rt=(0,ie._)({user:xe,publicationName:(We=xe.primary_publication)==null?void 0:We.name,subscriptionSource:"substack-feed-item",sourceNoteId:(0,E.It)(Ce.id)});return!xe.primary_publication||!rt.showCta?null:(0,o.h)(L.hs,{gap:4},(0,o.h)(o.Fragment,null,(0,o.h)(K.xv.Detail,{ellipsis:!0},(0,o.h)(ke,{publication:xe.primary_publication})),(0,o.h)(K.xv.Detail,{color:"secondary"},"\u2219")),(0,o.h)(K.xv.Detail,{color:rt.isSubscribed?"secondary":"substack"},(0,o.h)(x.hh,{onClick:rt.isSubscribed?rt.unsubscribe:rt.subscribe},rt.isSubscribed?"Subscribed":"Subscribe")))}function Re({comment:Ce}){const{isFollowing:We,toggle:xe}=useFeedFollowState(getCommentAuthor(Ce));return h(Text.Detail,{color:We?"secondary":"substack"},h(TextLink,{onClick:xe},We?"Following":"Follow"))}function ke({publication:Ce}){return(0,o.h)(o.Fragment,null,(0,o.h)(W.Sm,{publication_id:Ce.id,utmSource:"feed",inline:!0},(0,o.h)(x.hh,{href:(0,y.getBaseUrl)(Ce),target:"_blank"},Ce.name)))}function Ve({comment:Ce,publication:We,large:xe}){const{bodyJson:rt,truncatedBodyJson:Je,isTruncated:ft}=(0,N.Z)(Ce),[je,Rt]=(0,f.eJ)(xe||!ft),Jt=Le=>{Le.preventDefault(),Rt(!0)},Ct=je?rt:Je;return(0,o.h)(L.tu,{className:re.Z.feedCommentBody},(0,o.h)(M.sP,{large:xe},Ce.hidden?(0,o.h)(Ge,{pub:We}):Ct&&(0,o.h)(ye.x,{key:je,content:Ct})),!je&&(0,o.h)(Qe,{onClick:Jt,large:xe}))}function Ge({pub:Ce}){return(0,o.h)(o.Fragment,null,(0,o.h)("i",null,"This comment is only visible to paid subscribers of ",Ce==null?void 0:Ce.name),(0,o.h)("br",null),(0,o.h)("b",null,"Subscribe to view \u2192"))}function Qe(Ce){return(0,o.h)(L.hs,{className:re.Z.seeMore},(0,o.h)(L.hs,{className:re.Z.seeMoreFade}),Ce.large?(0,o.h)(K.xv.B2,{color:"accent-blue",className:re.Z.seeMoreText},(0,o.h)(x.hh,me({},Ce),"See more...")):(0,o.h)(K.xv.B3,{color:"accent-blue",className:re.Z.seeMoreText},(0,o.h)(x.hh,me({},Ce),"See more...")))}function bt({item:Ce,comment:We,permalink:xe}){var rt,Je;const ft=(0,w.rI)(),je=(0,G.F)(),Rt=(0,J.I0)(),Jt=(0,F.i3)(),Ct=(0,d.aF)(),{requireLogin:Le}=(0,ne.SJ)(),{publication:He,post:it}=Ce,Ne=!!(it&&He&&!(0,p.commentsEnabledForPost)({publication:He,post:it})),Be=!!(it&&He&&!(0,p.restacksEnabledForPost)({publication:He,post:it})),ze=We.reaction_count||0,lt=(0,C.ib)({pathname:`/api/v1/comment/${We.id}/reaction`,method:"POST"}),et=!!We.reaction,Ae=()=>{Le==null||Le()},H=(rt=Ce.parentComments[0])!=null?rt:We,Q=(0,F.oC)(Ce),ce=Me=>{var $e,ct;if(Me.preventDefault(),!Ct){Ae();return}Jt.open({feedItem:Ce,parentPubId:($e=We.publication_id)!=null?$e:void 0,parentPostId:(ct=We.post_id)!=null?ct:void 0,parentCommentId:We.id,tabId:je}),(0,Z.rw)(Ce,ft,"comment",{tabId:je,extraEventProps:{reply_requirement:Q,reply_locked:!!Q}})},Pe=Me=>Ie(this,null,function*(){if(Me.preventDefault(),!Ct){Ae();return}const $e=!et;Rt({type:"comment_like",payload:{commentId:We.id,isLiked:$e}});try{yield lt.refetch({method:$e?"POST":"DELETE",json:{publication_id:(He==null?void 0:He.id)||null,reaction:"\u2764",tabId:je}})}catch(ct){Rt({type:"comment_like",payload:{commentId:We.id,isLiked:!$e}}),alert((0,A.getNetworkErrorMessage)(ct));return}(0,Z.rw)(Ce,ft,"like",{tabId:je})});return(0,o.h)(he.Bq,null,(0,o.h)(he._x,{className:c()(re.Z.like,re.Z.likeButton,ze===0&&re.Z.shrink),active:et,disabled:!1,onClick:Pe,permalink:xe},(0,o.h)(he.uD,{isLiked:et}),!xe&&(0,o.h)(K.xv.Digit,{className:c()(re.Z.digit,ze===0&&re.Z.hidden)},(0,P.u)(Math.max(ze,1)))),(0,o.h)(he.Kk,{className:c()(re.Z.reply,!We.children_count&&re.Z.shrink),disabled:Ne,onClick:ce,permalink:xe,tooltip:Q==="paid_subscriber"?"Only paid subscribers can reply.":Q==="free_subscriber"?"Only subscribers can reply.":void 0},Q?(0,o.h)(O.Z,{strokeWidth:xe?2:2.5}):(0,o.h)(T.Z,{strokeWidth:xe?2:2.5}),!xe&&(0,o.h)(K.xv.Digit,{className:c()(re.Z.digit,!We.children_count&&re.Z.hidden)},(0,P.u)(Math.max(We.children_count||0,1)))),Ct?(0,o.h)(he.A4,{pub:He!=null?He:void 0,post:it!=null?it:void 0,comment:We,rootComment:H,disabled:Be,permalink:xe,onOpen:Me=>(0,Z.rw)(Ce,ft,"restack",{tabId:je,extraEventProps:{isRestacked:Me}})}):(0,o.h)(he.ij,{permalink:xe,restacks:(Je=We.restacks)!=null?Je:0,disabled:Be,onClick:Ae}),(0,o.h)(he.ve,{publication:He!=null?He:void 0,post:it!=null?it:void 0,comment:We,item:Ce,permalink:xe}))}},60779:(z,l,e)=>{"use strict";e.d(l,{w:()=>f});var o=e(6400);function f({size:u=20,stroke:c="var(--color-light-secondary)"}){return(0,o.h)("svg",{width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:c,xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(z,l,e)=>{"use strict";e.d(l,{$:()=>I});var o=e(6400),f=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(S,_,d)=>_ in S?f(S,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):S[_]=d,p=(S,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(S,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(S,d,_[d]);return S},T=(S,_)=>u(S,c(_)),O=(S,_)=>{var d={};for(var s in S)v.call(S,s)&&_.indexOf(s)<0&&(d[s]=S[s]);if(S!=null&&g)for(var s of g(S))_.indexOf(s)<0&&E.call(S,s)&&(d[s]=S[s]);return d};function I(S){var _=S,{size:d=20,stroke:s="var(--color-light-secondary)"}=_,w=O(_,["size","stroke"]);return(0,o.h)("svg",T(p({},w),{width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},29696:(z,l,e)=>{"use strict";e.d(l,{Bm:()=>Re,O3:()=>Ve});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),g=e.n(c),v=e(9528),E=e(56743),y=e(2564),p=e(6385),T=e(81470),O=e(70444),I=e(20501),S=e(63270),_=e(67963),d=e(51731),s=e(69371),w=e(29800),P=e(75309),x=e(8796),M=e(66337),N=e(11132),C=e(62017),A=e(50670),k=e(66141),L=e(16527),K=e(6742),Z=e(39419),J=e(84040),q=e(51126),ne=e(43887),F=e(5131),W=e(41474),ie=e(55337),he=e(73413),ye=e(33510),fe=e(44396),ae=e(63771);const oe={table:"frontend-feed-RankingSignalsTable-module__table--HAGt0"};function G({signals:je}){return(0,o.h)("table",{className:oe.table},(0,o.h)("tr",null,(0,o.h)("td",{colSpan:2},(0,o.h)(ne.xv.Meta,null,"\u2193\u2193 Signals for the item below \u2193\u2193"))),je.map(({key:Rt,value:Jt})=>(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(ne.xv.Meta,null,Rt)),(0,o.h)("td",null,(0,o.h)(ne.xv.Meta,{color:"primary"},Jt)))))}var re=e(28967),se=Object.defineProperty,le=Object.defineProperties,Ee=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,Ie=(je,Rt,Jt)=>Rt in je?se(je,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Jt}):je[Rt]=Jt,_e=(je,Rt)=>{for(var Jt in Rt||(Rt={}))pe.call(Rt,Jt)&&Ie(je,Jt,Rt[Jt]);if(ve)for(var Jt of ve(Rt))me.call(Rt,Jt)&&Ie(je,Jt,Rt[Jt]);return je},de=(je,Rt)=>le(je,Ee(Rt));function Re({item:je,showSignals:Rt}){const Jt=Ge[je.type];return Jt?(0,o.h)(Jt,{item:je,showSignals:Rt}):null}function ke({item:je,children:Rt}){const Jt=(0,u.sO)(null),Ct=(0,s.rI)(),Le=(0,u.qp)(N.q);return(0,K.UM)(Jt,()=>(0,W.zi)(je,Ct,{tabId:Le}),{threshold:.2}),(0,o.h)(Ve,{ref:Jt},Rt)}const Ve=(0,f.forwardRef)((je,Rt)=>(0,o.h)(q.tu,de(_e({},je),{className:re.Z.feedItem,gap:4,ref:Rt}))),Ge={post:Qe,comment:Ce,userSuggestions:xe,twitterConnect:rt,facebookConnect:Je,inviteFriends:ft};function Qe({item:je,showSignals:Rt}){var Jt,Ct,Le;const He=(0,s.rI)(),it=(0,u.qp)(N.q);return(0,o.h)(ke,{item:je},Rt&&((Ct=(Jt=je.signals)==null?void 0:Jt.length)!=null?Ct:0)>0&&(0,o.h)(G,{signals:(Le=je.signals)!=null?Le:[]}),(0,o.h)(bt,{item:je,context:(0,o.h)(w.L,{context:je.context,onClick:()=>(0,W.rw)(je,He,"context",{tabId:it}),utm_content:je.entity_key})}))}function bt({item:je,showGutter:Rt,context:Jt}){const{publication:Ct,post:Le}=je,He=Ct&&Le?(0,p.getPostAuthor)(Ct,Le):void 0,it=(0,s.rI)(),Ne=(0,u.qp)(N.q),Be=()=>(0,W.rw)(je,it,"profile",{tabId:Ne});return!Ct||!Le||!He?null:(0,o.h)(A.oM,{onClick:ze=>{(0,W.rw)(je,it,"item",{tabId:Ne}),(0,Z.redirect)((0,I.getFeedShortPostUrl)(Ct,Le,{noBase:he.L}),{event:ze})},showGutter:Rt,hasContext:!!Jt},(0,o.h)(x.n,{userId:He==null?void 0:He.id},Jt,(0,o.h)(q.hs,{gap:12},(0,o.h)(A.Fb,{user:He,onClick:Be,utm_content:je.entity_key}),(0,o.h)(q.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(q.tu,{gap:8},(0,o.h)(P.Ev,{user:He,post:Le,onClick:Be,utm_content:je.entity_key,publication:Ct,item:je}),(0,o.h)(M.I,{publication:Ct,post:Le})),(0,o.h)(ae.s9,{item:je,pub:Ct,post:Le})))))}function Ce({item:je,showSignals:Rt}){var Jt,Ct,Le,He,it,Ne,Be;const{publication:ze,post:lt,comment:et,parentComments:Ae}=je,H=ze||lt||!Ae||Ae.length===1?void 0:Ae[0],Q=(Jt=Ae&&Ae[Ae.length-1])!=null?Jt:null,ce=ze&&lt&&(0,p.getPostAuthor)(ze,lt),Pe=je.context.type!=="comment_restack",Me=je.context.type==="note_reply"&&Pe&&et.user_id!==((Le=ce==null?void 0:ce.id)!=null?Le:(Ct=Ae==null?void 0:Ae[0])==null?void 0:Ct.user_id),$e=(0,s.rI)(),ct=(0,u.qp)(N.q),ut=je.context.type==="comment_restack"?`user/${(He=je.context.users[0])==null?void 0:He.id}`:je.entity_key;return(0,o.h)(ke,{item:je},Rt&&((Ne=(it=je.signals)==null?void 0:it.length)!=null?Ne:0)>0&&(0,o.h)(G,{signals:(Be=je.signals)!=null?Be:[]}),(0,o.h)(q.tu,{gap:8},Pe&&(0,o.h)(o.Fragment,null,ce?(0,o.h)(o.Fragment,null,(0,o.h)(bt,{item:je,showGutter:!0,context:Me?(0,o.h)(w.L,{context:je.context,onClick:()=>(0,W.rw)(je,$e,"context",{tabId:ct}),utm_content:ut}):void 0}),(Ae==null?void 0:Ae.length)>1&&Q&&(0,o.h)(We,{url:(0,I.getFeedCommentUrl)(Q,{noBase:he.L}),showGutter:!0})):H?(0,o.h)(o.Fragment,null,(0,o.h)(d.WS,{isParent:!0,comment:H,item:je,showContext:Me,utm_content:ut}),(Ae==null?void 0:Ae.length)>2&&Q&&(0,o.h)(We,{url:(0,I.getFeedCommentUrl)(Q,{noBase:he.L}),showGutter:!0})):null,Q&&(0,o.h)(d.WS,{showReplyingTo:(Ae==null?void 0:Ae.length)>2,isParent:!0,comment:Q,item:je,showContext:Me&&!(ce||H),utm_content:ut})),(0,o.h)(d.WS,{comment:et,item:je,showReplyingTo:!Pe,utm_content:ut})))}function We({url:je,showGutter:Rt}){return(0,o.h)(A.oM,{onClick:Jt=>(0,Z.redirect)(je,{event:Jt}),showGutter:Rt,hasAvatar:!1},(0,o.h)(q.gq,null,(0,o.h)(q.tu,{alignItems:"center",justifyContent:"center",className:re.Z.seeMoreThread},(0,o.h)(q.tu,{className:g()(re.Z.seeMoreThreadSegment,re.Z.top)}),(0,o.h)(v.Z,{size:16,stroke:"var(--color-detail)"}),(0,o.h)(q.tu,{className:re.Z.seeMoreThreadSegment,flex:"grow"})),(0,o.h)(q.tu,{className:re.Z.seeMoreReplies,flex:"grow",minWidth:0},(0,o.h)(ne.xv.B4,{color:"accent-blue"},(0,o.h)(C.hh,{href:je},"See more replies")))))}function xe({item:je}){const Rt=(0,fe.XA)(),Jt=(0,u.sO)(null),{state:Ct,handleArrowClick:Le}=(0,ye.eK)(Jt),He=(0,_.SE)();(0,K.UM)(Jt,()=>{He.changeSetting("suggestions_feed_item_last_shown_at",new Date().toISOString())},{threshold:.2});const Ne=!!(0,S.xR)().getConfigFor("facebook_connect")&&He.user&&!He.user.has_linked_facebook;return(0,o.h)(ke,{item:je},(0,o.h)(q.tu,{paddingY:16,gap:8},(0,o.h)(q.hs,{alignItems:"center",justifyContent:"space-between",paddingLeft:{mobile:16,desktop:0}},(0,o.h)(ne.xv.H4,null,(0,o.h)(C.hh,{onClick:Be=>(0,L.Q)(Be,(0,O.kM)())},"Suggestions")),(0,o.h)(J.zx,{size:"small",priority:"secondary",fill:"empty",onClick:Be=>(0,L.Q)(Be,(0,O.kM)())},"See all")),(0,o.h)(q.hs,{className:re.Z.peopleYouMayKnowContainer,alignItems:"center",flex:"grow"},!Rt&&Ct.showLeft&&(0,o.h)("div",{className:g()("reader2-carousel-fade left visible",re.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(F.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:Le(-1)},(0,o.h)(E.Z,null))),(0,o.h)(q.hs,{ref:Jt,className:re.Z.peopleYouMayKnow,alignItems:"center",gap:8,paddingX:{desktop:0,mobile:16}},Ne&&(0,o.h)(ie.dg,null),je.userSuggestions.map(Be=>(0,o.h)(ie.E$,{feedUserSuggestion:Be,surface:T.Uo.Feed}))),!Rt&&Ct.showRight&&(0,o.h)("div",{className:g()("reader2-carousel-fade right visible",re.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(F.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:Le(1)},(0,o.h)(y.Z,null))))))}function rt({item:je}){const{getConfigFor:Rt}=(0,S.xR)();return Rt("twitter_connect_flows_enabled")?(0,o.h)(ke,{item:je},(0,o.h)(q.hs,{paddingY:20},(0,o.h)(ie.rS,null))):null}function Je({item:je}){const{getConfigFor:Rt}=(0,S.xR)();return Rt("facebook_connect")?(0,o.h)(ke,{item:je},(0,o.h)(q.hs,{paddingY:20},(0,o.h)(ie.KL,null))):null}function ft({item:je}){const[Rt]=(0,k.Z)(ie.au);return Rt?null:(0,o.h)(ke,{item:je},(0,o.h)(q.hs,{paddingY:20,paddingX:20},(0,o.h)(ie.Zx,{utmSource:"feed_item"})))}},29800:(z,l,e)=>{"use strict";e.d(l,{L:()=>w});var o=e(6400),f=e(30396),u=e(83322),c=e(43615),g=e(62017),v=e(51126),E=e(43887);function y({size:q,className:ne}){return(0,o.h)("svg",{className:ne,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function p({size:q,className:ne}){return(0,o.h)("svg",{className:ne,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function T({size:q,className:ne}){return(0,o.h)("svg",{className:ne,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function O({size:q,className:ne}){return(0,o.h)("svg",{className:ne,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function I({size:q,className:ne}){return(0,o.h)("svg",{className:ne,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function S({size:q,className:ne}){return(0,o.h)("svg",{className:ne,width:q,height:q,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function _({size:q,className:ne}){return(0,o.h)("svg",{className:ne,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var d=e(44396),s=e(28967);function w({context:q,onClick:ne,utm_content:F}){const W=P[q.type];return W?(0,o.h)(v.hs,{className:s.Z.contextRow},(0,o.h)(E.xv.Meta,{className:s.Z.contextText},(0,o.h)(W,{context:q,onClick:ne,utm_content:F}))):null}const P={post_like:x,post_comment:N,post_restack:M,comment:N,note_reply:N,note_recommend:L,comment_like:C,comment_restack:A,comment_top:k};function x({context:q,onClick:ne,utm_content:F}){return(0,o.h)(J,{context:q,type:"like",label:"Likes",verb:"liked",onClick:ne,utm_content:F})}function M({context:q,onClick:ne,utm_content:F}){return(0,o.h)(J,{context:q,type:"restack",label:"Restacks",verb:"restacked",onClick:ne,utm_content:F})}function N({context:q,onClick:ne,utm_content:F}){return(0,o.h)(J,{context:q,type:"comment",label:"Replies",verb:"replied",onClick:ne,utm_content:F})}function C({context:q,onClick:ne,utm_content:F}){return(0,o.h)(J,{context:q,type:"like",label:"Likes",verb:"liked",onClick:ne,utm_content:F})}function A({context:q,onClick:ne,utm_content:F}){return(0,o.h)(J,{context:q,type:"restack",label:"Restacks",verb:"restacked",onClick:ne,utm_content:F})}function k({}){return(0,o.h)(Z,{type:"trending"},"Top comment")}function L({context:q,onClick:ne,utm_content:F}){return(0,o.h)(J,{context:q,type:"recommend",label:"Recommendations",verb:"recommends",onClick:ne,utm_content:F})}const K={like:T,comment_like:T,comment:y,recommend:_,featured:p,trending:O,leaderboard:I,restack:S};function Z({type:q,children:ne}){const F=K[q];return(0,o.h)(v.gq,{alignItems:"center",gap:8},(0,o.h)(F,{className:s.Z.contextIcon,size:14}),(0,o.h)("div",null,ne))}function J({context:q,type:ne,label:F,verb:W,fallbackUser:ie,utm_content:he,onClick:ye}){var fe;const ae="notes_context",oe=(0,d.XA)(),[G,re]=(0,f.eJ)(!1),se=(fe=q.users[0])!=null?fe:ie;if(!se)return null;let le,Ee=q.users.length-1;return!oe&&q.users.length===2&&(le=q.users[1],Ee=0),(0,o.h)(Z,{type:ne},(0,o.h)(g.Zg,{user:se,onClick:ye,utm_source:ae,utm_content:he,color:"secondary",useYou:!0}),le&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.Zg,{user:q.users[1],onClick:ye,utm_source:ae,utm_content:he,color:"secondary",useYou:!0})),Ee>0&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.hh,{onClick:()=>{ye(),re(!0)}},(0,u.pluralize)(Ee,"other"))),` ${W}`,(0,o.h)(c.FF,{isOpen:G,modalLabel:F,faces:q.users,totalCount:q.users.length,onClose:()=>re(!1),utmSource:null}))}},75309:(z,l,e)=>{"use strict";e.d(l,{Ev:()=>Ge});var o=e(6400),f=e(30396),u=e(27484),c=e.n(u),g=e(25380),v=e(67747),E=e(66440),y=e(23237),p=e(5149),T=e(80587),O=e(18794),I=e(13808),S=e(6385),_=e(20501),d=e(83322),s=e(56838),w=e(25877),P=e(58718),x=e(63270),M=e(67963),N=e(69371),C=e(62017),A=e(50670),k=e(8479),L=e(39419),K=e.n(L),Z=e(702),J=e(11059),q=e(84040),ne=e(51126),F=e(76235),W=e(43887),ie=e(75425),he=e(95297),ye=e(41474),fe=e(91870),ae=e(73413),oe=e(10174),G=e(9869),re=e(11132),se=e(28967),le=Object.defineProperty,Ee=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,_e=(xe,rt,Je)=>rt in xe?le(xe,rt,{enumerable:!0,configurable:!0,writable:!0,value:Je}):xe[rt]=Je,de=(xe,rt)=>{for(var Je in rt||(rt={}))me.call(rt,Je)&&_e(xe,Je,rt[Je]);if(pe)for(var Je of pe(rt))Ie.call(rt,Je)&&_e(xe,Je,rt[Je]);return xe},Re=(xe,rt)=>Ee(xe,ve(rt)),ke=(xe,rt)=>{var Je={};for(var ft in xe)me.call(xe,ft)&&rt.indexOf(ft)<0&&(Je[ft]=xe[ft]);if(xe!=null&&pe)for(var ft of pe(xe))rt.indexOf(ft)<0&&Ie.call(xe,ft)&&(Je[ft]=xe[ft]);return Je},Ve=(xe,rt,Je)=>new Promise((ft,je)=>{var Rt=Le=>{try{Ct(Je.next(Le))}catch(He){je(He)}},Jt=Le=>{try{Ct(Je.throw(Le))}catch(He){je(He)}},Ct=Le=>Le.done?ft(Le.value):Promise.resolve(Le.value).then(Rt,Jt);Ct((Je=Je.apply(xe,rt)).next())});function Ge({user:xe,post:rt,comment:Je,onClick:ft,utm_content:je,publication:Rt,item:Jt,parentCommentUserId:Ct}){const Le=(0,ie.pm)(),He=(0,M.aF)(),it=(0,fe.I0)(),Ne=(Je==null?void 0:Je.date)||(rt==null?void 0:rt.post_date),{refetch:Be}=(0,k.ib)({pathname:`/api/v1/reader/reply/${Je==null?void 0:Je.id}/unhide`,method:"POST"}),{getConfigFor:ze}=(0,x.xR)(),et=!!ze("hidden_replies_ui_enabled")&&(Je==null?void 0:Je.hide_reply),Ae=(He==null?void 0:He.id)&&(He==null?void 0:He.id)===Ct;return(0,o.h)(A.KF,null,(0,o.h)(ne.hs,{gap:8,alignItems:"center",flex:"grow"},(0,o.h)(W.Zx,{weight:"medium"},(0,o.h)(C.xG,{user:xe,onClick:ft,utm_source:"substack-feed-item",utm_content:je,color:et?"secondary":void 0},xe.name)),(0,o.h)(he.s,{className:se.Z.userBadge,tier:xe.bestseller_tier,userId:xe.id,tooltipOnHover:!0,size:"sm"}),Ne&&(0,o.h)(bt,{timestamp:Ne,comment:Je})),(0,o.h)(ne.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},et&&Ae&&(0,o.h)(q.kG,{onClick:()=>Ve(this,null,function*(){var H;it({type:"reply_unhidden",payload:{comment_id:(H=Je==null?void 0:Je.id)!=null?H:0}}),yield Be(),Le.popToast(Q=>(0,o.h)(ie.FN,Re(de({},Q),{text:"Reply unhidden",Icon:g.Z})))}),className:se.Z.unhideButton},(0,o.h)(ne.gq,{alignItems:"center",gap:4},(0,o.h)(v.Z,{size:20}),"Unhide")),(0,o.h)(Ce,{publication:Rt!=null?Rt:void 0,post:rt!=null?rt:void 0,comment:Je,item:Jt})))}const Qe=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function bt({timestamp:xe,comment:rt,post:Je,publication:ft}){return(0,o.h)(C.hh,{href:rt?(0,_.getFeedCommentUrl)(rt,{noBase:ae.L}):Je?(0,_.getFeedShortPostUrl)(ft,Je):void 0,title:Qe.format(c()(xe).toDate()),ellipsis:!1,color:"secondary"},(0,o.h)(A.Ku,{timestamp:xe}))}function Ce({publication:xe,post:rt,comment:Je,item:ft,permalink:je}){var Rt,Jt,Ct;const Le=(0,ie.pm)(),He=(0,N.rI)(),it=(0,re.F)(),Ne=(0,fe.I0)(),Be=(0,fe.kc)(),[ze,lt]=(0,f.eJ)(!1),[et,Ae]=(0,f.eJ)(!1),H=(0,M.aF)(),Q=(Jt=(Rt=Je==null?void 0:Je.ancestor_path)==null?void 0:Rt.split(".").filter(Boolean).map(Number).map(Nn=>Be.comments.get(Nn)))!=null?Jt:[],ce=Je?(0,S.getCommentAuthor)(Je):xe&&rt?(0,S.getPostAuthor)(xe,rt):{id:0,name:"void"},Pe=(0,w.CH)(ce,He),Me=(0,P.oh)(ce,He),$e=(0,k.ib)({pathname:`/api/v1/comment/${(Ct=Je==null?void 0:Je.id)!=null?Ct:0}`,method:"DELETE",json:{publication_id:xe==null?void 0:xe.id}}),ct=()=>Ve(this,null,function*(){if(!Je||(Ae(!1),$e.isLoading))return;const Nn=yield $e.refetch();if(Nn instanceof Error){alert((0,L.getNetworkErrorMessage)(Nn));return}Le.popToast(Vt=>(0,o.h)(ie.FN,Re(de({},Vt),{text:"Note deleted",Icon:E.Z}))),Ne({type:"comment_delete",payload:{publication:xe,post:rt,comment:Je}})}),ut=(0,oe.i3)(),Et=()=>Ve(this,null,function*(){Je&&ut.open({editComment:Je,tabId:it})}),Nt=()=>{ft&&(0,ye.rw)(ft,He,"menu",{tabId:it})},$t=[!Je&&rt&&(0,o.h)(We,{post:rt}),...Me,(0,d.canEditComment)(H,Je)&&(0,o.h)(F.sN,{icon:(0,o.h)(y.Z,null),onClick:Et},"Edit"),...Pe,(0,d.canReportComment)(H,Je)&&(0,o.h)(F.sN,{icon:(0,o.h)(p.Z,null),priority:"destructive",onClick:()=>lt(!0)},"Report"),(0,d.canDeleteComment)(H,Je,{pub:xe,post:rt,parentComments:Q})&&(0,o.h)(F.sN,{icon:(0,o.h)(E.Z,null),priority:"destructive",onClick:()=>Ae(!0)},"Delete")].filter(Boolean);return $t.length===0?null:(0,o.h)(o.Fragment,null,(0,o.h)(F.v2,{trigger:(0,o.h)(G.K,{"aria-label":"share",permalink:je,className:se.Z.more},(0,o.h)(T.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:Nt},$t),ze&&(0,o.h)(Z.Z,{className:se.Z.reportModal,pub:xe,comment:Je,onClose:()=>lt(!1),onReportSuccess:()=>{}}),(0,o.h)(J.a,{isOpen:et,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,o.h)(q.zx,{priority:"destructive",onClick:ct},"Delete"),secondaryButton:(0,o.h)(q.zx,{priority:"secondary",onClick:()=>Ae(!1)},"Cancel"),onClose:()=>Ae(!1)}))}function We(xe){var rt=xe,{post:Je}=rt,ft=ke(rt,["post"]);const je=(0,fe.I0)(),Rt=(0,s.c1)(),Jt=()=>{const Ct=Je.id,Le=!Je.is_saved;(0,s.TJ)(Ct,Le,{surface:"reader"}),Rt(Le),je({type:"post_save",payload:{postId:Ct,isSaved:Le}})};return(0,o.h)(F.sN,de({icon:Je.is_saved?(0,o.h)(O.Z,null):(0,o.h)(I.Z,null),onClick:Jt},ft),Je.is_saved?"Unsave":"Save")}},8796:(z,l,e)=>{"use strict";e.d(l,{n:()=>y});var o=e(6400),f=e(30396),u=e(25877),c=e(62017),g=e(51126),v=e(43887),E=e(28967);function y({userId:p,comment:T,children:O}){const I=(0,u.KG)(p),S=(0,u.Yq)(),[_,d]=(0,f.eJ)(S);(0,f.d4)(()=>{I&&!S&&d(!1)},[I]);const s=T?T.type==="feed"&&!T.ancestor_path?"note":"reply":"post";return I&&!_?(0,o.h)(g.gq,{radius:12,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>d(!0),gap:12,className:E.Z.mutedItem},(0,o.h)(g.hs,{flex:"grow",minWidth:0},(0,o.h)(v.xv.B4,{color:"secondary"},"This ",s," is from someone",I==="muting"?" you hid":I==="blocking"?" you blocked":" who has you blocked",".")),I!=="blocked"&&(0,o.h)(v.xv.B4,{color:"secondary",weight:"semibold"},(0,o.h)(c.hh,{onClick:()=>d(!0)},"Show ",s))):(0,o.h)(o.Fragment,null,O)}},73115:(z,l,e)=>{"use strict";e.d(l,{sZ:()=>W});var o=e(6400),f=e(99869),u=e(71212),c=e(67358),g=e(84040),v=e(51126),E=e(62246),y=e(43887),p=e(20501),T=e(15045),O=e(70444),I=e(68227),S=e(17835),_=e(66839),d=e(3258),s=e(39419),w=e.n(s),P=e(13045),x=e(55886),M=e(7980),N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Z=(ae,oe,G)=>oe in ae?N(ae,oe,{enumerable:!0,configurable:!0,writable:!0,value:G}):ae[oe]=G,J=(ae,oe)=>{for(var G in oe||(oe={}))L.call(oe,G)&&Z(ae,G,oe[G]);if(k)for(var G of k(oe))K.call(oe,G)&&Z(ae,G,oe[G]);return ae},q=(ae,oe)=>C(ae,A(oe));function ne({comment:ae,isOpen:oe,onClose:G}){return h(Modal,{isOpen:oe,onClose:G},h(F,{comment:ae,onClose:G}))}function F({comment:ae,onClose:oe}){const G=getFeedCommentUrl(ae,{urlParams:{utm_source:"substack",utm_context:"note-share-modal"}});return h(FlexColumn,{gap:20,paddingBottom:16},h(ModalHeader,{includeClose:!0,onClose:oe}),h(FlexBox,{justifyContent:"center"},h(CloudImage,{src:getNoteCommentPreviewUrl(ae.id),size:340})),h(Text.Meta,{align:"center"},"Share via"),h(W,{shareSource:"note-share-modal",shareUrl:G,shareText:"",shareEventType:"note",comment:ae,itemKey:ae.item_entity_key}))}function W({shareUrl:ae,shareText:oe,shareEventType:G,itemKey:re,shareSource:se,comment:le,onShare:Ee}){const ve=(0,P.pm)(),pe=(Ve,Ge)=>{(0,d.j)(d.FP.SHARE_LINK_CLICKED,{name:Ve,type:G,item_entity_key:re,source:se});const Qe=Ge();Qe&&(Qe.startsWith("http")?window.open(Qe,"_blank"):document.location.href=Qe),Ee==null||Ee()},me=()=>{pe("copy",()=>{(0,s.copyToClipboard)(ae)}),ve.popToast(Ve=>(0,o.h)(P.FN,q(J({},Ve),{text:"Link copied",Icon:f.Z})))},Ie=()=>{pe("twitter",()=>(0,T.pathWithQuery)("https://twitter.com/share",{url:ae,text:oe}))},_e=()=>{pe("facebook",()=>(0,T.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:ae}))},de=()=>{pe("linkedin",()=>(0,T.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:ae}))},Re=()=>{pe("email",()=>(0,T.pathWithQuery)("mailto:",{subject:oe,body:ae}))},ke=()=>{ve.popToast(Ve=>(0,o.h)(P.FN,q(J({},Ve),{text:"Downloading image...",Icon:u.Z})))};return(0,o.h)(v.tu,{flex:"grow",justifyContent:"center"},(0,o.h)(v.hs,{gap:8},(0,o.h)(ie,null,(0,o.h)(ye,{onClick:Ie},(0,o.h)(_.Z,{height:48})),(0,o.h)(he,null,"Twitter")),(0,o.h)(ie,null,(0,o.h)(ye,{onClick:_e},(0,o.h)(I.Z,{height:48})),(0,o.h)(he,null,"Facebook")),(0,o.h)(ie,null,(0,o.h)(ye,{onClick:de},(0,o.h)(S.Z,{height:48})),(0,o.h)(he,null,"LinkedIn")),(0,o.h)(ie,null,(0,o.h)(fe,{onClick:me},(0,o.h)(f.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(he,null,"Copy Link")),le?(0,o.h)(ie,null,(0,o.h)(fe,{onClick:ke,href:(0,p.getNoteCommentPreviewUrl)(le.id),target:"_blank",download:!0},(0,o.h)(u.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(he,null,"Save image")):(0,o.h)(ie,null,(0,o.h)(fe,{onClick:Re},(0,o.h)(c.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(he,null,"Email"))))}function ie(ae){return(0,o.h)(v.tu,J({gap:8,alignItems:"center",flex:"grow"},ae))}function he(ae){return(0,o.h)(y.xv.Detail,J({align:"center",color:"primary"},ae))}function ye(ae){return(0,o.h)(g.kG,J({resetCss:!0,className:M.Z.shareImageButton},ae))}function fe(ae){return(0,o.h)(g.hU,J({size:48,rounded:!0,fill:"borderless"},ae))}},83097:(z,l,e)=>{"use strict";e.d(l,{q:()=>ae});var o=e(6400),f=e(30396),u=e(8618),c=e(8479),g=e(85928),v=e.n(g),E=e(15045),y=e(70444),p=e(31517),T=e(26240),O=e(95847),I=e(79786),S=e(4190),_=e(63270),d=e(67963);function s(){return h("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),h("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var w=e(55463),P=e(11533),x=e(84040),M=e(86605),N=e(51126),C=e(62246),A=e(43887),k=e(91870),L=e(10174),K=e(51731),Z=e(73115),J=e(50670),q=e(7980),ne=(re,se,le)=>new Promise((Ee,ve)=>{var pe=_e=>{try{Ie(le.next(_e))}catch(de){ve(de)}},me=_e=>{try{Ie(le.throw(_e))}catch(de){ve(de)}},Ie=_e=>_e.done?Ee(_e.value):Promise.resolve(_e.value).then(pe,me);Ie((le=le.apply(re,se)).next())});function F(){const re=useUserContext(),se=new URL(document.location.toString());return useMemo(()=>re.user&&!re.userSettings.feed_web_nux_seen_at||se.searchParams.get("action")==="nux",[])?h(W,null):null}function W(){const re=useUserContext(),se=useSiteConfigs(),[le,Ee]=useState(!0),[ve,pe]=useState(1),[me,Ie]=useState(null);useEffect(()=>{re.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const _e=()=>{Ee(!1)},de=()=>{var Re,ke;let Ve=ve+1;Ve===2&&(Re=re.user)!=null&&Re.name&&(Ve+=1),Ve===3&&(!se.getConfigFor("twitter_connect_flows_enabled")||(ke=re.user)!=null&&ke.has_linked_twitter)&&(Ve+=1),pe(Ve)};return h(Modal,{isOpen:le,onClose:_e,width:440,overflow:"hidden"},ve===1?h(ie,{onClose:_e,onNext:de}):ve===2?h(he,{onClose:_e,onNext:de}):ve===3?h(ye,{onClose:_e,onNext:de,onSkip:()=>pe(ve+2)}):ve===4?h(fe,{onPublish:Re=>{Ie(Re),de()},onClose:_e}):ve===5&&me?h(ae,{onClose:_e,comment:me}):null)}function ie({onClose:re,onNext:se}){return h(Fragment,null,h(FlexColumn,null,h(CloseButton,{onClick:re,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),h(ResponsiveImg,{src:"/img/reader/nux-web@3x.png",maxWidth:880,imageProps:{height:304}})),h(FlexColumn,{gap:8,padding:16},h(Text.H2,{weight:"semibold",align:"center"},"Introducing: Notes"),h(Text.B3,{align:"center",color:"secondary"},"Notes is a new space to share what you're reading and keep up with your favorite writers on Substack."," ",h("a",{href:"https://on.substack.com/p/notes",target:"_blank",rel:"noopener"},"Learn more"))),h(G,null,h(Button,{priority:"primary",onClick:se},"Get started")))}function he({onClose:re,onNext:se}){const le=useUserContext();return h(Fragment,null,h(ModalHeader,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:re}),h(ProfileUpdater,{className:css.setupProfileModalContent,pageTitle:"",user:le.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:Ee=>{le.setUser(Ee.body),se()}}))}function ye({onClose:re,onNext:se,onSkip:le}){return useEffect(()=>{const Ee=ve=>{var pe;ve.origin===document.location.origin&&((pe=ve.data)==null?void 0:pe.type)==="twitter-success"&&se()};return window.addEventListener("message",Ee),()=>{window.removeEventListener("message",Ee)}},[]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:re}),h(FlexColumn,{padding:16},h(FlexColumn,{alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Connect Twitter"),h(Text.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),h(FlexColumn,{alignItems:"center",paddingY:32},h(TwitterConnectIcon,null))),h(G,null,h(Button,{priority:"twitter",href:getConnectTwitterUrl({type:"reader2",redirect:pathWithQuery(FEED_PATH,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),h(Button,{onClick:le,priority:"secondary",fill:"empty"},"Skip")))}function fe({onClose:re,onPublish:se}){const le=useUser(),Ee=useComposerModal(),{create:ve,isLoading:pe}=useCreateShortPost(),me=useDispatch(),[Ie,_e]=useRouter(),{exposeExperiment:de,getExperimentVariant:Re}=useExperiments();if(useResource(()=>Promise.all([e.e(313),e.e(171),e.e(563),e.e(411)]).then(e.bind(e,84563)),[]),!le)return null;de("feed_nux_empty_message");const ke=Re("feed_nux_empty_message")==="treatment",Ve="Hello, Notes! What's going on?",Ge=()=>ne(this,null,function*(){if(!pe){if(ke)re(),Ee.open({initialText:""});else{const{textToJsonCore:bt}=yield Promise.all([e.e(313),e.e(171),e.e(563),e.e(411)]).then(e.bind(e,84563)),Ce=yield ve({bodyJson:bt(Ve)});if(Ce instanceof Error)return;se(Ce),me({type:"new_comment",payload:{comment:Ce}})}document.location.pathname!==FEED_PATH&&_e(FEED_PATH)}}),Qe=()=>{re(),Ee.open({initialText:Ve})};return h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:re}),h(FlexColumn,{alignItems:"center",gap:8,padding:16},h(Text.H2,{weight:"semibold"},"Time to say hello!"),h(Text.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),h(FlexColumn,{paddingX:16,paddingTop:8,paddingBottom:16},h(FlexColumn,{border:"detail",shadow:"lg",padding:16,radius:12},h(FlexBox,{gap:12},h(FeedAvatarImage,{user:le}),h(FlexColumn,{flex:"grow",minWidth:0},h(Text.B3,{weight:"semibold",ellipsis:!0},le.name),h(Text.B4,{color:"secondary"},dayjs().fromNowShort()))),h(FlexColumn,{paddingY:16,borderBottom:"detail"},h(Text,{font:"text",size:18},Ve)),h(FlexBox,{style:{gap:34}},h(oe,null,h(Heart,{stroke:"var(--color-secondary)",size:20}),h(Text.Button,{color:"secondary"},"Like")),h(oe,null,h(NoteReplyIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Reply")),h(oe,null,h(NoteForwardIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Restack"))))),h(FlexColumn,{padding:16,gap:8},h(Button,{priority:"primary",onClick:Ge,disabled:pe},ke?"Say hello":"Send now"),!ke&&h(Button,{onClick:Qe,priority:"secondary",fill:"empty",disabled:pe},"Edit note")))}function ae({onClose:re,comment:se}){const le=(0,y.Sg)(se,{urlParams:{utm_source:"substack",utm_context:"first-note-modal"}}),Ee=`I just started using Notes on Substack
`,ve=(0,d.aF)();return ve?(0,o.h)(o.Fragment,null,(0,o.h)(C.xB,{includeClose:!0,onClose:re}),(0,o.h)(N.tu,{padding:16},(0,o.h)(N.tu,{alignItems:"center",gap:4,padding:16},(0,o.h)(A.xv.H2,{weight:"semibold"},"Share your first note"),(0,o.h)(A.xv.B3,{align:"center",color:"secondary"},"Invite your friends and followers to join you on Notes")),(0,o.h)(N.tu,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},(0,o.h)(N.tu,{paddingTop:8,paddingBottom:16},(0,o.h)(N.tu,{border:"detail",shadow:"lg",padding:16,radius:12},(0,o.h)(N.hs,{gap:12},(0,o.h)(J.Zb,{user:ve}),(0,o.h)(N.tu,{flex:"grow",minWidth:0},ve&&(0,o.h)(A.xv.B3,{weight:"semibold",ellipsis:!0},ve.name),(0,o.h)(A.xv.B4,{color:"secondary"},v()().fromNowShort()))),(0,o.h)(N.tu,{paddingY:16,borderBottom:"detail"},(0,o.h)(A.xv,{font:"text",size:18},(0,o.h)(K.bN,{comment:se,publication:null}))),(0,o.h)(N.hs,{style:{gap:34}},(0,o.h)(oe,null,(0,o.h)(u.Z,{stroke:"var(--color-secondary)",size:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Like")),(0,o.h)(oe,null,(0,o.h)(T.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Reply")),(0,o.h)(oe,null,(0,o.h)(p.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Restack"))))),(0,o.h)(A.xv.Meta,{align:"center"},"Share via"),(0,o.h)(Z.sZ,{shareSource:"first-note-modal",shareUrl:le,shareText:Ee,shareEventType:"note",itemKey:se.item_entity_key})))):null}function oe({children:re}){return(0,o.h)(N.hs,{alignItems:"center",gap:8,paddingTop:16},re)}function G({children:re}){return h(FlexColumn,{padding:16,borderTop:"detail",gap:8},re)}},56411:(z,l,e)=>{"use strict";e.d(l,{n:()=>y});var o=e(6400),f=e(29696),u=e(50670),c=e(51126),g=e(33510),v=e(44396);const E={lotsOfNotes:"frontend-feed-Placeholders-module__lotsOfNotes--Gf9e6"};function y(){return(0,o.h)(c.tu,{className:E.lotsOfNotes},Array(8).fill(0).map(()=>(0,o.h)(p,null)))}function p(){const T=(0,v.XA)();return(0,o.h)(f.O3,null,(0,o.h)(u.oM,null,(0,o.h)(c.hs,{gap:12},(0,o.h)(g.Vm,{type:"circle",size:T?36:40}),(0,o.h)(c.tu,{gap:12,flex:"grow"},(0,o.h)(g.Vm,{height:20,width:100}),Array(3).fill(0).map(()=>(0,o.h)(g.Vm,{height:20,width:`${30+Math.random()*70}%`}))))))}},66337:(z,l,e)=>{"use strict";e.d(l,{I:()=>s});var o=e(6400),f=e(94184),u=e.n(f),c=e(15045),g=e(20501),v=e(79786),E=e(63270),y=e(16527),p=e(51126),T=e(43887),O=e(73413),I=e(33510),S=e(68262),_=e(44396),d=e(28967);function s({post:w,publication:P,readOnly:x,onClick:M}){const N=(0,_.XA)(),C=(0,E.xR)().getConfigFor("enable_unified_home"),A=w.cover_image;return(0,o.h)(p.tu,{as:x?"div":"a",className:d.Z.post,bg:"elevated",border:"detail",radius:12,onClick:k=>{M&&M(),!x&&O.L&&(!N||C)&&(0,y.Q)(k,(0,g.getPostUrl)(P,w,{noBase:!0,feedViewer:!0}))},href:x?void 0:(0,g.getPostUrl)(P,w,{feedViewer:!1}),minWidth:0},A&&(0,o.h)(v.e,{className:u()(d.Z.postImage,N&&d.Z.mobile),imageProps:{smartCrop:!0,aspect:N?"3:2":"2:1"},src:A,maxWidth:1e3}),(0,o.h)(p.tu,{gap:4,padding:12,borderTop:A?"detail":"transparent"},(0,o.h)(p.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,o.h)(S.F,{pub:P,size:20}),(0,o.h)(T.xv.Meta,{ellipsis:!0},x?P.name:(0,o.h)(I.zr,{href:(0,c.getPubUrl)(P)},P.name))),(0,o.h)(T.xv.B3,{clamp:N?1:2,color:"primary",weight:"medium"},w.title),(0,o.h)(T.xv.B4,{clamp:2,color:"secondary"},w.description)))}},11132:(z,l,e)=>{"use strict";e.d(l,{F:()=>c,q:()=>u});var o=e(98661),f=e(30396);const u=(0,o.createContext)(void 0);function c(){return(0,f.qp)(u)}},62017:(z,l,e)=>{"use strict";e.d(l,{xG:()=>C,Zg:()=>N,hh:()=>A});var o=e(6400),f=e(94184),u=e.n(f),c=e(2731),g=e(80332),v=e(67963),E=e(43887),y=e(73413),p=e(18130);const T={link:"frontend-feed-TextLink-module__link--VuuIc"};var O=Object.defineProperty,I=Object.defineProperties,S=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(k,L,K)=>L in k?O(k,L,{enumerable:!0,configurable:!0,writable:!0,value:K}):k[L]=K,P=(k,L)=>{for(var K in L||(L={}))d.call(L,K)&&w(k,K,L[K]);if(_)for(var K of _(L))s.call(L,K)&&w(k,K,L[K]);return k},x=(k,L)=>I(k,S(L)),M=(k,L)=>{var K={};for(var Z in k)d.call(k,Z)&&L.indexOf(Z)<0&&(K[Z]=k[Z]);if(k!=null&&_)for(var Z of _(k))L.indexOf(Z)<0&&s.call(k,Z)&&(K[Z]=k[Z]);return K};function N(k){var L=k,{user:K,utm_source:Z,utm_content:J,ellipsis:q,useYou:ne,onClick:F}=L,W=M(L,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const ie=(0,v.aF)(),he=(K==null?void 0:K.id)||(K==null?void 0:K.user_id)||0,ye=ne&&(ie==null?void 0:ie.id)===he?"You":K.name;return(0,o.h)(C,P({user:K,utm_source:Z,utm_content:J,ellipsis:q,onClick:F},W),ye)}function C(k){var L=k,{user:K,utm_source:Z,utm_content:J,children:q,onClick:ne}=L,F=M(L,["user","utm_source","utm_content","children","onClick"]);const W=x(P({},K),{id:K.author_id||K.user_id||K.id,name:K.user_profile_name||K.author_name||K.name,handle:(K==null?void 0:K.handle)||(K==null?void 0:K.author_handle)});return(0,o.h)(g.Ct,{subject:W,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,o.h)(A,P({href:(0,c.getReaderProfileUrl)(K,{noBase:y.L,utm_content:J,utm_source:Z}),onClick:ne},F),q))}function A(k){var L=k,{weight:K,color:Z,decoration:J="hover-underline",ellipsis:q,className:ne}=L,F=M(L,["weight","color","decoration","ellipsis","className"]);return(0,o.h)(E.Zx,{ellipsis:q,weight:K,color:Z,decoration:J},(0,o.h)(p.r,x(P({},F),{className:u()(ne,T.link)})))}},59386:(z,l,e)=>{"use strict";e.d(l,{m:()=>I});var o=e(6400),f=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(S,_,d)=>_ in S?f(S,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):S[_]=d,p=(S,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(S,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(S,d,_[d]);return S},T=(S,_)=>u(S,c(_)),O=(S,_)=>{var d={};for(var s in S)v.call(S,s)&&_.indexOf(s)<0&&(d[s]=S[s]);if(S!=null&&g)for(var s of g(S))_.indexOf(s)<0&&E.call(S,s)&&(d[s]=S[s]);return d};function I(S){var _=S,{size:d=20,stroke:s="var(--color-light-secondary)"}=_,w=O(_,["size","stroke"]);return(0,o.h)("svg",T(p({},w),{width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(z,l,e)=>{"use strict";e.d(l,{Fb:()=>q,KF:()=>K,Ku:()=>L,Zb:()=>Z,oM:()=>C,sP:()=>J});var o=e(6400),f=e(94184),u=e.n(f),c=e(85928),g=e.n(c),v=e(20501),E=e(80332),y=e(51126),p=e(43887),T=e(10186),O=e(73413),I=e(18130),S=e(44396),_=e(28967),d=Object.defineProperty,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,x=(ne,F,W)=>F in ne?d(ne,F,{enumerable:!0,configurable:!0,writable:!0,value:W}):ne[F]=W,M=(ne,F)=>{for(var W in F||(F={}))w.call(F,W)&&x(ne,W,F[W]);if(s)for(var W of s(F))P.call(F,W)&&x(ne,W,F[W]);return ne},N=(ne,F)=>{var W={};for(var ie in ne)w.call(ne,ie)&&F.indexOf(ie)<0&&(W[ie]=ne[ie]);if(ne!=null&&s)for(var ie of s(ne))F.indexOf(ie)<0&&P.call(ne,ie)&&(W[ie]=ne[ie]);return W};function C(ne){var F=ne,{showGutter:W=!1,hasAvatar:ie=!0,hasContext:he=!1,onClick:ye}=F,fe=N(F,["showGutter","hasAvatar","hasContext","onClick"]);const ae=ye?oe=>{const{target:G}=oe;G instanceof Element&&G.closest("button, a")||oe.defaultPrevented||ye(oe)}:void 0;return(0,o.h)(y.tu,M({className:u()(_.Z.feedUnit,W?_.Z.showThreadGutter:void 0,he?_.Z.hasContext:void 0,ye&&_.Z.hasAction,ie?_.Z.hasAvatar:void 0),gap:4,onClick:ae},fe))}const A=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),k=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function L({timestamp:ne}){const F=g()(),W=g()(ne),ie=F.diff(W,"day"),he=F.diff(W,"year");let ye;return he>=1?ye=k.format(W.toDate()):ie>7?ye=A.format(W.toDate()):ye=W.fromNowShort(),(0,o.h)(p.Zx,{color:"secondary"},ne&&ye)}function K({children:ne}){return(0,o.h)(p.xv.B3,null,(0,o.h)(y.hs,{flex:"grow",minWidth:0},(0,o.h)(y.hs,{gap:8,alignItems:"center",flex:"grow"},ne)))}function Z({user:ne,className:F}){const W=(0,S.XA)();return(0,o.h)(T.qE,{size:W?36:40,user:ne,className:F})}function J({large:ne,children:F}){return ne?(0,o.h)(p.xv.B2,{className:_.Z.feedCommentBodyInner,color:"primary"},F):(0,o.h)(p.xv.B3,{className:_.Z.feedCommentBodyInner,color:"primary"},F)}function q({user:ne,onClick:F,utm_content:W,desaturate:ie}){const he=(0,I.c)({href:(0,v.getReaderProfileUrl)(ne,{noBase:O.L}),onClick:F,campaign:{content:W}});return(0,o.h)(y.hs,M({as:"a",flex:"auto",alignSelf:"start"},he),(0,o.h)(E.Ct,{subject:ne,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(Z,{user:ne,className:ie?_.Z.desaturate:void 0})))}},69371:(z,l,e)=>{"use strict";e.d(l,{$U:()=>p,rI:()=>I});var o=e(6400),f=e(98661),u=e(30396),c=e(81470),g=e(9686),v=e(91870),E=e(50292),y=e(10174);function p({state:S,dispatch:_,surface:d,children:s}){const{onboardingModalRef:w}=(0,E.SJ)(),P=(0,u.Ye)(()=>({dispatch:_}),[]);return(0,o.h)(T.Provider,{value:d},(0,o.h)(v.RR.Provider,{value:P},(0,o.h)(v.ev.Provider,{value:S},(0,o.h)(y.Au,null,s,S.isSigningIn&&(0,o.h)(g.I,{onCancel:()=>_({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{_({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var x;_({type:"sign_in",payload:{isSigningIn:!1}}),(x=w.current)==null||x.open()},noExit:S.signInNoExit})))))}const T=(0,f.createContext)(c.Uo.Feed);function O({surface:S,children:_}){return h(T.Provider,{value:S},_)}function I(){return(0,u.qp)(T)}},55463:(z,l,e)=>{"use strict";e.d(l,{a:()=>u});var o=e(8479),f=(c,g,v)=>new Promise((E,y)=>{var p=I=>{try{O(v.next(I))}catch(S){y(S)}},T=I=>{try{O(v.throw(I))}catch(S){y(S)}},O=I=>I.done?E(I.value):Promise.resolve(I.value).then(p,T);O((v=v.apply(c,g)).next())});function u({editComment:c}={}){const g=(0,o.ib)({pathname:c?`/api/v1/feed/comment/${c.id}`:"/api/v1/comment/feed"});return{create:v=>f(this,[v],function*({bodyJson:E,parentPostId:y,parentPubId:p,parent_id:T,attachmentIds:O,tabId:I,replyMinimumRole:S}){return yield g.refetch({pathname:c?`/api/v1/feed/comment/${c.id}`:y?`/api/v1/post/${y}/comment`:"/api/v1/comment/feed",method:c?"PATCH":"POST",json:{bodyJson:E,parent_id:T,publication_id:p,attachmentIds:O,tabId:I,replyMinimumRole:S}})}),error:g.error,isLoading:g.isLoading}}},77883:(z,l,e)=>{"use strict";e.d(l,{G:()=>M});var o=e(6400),f=e(71375),u=e(25380),c=e(58718),g=e(67963),v=e(8479),E=e(75425),y=e(72307),p=e(3258),T=Object.defineProperty,O=Object.defineProperties,I=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(N,C,A)=>C in N?T(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,w=(N,C)=>{for(var A in C||(C={}))_.call(C,A)&&s(N,A,C[A]);if(S)for(var A of S(C))d.call(C,A)&&s(N,A,C[A]);return N},P=(N,C)=>O(N,I(C)),x=(N,C,A)=>new Promise((k,L)=>{var K=q=>{try{J(A.next(q))}catch(ne){L(ne)}},Z=q=>{try{J(A.throw(q))}catch(ne){L(ne)}},J=q=>q.done?k(q.value):Promise.resolve(q.value).then(K,Z);J((A=A.apply(N,C)).next())});function M({publication:N,profileId:C,onSuccess:A=()=>{},source:k}){const L=(0,g.aF)(),K=(0,y.Th)(),Z=(0,c.oJ)(),{popToast:J}=(0,E.pm)(),{isLoading:q,refetch:ne}=(0,v.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:{publication_id:N.id,email:L==null?void 0:L.email,visibility:"public",source:k}});return{isLoading:q,subscribe:()=>x(this,null,function*(){L||J(F=>(0,o.h)(E.FN,P(w({},F),{text:"Something went wrong. Please try again.",Icon:f.Z})));try{yield ne(),J(F=>(0,o.h)(E.FN,P(w({},F),{text:`Subscribed to ${N.name}`,Icon:u.Z}))),A(),K.refetch(),C&&Z((F=[])=>F.includes(C)?F:[C,...F],{revalidate:!1}),(0,p.j)(p.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:k,publication_id:N.id})}catch(F){console.error(F),J(W=>(0,o.h)(E.FN,P(w({},W),{text:"There was an issue subscribing to this profile.",Icon:f.Z})))}})}}},15748:(z,l,e)=>{"use strict";e.d(l,{g:()=>d});var o=e(6400),f=e(99869),u=e(75425),c=e(39419),g=e.n(c),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(s,w,P)=>w in s?v(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))T.call(w,P)&&I(s,P,w[P]);if(p)for(var P of p(w))O.call(w,P)&&I(s,P,w[P]);return s},_=(s,w)=>E(s,y(w));function d(){const s=(0,u.pm)();return w=>{(0,c.copyToClipboard)(w),s.popToast(P=>(0,o.h)(u.FN,_(S({},P),{text:"Link copied",Icon:f.Z})))}}},39776:(z,l,e)=>{"use strict";e.r(l),e.d(l,{SiteConfigGate:()=>g,default:()=>c,getConfigFor:()=>u});var o=e(6400),f=e(63270);function u(v){var E;if(!v||typeof window=="undefined"||!((E=window._preloads)!=null&&E.siteConfigs))return null;const y=window._preloads.siteConfigs[v];return y===void 0?null:y}const c=u;function g({configKey:v,children:E,value:y=!0}){return(0,f.xR)().getConfigFor(v)==y?(0,o.h)(o.Fragment,null,E):null}},35225:(z,l,e)=>{"use strict";e.d(l,{S:()=>M});var o=e(6400),f=e(8618),u=e(85928),c=e.n(u),g=e(61782),v=e(15045),E=e(13833),y=e(75425),p=e(3258),T=e(58884),O=Object.defineProperty,I=Object.defineProperties,S=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(N,C,A)=>C in N?O(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,P=(N,C)=>{for(var A in C||(C={}))d.call(C,A)&&w(N,A,C[A]);if(_)for(var A of _(C))s.call(C,A)&&w(N,A,C[A]);return N},x=(N,C)=>I(N,S(C));function M({user:N,noBase:C}){const A=(0,y.pm)(),k=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const L="has_seen_like_nux",K=(0,T.mM)(L),Z=g.L;return K&&N&&!N.has_seen_like_nux?(k(),!1):!N||!N.profile_set_up_at||N.subscription_visibility==="private"||!N.activity_likes_enabled||K||N.has_seen_like_nux||c()((N==null?void 0:N.profile_set_up_at)||0).unix()>Z?!1:((0,p.j)(p.FP.LIKE_NUX_SHOWN),(0,T.ex)(L,!0),k(),A.popToast(J=>(0,o.h)(y.Us,x(P({},J),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,o.h)(o.Fragment,null,(0,o.h)(y.lL,{href:(0,v.getReaderProfileUrl)(N,{utm_source:"like_toast",noBase:C})},(0,o.h)(E.Av,null,"OK")),(0,o.h)(y.lL,{href:(0,v.getEditProfileUrl)({params:{utm_source:"like_toast"}})},(0,o.h)(E.Av,{color:"secondary"},"Settings"))),Icon:f.Z}))),!0)}}},49619:(z,l,e)=>{"use strict";e.d(l,{t:()=>c});var o=e(6400),f=e(83322);const u=g=>g.podcast_url&&g.podcast_duration>0?"podcast":g.videoUpload&&g.videoUpload.duration&&g.videoUpload.duration>0?"video":g.type==="thread"?"thread":"newsletter",c=function(g,{totalAmount:v,discount:E,quantity:y=1,trial_end_override:p,noTrial:T=!1,recurring:O=!0,isGroupSubscription:I=!1,isUnlimitedGroupSubscription:S=!1,language:_="en"}={}){const{iString:d,iPlural:s}=I18N.i(_),w=v===void 0?(g.amount||0)*(y||1):v,P=(0,f.centsToPriceString)(w,g.currency);let x;if(E&&!E.loading&&!E.error&&(E.percent_off||E.amount_off)){let L;E.percent_off?L=Math.round(w*(1-(E.percent_off_precise||E.percent_off)/100)):E.amount_off&&(L=Math.max(0,w-E.amount_off)),x=(0,f.centsToPriceString)(L,g.currency)}const M=x||P;let N;g.is_bitcoin?(g.interval==="month"&&(N=s("%2/1 month","%2/%1 months",g.interval_count,M)),g.interval==="week"&&(N=s("%2/1 week","%2/%1 weeks",g.interval_count,M)),g.interval==="day"&&(N=s("%2/1 day","%2/%1 days",g.interval_count,M)),g.interval==="year"&&(N=s("%2/1 year","%2/%1 years",g.interval_count,M))):g&&O&&!I&&!S?(g.interval==="month"&&(N=s("%2 per month","%2 per %1 months",g.interval_count,M)),g.interval==="week"&&(N=s("%2 per week","%2 per %1 weeks",g.interval_count,M)),g.interval==="day"&&(N=s("%2 per day","%2 per %1 days",g.interval_count,M)),g.interval==="year"&&(N=s("%2 per year","%2 per %1 years",g.interval_count,M))):g&&!O&&!I&&!S?(g.interval==="month"&&(N=s("%2 for one month","%2 for %1 months",g.interval_count,M)),g.interval==="week"&&(N=s("%2 for one week","%2 for %1 weeks",g.interval_count,M)),g.interval==="day"&&(N=s("%2 for one day","%2 for %1 days",g.interval_count,M)),g.interval==="year"&&(N=s("%2 for one year","%2 for %1 years",g.interval_count,M))):g&&O&&I&&!S?(g.interval==="month"&&(N=s("%2 for one month per person","%2 for %1 months per person",g.interval_count,M)),g.interval==="week"&&(N=s("%2 for one week per person","%2 for %1 weeks per person",g.interval_count,M)),g.interval==="day"&&(N=s("%2 for one day per person","%2 for %1 days per person",g.interval_count,M)),g.interval==="year"&&(N=s("%2 for one year per person","%2 for %1 years per person",g.interval_count,M))):g&&O&&I&&S&&(g.interval==="month"&&(N=s("%2 for one month for unlimited seats","%2 for %1 months for unlimited seats",g.interval_count,M)),g.interval==="week"&&(N=s("%2 for one week for unlimited seats","%2 for %1 weeks for unlimited seats",g.interval_count,M)),g.interval==="day"&&(N=s("%2 for one day for unlimited seats","%2 for %1 days for unlimited seats",g.interval_count,M)),g.interval==="year"&&(N=s("%2 for one year for unlimited seats","%2 for %1 years for unlimited seats",g.interval_count,M)));let C;const A=Math.max(0,g.trial_period_days||0,E&&E.trial_period_days||0,p?Math.ceil((p-Date.now()/1e3)/60/60/24):0);!T&&A>0&&(C=s("%1 day free trial","%1 day free trial",A));let k;if(E&&x&&O&&E.duration!=="forever"){const L=E.duration==="once"?1:E.duration_in_months/(g.interval==="year"?12:1)*g.interval_count;g.interval==="month"&&(k=s("for first month","for first %1 months",L)),g.interval==="week"&&(k=s("for first week","for first %1 weeks",L)),g.interval==="day"&&(k=s("for first day","for first %1 days",L)),g.interval==="year"&&(k=s("for first year","for first %1 years",L))}return E&&E.loading?(0,o.h)(o.Fragment,null,N," ",(0,o.h)("span",{className:"discount-price"}," (",d("coupon loading"),")")):E&&E.error?(0,o.h)(o.Fragment,null,N," ",(0,o.h)("span",{className:"discount-price error"}," (",d("coupon invalid or expired"),")")):x?(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:"crossed-out"},P)," ",(0,o.h)("span",{className:"discount-price"},N," ",k?`(${k}) `:"",C)):(0,o.h)(o.Fragment,null,N," ",C)}},11059:(z,l,e)=>{"use strict";e.d(l,{a:()=>y});var o=e(6400),f=e(30396),u=e(84606),c=e(84040),g=e(34394),v=e(62246),E=e(43887);const y=({isOpen:p=!1,title:T,body:O,onClose:I,customPrimaryButton:S,secondaryButton:_,confirmationString:d})=>{const s=(0,f.sO)(null),[w,P]=(0,f.eJ)(!!d);return(0,f.d4)(()=>{p&&d&&P(!0)},[p,d]),(0,o.h)(v.u_,{isOpen:p,onClose:I,initialFocus:s},T&&(0,o.h)(v.xB,{title:T,includeClose:!1}),(0,o.h)(v.fe,null,(0,o.h)(E.xv.B3,null,O),d&&(0,o.h)(u.xu,{paddingTop:16},(0,o.h)(g.o,{onChange:x=>{P(!0),d.toLowerCase()===x.target.value.toLowerCase()&&P(!1)}}))),(0,o.h)(v.mz,{primaryButton:S?(0,o.cloneElement)(S,{ref:s,disabled:w}):(0,o.h)(c.zx,{ref:s,onClick:I,priority:"primary",disabled:w},"OK"),secondaryButton:_}))}},83787:(z,l,e)=>{"use strict";e.d(l,{H:()=>c});var o=e(6400),f=e(30396);const u=150,c=({children:g,expanded:v,renderWhenCollapsed:E,onEnter:y,flex:p})=>{const T=(0,f.sO)(null),[O,I]=(0,f.eJ)(v?"expanded":"collapsed"),[S,_]=(0,f.eJ)(null);return(0,f.d4)(()=>{v&&O==="collapsed"&&I("startExpanding"),O==="startExpanding"&&T.current&&(_(T.current.offsetHeight),I("expanding"),setTimeout(()=>{I("expanded"),y&&y()},u)),!v&&O==="expanded"&&T.current&&(_(T.current.offsetHeight),I("startCollapsing")),O==="startCollapsing"&&(I("collapsing"),setTimeout(()=>{I("collapsed")},u))},[v,O]),(0,o.h)("div",{style:{height:O==="collapsed"||O==="startExpanding"||O==="collapsing"?0:O==="expanding"||O==="startCollapsing"?S:null,transition:`height ${u}ms ease-in-out`,overflow:O==="expanded"?"visible":"hidden",display:p?"flex":"block",flexDirection:"column"}},(0,o.h)("div",{ref:T,style:{paddingTop:.05,paddingBottom:.05,display:p?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(O!=="collapsed"||E)&&g))}},84606:(z,l,e)=>{"use strict";e.d(l,{E7:()=>C,xu:()=>M,yK:()=>N});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=e(14293),v=e.n(g),E=e(19206),y=e(28614),p=Object.defineProperty,T=Object.defineProperties,O=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(A,k,L)=>k in A?p(A,k,{enumerable:!0,configurable:!0,writable:!0,value:L}):A[k]=L,s=(A,k)=>{for(var L in k||(k={}))S.call(k,L)&&d(A,L,k[L]);if(I)for(var L of I(k))_.call(k,L)&&d(A,L,k[L]);return A},w=(A,k)=>T(A,O(k)),P=(A,k)=>{var L={};for(var K in A)S.call(A,K)&&k.indexOf(K)<0&&(L[K]=A[K]);if(A!=null&&I)for(var K of I(A))k.indexOf(K)<0&&_.call(A,K)&&(L[K]=A[K]);return L};function x(A){var k,L;return v()(A)?[null,null]:typeof A=="object"?[(k=A.desktop)!=null?k:null,(L=A.mobile)!=null?L:null]:[A,null]}const M=(0,f.forwardRef)(function(k,L){var K=k,{display:Z,as:J,className:q,direction:ne,flex:F,inline:W,wrap:ie,gap:he,padding:ye,paddingX:fe,paddingY:ae,paddingTop:oe,paddingBottom:G,paddingLeft:re,paddingRight:se,justifyContent:le,alignItems:Ee,alignSelf:ve,minWidth:pe,minHeight:me,style:Ie,border:_e,borderTop:de,borderBottom:Re,borderLeft:ke,borderRight:Ve,borderY:Ge,radius:Qe,shadow:bt,bg:Ce,overflowY:We,overflowX:xe,scrollBar:rt,sizing:Je,ellipsis:ft,pullX:je,textAlign:Rt,fontSize:Jt,fontWeight:Ct,color:Le,decoration:He,font:it,fontStyle:Ne,isParagraph:Be,lineHeight:ze,textTransform:lt,nowrap:et,clamp:Ae,position:H}=K,Q=P(K,["display","as","className","direction","flex","inline","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","shadow","bg","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position"]);const ce=J!=null?J:"div";return(0,o.h)(ce,s({ref:L,className:c()(N({display:Z,direction:ne,flex:F,inline:W,wrap:ie,gap:he,padding:ye,paddingX:fe,paddingY:ae,paddingTop:oe,paddingBottom:G,paddingLeft:re,paddingRight:se,justifyContent:le,alignItems:Ee,alignSelf:ve,minWidth:pe,minHeight:me,border:_e,borderTop:de,borderBottom:Re,borderLeft:ke,borderRight:Ve,borderY:Ge,radius:Qe,shadow:bt,bg:Ce,overflowY:We,overflowX:xe,scrollBar:rt,sizing:Je,ellipsis:ft,pullX:je,textAlign:Rt,fontSize:Jt,fontWeight:Ct,color:Le,decoration:He,font:it,fontStyle:Ne,isParagraph:Be,lineHeight:ze,textTransform:lt,nowrap:et,clamp:Ae,position:H}),q),style:Ie},Q))});function N({display:A,direction:k,flex:L,inline:K,wrap:Z,gap:J,padding:q,paddingX:ne,paddingY:F,paddingTop:W,paddingBottom:ie,paddingLeft:he,paddingRight:ye,justifyContent:fe,alignItems:ae,alignSelf:oe,minWidth:G,minHeight:re,border:se,borderTop:le,borderBottom:Ee,borderLeft:ve,borderRight:pe,borderY:me,radius:Ie,shadow:_e,bg:de,overflowY:Re,overflowX:ke,scrollBar:Ve,sizing:Ge,ellipsis:Qe,pullX:bt,textAlign:Ce,fontSize:We,fontWeight:xe,color:rt,decoration:Je,font:ft,fontStyle:je,isParagraph:Rt,lineHeight:Jt,textTransform:Ct,nowrap:Le,clamp:He,position:it}){const[Ne,Be]=x(J),[ze,lt]=x(q),[et,Ae]=x(ne),[H,Q]=x(F),[ce,Pe]=x(W),[Me,$e]=x(ie),[ct,ut]=x(he),[Et,Nt]=x(ye),[$t,Nn]=x(k),[Vt,rr]=x(Z),[Tr,cr]=x(fe),[Lr,Br]=x(ae),[Cr,Dt]=x(A);return c()("pencraft",{[E.Z.flexGrow]:L==="grow",[E.Z.flexFill]:L==="fill",[E.Z.flexAuto]:L==="auto"},E.Z.reset,A!=null&&E.Z[`display-${Cr}`],K&&E.Z["display-inline-flex"],$t!=null&&E.Z[`flex-direction-${$t}`],Vt!=null&&E.Z[`flex-wrap-${Vt}`],Tr!=null&&E.Z[`flex-justify-${Tr}`],Lr!=null&&E.Z[`flex-align-${Lr}`],oe!=null&&E.Z[`flex-align-self-${oe}`],Ne!=null&&E.Z[`flex-gap-${Ne}`],ze!=null&&E.Z[`padding-${ze}`],et!=null&&E.Z[`padding-x-${et}`],H!=null&&E.Z[`padding-y-${H}`],ce!=null&&E.Z[`padding-top-${ce}`],Me!=null&&E.Z[`padding-bottom-${Me}`],ct!=null&&E.Z[`padding-left-${ct}`],Et!=null&&E.Z[`padding-right-${Et}`],Nn!=null&&E.Z[`flex-direction-mobile-${Nn}`],rr!=null&&E.Z[`flex-wrap-mobile-${rr}`],cr!=null&&E.Z[`flex-justify-mobile-${cr}`],Be!=null&&E.Z[`flex-gap-mobile-${Be}`],Br!=null&&E.Z[`flex-align-mobile-${Br}`],lt!=null&&E.Z[`padding-mobile-${lt}`],Ae!=null&&E.Z[`padding-x-mobile-${Ae}`],Q!=null&&E.Z[`padding-y-mobile-${Q}`],Pe!=null&&E.Z[`padding-top-mobile-${Pe}`],$e!=null&&E.Z[`padding-bottom-mobile-${$e}`],ut!=null&&E.Z[`padding-left-mobile-${ut}`],Nt!=null&&E.Z[`padding-right-mobile-${Nt}`],Dt!=null&&E.Z[`display-mobile-${Dt}`],G!=null&&E.Z[`min-width-${G}`],re!=null&&E.Z[`min-height-${re}`],se&&E.Z[`border-${se}`],le&&E.Z[`border-top-${le}`],Ee&&E.Z[`border-bottom-${Ee}`],ve&&E.Z[`border-left-${ve}`],pe&&E.Z[`border-right-${pe}`],me&&E.Z[`border-y-${me}`],Ie!=null&&E.Z[`border-radius-${Ie}`],_e&&E.Z[`shadow-${_e}`],de!=null&&E.Z[`bg-${de}`],Re&&E.Z[`overflowY-${Re}`],ke&&E.Z[`overflowX-${ke}`],Ve&&E.Z[`scrollBar-${Ve}`],Ge&&E.Z[`sizing-${Ge}`],Qe&&E.Z.ellipsis,bt&&E.Z[`pullX-${bt}`],it&&E.Z[`position-${it}`],Ce&&y.Z[`align-${Ce}`],We&&y.Z[`size-${We}`],Jt&&y.Z[`line-height-${Jt}`],xe&&y.Z[`weight-${xe}`],ft&&y.Z[`font-${ft}`],je&&y.Z[`font-style-${je}`],rt&&y.Z[`color-${rt}`],Ct&&y.Z[`transform-${Ct}`],Le&&y.Z.nowrap,He&&`${y.Z.clamp} ${y.Z[`clamp-${He}`]}`,Je&&y.Z[`decoration-${Je}`],Rt&&y.Z.paragraph)}function C(A){var k=A,{className:L,displayName:K}=k,Z=P(k,["className","displayName"]);const J=(0,f.forwardRef)((q,ne)=>{var F=q,{className:W}=F,ie=P(F,["className"]);return(0,o.h)(M,w(s(s({},Z),ie),{ref:ne,className:c()(L,W)}))});return J.displayName=K,J}},84040:(z,l,e)=>{"use strict";e.d(l,{hU:()=>C,kG:()=>M,zx:()=>N});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=e(39419),v=e.n(g),E=e(43887),y=e(19206),p=e(4924),T=Object.defineProperty,O=Object.defineProperties,I=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(k,L,K)=>L in k?T(k,L,{enumerable:!0,configurable:!0,writable:!0,value:K}):k[L]=K,w=(k,L)=>{for(var K in L||(L={}))_.call(L,K)&&s(k,K,L[K]);if(S)for(var K of S(L))d.call(L,K)&&s(k,K,L[K]);return k},P=(k,L)=>O(k,I(L)),x=(k,L)=>{var K={};for(var Z in k)_.call(k,Z)&&L.indexOf(Z)<0&&(K[Z]=k[Z]);if(k!=null&&S)for(var Z of S(k))L.indexOf(Z)<0&&d.call(k,Z)&&(K[Z]=k[Z]);return K};const M=(0,f.forwardRef)((k,L)=>{var K=k,{onClick:Z,href:J,localNavigation:q,newTab:ne,className:F,resetCss:W}=K,ie=x(K,["onClick","href","localNavigation","newTab","className","resetCss"]);const he=J?ye=>{Z&&(Z.call(ye.target,ye),ye.defaultPrevented)||(0,g.redirect)(J,{event:ye,local_navigation:q,newTab:ne})}:Z;return(0,o.h)("button",P(w({tabIndex:0,type:"button"},ie),{className:c()("pencraft",F,W&&p.Z.buttonBase),ref:L,onClick:he,"data-href":J}))});M.displayName="UnstyledButton";const N=(0,f.forwardRef)(function(L,K){var Z=L,{className:J,priority:q="primary",size:ne="medium",fill:F="filled",outline:W,rounded:ie,disabled:he,grow:ye,leftIcon:fe,rightIcon:ae,allCaps:oe,children:G,hiddenInput:re,justifyContent:se="center"}=Z,le=x(Z,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,o.h)(M,w({className:c()(J,p.Z.buttonBase,p.Z.button,p.Z[`priority_${q}`],p.Z[`size_${ne}`],p.Z[`fill_${F}`],W&&p.Z.outline_none,ie&&p.Z.rounded,ye&&p.Z.grow,fe!=null&&p.Z.hasLeftIcon,ae!=null&&p.Z.hasRightIcon,se&&y.Z[`flex-justify-${se}`]),disabled:he,ref:K},le),fe,oe?(0,o.h)(E.xv.Meta,null,G):G,ae,re)}),C=(0,f.forwardRef)((k,L)=>{var K=k,{className:Z,size:J=40,priority:q="secondary",color:ne,fill:F="empty",rounded:W=!0,inverted:ie,grow:he,shadow:ye}=K,fe=x(K,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,o.h)(M,w({ref:L,className:c()(Z,p.Z.iconButton,J!=null&&p.Z[`size_${J}`],q&&p.Z[`priority_${q}`],ne&&p.Z[`color_${ne}`],F&&p.Z[`fill_${F}`],ie&&p.Z.inverted,he&&p.Z.grow,W&&p.Z.rounded,ye&&p.Z[`shadow_${ye}`])},fe))}),A=k=>{var L=k,{href:K,download:Z,className:J,priority:q="primary",size:ne="medium",fill:F="filled",outline:W,rounded:ie,grow:he}=L,ye=x(L,["href","download","className","priority","size","fill","outline","rounded","grow"]);return h("a",w({href:K,download:Z,className:classnames(J,css.buttonBase,css.button,css[`priority_${q}`],css[`size_${ne}`],css[`fill_${F}`],W&&css.outline_none,ie&&css.rounded,he&&css.grow)},ye))}},91041:(z,l,e)=>{"use strict";e.d(l,{h:()=>x,a:()=>M});var o=e(6400),f=e(94184),u=e.n(f),c=e(49336),g=e(84040),v=e(51126),E=e(76235);const y={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var p=Object.defineProperty,T=Object.defineProperties,O=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(N,C,A)=>C in N?p(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,s=(N,C)=>{for(var A in C||(C={}))S.call(C,A)&&d(N,A,C[A]);if(I)for(var A of I(C))_.call(C,A)&&d(N,A,C[A]);return N},w=(N,C)=>T(N,O(C)),P=(N,C)=>{var A={};for(var k in N)S.call(N,k)&&C.indexOf(k)<0&&(A[k]=N[k]);if(N!=null&&I)for(var k of I(N))C.indexOf(k)<0&&_.call(N,k)&&(A[k]=N[k]);return A};const x=N=>{var C=N,{attached:A,gap:k=8}=C,L=P(C,["attached","gap"]);return(0,o.h)(v.gq,s({gap:A?0:k,className:u()({[y.attached]:A})},L))},M=N=>{var C=N,{children:A,menuItems:k,fill:L="filled",priority:K="primary",size:Z="medium",rounded:J=!1,additionalMenuProps:q={}}=C,ne=P(C,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,o.h)(x,{attached:!0},(0,o.h)(g.zx,w(s({},ne),{priority:K,size:Z,rounded:J,fill:L==="borderless"?"filled":L,outline:L==="borderless"?"none":void 0}),A),(0,o.h)(E.v2,w(s({},q),{trigger:(0,o.h)(g.hU,w(s({className:u()({[y.borderless]:L==="borderless"})},ne),{priority:K,fill:L,rounded:J,size:Z==="small"?32:40}),(0,o.h)(c.Z,{size:Z==="small"?12:20}))}),k))}},15187:(z,l,e)=>{"use strict";e.d(l,{Tz:()=>M});var o=e(6400),f=e(94184),u=e.n(f),c=e(85928);const g={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(k,L,K)=>L in k?v(k,L,{enumerable:!0,configurable:!0,writable:!0,value:K}):k[L]=K,S=(k,L)=>{for(var K in L||(L={}))T.call(L,K)&&I(k,K,L[K]);if(p)for(var K of p(L))O.call(L,K)&&I(k,K,L[K]);return k},_=(k,L)=>E(k,y(L)),d=(k,L)=>{var K={};for(var Z in k)T.call(k,Z)&&L.indexOf(Z)<0&&(K[Z]=k[Z]);if(k!=null&&p)for(var Z of p(k))L.indexOf(Z)<0&&O.call(k,Z)&&(K[Z]=k[Z]);return K};const s="YYYY-MM-DD",w="YYYY-MM-DDThh:mm";function P(k){var L=k,{className:K,min:Z,max:J,value:q,onChange:ne,disabled:F}=L,W=d(L,["className","min","max","value","onChange","disabled"]);return h("input",_(S({},W),{type:"date",className:cn(css.datePicker,K),value:q?dayjs(q).format(s):"",min:Z?dayjs(Z).format(s):"",max:J?dayjs(J).format(s):"",onChange:ne,disabled:F}))}function x(k){var L=k,{className:K,min:Z,max:J,value:q,onChange:ne,disabled:F}=L,W=d(L,["className","min","max","value","onChange","disabled"]);return h("input",_(S({},W),{type:"datetime-local",className:cn(css.datePicker,K),value:q?dayjs(q).format(w):void 0,min:Z?dayjs(Z).format(w):void 0,max:J?dayjs(J).format(w):void 0,onChange:ne,disabled:F}))}function M(k){var L=k,{className:K,min:Z,max:J,value:q,onChange:ne,disabled:F}=L,W=d(L,["className","min","max","value","onChange","disabled"]);return(0,o.h)("input",_(S({},W),{type:"datetime-local",className:u()(g.datePicker,K),value:C(q),min:C(Z),max:C(J),onChange:ne,disabled:F}))}function N(k){var L=k,{className:K,min:Z,max:J,value:q,onChange:ne,disabled:F}=L,W=d(L,["className","min","max","value","onChange","disabled"]);return h("input",_(S({},W),{type:"month",className:cn(css.datePicker,K),value:C(q),min:C(Z),max:C(J),onChange:ne,disabled:F}))}function C(k){return k instanceof Date?`${k.getFullYear()}-${A(k.getMonth()+1)}-${A(k.getDate())}T${A(k.getHours())}:${A(k.getMinutes())}`:k}function A(k){const L=String(k);return L.length<2?`0${L}`:L}},48960:(z,l,e)=>{"use strict";e.d(l,{i:()=>S});var o=e(6400),f=e(94184),u=e.n(f),c=e(51126);const g={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&T(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&T(_,s,d[s]);return _},I=(_,d)=>{var s={};for(var w in _)y.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&E)for(var w of E(_))d.indexOf(w)<0&&p.call(_,w)&&(s[w]=_[w]);return s};const S=_=>{var d=_,{className:s,weight:w=1,priority:P="detail"}=d,x=I(d,["className","weight","priority"]);return(0,o.h)(c.hs,O({className:u()(g.divider,s,g[`priority_${P}`],w&&g[`weight-${w}`]),flex:"grow"},x),(0,o.h)("hr",null))}},51126:(z,l,e)=>{"use strict";e.d(l,{gq:()=>_,hs:()=>S,tu:()=>d});var o=e(6400),f=e(98661),u=e(84606),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,O=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&T(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&T(s,P,w[P]);return s},I=(s,w)=>g(s,v(w));const S=(0,f.forwardRef)(function(w,P){return(0,o.h)(u.xu,I(O({},w),{display:w.display||"flex",ref:P}))}),_=S,d=(0,f.forwardRef)(function(w,P){return(0,o.h)(u.xu,I(O({},w),{display:w.display||"flex",direction:"column",ref:P}))})},94016:(z,l,e)=>{"use strict";e.d(l,{z:()=>M,o:()=>N});var o=e(6400),f=e(30396),u=e(5285),c=e(94184),g=e.n(c),v=e(62372);const E={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var y=Object.defineProperty,p=Object.defineProperties,T=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,_=(C,A,k)=>A in C?y(C,A,{enumerable:!0,configurable:!0,writable:!0,value:k}):C[A]=k,d=(C,A)=>{for(var k in A||(A={}))I.call(A,k)&&_(C,k,A[k]);if(O)for(var k of O(A))S.call(A,k)&&_(C,k,A[k]);return C},s=(C,A)=>p(C,T(A)),w=(C,A)=>{var k={};for(var L in C)I.call(C,L)&&A.indexOf(L)<0&&(k[L]=C[L]);if(C!=null&&O)for(var L of O(C))A.indexOf(L)<0&&S.call(C,L)&&(k[L]=C[L]);return k};const P=500,x=250,M=C=>{var A=C,{className:k="",children:L,layerClassName:K,dontStopPropagation:Z}=A,J=w(A,["className","children","layerClassName","dontStopPropagation"]);const q=N(d({className:K},J));return(0,o.h)("div",s(d(d({className:k},q.triggerProps),q.hoverProps),{onClick:ne=>{Z||ne.stopPropagation()}}),L,q.layer)};function N(C){var A=C,{disabled:k,onFetch:L,onOpen:K,content:Z,className:J,layerOptions:q,hideOnScroll:ne=!1}=A,F=w(A,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[W,ie,he]=(0,v.XI)({delayEnter:P,delayLeave:x,hideOnScroll:ne}),ye=(0,f.sO)(!1);(0,f.d4)(()=>{W&&(!ye.current&&L&&(ye.current=!0,L()),K&&K())},[W,L,K]);const[fe,ae]=(0,f.eJ)(!1),{triggerProps:oe,layerProps:G,renderLayer:re,layerSide:se}=(0,v.sJ)(d({isOpen:k?!1:W,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},q));return{triggerProps:oe,hoverProps:ie,layer:(W||fe)&&!k&&re((0,o.h)(u.u,{appear:!0,show:W&&!F.loading,beforeEnter:()=>ae(!0),afterLeave:()=>ae(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",d(d({onClick:()=>{he()},className:g()(J,E.hoverCardBase)},G),ie),Z)))}}},56288:(z,l,e)=>{"use strict";e.d(l,{a:()=>I});var o=e(6400),f=e(94184),u=e.n(f);const c={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?g(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>{var s={};for(var w in _)E.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&v)for(var w of v(_))d.indexOf(w)<0&&y.call(_,w)&&(s[w]=_[w]);return s};const I=_=>{var d=_,{type:s="circular"}=d,w=O(d,["type"]);if(s==="circular")return(0,o.h)(S,T({},w));throw new Error("not implemented")},S=({className:_,size:d="md",dataTestId:s})=>(0,o.h)("div",{"data-testid":s,className:u()(c.circularLoader,c[`size_${d}`],_)})},76235:(z,l,e)=>{"use strict";e.d(l,{v2:()=>ye,sN:()=>fe});var o=e(6400),f=e(98661),u=e(30396),c=e(5285),g=e(94184),v=e.n(g),E=e(44396),y=e(71375),p=e(84040),T=e(51126),O=e(43887);const I={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",items:"frontend-pencraft-ActionSheet-module__items--ByTuz",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc"};var S=Object.defineProperty,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(G,re,se)=>re in G?S(G,re,{enumerable:!0,configurable:!0,writable:!0,value:se}):G[re]=se,P=(G,re)=>{for(var se in re||(re={}))d.call(re,se)&&w(G,se,re[se]);if(_)for(var se of _(re))s.call(re,se)&&w(G,se,re[se]);return G},x=(G,re)=>{var se={};for(var le in G)d.call(G,le)&&re.indexOf(le)<0&&(se[le]=G[le]);if(G!=null&&_)for(var le of _(G))re.indexOf(le)<0&&s.call(G,le)&&(se[le]=G[le]);return se};const M=(0,f.forwardRef)(({title:G,subtitle:re,onClose:se,children:le,className:Ee},ve)=>(0,o.h)(T.tu,{className:I.root,onClick:se},(0,o.h)(c.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,o.h)(T.tu,{className:v()(I.sheet,Ee),ref:ve,onClick:pe=>{pe.stopPropagation()}},(0,o.h)(T.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,o.h)(T.tu,null,(0,o.h)(O.xv.B3,{weight:"semibold"},G),(0,o.h)(O.xv.B4,{color:"secondary"},re)),(0,o.h)(p.hU,{fill:"empty",onClick:()=>{se()},priority:"secondary"},(0,o.h)(y.Z,null))),(0,o.h)(T.tu,{paddingTop:8,overflowY:"auto",className:I.items},le)))));function N(G){var re=G,{children:se,onClick:le,closeMenu:Ee,icon:ve,className:pe,priority:me="primary",disabled:Ie}=re,_e=x(re,["children","onClick","closeMenu","icon","className","priority","disabled"]);const de=_e.href?"a":p.kG;return(0,o.h)(de,P({className:v()(I.item,I[me],pe,{[I.disabled]:!!Ie}),resetCss:!0,onClick:Re=>{le==null||le(Re),Ee==null||Ee()}},_e),ve&&(0,o.cloneElement)(ve,{size:20,stroke:"var(--color-primary)"}),ve&&" ",(0,o.h)(O.xv.B4,{color:me==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},se))}var C=e(89581);const A={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var k=Object.defineProperty,L=Object.defineProperties,K=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,ne=(G,re,se)=>re in G?k(G,re,{enumerable:!0,configurable:!0,writable:!0,value:se}):G[re]=se,F=(G,re)=>{for(var se in re||(re={}))J.call(re,se)&&ne(G,se,re[se]);if(Z)for(var se of Z(re))q.call(re,se)&&ne(G,se,re[se]);return G},W=(G,re)=>L(G,K(re)),ie=(G,re)=>{var se={};for(var le in G)J.call(G,le)&&re.indexOf(le)<0&&(se[le]=G[le]);if(G!=null&&Z)for(var le of Z(G))re.indexOf(le)<0&&q.call(G,le)&&(se[le]=G[le]);return se};function he(G){return typeof G.type=="string"||G.type.$$typeof===Symbol.for("react.forward_ref")}const ye=(0,f.forwardRef)((G,re)=>{var se=G,{trigger:le,children:Ee,ariaLabel:ve="View more",hideOnScroll:pe,layerOptions:me,layerClassName:Ie,onOpen:_e,onClose:de,useMobileBottomSheet:Re=!1,mobileBottomSheetTitle:ke,mobileBottomSheetSubtitle:Ve,stopPropagation:Ge=!1,maxHeight:Qe=295,padding:bt=8,disableMenu:Ce=!1}=se,We=ie(se,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);he(le)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const xe=(0,E.XA)(),{triggerProps:rt,layerProps:Je,renderLayer:ft,isOpen:je,setOpen:Rt}=(0,C.x)({layerOptions:F({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},me),hideOnScroll:pe&&!(Re&&xe)}),[Jt,Ct]=(0,u.eJ)(!1),Le=()=>{Rt(!1),de&&de()},He=(0,o.toChildArray)(Ee).map(it=>(0,o.cloneElement)(it,{useMobileBottomSheet:Re,closeMenu:Le}));return(0,o.h)(o.Fragment,null,(0,o.cloneElement)(le,W(F({},rt),{ariaLabel:ve,onClick:it=>{it.preventDefault(),Ge&&it.stopPropagation(),Ce||Rt(!je),!je&&_e&&_e(),je&&de&&de()}})),(je||Jt)&&ft(Re&&xe?(0,o.h)(c.u,{appear:!0,show:je,beforeEnter:()=>Ct(!0),afterLeave:()=>Ct(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",F(F({},Je),We),(0,o.h)(M,{title:ke,subtitle:Ve,onClose:Le,ref:re,className:Ie},He))):(0,o.h)(c.u,{appear:!0,unmount:!1,show:je,beforeEnter:()=>Ct(!0),afterLeave:()=>Ct(!1),className:"tw-duration-fast"},(0,o.h)("div",F(F({},Je),We),(0,o.h)(c.u,{appear:!0,unmount:!1,show:je,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,o.h)(ae,F({className:Ie,ref:re},!pe&&{style:{maxHeight:Qe,padding:bt,overflowY:"auto"}}),He))))))}),fe=G=>{var re=G,{useMobileBottomSheet:se}=re,le=ie(re,["useMobileBottomSheet"]);const Ee=(0,E.XA)();return se&&Ee?(0,o.h)(N,F({},le)):(0,o.h)(oe,F({},le))},ae=(0,f.forwardRef)((G,re)=>{var se=G,{className:le}=se,Ee=ie(se,["className"]);return(0,o.h)(T.tu,F({className:v()(A.menu,"elevated",le),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:re},Ee))}),oe=G=>{var re=G,{children:se,onClick:le,closeMenu:Ee,icon:ve,rightIcon:pe,suffix:me,priority:Ie="primary",className:_e,disabled:de,href:Re,download:ke}=re,Ve=ie(re,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download"]);const Ge=Re?"a":p.kG;return(0,o.h)(Ge,F({className:v()(A.menuItem,A[Ie],_e,{[A.disabled]:!!de}),resetCss:!0,onClick:Qe=>{de||(le&&le(Qe),Ee&&Ee())},href:de?"javascript:void(0)":Re,download:ke},Ve),ve&&(0,o.cloneElement)(ve,{size:24,className:v()(A.icon,ve.props.className)}),(0,o.h)(O.xv.B4,{color:Ie==="destructive"?"accent-red":"primary",className:A.text,weight:"semibold",align:"left"},se),me,pe&&(0,o.h)(o.Fragment,null,(0,o.h)(T.hs,{style:{flexGrow:1}}),pe&&(0,o.cloneElement)(pe,{size:24,className:v()(A.icon,pe.props.className)})))}},53940:(z,l,e)=>{"use strict";e.d(l,{u:()=>d,f:()=>S});var o=e(6400),f=e(98661),u=e(5285),c=e(13599),g=e(94184),v=e.n(g),E=e(50308),y=e.n(E),p=e(44396),T=e(84606),O=e(21958);const I={container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--ujclO"},S=(0,O.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),_=({children:s})=>(0,o.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},s),d=({isOpen:s,onClose:w=()=>{},children:P,includeBackdrop:x=!0,position:M="default",opacity:N="medium",testId:C="modal",className:A,onEscape:k,fullscreenMobile:L,overflow:K,width:Z=440,disableCloseOnBackdropClick:J=!1,initialFocus:q})=>{const ne=(0,p.XA)(),F=W=>{const{code:ie}=W;k&&ie==="Escape"&&k(W)};return(0,o.h)(u.u,{show:s,as:f.Fragment},(0,o.h)(c.V,{onMouseDown:W=>W.stopPropagation(),onMouseUp:W=>W.stopPropagation(),onClick:W=>W.stopPropagation(),"data-testid":C,as:"div",className:"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto",onClose:J?y():w,onKeyDown:k?F:void 0,initialFocus:q},(0,o.h)(_,null,x&&(0,o.h)(u.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",{className:N==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,o.h)(u.u.Child,{as:f.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,o.h)(c.V.Panel,{className:v()(A,(0,T.yK)({display:"flex"}),I.container,I[M],L?I.fullscreenMobile:I.dynamicMobile),style:{width:ne||M==="full"?void 0:Z,overflow:K}},P)))))}},29354:(z,l,e)=>{"use strict";e.d(l,{m:()=>T});var o=e(6400),f=e(94184),u=e.n(f),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(S,_,d)=>_ in S?c(S,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):S[_]=d,p=(S,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(S,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(S,d,_[d]);return S};const T=S=>S.alignment==="center"?(0,o.h)(I,p({},S)):(0,o.h)(O,p({},S)),O=({primaryButton:S,secondaryButton:_,destructiveButton:d,includeDivider:s,className:w})=>(0,o.h)("div",{className:u()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":s},w)},d&&(0,o.cloneElement)(d,{className:u()("tw-mr-auto",d.props.className)}),_,S),I=({includeDivider:S,primaryButton:_,secondaryButton:d,className:s})=>(0,o.h)("div",{className:u()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":S},s)},_,d)},28079:(z,l,e)=>{"use strict";e.d(l,{r:()=>p,x:()=>y});var o=e(6400),f=e(13599),u=e(94184),c=e.n(u),g=e(26059),v=e(33705),E=e(21958);const y=({isModal:T=!0,onClose:O,includeClose:I=!1,bottomBorder:S,title:_,description:d,as:s="h2",usePubThemeForTitle:w=!1,className:P,pagination:x})=>(0,o.h)("div",{className:c()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",P,{"tw-px-4":!x,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":S})},!_&&!x&&(0,o.h)(v.Z,{alt:"Substack icon",height:24}),x&&(0,o.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},x[0]," OF ",x[1]),I&&(0,o.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:O,"aria-label":"close"},(0,o.h)(g.Z,null)),_&&T&&(0,o.h)(f.V.Title,{as:s,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${w?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),d&&T&&(0,o.h)(f.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},d),_&&!T&&(0,o.h)(p,{className:"tw-col-start-1 tw-row-start-1"},_)&&(0,o.createElement)(s,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${w?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),d&&!T&&(0,o.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},d)&&(0,o.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},d)),p=(0,E.L)("tw-my-0 tw-font-title","h2")},92106:(z,l,e)=>{"use strict";var o=e(6400),f=e(94184),u=e(51126),c=e(43887);const g={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&T(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&T(_,s,d[s]);return _},I=(_,d)=>{var s={};for(var w in _)y.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&E)for(var w of E(_))d.indexOf(w)<0&&p.call(_,w)&&(s[w]=_[w]);return s};const S=_=>{var d=_,{icon:s,text:w,textColor:P="secondary",bgColor:x="secondary",paddingX:M=24,paddingY:N=24,border:C,className:A,onClick:k}=d,L=I(d,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,O({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:M,paddingY:N,radius:12,border:C,className:cn(A,css.placeholder,css[`bg_${x}`],css[`text_${P}`],{[css.clickable]:!!k}),onClick:k},L),h(FlexColumn,{gap:8,alignItems:"center"},s,h(Text.B4,{color:P,className:css.text,weight:"bold"},w)))}},65414:(z,l,e)=>{"use strict";var o=e(6400),f=e(94184),u=e.n(f),c=e(30058),g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?g(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,T=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},O=(_,d)=>{var s={};for(var w in _)E.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&v)for(var w of v(_))d.indexOf(w)<0&&y.call(_,w)&&(s[w]=_[w]);return s};const I=_=>{var d=_,{color:s="default",accessibilityLabel:w="Toggle setting",classNames:P,checked:x,small:M=!1,preflightClassName:N}=d,C=O(d,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const A=s==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return h(Preflight,{className:N},h(HeadlessSwitch,T({className:cn(x?A:"tw-bg-neutral-400",M?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",P),checked:x},C),h("span",{className:"tw-sr-only"},w),h("span",{"aria-hidden":"true",className:cn(x?`${M?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",M?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))};var S=null},43887:(z,l,e)=>{"use strict";e.d(l,{Zx:()=>N,xv:()=>M,hh:()=>ve});var o=e(6400),f=e(94184),u=e.n(f),c=e(28488);const g=pe=>{const me=document.createElement("ROOT");return me.innerHTML=pe,me},v=(pe,me,Ie)=>{let _e="";const de=ke=>Array.isArray(ke)&&ke.length===2&&ke[1]===null;return(Array.isArray(pe)&&!de(pe)?pe:[pe]).forEach(ke=>{if(!ke)_e+="";else if(ke.type){const Ve=me.length+1;me.push(ke),_e+=`<C${Ve}>${v(ke.props.children||[],me,Ie)}</C${Ve}>`}else if(de(ke)){const Ve=ke[0];_e+=`%${Ie.length+1}`,Ie.push(Ve)}else _e+=ke}),_e},E=(pe,me)=>{const Ie=g(pe),_e=de=>{const Re=[];return de.forEach(ke=>{var Ve;if((Ve=ke.childNodes)!=null&&Ve.length&&ke.nodeName){const Ge=Number(ke.nodeName.replace("C",""))-1,Qe=me[Ge];if(!Qe)return;const bt=ke.childNodes?_e(ke.childNodes):[],Ce=(0,o.cloneElement)(Qe,Qe.props,bt);Re.push(Ce)}else{const Ge=ke.data||"";Re.push(Ge)}}),Re};return _e(Ie.childNodes||[])};var y=e(84606),p=e(28614),T=Object.defineProperty,O=Object.defineProperties,I=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(pe,me,Ie)=>me in pe?T(pe,me,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):pe[me]=Ie,w=(pe,me)=>{for(var Ie in me||(me={}))_.call(me,Ie)&&s(pe,Ie,me[Ie]);if(S)for(var Ie of S(me))d.call(me,Ie)&&s(pe,Ie,me[Ie]);return pe},P=(pe,me)=>O(pe,I(me)),x=(pe,me)=>{var Ie={};for(var _e in pe)_.call(pe,_e)&&me.indexOf(_e)<0&&(Ie[_e]=pe[_e]);if(pe!=null&&S)for(var _e of S(pe))me.indexOf(_e)<0&&d.call(pe,_e)&&(Ie[_e]=pe[_e]);return Ie};const M=pe=>{var me=pe,{className:Ie,align:_e,size:de,weight:Re,transform:ke}=me,Ve=x(me,["className","align","size","weight","transform"]);Ve=P(w({},Ve),{textAlign:_e!=null?_e:Ve.textAlign,textTransform:ke!=null?ke:Ve.textTransform,fontSize:de!=null?de:Ve.fontSize,fontWeight:Re!=null?Re:Ve.fontWeight});const{iString:Ge,language:Qe}=(0,c.M1)();let bt=Ve.children;if(Ve.translated&&Qe!=="en"){const Ce=[],We=[],xe=v(Ve.children,Ce,We),rt=Ge(xe,...We);if(rt&&rt!==xe)try{bt=E(rt,Ce)}catch(Je){console.log(`Could not translate ${xe}`,Je)}}return(0,o.h)(y.xu,P(w({className:u()(p.Z.reset,Ie)},Ve),{children:bt}))},N=pe=>(0,o.h)(M,w({as:"span"},pe)),C=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:u()(p.Z.header1,_e)},de),Ie)},A=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:u()(p.Z.header2,_e)},de),Ie)},k=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:u()(p.Z.header3,_e)},de),Ie)},L=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:u()(p.Z.header4,_e)},de),Ie)},K=(0,y.E7)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:p.Z.body1}),Z=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:u()(p.Z.body2,_e)},de),Ie)},J=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:u()(p.Z.body3,_e)},de),Ie)},q=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:u()(p.Z.body4,_e)},de),Ie)},ne=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:u()(p.Z.meta,_e)},de),Ie)},F=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:u()(p.Z.digit,_e)},de),Ie)},W=pe=>(0,o.h)(M,w({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},pe)),ie=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:u()(_e)},de),Ie)},he=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({font:"text",color:"primary",className:u()(p.Z.marketingBody,_e)},de),Ie)},ye=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h1",color:"primary",weight:"normal",className:u()(p.Z.marketingHeading1xl,_e)},de),Ie)},fe=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h1",color:"primary",weight:"normal",className:u()(p.Z.marketingHeading1,_e)},de),Ie)},ae=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h3",color:"primary",weight:"medium",className:u()(p.Z.marketingHeading2,_e)},de),Ie)},oe=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h3",color:"primary",weight:"medium",className:u()(p.Z.marketingHeading3,_e)},de),Ie)},G=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h4",color:"primary",weight:"medium",className:u()(p.Z.marketingHeading4,_e)},de),Ie)},re=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h5",color:"primary",weight:"normal",className:u()(p.Z.marketingHeading5,_e)},de),Ie)},se=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h4",color:"primary",weight:"normal",align:"center",className:u()(p.Z.marketingQuote,_e)},de),Ie)},le=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h4",color:"primary",weight:"normal",size:28,className:u()(p.Z.marketingSubtitle,_e)},de),Ie)},Ee=pe=>{var me=pe,{children:Ie,className:_e}=me,de=x(me,["children","className"]);return(0,o.h)(M,w({as:"h1",color:"primary",weight:"normal",className:u()(p.Z.stat,_e)},de),Ie)},ve=(0,y.E7)({as:"a",decoration:"hover-underline"});M.H1=C,M.H2=A,M.H3=k,M.H4=L,M.B1=K,M.B2=Z,M.B3=J,M.B4=q,M.Detail=ie,M.MarketingBody=he,M.MarketingHeading1xl=ye,M.MarketingHeading1=fe,M.MarketingHeading2=ae,M.MarketingHeading3=oe,M.MarketingHeading4=G,M.MarketingHeading5=re,M.MarketingQuote=se,M.MarketingSubtitle=le,M.Meta=ne,M.Stat=Ee,M.Digit=F,M.Button=W},75425:(z,l,e)=>{"use strict";e.d(l,{FN:()=>N,Us:()=>C,VW:()=>W,dd:()=>ie,lL:()=>A,pm:()=>he});var o=e(6400),f=e(98661),u=e(30396),c=e(5285),g=e(94184),v=e.n(g),E=e(71375),y=e(13833),p=e(21958),T=e(92271),O=e(51126),I=Object.defineProperty,S=Object.defineProperties,_=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(ye,fe,ae)=>fe in ye?I(ye,fe,{enumerable:!0,configurable:!0,writable:!0,value:ae}):ye[fe]=ae,x=(ye,fe)=>{for(var ae in fe||(fe={}))s.call(fe,ae)&&P(ye,ae,fe[ae]);if(d)for(var ae of d(fe))w.call(fe,ae)&&P(ye,ae,fe[ae]);return ye},M=(ye,fe)=>S(ye,_(fe));function N({text:ye,cta:fe,onAccept:ae,href:oe,onClose:G,Icon:re,className:se}){return(0,o.h)(L,{className:v()("tw-items-center",se)},(0,o.h)(O.gq,{className:"tw-flex-1",gap:12},re&&(0,o.h)(q,{Icon:re}),(0,o.h)(K,null,ye)),(0,o.h)(O.gq,{className:"tw-flex-none",gap:12},fe&&(typeof fe=="string"?(oe||ae)&&(0,o.h)(T.z,{look:"flex",onClick:le=>{G==null||G(),ae==null||ae(le)},href:oe},(0,o.h)(y.Av,{className:"tw-text-dark-secondary"},fe)):fe),(0,o.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,o.h)(J,{onClick:G})))}function C({title:ye,body:fe,buttons:ae,onClose:oe,Icon:G}){return(0,o.h)(L,{className:"tw-max-w-md"},G&&(0,o.h)(q,{Icon:G}),(0,o.h)(O.tu,{className:"tw-flex-0-5",gap:8},(0,o.h)(O.tu,{className:"tw-flex-0-5",gap:4},(0,o.h)(K,null,ye),(0,o.h)(Z,null,fe)),ae&&(0,o.h)(O.gq,{gap:24},ae)),(0,o.h)(J,{onClick:oe}))}function A(ye){return(0,o.h)(T.z,x({look:"flex",className:"tw-h-9 tw-items-center"},ye))}function k(ye){return h("div",{className:ne},h(N,x({},ye)))}const L=(0,p.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),K=(0,p.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",y.Hj),Z=(0,p.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",y.Hj);function J({onClick:ye}){return(0,o.h)(T.z,{look:"flex",onClick:ye},(0,o.h)(E.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function q({Icon:ye}){return(0,o.h)(ye,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const ne="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",F=(0,o.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function W({children:ye}){const[fe,ae]=(0,u.eJ)(null),[oe,G]=(0,u.eJ)("hidden"),[re,se]=(0,u.eJ)(0),le=(0,u.sO)(null),Ee=()=>{G("hidden")},ve=(me,{ttl:Ie=5e3}={})=>{ae({element:me({onClose:Ee}),ttl:Ie}),G("visible"),le.current!=null&&clearTimeout(le.current),le.current=Ie===null?null:setTimeout(Ee,Ie)},pe=me=>{se(Math.min(re+me,0))};return(0,o.h)(F.Provider,{value:{popToast:ve,addOffset:pe}},ye,(0,o.h)("div",{className:ne,style:{transform:`translateY(${re}px)`}},(0,o.h)(c.u,{appear:!0,show:!!fe&&oe==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>le.current!=null&&clearTimeout(le.current),onMouseLeave:()=>{le.current!=null&&clearTimeout(le.current),fe&&(le.current=fe.ttl===null?null:setTimeout(Ee,fe.ttl))}},fe==null?void 0:fe.element)))}const ie=ye=>{const fe=(0,f.forwardRef)((ae,oe)=>{const G=he();return(0,o.h)(ye,M(x(x({},G),ae),{ref:oe}))});return fe.displayName=`withToastContext(${ye.name||ye.displayName||"Anonymous"})`,fe};function he(){return(0,u.qp)(F)}},92630:(z,l,e)=>{"use strict";e.d(l,{u:()=>w,_:()=>P});var o=e(6400),f=e(51126),u=e(25666);const c={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB"};var g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(x,M,N)=>M in x?g(x,M,{enumerable:!0,configurable:!0,writable:!0,value:N}):x[M]=N,I=(x,M)=>{for(var N in M||(M={}))p.call(M,N)&&O(x,N,M[N]);if(y)for(var N of y(M))T.call(M,N)&&O(x,N,M[N]);return x},S=(x,M)=>v(x,E(M)),_=(x,M)=>{var N={};for(var C in x)p.call(x,C)&&M.indexOf(C)<0&&(N[C]=x[C]);if(x!=null&&y)for(var C of y(x))M.indexOf(C)<0&&T.call(x,C)&&(N[C]=x[C]);return N};const d=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],s=["left-start","left-center","left-end","right-start","right-center","right-end"],w=x=>{var M=x,{children:N,text:C,as:A="span",icon:k,preferPlacement:L="top-center",disabled:K,dangerouslySetTooltipZIndex:Z}=M,J=_(M,["children","text","as","icon","preferPlacement","disabled","dangerouslySetTooltipZIndex"]);const{layerProps:q,triggerProps:ne,transitionProps:F,renderLayer:W,shouldShow:ie}=(0,u.l)({layerOptions:{placement:L,possiblePlacements:s.includes(L)?s:d}}),he=q,{style:ye}=he,fe=_(he,["style"]);return K?(0,o.h)(o.Fragment,null,N):(0,o.h)(o.Fragment,null,(0,o.h)(A,I(I({},ne),J),N),ie&&W((0,o.h)(P,{transitionProps:F,tooltipProps:S(I({},fe),{style:S(I({},ye),{maxWidth:350,zIndex:Z||Number.MAX_SAFE_INTEGER})}),icon:k,text:C})))};function P({transitionProps:x,tooltipProps:M,icon:N,text:C}){return(0,o.h)("div",I({},M),(0,o.h)(u.x,I({},x),(0,o.h)("div",{className:c.tooltip},(0,o.h)(f.gq,{alignItems:"center",gap:8,className:c.tooltipContent},N&&(0,o.h)(o.Fragment,null,(0,o.cloneElement)(N,{size:20})," "),C))))}},86605:(z,l,e)=>{"use strict";e.d(l,{P:()=>T});var o=e(6400),f=e(71375),u=e(84040),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(O,I,S)=>I in O?c(O,I,{enumerable:!0,configurable:!0,writable:!0,value:S}):O[I]=S,p=(O,I)=>{for(var S in I||(I={}))v.call(I,S)&&y(O,S,I[S]);if(g)for(var S of g(I))E.call(I,S)&&y(O,S,I[S]);return O};function T(O){return(0,o.h)(u.hU,p({rounded:!0},O),(0,o.h)(f.Z,null))}},13833:(z,l,e)=>{"use strict";e.d(l,{xv:()=>P,Hj:()=>w,Av:()=>M,gx:()=>x});var o=e(6400),f=e(94184),u=e.n(f),c=e(19696);const g={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(N,C,A)=>C in N?v(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,S=(N,C)=>{for(var A in C||(C={}))T.call(C,A)&&I(N,A,C[A]);if(p)for(var A of p(C))O.call(C,A)&&I(N,A,C[A]);return N},_=(N,C)=>E(N,y(C)),d=(N,C)=>{var A={};for(var k in N)T.call(N,k)&&C.indexOf(k)<0&&(A[k]=N[k]);if(N!=null&&p)for(var k of p(N))C.indexOf(k)<0&&O.call(N,k)&&(A[k]=N[k]);return A};const s=(0,c.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),w=(0,c.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function P(N){var C=N,{className:A,color:k,as:L="span"}=C,K=d(C,["className","color","as"]);return(0,o.h)(L,_(S({},K),{className:u()(A,k&&g[`color-${k}`])}))}const x="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",M=(0,c.L)(x,P)},92271:(z,l,e)=>{"use strict";e.d(l,{z:()=>S});var o=e(6400),f=e(94184),u=e.n(f),c=e(84040),g=e(13833),v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(P,x,M)=>x in P?v(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,O=(P,x)=>{for(var M in x||(x={}))y.call(x,M)&&T(P,M,x[M]);if(E)for(var M of E(x))p.call(x,M)&&T(P,M,x[M]);return P},I=(P,x)=>{var M={};for(var N in P)y.call(P,N)&&x.indexOf(N)<0&&(M[N]=P[N]);if(P!=null&&E)for(var N of E(P))x.indexOf(N)<0&&p.call(P,N)&&(M[N]=P[N]);return M};function S(P){var x=P,{className:M,variant:N,look:C="button",fill:A="outline",fixedHeight:k=!0,size:L="medium",leftIcon:K,rightIcon:Z,noPadding:J=!1,forwardedRef:q,children:ne}=x,F=I(x,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,o.h)(c.kG,O({className:u()(M,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!w.includes(C)&&"tw-bg-transparent",d.includes(C)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${g.gx}`,s.includes(C)&&!J&&"tw-px-5",k||C=="round"?L==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",C==="button"&&"tw-rounded",C==="round"&&["tw-rounded-full tw-px-4",K&&"tw-pl-[10px]",Z&&"tw-pr-[10px]"],C==="circle"&&["tw-justify-center tw-rounded-full",L==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],C==="text"&&`tw-inline ${_}`,C==="reset"&&`tw-inline-block ${_}`,C==="flex"&&`tw-flex ${_}`,N==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:N==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:N==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",w.includes(C)?A==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:N==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:N==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",w.includes(C)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:N==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:N==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:q},F),K,ne,Z)}const _="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",d=["button","borderless","circle","round"],s=["button","borderless"],w=["button","circle","round"]},53570:(z,l,e)=>{"use strict";e.d(l,{X:()=>s});var o=e(6400),f=e(94184),u=e.n(f),c=e(25380);const g={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(w,P,x)=>P in w?v(w,P,{enumerable:!0,configurable:!0,writable:!0,value:x}):w[P]=x,S=(w,P)=>{for(var x in P||(P={}))T.call(P,x)&&I(w,x,P[x]);if(p)for(var x of p(P))O.call(P,x)&&I(w,x,P[x]);return w},_=(w,P)=>E(w,y(P)),d=(w,P)=>{var x={};for(var M in w)T.call(w,M)&&P.indexOf(M)<0&&(x[M]=w[M]);if(w!=null&&p)for(var M of p(w))P.indexOf(M)<0&&O.call(w,M)&&(x[M]=w[M]);return x};const s=w=>{var P=w,{name:x,size:M="medium",checked:N,disabled:C=!1,error:A=!1,onChange:k,as:L="label",withTheme:K=!1}=P,Z=d(P,["name","size","checked","disabled","error","onChange","as","withTheme"]);const J=L;return(0,o.h)(J,{className:u()("pencraft",g.container,g[M],C?g.disabled:g.enabled,N?K?g.checkedWithTheme:g.checked:g.unchecked,A?g.error:"")},N&&(0,o.h)(c.Z,{size:M==="small"?16:24}),(0,o.h)("input",_(S({},Z),{className:"pencraft",type:"checkbox",name:x,"data-testid":x,checked:N,disabled:C,onChange:q=>{var ne,F;!C&&k(!N,_(S({},q.target),{name:(F=(ne=q.target)==null?void 0:ne.name)!=null?F:""}))}})))}},72657:(z,l,e)=>{"use strict";e.d(l,{D:()=>u});var o=e(6400),f=e(13045);const u=({errors:c})=>c?(0,o.h)(o.Fragment,null,c.map(g=>(0,o.h)(f.xv.B4,{color:"error",key:g},g))):null},69045:(z,l,e)=>{"use strict";e.d(l,{g:()=>M});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=e(67963),v=e(39419);const E={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"};var y=Object.defineProperty,p=(N,C,A)=>C in N?y(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,T=(N,C,A)=>(p(N,typeof C!="symbol"?C+"":C,A),A);const O=300,I=8,S=100;class _ extends o.Component{constructor(C,A){super(C,A),this.cardRef=(0,o.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,o.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},S)}setIsShown(C){this.setState({isOpen:C,attachCard:C})}onClick(C){C.stopPropagation()}render({content:C,preferPositionLeft:A,className:k,children:L},{attachCard:K,isOpen:Z}){var J,q,ne;let F={},W=!1;if(K&&((J=this.wrapperRef)!=null&&J.current)){const{top:ie,left:he}=this.wrapperRef.current.getBoundingClientRect(),{height:ye,width:fe}=(ne=(q=this.cardRef.current)==null?void 0:q.getBoundingClientRect())!=null?ne:{};W=A&&he-fe>0,W?F={top:ie-I-ye,left:he-fe-I,"max-width":O}:F={top:ie-I-ye,"max-width":O,left:he}}return(0,o.h)("div",{className:c()(E.portalWrapper,k),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:ie=>this.onClick(ie),ref:this.wrapperRef},typeof L=="function"?L({}):L,K&&(0,f.createPortal)((0,o.h)("div",{className:c()(E.contentWrapper,{[E.contentWrapperShown]:Z,"animate-opacity":!(0,v.isSafari)(),"position-left":W}),ref:this.cardRef,style:F,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},C),document.body))}}T(_,"defaultProps",{delay:S}),T(_,"contextType",g.St);const d=_,s={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},w=({content:N})=>(0,o.h)(d,{content:N},(0,o.h)("div",{className:s.learnMoreChip},"?"));var P=e(13045),x=e(72657);const M=(0,f.forwardRef)(({action:N,children:C,className:A,errors:k,helpText:L,details:K,label:Z,paddingBottom:J,paddingTop:q,wrapWithLabel:ne},F)=>(0,o.h)(P.tu,{ref:F,alignItems:"stretch",className:A,gap:8,paddingBottom:J,paddingTop:q},(0,o.h)(P.tu,{alignItems:"stretch",gap:8,as:ne?"label":"div"},Z&&(0,o.h)(P.gq,{gap:8,alignItems:"center"},(0,o.h)(P.xv.B4,{weight:"semibold",as:ne?"div":"label",color:"primary"},Z),L&&(0,o.h)(w,{content:L}),N&&(0,o.h)(P.gq,{flex:"grow",justifyContent:"end"},N)),(0,o.h)("div",{className:c()({"has-error":k})},C)),K&&!Array.isArray(K)&&(0,o.h)(P.xv.Detail,null,K),K&&Array.isArray(K)&&K.length>0&&(0,o.h)(P.tu,{gap:4},K.map(W=>(0,o.h)(P.xv.Detail,null,W))),(0,o.h)(x.D,{errors:k})))},92958:(z,l,e)=>{"use strict";e.d(l,{Y:()=>d});var o=e(6400),f=e(94184),u=e.n(f);const c={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP"};var g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(s,w,P)=>w in s?g(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,I=(s,w)=>{for(var P in w||(w={}))p.call(w,P)&&O(s,P,w[P]);if(y)for(var P of y(w))T.call(w,P)&&O(s,P,w[P]);return s},S=(s,w)=>v(s,E(w)),_=(s,w)=>{var P={};for(var x in s)p.call(s,x)&&w.indexOf(x)<0&&(P[x]=s[x]);if(s!=null&&y)for(var x of y(s))w.indexOf(x)<0&&T.call(s,x)&&(P[x]=s[x]);return P};const d=s=>{var w=_(s,[]);return(0,o.h)("div",{className:u()(c.container)},(0,o.h)("input",S(I({},w),{type:"radio"})),(0,o.h)("span",{className:c.radio}))}},2019:(z,l,e)=>{"use strict";e.d(l,{g:()=>S});var o=e(6400),f=e(30396),u=e(51126),c=e(43887),g=e(69045),v=e(92958),E=Object.defineProperty,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(_,d,s)=>d in _?E(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,I=(_,d)=>{for(var s in d||(d={}))p.call(d,s)&&O(_,s,d[s]);if(y)for(var s of y(d))T.call(d,s)&&O(_,s,d[s]);return _};const S=({label:_,name:d,options:s,paddingBottom:w,paddingTop:P,size:x="medium",value:M,onChange:N,horizontal:C,labelProps:A})=>{const k=(0,f.I4)(L=>{N(L.target.value)},[N]);return(0,o.h)(g.g,{label:_,paddingBottom:w,paddingTop:P},(0,o.h)(u.gq,{gap:x==="medium"?8:16,direction:C?"row":"column"},s.map(({value:L,label:K,disabled:Z,track:J,testid:q})=>(0,o.h)(u.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,o.h)(v.Y,{checked:L===M,"data-testid":q,"data-track-input":J,disabled:Z,name:d,value:L,onClick:k}),x==="medium"?(0,o.h)(c.xv.B4,I({as:"span"},A),K):(0,o.h)(c.xv.B3,I({},A),K)))))}},34394:(z,l,e)=>{"use strict";e.d(l,{o:()=>s});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=e(51220),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(w,P,x)=>P in w?v(w,P,{enumerable:!0,configurable:!0,writable:!0,value:x}):w[P]=x,S=(w,P)=>{for(var x in P||(P={}))T.call(P,x)&&I(w,x,P[x]);if(p)for(var x of p(P))O.call(P,x)&&I(w,x,P[x]);return w},_=(w,P)=>E(w,y(P)),d=(w,P)=>{var x={};for(var M in w)T.call(w,M)&&P.indexOf(M)<0&&(x[M]=w[M]);if(w!=null&&p)for(var M of p(w))P.indexOf(M)<0&&O.call(w,M)&&(x[M]=w[M]);return x};const s=(0,f.forwardRef)((w,P)=>{var x=w,{className:M,error:N=!1,type:C="text",width:A,background:k,font:L}=x,K=d(x,["className","error","type","width","background","font"]);return(0,o.h)("input",_(S({},K),{className:c()(M,g.Z.input,{[g.Z.error]:N},L&&g.Z[`font-${L}`]),style:{width:A,background:k},type:C,ref:P}))})},27885:(z,l,e)=>{"use strict";e.d(l,{g:()=>s});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),g=e(51220),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(w,P,x)=>P in w?v(w,P,{enumerable:!0,configurable:!0,writable:!0,value:x}):w[P]=x,S=(w,P)=>{for(var x in P||(P={}))T.call(P,x)&&I(w,x,P[x]);if(p)for(var x of p(P))O.call(P,x)&&I(w,x,P[x]);return w},_=(w,P)=>E(w,y(P)),d=(w,P)=>{var x={};for(var M in w)T.call(w,M)&&P.indexOf(M)<0&&(x[M]=w[M]);if(w!=null&&p)for(var M of p(w))P.indexOf(M)<0&&O.call(w,M)&&(x[M]=w[M]);return x};const s=(0,f.forwardRef)((w,P)=>{var x=w,{className:M,error:N=!1,font:C}=x,A=d(x,["className","error","font"]);return(0,o.h)("textarea",_(S({ref:P,className:c()(M,g.Z.input,g.Z.textarea,{[g.Z.error]:N},C&&g.Z[`font-${C}`])},A),{type:"text"}))})},89581:(z,l,e)=>{"use strict";e.d(l,{x:()=>_});var o=e(30396),f=e(62372);let u=0;function c(d="",s=[]){return(0,o.Ye)(()=>(u++,u=u>Number.MAX_SAFE_INTEGER?1:u,`${d}${u}`),s)}var g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?g(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,I=(d,s)=>{for(var w in s||(s={}))p.call(s,w)&&O(d,w,s[w]);if(y)for(var w of y(s))T.call(s,w)&&O(d,w,s[w]);return d},S=(d,s)=>v(d,E(s));const _=({layerOptions:d,hideOnScroll:s}={})=>{const[w,P]=(0,o.eJ)(!1);(0,o.d4)(()=>{if(s){const k=()=>{requestAnimationFrame(()=>{open&&s&&P(!1)})};return window.addEventListener("scroll",k,!0),()=>{window.removeEventListener("scroll",k,!0)}}},[s]);const{triggerProps:x,layerProps:M,renderLayer:N}=(0,f.sJ)(I({isOpen:w,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>P(!1)},d)),C=c("trigger"),A=c("dialog");return{triggerProps:S(I({},x),{id:C,"aria-expanded":w,"aria-haspopup":"dialog","aria-controls":A}),layerProps:S(I({},M),{id:A,role:"dialog",tabIndex:0,"aria-labeledby":C}),renderLayer:N,isOpen:w,setOpen:P}}},25666:(z,l,e)=>{"use strict";e.d(l,{l:()=>O,x:()=>I});var o=e(6400),f=e(30396),u=e(5285),c=e(62372),g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(S,_,d)=>_ in S?g(S,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):S[_]=d,T=(S,_)=>{for(var d in _||(_={}))E.call(_,d)&&p(S,d,_[d]);if(v)for(var d of v(_))y.call(_,d)&&p(S,d,_[d]);return S};function O({hoverOptions:S,layerOptions:_}={}){const[d,s]=(0,f.eJ)(!1),[w,P]=(0,c.XI)(T({delayEnter:1e3,delayLeave:500},S)),{triggerProps:x,layerProps:M,renderLayer:N}=(0,c.sJ)(T({isOpen:w,auto:!0,triggerOffset:8},_));return{layerProps:M,triggerProps:T(T({},x),P),transitionProps:{show:w,beforeEnter:()=>s(!0),afterLeave:()=>s(!1)},renderLayer:N,shouldShow:w||d}}function I(S){return(0,o.h)(u.u,T({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},S))}},30058:(z,l,e)=>{"use strict";e.d(l,{e:()=>c});var o=e(6400),f=e(94184),u=e.n(f);const c=({className:g,children:v})=>(0,o.h)("div",{className:u()("tailwind-preflight",g)},v)},96427:(z,l,e)=>{"use strict";e.d(l,{P:()=>x});var o=e(6400),f=e(94184),u=e.n(f),c=e(99758),g=e(84040),v=e(51126),E=e(76235),y=e(43887);const p={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr"};var T=Object.defineProperty,O=Object.defineProperties,I=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(N,C,A)=>C in N?T(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,w=(N,C)=>{for(var A in C||(C={}))_.call(C,A)&&s(N,A,C[A]);if(S)for(var A of S(C))d.call(C,A)&&s(N,A,C[A]);return N},P=(N,C)=>O(N,I(C));const x=({children:N,className:C,name:A,value:k,onChange:L,disabled:K=!1})=>{var Z;const J=N.find(q=>q.props.value===k);return J||console.error("Select: value not found in children. value:",k,"options:",N.map(q=>q.props.value)),(0,o.h)(v.gq,{className:u()(p.select,C),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,o.h)(y.xv,{className:u()(p.selectedOption,{[p.disabled]:K}),font:"text",size:14,color:K?"secondary":"primary"},(Z=J==null?void 0:J.props.children)!=null?Z:""),(0,o.h)(c.Z,null),(0,o.h)("select",{name:A,value:k,onChange:q=>{var ne;L(q.target.value,P(w({},q.target),{name:(ne=q.target.name)!=null?ne:""}))},disabled:K},N))};function M({value:N,options:C,onChange:A,fill:k,disabled:L,className:K,priority:Z}){var J,q;return h(Menu,{className:K,trigger:h(Button,{priority:Z!=null?Z:"secondary",fill:k,disabled:L,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select"},(q=(J=C.find(ne=>ne.value===N))==null?void 0:J.label)!=null?q:"Select")},C.map(ne=>h(MenuItem,{onClick:()=>A(ne.value)},ne.label)))}},95297:(z,l,e)=>{"use strict";e.d(l,{s:()=>Z,o:()=>J});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(62372),v=e(51736),E=e(47052),y=e(3258),p=e(51126),T=e(43887),O=e(92630);const I={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var S=Object.defineProperty,_=Object.defineProperties,d=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,x=(q,ne,F)=>ne in q?S(q,ne,{enumerable:!0,configurable:!0,writable:!0,value:F}):q[ne]=F,M=(q,ne)=>{for(var F in ne||(ne={}))w.call(ne,F)&&x(q,F,ne[F]);if(s)for(var F of s(ne))P.call(ne,F)&&x(q,F,ne[F]);return q},N=(q,ne)=>_(q,d(ne));const C=100,A={sm:16,md:20,lg:24},k={100:E.Z,1e3:v.Z,1e4:v.Z},L={1e4:{fill:"var(--color-accent-purple)"}},K={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},Z=({className:q,isStatic:ne=!1,inline:F=!1,size:W="lg",tier:ie,tooltipOnHover:he=!1,userId:ye})=>{const[fe,ae]=(0,g.XI)({delayEnter:C,delayLeave:C,hideOnScroll:!0}),oe=fe&&!he,{triggerProps:G,layerProps:re,renderLayer:se}=(0,g.sJ)({isOpen:oe,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),le=re.style;(0,f.d4)(()=>{fe&&(0,y.j)(y.FP.BESTSELLER_INFO_SHOWN,{tier:ie,form:he?"tooltip":"popover",hovered_user_id:ye})},[fe,ie,he,ye]);const Ee=A[W];if(!ie)return null;const ve=k[ie.toString()],pe=L[ie.toString()],me=c()(q,F?I.inlineContainer:I.container);return ne&&ie?(0,o.h)("div",{className:me},(0,o.h)(ve,N(M({},pe),{height:Ee}))):(0,o.h)("div",N(M(M({},ae),G),{className:me}),(0,o.h)(O.u,{text:`${K[ie.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!he},(0,o.h)(ve,N(M({},pe),{height:Ee}))),oe&&se((0,o.h)("div",N(M(M({},re),ae),{style:le,className:I.popover}),(0,o.h)(p.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,o.h)(ve,N(M({},pe),{height:40})),(0,o.h)(p.tu,{alignItems:"center",gap:4},(0,o.h)(T.xv.H3,null,"Bestseller"),(0,o.h)(T.xv.B4,{align:"center"},K[ie.toString()]," of paid subscribers"))))))},J=({tier:q})=>{if(!q)return null;const ne=k[q.toString()],F=L[q.toString()];return(0,o.h)(ne,N(M({},F),{height:A.sm}))}},9686:(z,l,e)=>{"use strict";e.d(l,{I:()=>_});var o=e(6400),f=e(30396),u=e(86804),c=e(46209);function g(){const N=(0,f.sO)();return(0,f.d4)(()=>{var C;(C=N.current)==null||C.focus()},[]),N}var v=e(63503),E=e(8479),y=e(39419),p=e(5131),T=e(19696),O=e(34518),I=e(33510),S=(N,C,A)=>new Promise((k,L)=>{var K=q=>{try{J(A.next(q))}catch(ne){L(ne)}},Z=q=>{try{J(A.throw(q))}catch(ne){L(ne)}},J=q=>q.done?k(q.value):Promise.resolve(q.value).then(K,Z);J((A=A.apply(N,C)).next())});function _({onCancel:N,onSuccess:C,onSignup:A,noCloseButton:k,noExit:L}){const[K,Z]=(0,f.eJ)("email"),[J,q]=(0,f.eJ)(""),ne=()=>{Z("mfa")};return(0,o.h)(O.Yy,{className:"",isPopup:!0,onClose:N,noCloseButton:k,noExit:L},(0,o.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,o.h)(c.Z,{className:"reader-nav-logo modal-header-icon"}),(0,o.h)(I.y,null,"Sign in to Substack"),K==="email"?(0,o.h)(s,{onUsePassword:F=>{q(F),Z("password")},onSuccess:F=>{q(F),Z("poll")}}):K==="poll"?(0,o.h)(w,{email:J,onSuccess:C,onChangeMode:Z}):K==="mfa"?(0,o.h)(P,{onSuccess:C}):(0,o.h)(d,{email:J,onMfa:ne,onSuccess:C})),A&&(0,o.h)(I.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,o.h)("span",null,"First time here?"," ",(0,o.h)(p.zx,{variant:"primary",look:"text",onClick:A},"Create an account"))))}function d({email:N,onSuccess:C,onMfa:A}){const k=(0,E.ib)({pathname:"/api/v1/login",method:"post"}),L=(0,f.sO)(),K=J=>S(this,null,function*(){if(J.preventDefault(),k.isLoading)return;const q=M(J.currentTarget);L.current&&(q.captcha_response=L.current.getResponse());const ne=yield k.refetch({json:q});ne instanceof Error||(ne.mfa_required?A():C())}),Z=g();return(0,o.h)(o.Fragment,null,k.error instanceof E.kp&&k.error.response.status===401&&(0,o.h)(u.Z,{ref:L}),(0,o.h)(x,{onSubmit:K,disabled:k.isLoading},(0,o.h)(I.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:N}),(0,o.h)(I.II,{type:"password",name:"password",placeholder:"Your password",ref:Z}),k.error&&(0,o.h)(I.Xq,null,(0,y.getNetworkErrorMessage)(k.error)),(0,o.h)(p.zx,{type:"submit",variant:"primary"},k.isLoading?"Signing in...":"Sign in")))}function s({onUsePassword:N,onSuccess:C}){const A=(0,E.ib)({pathname:"/api/v1/email-login",method:"POST"}),k=K=>{if(K.preventDefault(),A.isLoading)return;const Z=K.currentTarget.email.value;A.refetch({json:{email:Z,redirect:location.pathname}}).then(J=>{J instanceof E.kp||C(Z)})},L=g();return(0,o.h)(x,{onSubmit:k,disabled:A.isLoading},(0,o.h)(I.II,{type:"email",name:"email",placeholder:"Your email",ref:L}),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,o.h)(p.zx,{type:"submit",variant:"primary"},A.isLoading?"Signing in...":"Sign in with email"),(0,o.h)(p.zx,{variant:"secondary",look:"borderless",onClick:()=>{var K;return N((K=L.current)==null?void 0:K.value)}},"or sign in with password")))}function w({email:N,onSuccess:C,onChangeMode:A}){return(0,v.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(k=>S(this,null,function*(){(yield k.json()).loggedIn&&C()}))},5e3),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,o.h)("b",null,"Check your email"),(0,o.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,o.h)("b",null,N)," ","with a link that you can use to sign in."),(0,o.h)("div",null,"You can also"," ",(0,o.h)(p.zx,{look:"text",onClick:()=>A("email")},(0,o.h)("b",null,"try again"))," ","or"," ",(0,o.h)(p.zx,{look:"text",onClick:()=>A("password")},(0,o.h)("b",null,"sign in using your password")),"."))}function P({onSuccess:N}){const C=(0,E.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),A=k=>{k.preventDefault(),!C.isLoading&&C.refetch({json:M(k.currentTarget)}).then(L=>{L instanceof E.kp||N()})};return(0,o.h)(x,{onSubmit:A,disabled:C.isLoading},(0,o.h)(I.II,{type:"password",name:"code",placeholder:"Your MFA code"}),C.error&&(0,o.h)(I.Xq,null,(0,y.getNetworkErrorMessage)(C.error)),(0,o.h)(p.zx,{type:"submit",variant:"primary"},C.isLoading?"Signing in...":"Sign in"))}const x=(0,T.L)("tw-flex tw-flex-col tw-gap-3","form");function M(N){return Object.fromEntries(Array.from(N.elements).filter(C=>C instanceof HTMLInputElement||C instanceof HTMLTextAreaElement).map(C=>[C.name,C.value]))}},10186:(z,l,e)=>{"use strict";e.d(l,{qE:()=>k,BG:()=>K,YY:()=>Z});var o=e(6400),f=e(94184),u=e.n(f),c=e(40353),g=e(7370),v=e(85362),E=e(80332),y=e(13045),p=e(15045),T=e(51126),O=e(33510),I=e(68262);const S={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var _=Object.defineProperty,d=Object.defineProperties,s=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,M=(J,q,ne)=>q in J?_(J,q,{enumerable:!0,configurable:!0,writable:!0,value:ne}):J[q]=ne,N=(J,q)=>{for(var ne in q||(q={}))P.call(q,ne)&&M(J,ne,q[ne]);if(w)for(var ne of w(q))x.call(q,ne)&&M(J,ne,q[ne]);return J},C=(J,q)=>d(J,s(q)),A=(J,q)=>{var ne={};for(var F in J)P.call(J,F)&&q.indexOf(F)<0&&(ne[F]=J[F]);if(J!=null&&w)for(var F of w(J))q.indexOf(F)<0&&x.call(J,F)&&(ne[F]=J[F]);return ne};function k({user:J,size:q,className:ne}){const F=(0,p.getUserPhotoUrl)(J);return(0,o.h)(O.t5,{className:u()(S.avatar,ne),src:F,size:q})}function L({user:J,size:q,className:ne,badge:F,badgeShape:W="square",showProfileHovercard:ie}){return(0,p.getUserPhotoUrl)(J)?(0,o.h)(T.gq,{className:S.avatarContainer},(0,o.h)(E.Ct,{subject:N({id:0,name:""},J),dontStopPropagation:!1,disabled:!ie},(0,o.h)(k,{user:J,size:q,className:ne})),F&&(0,o.h)("div",{className:u()(S.badge,W&&S[W])},F)):null}function K(J){var q=J,{pub:ne}=q,F=A(q,["pub"]);return(0,o.h)(L,C(N({},F),{badge:ne&&(0,o.h)(I.F,{pub:ne,size:16})}))}function Z(J){var q=J,{subscriptionType:ne}=q,F=A(q,["subscriptionType"]);let W=null,ie;return ne==="author"?(W=(0,o.h)(c.Z,{height:16,className:S.subscriptionBadge}),ie="Author"):ne==="founding"?(W=(0,o.h)(g.Z,{height:16,className:S.subscriptionBadge}),ie="Founding member"):ne==="paid"&&(W=(0,o.h)(v.Z,{height:16,className:S.subscriptionBadge}),ie="Paid subscriber"),W=W&&ie?(0,o.h)(y.u,{text:ie},W):null,(0,o.h)(L,C(N({},F),{badge:W,badgeShape:"circle"}))}},5131:(z,l,e)=>{"use strict";e.d(l,{zx:()=>S});var o=e(6400),f=e(94184),u=e.n(f),c=e(7922),g=e(19696),v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(s,w,P)=>w in s?v(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,O=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&T(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&T(s,P,w[P]);return s},I=(s,w)=>{var P={};for(var x in s)y.call(s,x)&&w.indexOf(x)<0&&(P[x]=s[x]);if(s!=null&&E)for(var x of E(s))w.indexOf(x)<0&&p.call(s,x)&&(P[x]=s[x]);return P};function S(s){var w=s,{className:P,variant:x,rounded:M,look:N="button",fixedHeight:C=!0,size:A="medium",hasLeftIcon:k,hasRightIcon:L,forwardedRef:K}=w,Z=I(w,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,o.h)(c.k,O({className:u()("reader2-button",P,`reader2-button-${N}`,C&&"fixedHeight",x&&(["text","borderless"].includes(N)?`reader2-button-text-${x}`:`reader2-button-${x}`),(M||N==="circle")&&"reader2-button-rounded",`reader2-button-${A}`,k&&"hasLeftIcon",L&&"hasRightIcon"),ref:K},Z))}function _(s){var w=s,{isActive:P=!1,isSmall:x=!1,icon:M,children:N}=w,C=I(w,["isActive","isSmall","icon","children"]);return h("button",O({className:classnames("reader2-button-reset reader2-tab",P&&"active",x&&"small",M?"hasIcon":null)},C),M,N)}const d=(0,g.L)("reader2-button-row")},55886:(z,l,e)=>{"use strict";e.d(l,{t:()=>E});var o=e(6400),f=e(79786),u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(y,p)=>{var T={};for(var O in y)c.call(y,O)&&p.indexOf(O)<0&&(T[O]=y[O]);if(y!=null&&u)for(var O of u(y))p.indexOf(O)<0&&g.call(y,O)&&(T[O]=y[O]);return T};function E(y){var p=y,{className:T,src:O,noStyle:I=!1,loading:S,onError:_}=p,d=v(p,["className","src","noStyle","loading","onError"]);let s,w;return"size"in d?(s=d.size,w=d.size):(s=d.width,w=d.height),(0,o.h)(f.e,{src:O,maxWidth:s*2,className:T,imageProps:{height:w*2,crop:"fill"},style:I?void 0:{width:s,height:w},loading:S,onError:_})}},15822:(z,l,e)=>{"use strict";e.d(l,{S:()=>S});var o=e(6400),f=e(94184),u=e.n(f),c=e(51126);const g={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&T(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&T(_,s,d[s]);return _},I=(_,d)=>{var s={};for(var w in _)y.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&E)for(var w of E(_))d.indexOf(w)<0&&p.call(_,w)&&(s[w]=_[w]);return s};function S(_){var d=_,{className:s}=d,w=I(d,["className"]);return(0,o.h)(c.hs,O({justifyContent:"center",alignItems:"center",className:u()(g.container,s)},w),(0,o.h)("div",{className:g.drunkSpinner}))}},54520:(z,l,e)=>{"use strict";e.d(l,{SV:()=>T});var o=e(6400),f=e(30396),u=e(20042),c=e(79786),g=e(8479),v=e(11533),E=e(51126),y=e(43887);function p(){const{result:I}=(0,g.Wf)(()=>Promise.all([e.e(918),e.e(486)]).then(e.bind(e,71486)).then(S=>S.Sentry),[],{auto:!0});return(0,f.cO)(S=>{console.error(S),I&&I.captureException(S)})}function T({children:I}){const[S,_]=p(),d=(0,f.sO)((0,u.getCurrentUrl)());return(0,v.j)(s=>{S&&d.current!==s&&_(),d.current=s},[]),S?(0,o.h)(O,null):I}function O(){return(0,o.h)(E.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,o.h)(c.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,o.h)(E.tu,{gap:8},(0,o.h)(y.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,o.h)(y.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},55337:(z,l,e)=>{"use strict";e.d(l,{KL:()=>me,rS:()=>pe,au:()=>ie,E$:()=>re,dg:()=>Ee,Zx:()=>Ie});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(98913),v=e(52066),E=e(81470),y=e(15045),p=e(70444),T=e(20501),O=e(71765),I=e(91704),S=e(80332),_=e(4190),d=e(58718),s=e(63270),w=e(67963),P=e(62017),x=e(3258),M=e(66141),N=e(16527),C=e(8479),A=e(6742),k=e(39419),L=e(13045),K=e(86605),Z=e(48960),J=e(10186),q=e(41474),ne=e(68493),F=e(33510);const W={personYouMayKnow:"frontend-reader2-FeedSidebar-module__personYouMayKnow--xfbDV",personYouMayKnowText:"frontend-reader2-FeedSidebar-module__personYouMayKnowText--Z2xnA",personYouMayKnowFeed:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeed--NDSjT",personYouMayKnowFeedButton:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeedButton--qUPdh",personYouMayKnowImage:"frontend-reader2-FeedSidebar-module__personYouMayKnowImage--z1fjJ",shareProfile:"frontend-reader2-FeedSidebar-module__shareProfile--3xYv4",fbConnect:"frontend-reader2-FeedSidebar-module__fbConnect--Omv4o",avatarContainer:"frontend-reader2-FeedSidebar-module__avatarContainer--R4y26",close:"frontend-reader2-FeedSidebar-module__close--XScse",badge:"frontend-reader2-FeedSidebar-module__badge--S42Dn",badgeIcon:"frontend-reader2-FeedSidebar-module__badgeIcon--ElLpK"},ie="inviteFriendsNuxDismissed",he="facebookPymkNuxDismissed",ye="sidebarInviteFriendsNuxDismissed",fe="sidebarFacebookNuxDismissed",ae=60*60*24*7;function oe(){const _e=useSiteConfigs(),{user:de}=useUserContext(),[Re]=useDismissed(ye),[ke=Re]=useDismissed(fe,ae),Ve=_e.getConfigFor("twitter_connect_flows_enabled")&&de&&!de.has_linked_twitter,Ge=!ke&&!!_e.getConfigFor("facebook_connect")&&de&&!de.has_linked_facebook,Qe=de&&!Re&&!Ge;return h(Sidebar,null,h(SidebarBody,{gap:0},Qe&&h(Fragment,null,h(Ie,{utmSource:"feed_sidebar"}),h(Divider,{paddingX:8,paddingY:8})),Ve&&h(Fragment,null,h(pe,null),h(Divider,{paddingX:8,paddingY:8})),Ge&&h(Fragment,null,h(me,null),h(Divider,{paddingX:8,paddingY:8})),h(G,null)))}function G(){var _e,de;const Re=useFetch({pathname:"/api/v1/reader/feed/sidebar-user-suggestions",auto:!0});return!Re.isLoading&&!((_e=Re.result)!=null&&_e.suggestions.length)?null:h(FlexColumn,{gap:8},h(SidebarHeader,null,h(Text.H4,null,h(TextLink,{onClick:ke=>routeClick(ke,getFeedPeopleYouMayKnowUrl())},"Suggestions")),h(Button,{size:"small",priority:"secondary",fill:"empty",onClick:ke=>routeClick(ke,getFeedPeopleYouMayKnowUrl())},"See all")),h(FlexColumn,{gap:8},Re.isLoading?times(8,()=>h(le,null)):(de=Re.result)==null?void 0:de.suggestions.map(ke=>h(re,{feedUserSuggestion:ke,surface:FeedSurface.FeedSidebar,hoverCardPlacement:"left-center"}))),h(Divider,{paddingX:8,paddingY:8}))}function re({feedUserSuggestion:_e,surface:de,hoverCardPlacement:Re}){var ke,Ve;const{exposeExperiment:Ge}=(0,_.jc)(),Qe=(0,f.sO)(null),bt=(0,d.Sv)(_e.user,de),Ce=bt.isFollowing?"Following":"Follow",We=bt.isFollowing?"secondary":"primary",xe=de===E.Uo.Feed?"pymk_notes_feed_item":de===E.Uo.Suggestions?"pymk_notes_suggestions_page":"pymk_notes_sidebar";(0,A.UM)(Qe,()=>{(0,q.MJ)(_e,de),Ge("people_you_may_know_algorithm_7")});const[rt,Je]=(0,f.eJ)(!1),ft=Jt=>{rt||(Je(!0),(0,q.CD)(_e,de,Jt))},je=Jt=>{ft("user-suggestion"),Jt.defaultPrevented||(0,k.redirect)((0,T.getReaderProfileUrl)(_e.user,{utm_source:xe}),{event:Jt})},Rt=Jt=>{Jt.preventDefault(),ft("user-suggestion-cta"),bt.toggle()};return de===E.Uo.Feed?(0,o.h)(L.tu,{ref:Qe,className:c()(W.personYouMayKnow,W.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,radius:12,onClick:je},(0,o.h)(J.BG,{user:_e.user,pub:_e.publication,size:64}),(0,o.h)(L.tu,{minWidth:0,flex:"grow",alignSelf:"stretch"},(0,o.h)(L.xv.B4,{as:"a",decoration:"hover-underline",align:"center",target:"_blank",rel:"noopener",weight:"bold",href:(0,T.getReaderProfileUrl)(_e.user),ellipsis:!0},_e.user.name),(0,o.h)(L.xv.B4,{align:"center",color:"secondary",ellipsis:!0},_e.source==="twitter"?"From Twitter":_e.source==="facebook"?"From Facebook":_e.source==="contacts_email"||_e.source==="contacts_phone"?"From your contacts":_e.publication?`${_e.publication.name}`:(ke=_e.user.bio)!=null?ke:"")),(0,o.h)(L.zx,{size:"small",priority:We,fill:"outline",onClick:Rt,grow:!0},(0,o.h)(L.gq,null,(0,o.h)(L.gq,{alignItems:"center",gap:4},Ce)))):(0,o.h)(se,{user:_e.user,source:xe,publication:_e.publication,label:_e.source==="twitter"?"From Twitter":_e.publication?`Writes ${_e.publication.name}`:(Ve=_e.user.bio)!=null?Ve:"",hoverCardPlacement:Re,onClick:je,cta:(0,o.h)(L.zx,{size:"small",priority:We,fill:de===E.Uo.Suggestions?"outline":"empty",onClick:Rt},(0,o.h)(L.gq,null,(0,o.h)(L.gq,{alignItems:"center",gap:4},Ce))),boxRef:Qe})}function se({user:_e,publication:de,label:Re,hoverCardPlacement:ke,onClick:Ve,cta:Ge,source:Qe,boxRef:bt}){const Ce=(0,w.aF)(),We=_e&&_e.id===(Ce==null?void 0:Ce.id);return(0,o.h)(L.hs,{ref:bt,className:W.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12,onClick:Ve,radius:12},(0,o.h)(L.hs,{gap:12,minWidth:0},(0,o.h)(J.BG,{user:_e,pub:de,size:40,showProfileHovercard:!0}),(0,o.h)(L.tu,{minWidth:0,justifyContent:"center",alignItems:"start"},(0,o.h)(S.Ct,{subject:_e,placement:ke,utmSource:Qe},(0,o.h)(L.xv.B4,{as:"a",className:W.personYouMayKnowText,decoration:"hover-underline",target:"_blank",rel:"noopener",weight:"bold",href:(0,T.getReaderProfileUrl)(_e),ellipsis:!0},_e.name)),(0,o.h)(L.xv.B4,{color:"secondary",ellipsis:!0,className:W.personYouMayKnowText,as:de?"a":void 0,decoration:de?"hover-underline":void 0,target:"_blank",rel:"noopener",onClick:xe=>{xe.stopPropagation()},href:de?(0,y.getPubUrl)(de):void 0},Re))),!We&&Ge)}function le(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",padding:8,gap:12},h(Placeholder,{type:"circle",className:css.personYouMayKnowImage}),h(FlexColumn,{style:{width:"100%"},gap:8},h(Placeholder,{type:"bar",width:"80%",height:16}),h(Placeholder,{type:"bar",width:"40%",height:16})))}function Ee(){const[_e,de]=(0,M.Z)(he,ae);return _e?null:(0,o.h)(L.tu,{className:c()(W.personYouMayKnow,W.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,style:{position:"relative"},radius:12},(0,o.h)(K.P,{className:W.close,onClick:de}),(0,o.h)(O.Z,{fill:"var(--color-accent-facebook)",stroke:"none",height:64,width:64}),(0,o.h)(L.tu,{alignItems:"center",minWidth:0,flex:"grow"},(0,o.h)(L.xv.B4,{align:"center",weight:"bold",ellipsis:!0},"Connect Facebook"),(0,o.h)(L.xv.B4,{align:"center",color:"secondary",ellipsis:!0},"Find your friends")),(0,o.h)(L.zx,{size:"small",priority:"primary",fill:"filled",href:(0,T.getConnectFacebookUrl)({type:"reader2",redirect:(0,y.getFeedUrl)()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,grow:!0,onClick:()=>(0,x.j)(x.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function ve(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12},h(FlexBox,{gap:12,minWidth:0},h(FacebookIconCircle,{height:40}),h(FlexColumn,{minWidth:0},h(Text.B4,{weight:"semibold"},"Connect Facebook"),h(Text.B4,{color:"secondary"},"Find your friends on Substack"))),h(Button,{priority:"primary",fill:"filled",href:getConnectFacebookUrl({type:"reader2",redirect:getFeedUrl()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,onClick:()=>track(EVENTS.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function pe(){return(0,o.h)(L.tu,{alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(v.Z,{size:32,fill:"var(--color-accent-twitter)",stroke:"none"}),(0,o.h)(L.tu,{alignItems:"center",gap:6},(0,o.h)(L.xv.H4,null,"Find people you know"),(0,o.h)(L.xv.B4,{align:"center",color:"secondary"},"Connect Twitter to see what the people you follow are reading.")),(0,o.h)(L.zx,{priority:"primary",href:(0,y.getConnectTwitterUrl)({type:"reader2",redirect:p.Ds}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-twitter)"},rounded:!0},"Connect Twitter"))}function me(){const[,_e]=(0,M.Z)(fe),de=()=>{_e()};return(0,o.h)(L.tu,{position:"relative",alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(K.P,{className:W.close,onClick:de}),(0,o.h)(O.Z,{width:40,height:40}),(0,o.h)(L.tu,{alignItems:"center",gap:6},(0,o.h)(L.xv.H4,null,"Find your friends"),(0,o.h)(L.xv.B4,{align:"center",color:"secondary"},"Connect Facebook to see what your friends are reading.")),(0,o.h)(L.zx,{priority:"primary",href:(0,T.getConnectFacebookUrl)({type:"reader2",redirect:(0,y.getFeedUrl)()}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-facebook)"},rounded:!0,onClick:()=>(0,x.j)(x.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"sidebar"})},"Connect Facebook"))}function Ie({utmSource:_e}){const[de,Re]=(0,f.eJ)(!1),[ke,Ve]=(0,f.eJ)(!1),{user:Ge,changeSetting:Qe}=(0,w.SE)(),[,bt]=(0,M.Z)(ie),[,Ce]=(0,M.Z)(ye);if(!Ge)return null;const We=()=>{Qe("invite_friends_nux_dismissed_at",new Date().toISOString()),bt()},xe=()=>{We(),Ce()},rt=()=>{Re(!1),ke&&We()},Je=()=>{Re(!0),(0,x.j)(x.FP.INVITE_FRIENDS_MODAL_SHOWN,{source:_e})};return(0,o.h)(o.Fragment,null,(0,o.h)(L.tu,null,(0,o.h)(L.tu,{alignItems:"center",gap:12,padding:32,className:W.shareProfile},(0,o.h)(K.P,{className:W.close,onClick:xe}),(0,o.h)(L.tu,{className:W.avatarContainer},(0,o.h)(J.qE,{user:Ge,size:48}),(0,o.h)(L.hs,{className:W.badge,padding:4},(0,o.h)(I.HA,{className:W.badgeIcon,size:12}))),(0,o.h)(L.tu,{alignItems:"center",gap:6},(0,o.h)(L.xv.H4,null,"Invite your friends"),(0,o.h)(L.xv.B4,{align:"center",color:"secondary"},"Share your profile to help your friends find you on Notes.")),(0,o.h)(L.zx,{priority:"primary",onClick:Je,rounded:!0},"Invite friends"))),(0,o.h)(ne.N,{isOpen:de,utmSource:_e,onClose:rt,setShared:()=>Ve(!0)}))}},68493:(z,l,e)=>{"use strict";e.d(l,{N:()=>y});var o=e(6400),f=e(20501),u=e(67963),c=e(73115),g=e(13045),v=e(10186);const E={card:"frontend-reader2-InviteFriendModal-module__card--Y_M2a",cardTop:"frontend-reader2-InviteFriendModal-module__cardTop--U1mKN",cardBottom:"frontend-reader2-InviteFriendModal-module__cardBottom--k08tv",cardAvatar:"frontend-reader2-InviteFriendModal-module__cardAvatar--XnNz6",cardOverlay:"frontend-reader2-InviteFriendModal-module__cardOverlay--d17EK",cardUrl:"frontend-reader2-InviteFriendModal-module__cardUrl--CRORb",fakeButton:"frontend-reader2-InviteFriendModal-module__fakeButton--sjhoe"},y=({isOpen:p,utmSource:T,onClose:O,setShared:I})=>{const{user:S}=(0,u.SE)();if(!S)return(0,o.h)(o.Fragment,null);const _=(0,f.getReaderProfileUrl)(S,{utm_source:T}),d=`/img/profile_cards/card-bg-${Math.ceil(S!=null&&S.id?S.id%9+1:Math.random()*8)}.png`;return(0,o.h)(g.u_,{isOpen:p,onClose:O,width:480,overflow:"hidden"},(0,o.h)(g.xB,{includeClose:!0,onClose:O}),(0,o.h)(g.tu,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20},(0,o.h)(g.tu,{alignItems:"center",gap:8},(0,o.h)(g.xv.H2,{weight:"semibold"},"Invite your friends"),(0,o.h)(g.xv.B3,{align:"center",color:"secondary"},"Share your profile to help your friends and followers find you on Substack.")),(0,o.h)(g.tu,{justifyContent:"center",alignItems:"center",border:"detail",radius:12,shadow:"lg",className:E.card},(0,o.h)(g.tu,{flex:"grow",className:E.cardTop},(0,o.h)("img",{className:E.cardOverlay,src:(0,f.imginary)(d,800)})),(0,o.h)(g.tu,{flex:"grow",alignSelf:"stretch",className:E.cardBottom,gap:16,paddingX:20,paddingBottom:20,paddingTop:0},(0,o.h)(g.hs,{justifyContent:"space-between",alignItems:"end"},(0,o.h)(v.qE,{user:S,size:112,className:E.cardAvatar}),(0,o.h)(g.zx,{priority:"secondary",rounded:!0,className:E.fakeButton},"Subscribe")),(0,o.h)(g.tu,{flex:"grow",gap:8},(0,o.h)(g.xv.H2,null,S.name),(0,o.h)(g.xv.Meta,{className:E.cardUrl,size:12,color:"substack"},_.replace(/^(http|https):\/\//,"").replace(/\?.*$/,"")),S.bio&&(0,o.h)(g.xv.B4,{color:"secondary"},S.bio)))),(0,o.h)(g.xv.Meta,{align:"center"},"Share via"),(0,o.h)(c.sZ,{shareUrl:_,shareEventType:"profile",shareText:"Subscribe to me on Substack",itemKey:S.id,onShare:()=>{I&&I()}})))}},11688:(z,l,e)=>{"use strict";e.d(l,{Oe:()=>d,cr:()=>_});var o=e(6400),f=e(8479),u=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(M,N,C)=>N in M?u(M,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):M[N]=C,T=(M,N)=>{for(var C in N||(N={}))E.call(N,C)&&p(M,C,N[C]);if(v)for(var C of v(N))y.call(N,C)&&p(M,C,N[C]);return M},O=(M,N)=>c(M,g(N)),I=(M,N)=>{var C={};for(var A in M)E.call(M,A)&&N.indexOf(A)<0&&(C[A]=M[A]);if(M!=null&&v)for(var A of v(M))N.indexOf(A)<0&&y.call(M,A)&&(C[A]=M[A]);return C},S=(M,N,C)=>new Promise((A,k)=>{var L=J=>{try{Z(C.next(J))}catch(q){k(q)}},K=J=>{try{Z(C.throw(J))}catch(q){k(q)}},Z=J=>J.done?A(J.value):Promise.resolve(J.value).then(L,K);Z((C=C.apply(M,N)).next())});function _(M){return(0,o.h)(s,O(T({},M),{key:M.module}))}function d({module:M,onRequest:N,fetchImmediately:C=!0}){const A=P.has(M),k=(0,f.Wf)(()=>x(M,N),[],{auto:C&&!A,initialResult:A?P.get(M):null});return k.error&&console.error(k.error),{error:k.error,isLoading:k.isLoading,result:k.result,fetch:k.refetch}}function s(M){var N=M,{onRequest:C,resolve:A,module:k,whileLoading:L}=N,K=I(N,["onRequest","resolve","module","whileLoading"]);const{error:Z,isLoading:J,result:q}=d({module:k,onRequest:C});return(0,o.h)(o.Fragment,null,Z?"Error":J||!q?L!=null?L:null:(0,o.h)(A(q),K))}function w(M){return h(_,O(T({},M),{resolve:N=>N.default}))}const P=new Map;function x(M,N){return S(this,null,function*(){let C=P.get(M);return C||(C=yield N(),P.set(M,C)),C})}},18130:(z,l,e)=>{"use strict";e.d(l,{c:()=>d,r:()=>_});var o=e(6400),f=e(98661),u=e(92298),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,O=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&T(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&T(s,P,w[P]);return s},I=(s,w)=>g(s,v(w)),S=(s,w)=>{var P={};for(var x in s)y.call(s,x)&&w.indexOf(x)<0&&(P[x]=s[x]);if(s!=null&&E)for(var x of E(s))w.indexOf(x)<0&&p.call(s,x)&&(P[x]=s[x]);return P};const _=(0,f.forwardRef)((s,w)=>{var P=s,{href:x,onClick:M,campaign:N}=P,C=S(P,["href","onClick","campaign"]);const A=d({href:x,onClick:M,campaign:N});return(0,o.h)("a",O(I(O({},C),{ref:w}),A))});function d({onClick:s,href:w,campaign:P}){if(w){let M;try{M=new URL(w)}catch(N){try{M=new URL(`${document.location.origin}${w}`)}catch(C){}}if(M){if(M.origin===document.location.origin&&!P){const N=new URLSearchParams,C={};for(const[A,k]of M.searchParams)A.startsWith("utm_")?A==="utm_campaign"?C.name=k:C[A.replace(/^utm_/,"")]=k:N.append(A,k);P=C,w=`${M.pathname}${N}`}else if(M.origin!==document.location.origin&&P){for(const[N,C]of Object.entries(P)){const A=N==="name"?"campaign":N;M.searchParams.set(`utm_${A}`,C)}w=M.toString()}}}return{href:w,onClick:M=>{s==null||s(M),!M.defaultPrevented&&!M.ctrlKey&&!M.shiftKey&&!M.metaKey&&w&&(0,u.j)(O({},P))}}}},42332:(z,l,e)=>{"use strict";e.d(l,{aw:()=>L,u:()=>K});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(74285),v=e(21958),E=e(5131),y=Object.defineProperty,p=Object.defineProperties,T=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,_=(Z,J,q)=>J in Z?y(Z,J,{enumerable:!0,configurable:!0,writable:!0,value:q}):Z[J]=q,d=(Z,J)=>{for(var q in J||(J={}))I.call(J,q)&&_(Z,q,J[q]);if(O)for(var q of O(J))S.call(J,q)&&_(Z,q,J[q]);return Z},s=(Z,J)=>p(Z,T(J)),w=(Z,J)=>{var q={};for(var ne in Z)I.call(Z,ne)&&J.indexOf(ne)<0&&(q[ne]=Z[ne]);if(Z!=null&&O)for(var ne of O(Z))J.indexOf(ne)<0&&S.call(Z,ne)&&(q[ne]=Z[ne]);return q};function P({hideOnScroll:Z}={}){const[J,q]=useState(!1),ne=useRef();return useEffect(()=>{if(J){const F=()=>{q(!1)},W=ie=>{ie.key==="Escape"&&q(!1)};return window.addEventListener("click",F),window.addEventListener("keydown",W),Z&&window.addEventListener("scroll",F,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",F),window.removeEventListener("keydown",W),window.removeEventListener("scroll",F,{capture:!0})}}},[J]),{ref:ne,isOn:J,setIsOn:q,toggle:()=>{q(!J)}}}const x={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function M({tetherRef:Z,fixTo:J=x,isFixed:q,offset:ne={x:0,y:0},children:F,className:W}){const ie=(0,f.sO)();return(0,f.bt)(()=>{const he=Z.current,ye=ie.current;if(!he||!ye)return;const fe=he.getBoundingClientRect(),ae=ye.getBoundingClientRect(),oe=d(d({},x),J);let G=oe.anchorY==="center"?fe.top+fe.height/2:fe[oe.anchorY];oe.tetherY==="bottom"&&(G=window.innerHeight-G),oe.tetherY==="center"&&(G-=ae.height/2);const re=oe.tetherY==="bottom"?"bottom":"top";let se=oe.anchorX==="center"?fe.left+fe.width/2:fe[oe.anchorX];oe.tetherX==="right"&&(se=window.innerWidth-se),oe.tetherX==="center"&&(se-=ae.width/2);const le=oe.tetherX==="right"?"right":"left";re==="top"&&G+ae.height>window.innerHeight?(G=fe.top-ae.height,ne.y&&(G-=ne.y)):ne.y&&(G+=ne.y),ne.x&&(se+=ne.x),q||(G+=window.scrollY,se+=window.scrollX),Object.assign(ye.style,{minWidth:`${fe.width}px`,[re]:`${G}px`,[le]:`${se}px`})},[]),(0,o.h)(g.h,null,(0,o.h)("div",{className:c()("dropdown3",W),ref:ie,style:{position:q?"fixed":"absolute"}},F))}const N=(0,v.L)("reader2-menu reader2-font-base");function C(Z){var J=Z,{priority:q}=J,ne=w(J,["priority"]);const F=classnames("reader2-menu-item","reader2-text-button",q,ne.className);return ne.href?h("a",s(d({},ne),{className:F})):h("div",s(d({},ne),{className:F}))}function A({options:Z,value:J,onChange:q,fixedHeight:ne=!1}){var F;const W=P({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:W.toggle,forwardedRef:W.ref,fixedHeight:ne},(F=Z.find(ie=>ie.value===J))==null?void 0:F.label,h(ChevronDown,{size:16}),W.isOn&&h(M,{tetherRef:W.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(N,null,Z.map(ie=>h(C,{key:ie.value,onClick:()=>q(ie.value),className:classnames("reader2-split-menu-item selectable",J===ie.value&&"isSelected")},ie.label,J===ie.value&&h(Check,{className:"feather-icon"}))))))}function k(Z){var J=Z,{defaultValue:q,onChange:ne}=J,F=w(J,["defaultValue","onChange"]);const[W,ie]=useState(q);return h(A,s(d({},F),{value:W,onChange:he=>{ie(he),ne(he)}}))}function L({onHover:Z}={}){const[J,q]=(0,f.eJ)(!1),ne=(0,f.sO)(),F=(0,f.sO)(),W=(0,f.sO)(),ie=ye=>{ye.pointerType==="mouse"&&(clearTimeout(W.current),q(!0),Z&&Z())},he=ye=>{ye.pointerType==="mouse"&&(W.current=setTimeout(()=>{q(!1)},200))};return(0,f.d4)(()=>{const ye=ne.current;if(ye)return ye.addEventListener("pointerenter",ie),ye.addEventListener("pointerleave",he),()=>{ye.removeEventListener("pointerenter",ie),ye.removeEventListener("pointerleave",he)}},[]),(0,f.d4)(()=>{const ye=F.current,fe=ne.current;if(J&&fe){const ae=()=>{q(!1)};return window.addEventListener("scroll",ae,{capture:!0,passive:!0}),ye&&(ye.addEventListener("pointerenter",ie),ye.addEventListener("pointerleave",he)),()=>{window.removeEventListener("scroll",ae,{capture:!0}),ye&&(ye.removeEventListener("pointerenter",ie),ye.removeEventListener("pointerleave",he))}}},[J]),{ref:ne,tooltipRef:F,isHovering:J}}function K({tetherRef:Z,children:J}){return(0,o.h)(M,{tetherRef:Z,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,o.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},J,(0,o.h)("div",{className:"reader2-tooltip-arrow"},(0,o.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,o.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(z,l,e)=>{"use strict";e.d(l,{Yy:()=>O});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(26059),v=e(74285),E=e(39419),y=e.n(E),p=e(5131),T=e(19696);function O({children:d,className:s,onClose:w,hasClosePill:P,isPopup:x,noExit:M,noExitOnClick:N,noFullscreen:C,noCloseButton:A,testID:k}){const L=(0,f.sO)(),K=Z=>{!M&&!N&&x&&(C||window.innerWidth>540)&&(Z.stopPropagation(),Z.preventDefault(),w())};return(0,o.h)(v.h,null,(0,o.h)("div",{className:c()("modal simple-modal wide typography","in",s,{"has-close-pill":P,popup:x}),"data-testid":k,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{className:c()("modal-cell modal-content reader2-modal",{"no-fullscreen":C})},(0,o.h)("div",{className:"modal-clickspace",onClick:K}),(0,o.h)("div",{className:"container",ref:L},!M&&(!A||(0,E.isMobileBrowser)())&&(0,o.h)(p.zx,{className:c()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":P}),onClick:()=>w()},(0,o.h)(g.Z,null)),d))))))}function I({children:d,onCancel:s}){return h(O,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:s},h(S,null,d))}const S=(0,T.L)("simple-modal-pad reader2-confirm-modal"),_=(0,T.L)("buttons")},10174:(z,l,e)=>{"use strict";e.d(l,{Au:()=>re,i3:()=>se,oC:()=>Ee,sA:()=>fe});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(13639),v=e(82622),E=e(20501),y=e(95847),p=e(67963),T=e(83097),O=e(62952),I=e(8479),S=e(84040),_=e(51126),d=e(62246),s=e(43887),w=e(10186),P=e(91870),x=e(11688),M=e(50292),N=e(44396),C=e(70762),A=e(7980),k=Object.defineProperty,L=Object.defineProperties,K=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,ne=(me,Ie,_e)=>Ie in me?k(me,Ie,{enumerable:!0,configurable:!0,writable:!0,value:_e}):me[Ie]=_e,F=(me,Ie)=>{for(var _e in Ie||(Ie={}))J.call(Ie,_e)&&ne(me,_e,Ie[_e]);if(Z)for(var _e of Z(Ie))q.call(Ie,_e)&&ne(me,_e,Ie[_e]);return me},W=(me,Ie)=>L(me,K(Ie)),ie=(me,Ie)=>{var _e={};for(var de in me)J.call(me,de)&&Ie.indexOf(de)<0&&(_e[de]=me[de]);if(me!=null&&Z)for(var de of Z(me))Ie.indexOf(de)<0&&q.call(me,de)&&(_e[de]=me[de]);return _e},he=(me,Ie,_e)=>new Promise((de,Re)=>{var ke=Qe=>{try{Ge(_e.next(Qe))}catch(bt){Re(bt)}},Ve=Qe=>{try{Ge(_e.throw(Qe))}catch(bt){Re(bt)}},Ge=Qe=>Qe.done?de(Qe.value):Promise.resolve(Qe.value).then(ke,Ve);Ge((_e=_e.apply(me,Ie)).next())});function ye(me){var Ie=me,{isOpen:_e}=Ie,de=ie(Ie,["isOpen"]);return(0,o.h)(d.u_,{className:A.Z.composerModal,isOpen:_e,onClose:de.onClose,fullscreenMobile:!0},(0,o.h)(x.cr,W(F({},de),{module:"../feed/NoteComposer",resolve:Re=>Re.NoteComposer,onRequest:()=>Promise.all([e.e(313),e.e(171),e.e(679),e.e(563),e.e(707)]).then(e.bind(e,68760)),whileLoading:(0,o.h)("div",{style:{height:410}})})))}function fe({disabled:me,parentPubId:Ie,parentPostId:_e,parentCommentId:de,placeholder:Re,tabId:ke}){const Ve=se(),Ge=(0,p.aF)(),Qe=(0,N.XA)(),{requireLogin:bt}=(0,M.SJ)(),Ce=()=>{me||(Ge?Ve.open({parentPubId:Ie,parentPostId:_e,parentCommentId:de,tabId:ke}):bt==null||bt())},We=(0,O.h)({onAddFiles:xe=>{Ve.open({parentPubId:Ie,parentPostId:_e,parentCommentId:de,initialFiles:xe,tabId:ke})}});return(0,o.h)(_.tu,F({},We.props),(0,o.h)(_.gq,{gap:12,alignItems:"center",className:c()(A.Z.inlineComposer,{[A.Z.disabled]:me})},Ge?(0,o.h)(_.hs,{as:"a",flex:"auto",href:(0,E.getReaderProfileUrl)(Ge,{noBase:!0})},(0,o.h)(w.qE,{size:Qe?36:40,user:Ge})):(0,o.h)(_.hs,{flex:"auto"},(0,o.h)(w.qE,{size:Qe?36:40})),(0,o.h)(S.kG,{className:c()(A.Z.inlineComposerButton,{[A.Z.mobile]:Qe,[A.Z.disabled]:me,[A.Z.isDropping]:We.isDragging}),onClick:Ce,disabled:me,resetCss:!0},(0,o.h)(s.xv.B3,{size:Qe?14:16,align:"left",color:"secondary"},Re||"What's on your mind?")),!Qe&&(0,o.h)(S.zx,{disabled:!0,rounded:!0},"Post")))}function ae(){const me=se(),Ie=useUser(),_e=()=>{me.open({})};return Ie?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:_e,shadow:"medium"},h(Plus,{size:24})):null}const oe={isOpen:!1,firstComment:void 0},G=(0,o.createContext)({state:oe,open:()=>he(void 0,null,function*(){throw new Error("Not implemented")})});function re({children:me}){var Ie,_e,de;const Re=(0,p.aF)(),ke=!(Re!=null&&Re.name),Ve=(0,P.I0)(),[Ge,Qe]=(0,f.eJ)(oe),{feedItem:bt}=Ge,Ce=Ee(bt),We=(_e=(Ie=bt==null?void 0:bt.parentComments)==null?void 0:Ie[0])!=null?_e:bt==null?void 0:bt.comment;(0,f.d4)(()=>{Re&&Promise.all([e.e(313),e.e(171),e.e(679),e.e(563),e.e(707)]).then(e.bind(e,68760))},[Re]);const xe=(0,f.Ye)(()=>({state:Ge,open:ft=>new Promise((je,Rt)=>{Qe(W(F(F({},oe),ft),{isOpen:!0,resolve:je,reject:Rt}))})}),[Ge]),rt=()=>{var ft,je;(je=(ft=document.activeElement)==null?void 0:ft.blur)==null||je.call(ft),Qe(W(F({},Ge),{isOpen:!1}))},Je=!1;return(0,o.h)(G.Provider,{value:xe},me,ke?(0,o.h)(le,{isOpen:Ge.isOpen,onClose:rt,onSuccess:()=>Qe(W(F({},Ge),{isOpen:!0}))}):Je?(0,o.h)(d.u_,{isOpen:Ge.isOpen,onClose:rt,width:316},(0,o.h)(pe,{onClose:rt})):Ce?(0,o.h)(d.u_,{isOpen:Ge.isOpen,onClose:rt,width:316},(0,o.h)(ve,{onClose:rt,requirement:Ce,writerId:(de=We==null?void 0:We.user_id)!=null?de:0})):(0,o.h)(ye,W(F({},Ge),{isOpen:Ge.isOpen,onClose:rt,onSuccess:ft=>{var je,Rt;ft.isFirstFeedCommentByUser?Qe(W(F({},Ge),{firstComment:ft})):rt(),Ve({type:Ge.editComment?"edit_comment":"new_comment",payload:{comment:ft}}),(je=Ge.onCompose)==null||je.call(Ge,ft),(Rt=Ge.resolve)==null||Rt.call(Ge,ft)},onError:Ge.reject})),(0,o.h)(d.u_,{isOpen:Ge.isOpen&&!!Ge.firstComment},Ge.firstComment&&(0,o.h)(T.q,{onClose:rt,comment:Ge.firstComment})))}function se(){return(0,f.qp)(G)}function le({isOpen:me,onClose:Ie,onSuccess:_e}){const de=(0,p.SE)();return(0,o.h)(d.u_,{isOpen:me,onClose:Ie,fullscreenMobile:!0},(0,o.h)(d.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:Ie}),(0,o.h)(y._0,{className:A.Z.setupProfileModalContent,pageTitle:"",user:de.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:Re=>{de.setUser(Re.body),_e()}}))}function Ee(me){var Ie,_e;const de=(_e=(Ie=me==null?void 0:me.parentComments)==null?void 0:Ie[0])!=null?_e:me==null?void 0:me.comment,{user_id:Re,reply_minimum_role:ke}=de!=null?de:{},Ve=(0,p.aF)(),Ge=(0,C.K)(Re!=null?Re:0);if(!Re||!ke||me!=null&&me.canReply||de&&Ve&&(0,v._N)(de,Ve.id))return null;if(ke){if(ke==="free_subscriber"&&(!Ge||!["free_subscription","subscribed"].includes(Ge)))return"free_subscriber";if(ke==="paid_subscriber"&&Ge!=="subscribed")return"paid_subscriber"}return null}function ve({requirement:me,writerId:Ie,onClose:_e}){var de;const Re=(0,p.aF)(),{error:ke,result:Ve}=(0,I.ib)({pathname:`/api/v1/user/${Ie}/primary-publication`,deps:[Ie],auto:!0});return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,o.h)(g.Z,{size:32,color:"var(--color-primary)"})),(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(s.xv.H3,{align:"center"},me==="free_subscriber"?"Subscribers only":"Paid subscribers only"),Ve&&(0,o.h)(s.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",me==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(de=Ve.name)!=null?de:"this publication",".")),(0,o.h)(_.tu,{gap:8},Ve&&(0,o.h)(S.zx,{priority:"primary",rounded:!0,href:(0,E.getSubscribeUrl)(Ve,{user:Re,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),(0,o.h)(S.zx,{priority:"secondary",rounded:!0,onClick:_e},"Cancel"))))}function pe({onClose:me}){return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(s.xv.H3,{align:"center"},"Confirm your email address"),(0,o.h)(s.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before using Notes.")),(0,o.h)(_.tu,{gap:8},(0,o.h)(S.zx,{priority:"primary",rounded:!0,onClick:me},"Ok"),(0,o.h)(S.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(z,l,e)=>{"use strict";e.d(l,{t5:()=>M.t,Sv:()=>x.S,Xq:()=>Ne,EU:()=>H,II:()=>me,Uj:()=>he,y:()=>ft,zr:()=>Q,mE:()=>rt,pe:()=>bt,Vm:()=>ae,Hj:()=>it,_Y:()=>fe,mb:()=>Re,eK:()=>ke});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),g=e.n(c),v=e(1852),E=e(84606),y=e(20501),p=e(16527),T=e(39419),O=e(84040),I=e(51126),S=e(43887),_=e(44396),d=e(5131),s=e(19696),w=e(54520);const P={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",placeholder:"frontend-reader2-Page-module__placeholder--qZjLi",travel:"frontend-reader2-Page-module__travel--cox8O",bar:"frontend-reader2-Page-module__bar--kRTwB",circle:"frontend-reader2-Page-module__circle--ZMmhY",elevated:"frontend-reader2-Page-module__elevated--QKV5Y",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3"};var x=e(15822),M=e(55886),N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Z=(ce,Pe,Me)=>Pe in ce?N(ce,Pe,{enumerable:!0,configurable:!0,writable:!0,value:Me}):ce[Pe]=Me,J=(ce,Pe)=>{for(var Me in Pe||(Pe={}))L.call(Pe,Me)&&Z(ce,Me,Pe[Me]);if(k)for(var Me of k(Pe))K.call(Pe,Me)&&Z(ce,Me,Pe[Me]);return ce},q=(ce,Pe)=>C(ce,A(Pe)),ne=(ce,Pe)=>{var Me={};for(var $e in ce)L.call(ce,$e)&&Pe.indexOf($e)<0&&(Me[$e]=ce[$e]);if(ce!=null&&k)for(var $e of k(ce))Pe.indexOf($e)<0&&K.call(ce,$e)&&(Me[$e]=ce[$e]);return Me};function F({children:ce}){const Pe=useMobile();return h(Ce,null,Pe?h(Text.H2,null,ce):h(Text.H1,null,ce))}function W({className:ce,children:Pe,title:Me,hasTitle:$e}){return h("div",{className:classnames("reader2-page-section",(Me||$e)&&"withTitle",ce)},Me&&h(ie,null,Me),Pe)}function ie({children:ce,className:Pe,actions:Me}){return h("div",{className:classnames("reader2-section-title",Pe)},h("span",{className:"reader2-text-h3 reader2-section-title"},ce),Me&&h("div",{className:"reader2-header-actions"},Me))}const he=(0,f.forwardRef)((ce,Pe)=>{var Me=ce,{isPadded:$e=!0,className:ct,linkClassName:ut}=Me,Et=ne(Me,["isPadded","className","linkClassName"]);return(0,o.h)("div",{ref:Pe,className:g()(P.linkRow,$e&&P.isPadded,ct)},(0,o.h)(ye,q(J({},Et),{className:ut})))});function ye(ce){var Pe=ce,{children:Me,className:$e,href:ct,newTab:ut,onClick:Et,noAnchor:Nt,native:$t,utmCampaign:Nn,utmSource:Vt,isSelected:rr}=Pe,Tr=ne(Pe,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const cr=typeof location!="undefined"?location.pathname:"",Lr=!Nt&&ct!=null?"a":"div",Br=ct&&(0,y.pathWithQuery)(ct,{utm_source:Vt||cr,utm_medium:"reader2",utm_campaign:Nn}),Cr=Dt=>{Et&&Et(Dt),!Dt.defaultPrevented&&Nt&&Br&&(0,p.Q)(Dt,Br,{native:$t,newTab:ut})};return(0,o.h)(I.hs,J({as:Lr,className:g()(P.linkRowA,$e,(Br||Et)&&rr==null&&P.isClickable,rr&&P.isSelected,rr!=null&&P.isSelectable),"data-selected":rr,href:Br,target:ut?"_blank":void 0,onClick:Cr},Tr),Me)}function fe({icon:ce,title:Pe,text:Me,action:$e,className:ct}){return(0,o.h)(I.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:g()(P.zero,ct)},ce,(0,o.h)(I.tu,{gap:4},(0,o.h)(S.xv.B4,{weight:"medium",color:"secondary"},Pe),(0,o.h)(S.xv.B4,{color:"secondary"},Me)),$e)}function ae(ce){var Pe=ce,{className:Me,style:$e,type:ct,width:ut,height:Et,size:Nt,maxWidth:$t,elevated:Nn,radius:Vt=6}=Pe,rr=ne(Pe,["className","style","type","width","height","size","maxWidth","elevated","radius"]);Nt!=null&&(ut=Nt,Et=Nt);const Tr=ct==="bar";return(0,o.h)(E.xu,q(J({},rr),{className:g()(P.placeholder,Me,Nn&&P.elevated,Tr&&P.bar,ct==="circle"&&P.circle),radius:Vt,style:q(J({},$e),{width:ut,height:Et,maxWidth:$t})}))}function oe(ce){var Pe=ce,{className:Me,variant:$e,size:ct,serif:ut,isConstrained:Et,maxLines:Nt=3}=Pe,$t=ne(Pe,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",J({className:classnames("reader2-paragraph",$e&&`reader2-${$e}`,ct&&`reader2-font-${ct}`,ut&&"reader2-font-serif",Et&&`reader2-clamp-lines reader2-${Nt}-lines`,Me)},$t))}function G({className:ce,children:Pe}){return h("div",{className:classnames("reader-nav-center",ce)},h("div",{className:"reader2-page reader2-font-base"},Pe))}function re({className:ce,scrollRef:Pe,children:Me}){return h(pe,{ref:Pe},h(G,{className:ce},Me))}function se(ce){var Pe=ce,{scrollRef:Me}=Pe,$e=ne(Pe,["scrollRef"]);return h(pe,{ref:Me},h(FlexBox,q(J({},$e),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function le(ce){return useMediaQuery({minWidth:1100})?h(FlexColumn,J({className:"reader2-inbox-sidebar",paddingTop:20},ce)):null}function Ee(ce){return h(FlexBox,J({alignItems:"center",justifyContent:"space-between",paddingX:8},ce))}function ve(ce){return h(FlexColumn,J({gap:8},ce))}const pe=(0,f.forwardRef)((ce,Pe)=>(0,o.h)(w.SV,null,(0,o.h)("div",J({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:Pe},ce)))),me=(0,f.forwardRef)((ce,Pe)=>{var Me=ce,{className:$e,hasError:ct}=Me,ut=ne(Me,["className","hasError"]);return(0,o.h)("input",q(J({className:g()(P.input,ct&&P.error,$e)},ut),{ref:Pe}))});function Ie(ce){var Pe=ce,{className:Me,hasError:$e,textareaRef:ct}=Pe,ut=ne(Pe,["className","hasError","textareaRef"]);return h("textarea",J({ref:ct,className:classnames(css.input,css.textarea,$e&&css.error,Me)},ut))}function _e({error:ce}){return h(Ne,null,getNetworkErrorMessage(ce))}const de=({header:ce,icon:Pe,title:Me,text:$e,action:ct})=>h(W,{title:ce},h(Re,{icon:Pe,title:Me,text:$e,action:ct}));function Re(ce){return(0,o.h)(I.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,o.h)(fe,J({},ce)))}const ke=(ce,{initialState:Pe}={})=>{const[Me,$e]=(0,u.eJ)(Pe||{showLeft:!1,showRight:!0});return(0,u.d4)(()=>{const{current:ut}=ce;if(ut){const Et=()=>{$e(Nt=>{let $t=Nt;!$t.showLeft&&ut.scrollLeft>0?$t=q(J({},Nt),{showLeft:!0}):$t.showLeft&&ut.scrollLeft<=0&&($t=q(J({},Nt),{showLeft:!1}));const Nn=ut.scrollWidth-ut.offsetWidth-4;return!$t.showRight&&ut.scrollLeft<Nn?$t=q(J({},Nt),{showRight:!0}):$t.showRight&&ut.scrollLeft>=Nn&&($t=q(J({},Nt),{showRight:!1})),$t})};return ut.addEventListener("scroll",Et),setTimeout(()=>{Et()},1e3),()=>{ut.removeEventListener("scroll",Et)}}},[]),{state:Me,handleArrowClick:ut=>()=>{const{current:Et}=ce;Et&&Et.scrollBy({left:ut*Et.offsetWidth,behavior:"smooth"})}}};function Ve({tabs:ce,value:Pe,onChange:Me}){const $e=useRef(),ct=useMobile(),{state:ut,handleArrowClick:Et}=ke($e);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:css.tabContainer},h(FlexRow,{className:"reader2-tab-bar-parent"},!ct&&h("div",{className:classnames("reader2-carousel-fade left",ut.showLeft&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow left",onClick:Et(-1)},h(ChevronLeft,{size:20}))),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:$e},h(Ge,{tabs:ce,value:Pe,onChange:Me})),!ct&&h("div",{className:classnames("reader2-carousel-fade right",ut.showRight&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow right",onClick:Et(1)},h(ChevronRight,{size:20})))))}function Ge({tabs:ce,value:Pe,onChange:Me}){return h(FlexRow,{gap:8},ce.map($e=>h(PillButton,{key:$e.value,isActive:Pe===$e.value,onClick:()=>Me($e.value),icon:$e.icon},$e.label)))}function Qe({children:ce}){const Pe=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:Pe},ce)}function bt(ce){var Pe=ce,{gap:Me=16}=Pe,$e=ne(Pe,["gap"]);return(0,o.h)(I.tu,q(J({},$e),{className:g()(P.pageStack,P[`gap_${Me}`])}))}const Ce=(0,s.L)("reader2-page-top"),We=(0,s.L)(P.pageTopFixed),xe=(0,s.L)("reader2-page-body"),rt=(0,s.L)(P.pageStack),Je=(0,s.L)("reader2-page-center"),ft=(0,s.L)("reader2-modal-title-text"),je=(0,s.L)("reader2-column"),Rt=(0,s.L)("reader2-text-h3"),Jt=(0,s.L)("reader2-text-h3 reader2-section-title"),Ct=(0,s.L)("reader2-text-h4"),Le=(0,s.L)("reader2-item-title"),He=(0,s.L)("reader2-item-meta"),it=(0,s.L)("reader2-text-b4"),Ne=(0,s.L)("reader2-form-error"),Be=(0,s.L)("reader2-subtitle"),ze=(0,s.L)("reader2-separator","hr"),lt=(0,s.L)("reader2-page-section withTitle"),et=(0,s.L)("reader2-row reader2-split-row"),Ae=(0,s.L)("reader2-emphasis-box"),H=(0,s.L)(g()(P.hoverLink,"pencraft"),"a");function Q(ce){return(0,o.h)(H,J({target:"_blank"},ce))}},4263:(z,l,e)=>{"use strict";var o=e(6400),f=e(98661),u=e(30396),c=e(94184),g=e.n(c),v=e(42395),E=e.n(v),y=e(15045),p=e(7922),T=e(45809),O=e(24491),I=e(11862),S=e(38199),_=e(56790),d=e(26523),s=e(56838),w=e(67963),P=e(3258),x=e(15748),M=e(6742),N=e(39419),C=e.n(N),A=e(49619),k=e(51126),L=e(43887),K=e(95297),Z=e(33510),J=e(68262),q=e(40172),ne=e(47585),F=e(44396),W=e(72307),ie=Object.defineProperty,he=Object.defineProperties,ye=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,G=(H,Q,ce)=>Q in H?ie(H,Q,{enumerable:!0,configurable:!0,writable:!0,value:ce}):H[Q]=ce,re=(H,Q)=>{for(var ce in Q||(Q={}))ae.call(Q,ce)&&G(H,ce,Q[ce]);if(fe)for(var ce of fe(Q))oe.call(Q,ce)&&G(H,ce,Q[ce]);return H},se=(H,Q)=>he(H,ye(Q)),le=(H,Q)=>{var ce={};for(var Pe in H)ae.call(H,Pe)&&Q.indexOf(Pe)<0&&(ce[Pe]=H[Pe]);if(H!=null&&fe)for(var Pe of fe(H))Q.indexOf(Pe)<0&&oe.call(H,Pe)&&(ce[Pe]=H[Pe]);return ce};function Ee(H){var Q=H,{post:ce,pub:Pe}=Q,Me=le(Q,["post","pub"]);const $e=!!useUser(),{subscription:ct}=usePubSubscription(Pe.id);return h(pe,se(re({},Me),{post:ce,postId:ce.id,title:ce.title,description:decodeHtmlEntitiesFast(ce.description),bylines:ce.publishedBylines,consumptionTime:Je(ce),coverImage:ce.cover_image,type:getPostType(ce),Icon:Rt(getPostType(ce)),canonicalUrl:getPostUrl(Pe,ce,{signedIn:$e}),timestamp:ce.post_date,pub:Pe,audienceBadge:["only_paid","founding"].includes(ce.audience)?(ct==null?void 0:ct.membership_state)==="free_signup"&&ce.should_send_free_preview?"preview":"paid":void 0}))}var ve=null;function pe(H){var Q=H,{post:ce,title:Pe,description:Me,bylines:$e,consumptionTime:ct,coverImage:ut,type:Et,Icon:Nt,audienceBadge:$t,showBestsellerBadge:Nn,highlights:Vt,excerpt:rr}=Q,Tr=le(Q,["post","title","description","bylines","consumptionTime","coverImage","type","Icon","audienceBadge","showBestsellerBadge","highlights","excerpt"]);return h(Ie,se(re({},Tr),{highlights:Vt}),h(bt,{post:ce,bylines:$e,consumptionTime:ct,Icon:Nt,audienceBadge:$t,showBestsellerBadge:Nn,highlights:Vt,excerpt:rr}))}function me({post:H,pub:Q,context:ce,isViewed:Pe,isSaved:Me,isSelected:$e,onClick:ct,onMouseEnter:ut,onVisible:Et,position:Nt}){const $t=!!useUser(),Nn=H.cover_image;return h(Ie,{postId:H.id,canonicalUrl:getPostUrl(Q,H,{signedIn:$t,urlParams:{pos:Nt}}),timestamp:H.post_date,pub:Q,isViewed:Pe,isSelected:$e,defaultSaved:Me,onClick:ct,onMouseEnter:ut,onVisible:Et},h(Qe,{post:H,metaText:ce,image:Nn&&h(je,{post:H})}))}function Ie({children:H,pub:Q,publisherName:ce,logoUrl:Pe,timestamp:Me,isViewed:$e,isArchived:ct,isSelected:ut,isLiked:Et,isSaved:Nt,onLike:$t,onClick:Nn,canonicalUrl:Vt,postId:rr,defaultSaved:Tr,onSave:cr,onArchive:Lr,onMouseEnter:Br,onVisible:Cr,utmSource:Dt,highlights:Ft}){const zt=useUser(),[sn,Un]=useUnreadBadge(!$e),gr=isMobileBrowser(),Dr=useRef();return useFirstVisible(Dr,()=>Cr&&Cr(),{threshold:.2}),h(ke,{ref:Dr,href:Vt,onClick:Fr=>{Un(),Nn&&Nn(Fr)},className:"reader2-post-container",utmSource:Dt,isSelected:ut,onMouseMove:()=>{Br==null||Br(rr)}},h(Ve,{pub:Q,publisherName:ce,logoUrl:Pe,highlights:Ft},h(FlexRow,{className:classnames("reader2-post-info tw-items-center tw-gap-3",zt&&"hasUser")},h(Ge,{className:"inbox-item-timestamp",value:Me}),h(_e,{isMobile:gr,postId:rr,defaultSaved:Tr,isSaved:Nt,onSave:cr,user:zt,isArchived:ct,onArchive:Lr,isLiked:Et,onLike:$t,canonicalUrl:Vt,communityEnabled:Q==null?void 0:Q.community_enabled}),sn)),H)}function _e({isMobile:H,postId:Q,defaultSaved:ce,isLiked:Pe,onLike:Me,isSaved:$e,onSave:ct,user:ut,isArchived:Et,onArchive:Nt,canonicalUrl:$t,communityEnabled:Nn}){const{isSaved:Vt,onSave:rr}=useSavePostById({postId:Q,defaultSaved:ce}),Tr=Cr=>{Cr.stopPropagation(),Cr.preventDefault()},cr=()=>{ct?ct(Q,!Vt):rr()},Lr=()=>{Nt==null||Nt()},Br=useLinkCopyToast();return H?null:h(FlexBox,{padding:4,gap:4,className:"inbox-item-actions-menu",onClick:Tr},Me&&Nn&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>Me(Q)},h(Le,{isActive:Pe})),h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>{Br($t)}},h(lt,null)),ut&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:cr},h(Ne,{isActive:$e!=null?$e:Vt})),Nt&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:Lr},h(ze,null)))}function de({post:H,highlights:Q}){return h(bt,{post:H,bylines:H.publishedBylines,consumptionTime:Je(H),Icon:Rt(getPostType(H)),highlights:Q})}function Re({post:H,pub:Q}){const ce=!!useUser();return h(ke,{href:getPostUrl(Q,H,{signedIn:ce})},h(Ve,{pub:Q},h(Ge,{value:H.post_date})),h(de,{post:H}))}const ke=(0,f.forwardRef)((H,Q)=>(0,o.h)(Z.Uj,re({ref:Q,linkClassName:g()("reader2-inbox-post",H.isSelected==null&&"hover-action-menu"),native:!0,isPadded:!1,newTab:!0},H)));function Ve({pub:H,logoUrl:Q,publisherName:ce,children:Pe,highlights:Me={}}){return h("div",{className:"reader2-post-head reader2-text-meta"},(H||Q)&&h(PubIcon,{className:"pub-logo",pub:H,logoUrl:Q,publicationName:ce,size:20}),h("div",{className:"pub-name"},ce||H&&h(NewTabHoverLink,{href:H.base_url,onClick:$e=>$e.stopPropagation()},highlightText(H.name,Me["publication.name"]))),Pe)}function Ge({value:H,className:Q}){return h("div",{className:classnames("timestamp",Q)},formatPostDate(H))}function Qe({post:H,image:Q,metaText:ce,highlights:Pe={},excerpt:Me}){return h("div",{className:"reader2-post-body",onClick:()=>{const $e=(window==null?void 0:window.location)&&new URL(window.location.href);$e&&track(EVENTS.POST_SEARCH_RESULT_CLICKED,{post_id:H.id,query:decodeURIComponent($e.pathname.replace(/\/search\//g,""))})}},h(FlexColumn,{minWidth:0,gap:8},h("div",{className:"reader2-post-title reader2-clamp-lines"},highlightText(H.title,Pe.title||Pe["posts.title"],"extrabold")),H.description&&h(Paragraph,{variant:"secondary",isConstrained:!Me},Me?h(Text,{as:"span",fontStyle:"italic"},"\u201C...",highlightText(Me,Pe.body_text,"extrabold"),"\u201D"):highlightText(decodeHtmlEntitiesFast(H.description),Pe.subtitle||Pe["posts.subtitle"],"extrabold")),ce),Q)}function bt({bylines:H,consumptionTime:Q,Icon:ce,audienceBadge:Pe,showBestsellerBadge:Me,post:$e,highlights:ct,excerpt:ut}){return h(Qe,{post:$e,metaText:h(Ce,{bylines:H,consumptionTime:Q,Icon:ce,audienceBadge:Pe,showBestsellerBadge:Me,highlights:ct}),image:$e.cover_image&&h(je,{post:$e}),highlights:ct,excerpt:ut})}function Ce({bylines:H,consumptionTime:Q,Icon:ce,audienceBadge:Pe,showBestsellerBadge:Me,highlights:$e={}}){return h(ItemMeta,null,Pe&&h(Fragment,null,h("span",{className:"meta-audience-badge"},Pe),h(xe,null)),H.length>0?h(Fragment,null,h(FormattedArray,{array:H,limit:3,formatter:ct=>Me?h(We,{name:ct.name||"",tier:ct.bestseller_tier,userId:ct.id}):highlightText(ct.name||"",$e["publication.author_name"])}),Q&&h(xe,null)):null,ce&&h(Fragment,null,h(ce,{className:"meta-icon tw-align-text-top"})," "),Q)}const We=({name:H,tier:Q,userId:ce})=>Q?h(FlexRow,{inline:!0,gap:4,alignItems:"center"},H," ",h(UserBadge,{userId:ce,tier:Q,size:"sm"})):h(Fragment,null,H),xe=()=>h("span",{className:"meta-bullet"},"\u2219");function rt(H){var Q,ce;return(Q=H==null?void 0:H.duration_metadata)!=null&&Q.audio_duration?"podcast":H.video_id&&((ce=H==null?void 0:H.duration_metadata)!=null&&ce.video_duration)?"video":"newsletter"}function Je(H){const{comment_count:Q,podcast_duration:ce,wordcount:Pe,videoUpload:Me}=H;let $e,ct;const ut=getPostType(H);if(ut==="podcast")$e=ce/60,ct="listen";else if(ut==="video")$e=Me.duration/60,ct="watch";else{if(ut==="thread")return Q>0?`${Q.toLocaleString()} replies`:"Thread";if(Pe!=null&&Pe>0)$e=Pe/220,ct="read";else return null}return`${Math.max(Math.round($e),1).toLocaleString()} min ${ct}`}function ft(H){var Q;let ce,Pe;const Me=rt(H);if(Me==="podcast")ce=H.duration_metadata.audio_duration/60,Pe="listen";else if(Me==="video")ce=H.duration_metadata.video_duration/60,Pe="watch";else if((((Q=H==null?void 0:H.duration_metadata)==null?void 0:Q.word_count)||0)>0)ce=H.duration_metadata.word_count/220,Pe="read";else return null;return`${Math.max(Math.ceil(ce),1).toLocaleString()} min ${Pe}`}function je({post:H,size:Q=132,square:ce}){const Pe=H.cover_image,Me=getPostType(H),$e=Q,ct=Me==="podcast"||ce?Q:200,[ut,Et]=useState(null);return ut?null:h("div",{className:"reader2-post-picture-container"},h(CloudImage,{className:classnames("reader2-post-picture",Me),src:Pe,width:ct,height:$e,loading:"lazy",noStyle:!ce,onError:Nt=>Et(Nt)}),(Me==="podcast"||Me==="video")&&h("div",{className:"reader2-picture-overlay"},h(InboxPodcastPlayIcon,{className:"picture-play"})))}function Rt(H){return H==="podcast"?AudioIcon:H==="video"?VideoIcon:H==="thread"?ThreadIcon:null}const Jt=20;function Ct(H){return h(UnstyledButton,re({className:"reader2-post-action-button"},H))}function Le({isActive:H}){return h(Heart,{className:classnames("reader2-post-action-heart",H&&"isActive"),size:Jt})}function He({isActive:H}){return h(Comment,{size:Jt})}function it({isActive:H}){return h(Flag,{size:Jt})}function Ne({isActive:H}){return h(Bookmark,{className:classnames("reader2-post-action-bookmark",H&&"isActive"),size:Jt})}function Be({text:H}){return h(LinkRow,{linkClassName:"reader2-info-card",noAnchor:!0,native:!0,isPadded:!1},h(RoundedInformationIcon,{className:"reader2-info-card-icon"}),h(Text,{font:"text",color:"secondary",size:14,weight:"medium",lineHeight:20},H))}function ze(){return h(Archive,{size:Jt,className:"inbox-item-action-icon reader2-post-action-archive"})}function lt(){return h(Link,{size:Jt,className:"inbox-item-action-icon reader2-post-action-copy"})}function et(){return h(Fragment,null,Array(6).fill(0).map(()=>h(Ae,null)))}function Ae(){const H=useMobile();return h(LinkRow,{isPadded:!1},h(FlexColumn,{flex:"grow",gap:12,padding:H?8:12},h(FlexBox,{gap:12,alignItems:"center"},h(Placeholder,{size:24,style:{borderRadius:6}}),h(Placeholder,{type:"bar",maxWidth:120,className:"tw-grow"}),h(Placeholder,{type:"bar",maxWidth:80,className:"tw-ml-auto tw-grow"})),h("div",{className:"reader2-post-body"},h(FlexColumn,{minWidth:0,gap:4},h(Placeholder,{type:"bar",width:"70%"}),h(Placeholder,{type:"bar",width:"80%"}),h(Placeholder,{type:"bar",width:"50%"})),h(Placeholder,{width:H?64:160,height:H?64:120,style:{borderRadius:6}}))))}},33812:(z,l,e)=>{"use strict";e.d(l,{wg:()=>gr});var o=e(6400),f=e(30396),u=e(94184),c=e(3312),g=e(28175),v=e(99869),E=e(71212),y=e(80569),p=e(77883),T=e(62246),O=e(2731),I=e(82771),S=e(81470),_=e(15045),d=e(70444),s=e(20501),w=e(83322),P=e(78041),x=e(48963),M=e(53668),N=e(68227),C=e(66839),A=e(96733),k=e(59736),L=e(81243),K=e(63861),Z=e(69427),J=e(56617),q=e(25877),ne=e(4190),F=e(58718),W=e(92643),ie=e(63270),he=e(67963),ye=e(69371),fe=e(69518),ae=e(60779),oe=e(29696),G=e(56411),re=e(59386),se=e(3258),le=e(8479),Ee=e(11533),ve=e(39419),pe=e(84040),me=e(51126),Ie=e(76235),_e=e(43887),de=e(75425),Re=e(92630),ke=e(95297),Ve=e(10186),Ge=e(91870),Qe=e(68493),bt=e(11688),Ce=e(50292),We=e(33510),xe=e(4263),rt=e(7922),Je=e(96789),ft=e(13045);const je={reasonRow:"frontend-reader2-ProfileReportModal-module__reasonRow--CTUTF",reasonLabel:"frontend-reader2-ProfileReportModal-module__reasonLabel--eMrhr"};var Rt=(on,On,Tn)=>new Promise((Bn,Tt)=>{var Lt=hn=>{try{ln(Tn.next(hn))}catch(Dn){Tt(Dn)}},Yt=hn=>{try{ln(Tn.throw(hn))}catch(Dn){Tt(Dn)}},ln=hn=>hn.done?Bn(hn.value):Promise.resolve(hn.value).then(Lt,Yt);ln((Tn=Tn.apply(on,On)).next())});function Jt({userId:on,surface:On,onClose:Tn,onReportSuccess:Bn}){const Tt=useRef(),Lt=()=>{var Jn;return(Jn=Tt==null?void 0:Tt.current)==null?void 0:Jn.close()};useEffect(()=>{var Jn;(Jn=Tt==null?void 0:Tt.current)==null||Jn.open()},[!!Tt.current]);const Yt=[{value:"spam",label:"It's spam"},{value:"impersonation",label:"It's pretending to be someone else"},{value:"violation",label:"It's posting content that violates Substack's Content Guidelines"}],[ln,hn]=useState(null),[Dn,an]=useState(!1),Mn=Jn=>Rt(this,null,function*(){if(!Jn){alert("Please enter a reason!");return}an(!0);try{yield request.post(`/api/v1/user/${on}/report`).send({userId:on,reason:Jn,surface:On}),Lt(),Bn(),an(!1),Jn==="violation"&&(location.href=getHcProfileViolationFormUrl(on))}catch(pt){an(!1),alert(getNetworkErrorMessage(pt))}});return h(PopupModal,{ref:Tt,onClose:Tn},h(FlexColumn,{padding:24,gap:8},h(Text.H3,null,"Report profile"),h(Text.Detail,null,"Why are you reporting this profile?"),h(EmphasisBox,null,h(FlexColumn,{gap:4},Yt.map(({value:Jn,label:pt})=>h("label",{className:css.reasonRow},h(Text,{className:css.reasonLabel},pt),h("input",{type:"radio",name:"reason",value:Jn,onInput:()=>hn(Jn)}))))),h(FlexRow,null,h(Text.Detail,null,"Substack ",h("a",{href:"/content"},"Content Guidelines"))),h(FlexRow,{style:{flexDirection:"row-reverse"}},h(Button,{className:"primary",onClick:()=>Mn(ln),disabled:ln===null||Dn},h("span",null,Dn?"Loading...":ln==="violation"?"Proceed":"Submit")),h(Button,{className:"secondary",onClick:Lt},h("span",null,"Cancel")))))}var Ct=e(68262),Le=e(79167),He=e(20533),it=e(38497),Ne=e(4948),Be=e(44396),ze=e(70762);const lt={fillIcon:"frontend-reader2-ProfilePage-module__fillIcon--uQnv7",twitterVerifiedIcon:"frontend-reader2-ProfilePage-module__twitterVerifiedIcon--D8_VN",profileRow:"frontend-reader2-ProfilePage-module__profileRow--eeceW",profileImage:"frontend-reader2-ProfilePage-module__profileImage--UGMJ2",stat:"frontend-reader2-ProfilePage-module__stat--rf1FK",avatar:"frontend-reader2-ProfilePage-module__avatar--fwwNi",readsRow:"frontend-reader2-ProfilePage-module__readsRow--mkhra",page:"frontend-reader2-ProfilePage-module__page--m0EUw",grid:"frontend-reader2-ProfilePage-module__grid--yXlQ6",pubMain:"frontend-reader2-ProfilePage-module__pubMain--uGuNF",pub:"frontend-reader2-ProfilePage-module__pub--JVugC"};var et=Object.defineProperty,Ae=Object.defineProperties,H=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,Me=(on,On,Tn)=>On in on?et(on,On,{enumerable:!0,configurable:!0,writable:!0,value:Tn}):on[On]=Tn,$e=(on,On)=>{for(var Tn in On||(On={}))ce.call(On,Tn)&&Me(on,Tn,On[Tn]);if(Q)for(var Tn of Q(On))Pe.call(On,Tn)&&Me(on,Tn,On[Tn]);return on},ct=(on,On)=>Ae(on,H(On)),ut=(on,On)=>{var Tn={};for(var Bn in on)ce.call(on,Bn)&&On.indexOf(Bn)<0&&(Tn[Bn]=on[Bn]);if(on!=null&&Q)for(var Bn of Q(on))On.indexOf(Bn)<0&&Pe.call(on,Bn)&&(Tn[Bn]=on[Bn]);return Tn},Et=(on,On,Tn)=>new Promise((Bn,Tt)=>{var Lt=hn=>{try{ln(Tn.next(hn))}catch(Dn){Tt(Dn)}},Yt=hn=>{try{ln(Tn.throw(hn))}catch(Dn){Tt(Dn)}},ln=hn=>hn.done?Bn(hn.value):Promise.resolve(hn.value).then(Lt,Yt);ln((Tn=Tn.apply(on,On)).next())});const Nt=(0,_.getProfileSetupUrl)({utm_source:"substack"}),$t="profile-page-feed";function Nn({id:on,initialData:{profileSubscribeOnTransit:On=!1}}){var Tn;const Bn=useUser(),Tt=useRef(null),Lt=useMobile(),Yt=useToast(),{getConfigFor:ln}=useSiteConfigs();let hn,Dn;on.includes("-")?(hn=rr(on),Dn=Tr(on)):hn=on;const{subjectProfile:an,error:Mn}=useProfile({subjectId:hn,subjectName:Dn}),Jn=useUserBlockStatus(an==null?void 0:an.id),pt=Jn==="blocked"||Jn==="blocking",Mt=!!(an!=null&&an.profile_set_up_at),Kt=an&&an.id===(Bn==null?void 0:Bn.id),qt=(an==null?void 0:an.subscriptions)||[],mn=(an==null?void 0:an.primaryPublication)&&((Tn=an.publicationUsers.find(Or=>{var Gr;return Or.publication_id===((Gr=an==null?void 0:an.primaryPublication)==null?void 0:Gr.id)}))==null?void 0:Tn.publication),En=!!(mn&&(an!=null&&an.isSubscribed)),wn=useFeedFollowState(an,"profile"),Hn=(an==null?void 0:an.max_pub_tier)===2;useEffect(()=>{var Or;(Or=new URL(document.location.href).searchParams)!=null&&Or.has("invite")?redirect("/app",{local_navigation:!1}):an&&(track(EVENTS.PROFILE_VISITED,{profile_user_id:an.id,is_set_up:Mt,is_self:Kt,has_name:!!an.name,has_photo:!!an.photo_url,has_bio:!!an.bio,has_twitter:!!an.twitterAccount,reads_count:qt.length,writes_count:an.publicationUsers.length,subscribe_cta_publication_id:!En&&(mn==null?void 0:mn.id)}),On&&(removeQueryParam("subscribed"),Yt.popToast(Gr=>h(Toast,ct($e({},Gr),{text:`Subscribed to ${(mn==null?void 0:mn.name)||an.name||"user"}`,Icon:Check})))))},[on]),useEffect(()=>{var Or;(Or=new URL(document.location.href).searchParams)!=null&&Or.has("follow")&&an&&wn.isLoaded&&(removeQueryParam("follow"),!Kt&&!wn.isFollowing&&wn.toggle())},[on,an,wn.isLoaded]);const[{url:wr}]=useRouter(),$r=Oo(wr)?$t:"profile-page";return Mn?h(Page,{className:css.page},setMetaData({title:"Profile not found"}),h(FlexBox,{paddingY:64,flex:"grow"},h(ZeroBox,{icon:h(AlertCircle,null),title:"Profile not found",text:"We couldn't load this profile.",action:h(Button,{priority:"secondary",href:getDiscoverSearchUrl()},"Search")}))):an?h(FlexColumn,{style:{maxWidth:640},flex:"grow",minWidth:0},setMetaData({title:`${an.name||"<no name>"} | Substack`,description:an&&an.bio,image:an&&an.photo_url&&imginary(an.photo_url),seoProps:{noindex:!(Hn&&(an.photo_url||an.bio||Mt))}}),h(ShareDialog,{ref:Tt,medium:"profile-page",user:Bn,profile:an,onClick:Or=>Or.preventDefault()}),h(no,{profile:an}),h(FlexColumn,null,h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingY:{desktop:32,mobile:16}},h(zt,{profile:an,primaryPublication:mn,yourProfile:!!Kt,user:Bn,showCTAs:!pt,subscribeButton:!Kt&&mn&&!pt&&h(go,{user:Bn,profile:an,primaryPublication:mn,subscriptionSource:$r})}),an.publicationUsers.length>0&&!pt&&h(uo,{isMobile:Lt,profile:an,primaryPublication:mn,subscriptionSource:$r}),Jn==="blocked"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`${an.name||"They"} blocked you`,text:`You are blocked from subscribing to ${an.name||"them"} and their publications`})),Jn==="blocking"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`You blocked ${an.name||"them"}`,text:"You can manage your blocks in your account settings.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Account settings")}))),!pt&&!!an.name&&h(Lr,{subscriptions:qt,profile:an})),!Mt&&Kt&&h(PageCenter,null,h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(ProfileIcon,null),title:"You haven\u2019t set up your profile yet.",text:"Click the button below to get started.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Set up profile")})))):h(Vt,null)}const Vt=()=>{const on=useMobile();return h(FlexColumn,{style:{maxWidth:600},flex:"grow"},h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingTop:{desktop:32,mobile:16},paddingBottom:16},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Placeholder,{type:"circle",size:on?96:112}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",height:40,width:100}))),h(Placeholder,{type:"bar",height:32,width:120}),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Placeholder,{type:"bar",height:20,width:"70%"}),h(Placeholder,{type:"bar",height:20,width:"80%"}),h(Placeholder,{type:"bar",height:20,width:"30%"}))))};function rr(on){const On=on.split("-");return On.length?parseInt(On[0]):-1}function Tr(on){const On=on.split("-");return On.length?On.slice(1).join("-"):""}function cr({profile:on}){var On;useEffect(()=>{track(EVENTS.FEED_PROFILE_SCREEN_VIEWED)},[]);const[Tn,Bn]=useReducer(reduceFeed,defaultFeedState),{canFetchMore:Tt,lastPage:Lt,fetchMore:Yt,hasLoadedOnce:ln}=useInfiniteFetch({pathname:`/api/v1/reader/feed/profile/${on.id}`,query:$e({},parseQuery(document.location.href)),getPageInit:({lastPage:pt,init:Mt})=>{var Kt;const qt=(Kt=pt==null?void 0:pt.result)==null?void 0:Kt.nextCursor;return qt&&(Mt.query=ct($e({},Mt.query),{cursor:qt})),Mt},auto:!0,deps:[on.id],pages:Tn.pages,dispatch:Bn}),hn=Tt&&!!((On=Lt==null?void 0:Lt.result)!=null&&On.nextCursor),{bodyRef:Dn}=useInfiniteScroll(Yt,[Lt],{shouldCheck:hn,threshold:640}),an=Tn.pages.map(pt=>{var Mt;return((Mt=pt.result)==null?void 0:Mt.items)||[]}).flat(),Mn=useUser(),Jn=on&&on.id===(Mn==null?void 0:Mn.id);return useEffect(()=>{var pt;((pt=Lt==null?void 0:Lt.result)==null?void 0:pt.items.length)==0&&hn&&Yt()},[Lt]),h(FeedProvider,{surface:FeedSurface.Profile,dispatch:Bn,state:Tn},h(FlexColumn,{ref:Dn},h(MuteFreeZoneContextProvider,null,an.map(pt=>h(FeedItem,{item:ct($e({},pt),{publication:pt.publication?Tn.publications.get(pt.publication.id):pt.publication,post:pt.post?Tn.posts.get(pt.post.id):pt.post,comment:pt.comment?Tn.comments.get(pt.comment.id):pt.comment,parentComments:pt.parentComments?pt.parentComments.map(Mt=>Mt&&Tn.comments.get(Mt.id)||null):pt.parentComments})}))),Lt!=null&&Lt.isLoading||!ln?h(LotsOfNotes,null):an.length===0?h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${Jn?"You haven\u2019t":`${on.name} hasn\u2019t`||"This user hasn\u2019t"} published any notes yet.`,text:`Once ${Jn?"you":"they"} do, you\u2019ll see them here.`,action:h(Button,{priority:"secondary",href:getFeedUrl()},"Visit Notes")})):null))}function Lr({subscriptions:on,profile:On}){const[Tn,Bn]=useState(On.hasPosts?"post":On.hasActivity?"note":"reads");return h(FlexColumn,{flex:"fill",paddingX:{desktop:20,mobile:0}},h(Tabs,null,h(Tab,{value:"post",currentValue:Tn,onClick:Bn},"Posts"),h(Tab,{value:"note",currentValue:Tn,onClick:Bn},"Notes"),h(Tab,{value:"reads",currentValue:Tn,onClick:Bn},"Reads",on.length>0&&` (${on.length})`)),h(FlexColumn,{flex:"fill",paddingBottom:20},Tn==="note"&&h(cr,{profile:On}),Tn==="post"&&h(Dt,{profile:On,userId:On.id}),Tn==="reads"&&h(to,{subscriptions:on,profile:On})))}function Br(on){var On=ut(on,[]);return h("div",$e({className:css.grid},On))}function Cr({profile:on}){const On=useUser(),Tn=on&&on.id===(On==null?void 0:On.id);return h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${Tn?"You haven\u2019t":`${on.name} hasn\u2019t`||"This user hasn\u2019t"} published any posts yet.`,text:"Once they do, you\u2019ll see them here."}))}function Dt({profile:on,userId:On}){const[Bn,Tt]=useState(0),[Lt,Yt]=useState([]),{result:ln,isLoading:hn}=useFetch({pathname:"/api/v1/profile/posts",query:{profile_user_id:On,offset:Bn,limit:12+1},auto:!0,deps:[On,Bn]});useLayoutEffect(()=>{ln&&Yt(Bn===0?[ln]:[...Lt,ln])},[ln]);const Dn=useMemo(()=>({posts:Lt.map(Kt=>Kt.posts.slice(0,12)).flat(),publicationMap:new Map(Lt.map(Kt=>Kt.publications).flat().map(Kt=>[Kt.id,Kt]))}),[Lt]),an=Lt[Lt.length-1],Mn=an&&an.posts.length>12,{bodyRef:Jn}=useInfiniteScroll(()=>{Tt(Bn+12)},[Dn,hn],{shouldCheck:Mn&&!hn}),{posts:pt,publicationMap:Mt}=Dn;return h(FlexColumn,null,h(PageStack,{ref:Jn},ln?pt.length>0?pt.map((Kt,qt)=>{const mn=Mt.get(Kt.publication_id);if(mn)return h(PostWithActions,{key:Kt.id,post:Kt,pub:mn,isViewed:!0,isLiked:!!Kt.reaction,isSaved:Kt.is_saved,onClick:()=>track(EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:Kt.id,tab:"new",rank_in_feed:qt,source:"profile"}),utmSource:"profile"})}):h(Cr,{profile:on}):h(LotsOfPlaceholders,null),hn&&h(DrunkSpinner,null)))}function Ft({url:on,type:On,label:Tn,verified:Bn,value:Tt}){var Lt,Yt,ln,hn;Tt=Tt.replace(/^@/,"");const Dn={twitter:{icon:h(TwitterIcon,{className:css.fillIcon,height:14}),label:"Twitter",verifiedIcon:h(Verified,{className:cn(css.fillIcon,css.twitterVerifiedIcon),size:18}),showUsername:!0},facebook:{icon:h(FacebookIcon,{className:css.fillIcon,height:14}),label:"Facebook"},instagram:{icon:h(InstagramIcon,{className:css.fillIcon,height:14}),label:"Instagram",showUsername:!0},linkedin:{icon:h(LinkedinIcon,{className:css.fillIcon,height:14}),label:"LinkedIn"},youtube:{icon:h(YoutubeIcon,{className:css.fillIcon,height:16}),label:"YouTube"},tiktok:{icon:h(TikTokIcon,{className:css.fillIcon,height:16}),label:"TikTok",showUsername:!0},books:{icon:h(BookOpen,{className:css.fillIcon,height:16}),label:"Books",showUsername:!0}};return h(Button,{size:"small",allCaps:!0,newTab:!0,href:on.startsWith("http")?on:`http://${on}`,rounded:!0,onClick:()=>{track(EVENTS.USER_LINK_CLICKED,{type:On,url:on,label:Tn})},outline:"none",priority:"secondary",leftIcon:((Lt=Dn[On])==null?void 0:Lt.icon)||h(Link,{size:14}),rightIcon:Bn&&((Yt=Dn[On])==null?void 0:Yt.verifiedIcon),className:Bn&&css.verified},(ln=Dn[On])!=null&&ln.showUsername?Tt:((hn=Dn[On])==null?void 0:hn.label)||Tn)}function zt({profile:on,primaryPublication:On,yourProfile:Tn,user:Bn,showCTAs:Tt,subscribeButton:Lt}){const Yt=(on==null?void 0:on.name)||"<no name>",ln=useMobile(),hn=ln?Text.H2:Text.H1;return h(FlexColumn,{gap:20},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(vo,{profile:on}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Dr,{profile:on,primaryPublication:On,yourProfile:Tn,user:Bn,showCTAs:Tt}),Lt)),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(hn,null,Yt,h("span",{style:{whiteSpace:"nowrap",verticalAlign:ln?"middle":void 0}},"\xA0",h(UserBadge,{tier:on.bestseller_tier,userId:on.id,inline:!0}))),h(sn,{profile:on,yourProfile:Tn}),on.bio&&h(kr,{profile:on})),on.userLinks.length!==0&&h(FlexRow,{gap:12,wrap:"wrap",justifyContent:"start"},on.userLinks.sort((Dn,an)=>Dn.type!==an.type?(Dn.type||"website")>(an.type||"website")?1:-1:Number(Dn.id)>Number(an.id)?1:-1).map(Dn=>h(Ft,$e({},Dn)))))}function sn({profile:on,yourProfile:On}){const Tn=useMobile(),Bn=useToast(),Tt=on.handle||On,Lt=()=>{copyToClipboard(getReaderProfileUrl(on)),Bn.popToast(Yt=>h(Toast,ct($e({},Yt),{text:"Link copied",Icon:Link})))};return h(FlexBox,{gap:8},Tt&&[on.handle?h(Text.Meta,{as:"a",onClick:Lt,style:{cursor:"pointer"},decoration:"hover-underline"},h(Tooltip,{text:"Copy link",disabled:Tn},`@${on.handle}`)):On&&h(Text.Meta,{color:"substack"},h(TextLink,{href:getEditProfileUrl({params:{utm_source:"handle-notification",[HANDLE_EDIT_MODAL_QUERY_PARAM]:!0}})},"New: Claim your handle")),h(Text.Meta,null," \xB7 ")],h(Un,{profile:on}))}function Un({profile:on}){return h(Text.Meta,{as:"a",href:getProfileConnectionsUrl(on,null,{noBase:!0}),decoration:"hover-underline"},on.subscriberCountString)}const gr=({url:on,twitterText:On,onLinkClicked:Tn,comment:Bn})=>{const Tt=(0,de.pm)(),Lt=()=>{(0,ve.copyToClipboard)(on),Tt.popToast(Dn=>(0,o.h)(de.FN,ct($e({},Dn),{text:"Link copied",Icon:v.Z}))),Tn==null||Tn("copy")},Yt=()=>{window.open((0,s.pathWithQuery)("https://twitter.com/share",{url:on,text:On||""}),"_blank"),Tn==null||Tn("twitter")},ln=()=>{window.open((0,s.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:on}),"_blank"),Tn==null||Tn("facebook")},hn=()=>{Tt.popToast(Dn=>(0,o.h)(de.FN,ct($e({},Dn),{text:"Downloading image...",Icon:E.Z}))),Tn==null||Tn("download")};return[(0,o.h)(Ie.sN,{icon:(0,o.h)(v.Z,null),onClick:Lt},"Copy link"),Bn?(0,o.h)(Ie.sN,{icon:(0,o.h)(E.Z,null),onClick:hn,href:(0,d.IY)(Bn.id),target:"_blank",download:!0},"Save as image"):(0,o.h)(o.Fragment,null),(0,o.h)(Ie.sN,{icon:(0,o.h)(C.Z,null),onClick:Yt},"Share to Twitter"),(0,o.h)(Ie.sN,{icon:(0,o.h)(N.Z,null),onClick:ln},"Share to Facebook")]},Dr=({profile:on,primaryPublication:On,yourProfile:Tn,user:Bn,showCTAs:Tt})=>{const Lt=useMobile();useNavContextAndTitle("",{backAction:!0});const Yt=useUserBlockMenuItems(on,"profile"),[ln,hn]=useState(!1),[Dn,an]=useState(!1);return h(FlexBox,{gap:8,direction:"row"},h(InviteFriendModal,{isOpen:Dn,utmSource:"profile-page",onClose:()=>an(!1)}),!Tn&&h(Fragment,null,h(Menu,{trigger:h(IconButton,{fill:"outline"},h(MoreHorizontal,null)),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Options"},Yt,h(MenuItem,{icon:h(Flag,null),priority:"destructive",onClick:()=>hn(!0)},"Report"),(Bn==null?void 0:Bn.is_global_admin)&&h(MenuItem,{icon:h(ExternalLink,null),priority:"destructive",onClick:()=>window.location.href=getUserUndergroundUrl(on.id)},"Open in Underground")),Tt&&Bn&&(On?h(Fr,{profile:on}):h(jr,{profile:on})),ln&&h(ProfileReportModal,{userId:on.id,surface:"profile",onClose:()=>hn(!1),onReportSuccess:()=>{}})),Tt&&h(Fragment,null,Tn&&h(Fragment,null,h(IconButton,{fill:"outline",href:getEditProfileUrl()},h(Edit2,{size:20})),!(Bn!=null&&Bn.has_publication)&&!Lt&&h(Button,{priority:"secondary",fill:"outline",href:getStartPublishingUrl(),localNavigation:!1,rounded:!0},"Create your Substack"),on.profile_set_up_at?h(Button,{onClick:()=>an(!0),rounded:!0},"Invite friends"):h(Button,{href:Nt,localNavigation:!1,rounded:!0},"Set up profile"))))};function Fr({profile:on}){const{isFollowing:On,buttonProps:Tn,css:Bn}=useFollowButtonState(on,"profile");return h(IconButton,$e({fill:"outline"},Tn),On?h(Fragment,null,h(FollowedIcon,{className:Bn.off}),h(UnfollowIcon,{className:Bn.on})):h(FollowIcon,null))}function jr({profile:on}){const{isFollowing:On,buttonProps:Tn}=useFollowButtonState(on,"profile");return h(Button,$e({priority:On?"secondary":"primary",fill:"outline",rounded:!0},Tn),On?h(Fragment,null,h(FollowingLabel,null,"Following"),h(UnfollowLabel,null,"Unfollow")):on.followsViewer?"Follow back":"Follow")}const kr=({profile:on})=>h(Text.B4,null,h(Linkify,{options:{attributes:{rel:"nofollow ugc"}}},on.bio)),uo=({profile:on,primaryPublication:On,isMobile:Tn})=>{const Bn=useUser(),Tt=!!Bn,Lt=on.publicationUsers.filter(hn=>hn.publication.id!==(On==null?void 0:On.id)),Yt=on&&on.id===(Bn==null?void 0:Bn.id),ln=!Yt&&On&&(Bn==null?void 0:Bn.primary_publication);return h(FlexColumn,{gap:16},On&&h(FlexColumn,{className:css.pubMain,bg:"secondary",padding:{desktop:16,mobile:8},radius:12,as:"a",href:getPubUrl(On,{signedIn:Tt,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"substack_profile"}}),onClick:()=>trackPublicationVisit(On,"profile")},h(PublicationContainer,null,h(FlexBox,{flex:"grow",minWidth:0,gap:12,alignItems:"center"},h(PubIcon,{pub:On,size:Tn?56:64}),h(FlexColumn,{flex:"grow",minWidth:0,gap:4},h(Text.H4,{ellipsis:!0},On.name),h(PublicationAuthorText,{author:On.author,pub:On})),!Tn&&ln&&h(so,{user:Bn,recommendedPublication:On,userPublication:Bn==null?void 0:Bn.primary_publication})),On.hero_text&&h(PublicationAbout,null,On.hero_text),Tn&&ln&&h(so,{user:Bn,recommendedPublication:On,userPublication:Bn==null?void 0:Bn.primary_publication}),!Yt&&(Bn==null?void 0:Bn.is_author)&&(Bn==null?void 0:Bn.primary_publication)&&h(so,{recommendedPublication:On,userPublication:Bn==null?void 0:Bn.primary_publication}))),on.publicationUsers.length>1&&h(Br,null,Lt.map(hn=>h(_o,{key:hn.id,pub:hn.publication,subtitleType:"writer",signedIn:Tt}))))};function to({subscriptions:on,profile:On}){const Tn=useUser(),Bn=On.id===(Tn==null?void 0:Tn.id);return on.length===0?h(FlexBox,{paddingY:64,flex:"grow"},Bn?On.hasHiddenPublicationUsers?h(Zero,{icon:h(HideIcon,null),title:"All of your publications are hidden.",text:"To show others what you read, edit your profile.",action:h(Button,{priority:"secondary",href:getEditProfileUrl()},"Edit profile")}):h(Zero,{icon:h(BookOpen,null),title:"You haven\u2019t subscribed to any publications yet.",text:"Visit the Explore tab to find something to read.",action:h(Button,{priority:"secondary",href:getDiscoverCategoryUrl()},"Get started")}):h(Zero,{icon:h(Library,null),title:`${On.name} doesn\u2019t have any subscriptions to show.`,text:"Once they do, you'll see them here."})):h(FlexColumn,{flex:"fill",gap:{desktop:8,mobile:0},padding:8},on.map(Tt=>h(ao,{key:Tt.id,subscription:Tt})))}function ao({subscription:on}){const{getExperimentVariant:On,exposeExperiment:Tn}=useExperiments(),Bn=on.is_founding?"founder":on.membership_state==="subscribed"?"subscribed":null,{publication:Tt}=on,{author:Lt}=Tt,Yt=useSubscriptionController({publication:Tt,subscriptionSource:"profile-subscriptions"});return h(FlexRow,{as:"a",href:getPubUrl(Tt),gap:12,alignItems:"center",paddingY:8,paddingX:8,className:css.readsRow,minWidth:0,flex:"grow"},h(PubIcon,{pub:Tt,size:40,badgeType:Bn}),h(FlexColumn,{flex:"grow",minWidth:0,size:14},h(Text.B4,{ellipsis:!0,weight:"semibold",color:"primary",href:getPubUrl(Tt)},Tt.name),Lt&&h(Text.B4,{ellipsis:!0,color:"secondary"},"by ",Lt.name)),Yt.isSubscribed?h(Ur,{onUnsubscribe:Yt.unsubscribe,publication:Tt,button:h(Button,{fill:"outline",priority:"secondary",size:"small"},"Subscribed")}):h(Fragment,null,h(Visibility,{onVisible:()=>{Tn("subscribe_icon"),track(EVENTS.SUBSCRIBE_BUTTON_SHOWN,{source:"profile-subscriptions"})}}),h(Button,{fill:"outline",priority:"primary",size:"small",onClick:Yt.subscribe},h(FlexRow,{alignItems:"center",gap:8},On("subscribe_icon")==="treatment"?h(PlusIcon,{size:20}):null,"Subscribe"))))}function Ur({onUnsubscribe:on,publication:On,button:Tn}){const Bn=useConfirm(),Tt=()=>Et(this,null,function*(){Bn.isConfirming||(yield Bn.confirm())&&on()});return h(Fragment,null,h(Modal,{onClose:Bn.handleCancel,isOpen:Bn.isConfirming},h(FlexColumn,{padding:24,gap:24},h(FlexColumn,{gap:12},h(Text.H3,null,"Unsubscribe from ",On.name,"?"),h(Text.B3,null,"You can resubscribe at any time.")),h(FlexBox,{justifyContent:"end",gap:12},h(Button,{priority:"secondary",onClick:Bn.handleCancel},"Cancel"),h(Button,{priority:"destructive",onClick:Bn.handleConfirm},"Unsubscribe")))),h(Menu,{trigger:Tn},h(MenuItem,{icon:h(Settings,null),target:"_blank",href:getPubAccountSettingsUrl(On,{addBase:!0})},"Manage subscription"),h(MenuItem,{icon:h(X,null),onClick:Tt,priority:"destructive"},"Unsubscribe")))}const _o=({pub:on,subtitleType:On})=>{const Tn=!!useUser(),Bn=["subscribed","founder"].includes(On)?On:null;return h(Fragment,null,h("a",{className:css.pub,href:getPubUrl(on,{signedIn:Tn,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"profile_page"}}),onClick:()=>trackPublicationVisit(on,"profile")},h(FlexBox,{paddingX:{mobile:0,desktop:8},paddingY:8,minWidth:0,flex:"grow"},h(PublicationCard,{pub:on,subtitle:fo[On],badgeType:Bn,surface:"profile"}))))},fo={writer:"Writer",free_signup:"Free subscriber",subscribed:"Paid subscriber",founder:"Founding member"},no=({profile:on})=>h("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jsesc(getProfileStructuredData(on),{json:!0,isScriptContext:!0})}}),so=({recommendedPublication:on,userPublication:On})=>{const[Tn,Bn]=useState(!1),[Tt,Lt]=useState(!1),Yt=useMobile(),{popToast:ln}=useToast(),{result:hn,hasLoadedOnce:Dn}=useFetch({pathname:`/api/v1/recommendations/from/${On.id}/to/${on.id}`,auto:!0,deps:[On.id,on.id]});useEffect(()=>{const Mn=!!(hn!=null&&hn.recommended_publication_id);Lt(Mn),Tt!==Mn&&Lt(Mn)},[Dn,hn]);const an=Mn=>Et(void 0,null,function*(){Bn(!0);try{Mn.preventDefault(),Tt?(yield request.delete("/api/v1/recommendations").send({recommended_publication_id:on.id,recommending_publication_id:On.id,source:"profile"}),ln(Jn=>h(Toast,ct($e({},Jn),{text:"Recommendation removed"})))):(yield request.put("/api/v1/recommendations").send({recommended_publication_id:on.id,recommending_publication_id:On.id,source:"profile",suggested:!1}),ln(Jn=>h(Toast,ct($e({},Jn),{text:`Recommended ${on.name}`})))),Lt(!Tt)}catch(Jn){ln(pt=>h(Toast,ct($e({},pt),{text:"Something went wrong. Please try again.",Icon:X})))}Bn(!1)});return Tt?h(Button,{priority:"secondary",fill:"outline",onClick:an,disabled:Tn,rounded:!Yt},"Recommended"):h(Button,{priority:"primary",fill:"outline",onClick:an,disabled:Tn||!Dn,rounded:!Yt},"Recommend")},go=({user:on,profile:On,primaryPublication:Tn,subscriptionSource:Bn})=>{const{getExperimentVariant:Tt,exposeExperiment:Lt}=useExperiments(),Yt=useOnboardingHandler("profile"),[ln,hn]=useState(On.isSubscribed),Dn=useSubscriptionController({publication:Tn,subscriptionSource:"profile"}),{isLoading:an,subscribe:Mn}=useOneClickSubscribe({publication:Tn,profileId:On.id,source:Bn,onSuccess:()=>{hn(!0)}});return ln?h(Ur,{publication:Tn,onUnsubscribe:()=>{Dn.unsubscribe(),hn(!1)},button:h(Button,{priority:"secondary",rounded:!0},"Subscribed")}):Bn===$t&&on?h(Fragment,null,h(Visibility,{onVisible:()=>{Lt("subscribe_icon"),track(EVENTS.SUBSCRIBE_BUTTON_SHOWN,{source:Bn})}}),h(Button,{priority:"primary",onClick:Jn=>{Jn.preventDefault(),Mn()},disabled:an,rounded:!0},h(FlexRow,{alignItems:"center",gap:8},Tt("subscribe_icon")==="treatment"?h(PlusIcon,{size:20}):null,"Subscribe"))):h(Fragment,null,h(Visibility,{onVisible:()=>{Lt("subscribe_icon"),track(EVENTS.SUBSCRIBE_BUTTON_SHOWN,{source:Bn})}}),h(Button,{priority:"primary",href:getSubscribeUrl(Tn,{user:on,addBase:!0,params:{next:document.location.href,utm_source:Bn,utm_medium:"web",utm_campaign:"profile_page"}}),onClick:Yt(Tn,On),rounded:!0},h(FlexRow,{alignItems:"center",gap:8},Tt("subscribe_icon")==="treatment"?h(PlusIcon,{size:20}):null,"Subscribe")))},Zo=({profile:on,includeTopPadding:On})=>{const Tn=on.publicationUsers.filter(Lt=>Lt.public).length,Bn=on.primaryPublication&&`Writes ${on.primaryPublication.name}
${Tn>1?` and ${pluralize(Tn-1,"other publication")}`:""}`,Tt=on!=null&&on.handle?Bn?`@${on.handle} \u2022 ${Bn}`:`@${on.handle}`:Bn;return h(FlexColumn,{paddingTop:On?16:void 0,paddingBottom:16},h(FlexRow,{gap:12,alignItems:on.bio?"start":"center",className:css.profileRow,padding:8,radius:12,onClick:()=>{window.location.href=getReaderProfileUrl(on)}},h(Avatar,{user:on,size:48}),h(FlexColumn,null,h(Text.H4,null,on.name||"<unset>"),Tt&&h(Text.B4,{color:"secondary"},Tt),h(Text.B4,{paddingTop:4},on.bio))))},Co=null;function Oo(on){var On;const Tn=(On=new URL(on,"https://monograph.dev").searchParams)==null?void 0:On.get("utm_source");return Tn&&Co.includes(Tn)}function vo({profile:on}){const[On,Tn]=useState(!1),Bn=getUserPhotoUrl(on),Tt=useMobile();return h(FlexBox,{style:{cursor:"pointer"},onClick:()=>Tn(!0),className:css.avatar},h(Avatar,{size:Tt?96:112,user:on}),h(LazyComponent,{module:"../components/ImageViewerModal",resolve:Lt=>Lt.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:On,modalContent:[{src:Bn,attrs:{src:Bn}}],onClose:()=>{Tn(!1)},step:0,includeDownloadButton:!1}))}},68262:(z,l,e)=>{"use strict";e.d(l,{F:()=>y});var o=e(6400),f=e(94184),u=e.n(f),c=e(6378),g=e(64234),v=e(55886);const E={root:"frontend-reader2-PubIcon-module__root--jPSt4",custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function y({pub:p,logoUrl:T,publicationName:O,size:I=196,title:S,className:_,imgClassName:d,badgeType:s}){var w;return p&&!T&&(T=(0,c.getLogo)(p)),p&&!O&&(O=p.name||p.subdomain),(0,o.h)("div",{className:u()(E.root,_),title:S,style:{width:I,height:I}},T?(0,o.h)(v.t,{className:u()(E.custom,d),src:T,size:I,alt:O}):(0,o.h)("span",{className:u()(E.placeholder,d),style:{width:I,height:I,backgroundColor:p&&(p.is_www===!0?null:((w=p==null?void 0:p.theme)==null?void 0:w.background_pop_color)||(p==null?void 0:p.theme_var_background_pop)||null),color:null}},O==null?void 0:O[0]),s&&(0,o.h)(g.A,{className:"reader2-pub-badge",type:s,accentColor:p&&(p.is_www===!0?null:p.theme_var_background_pop)}))}},79167:(z,l,e)=>{"use strict";e.d(l,{i:()=>fe});var o=e(6400),f=e(94184),u=e(15045),c=e(67963),g=e(3258),v=e(84606),E=e(51126),y=e(43887),p=e(50292),T=e(5131),O=e(33510),I=e(4263),S=e(68262),_=e(40172),d=e(72307);const s={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--K7AwJ"};var w=Object.defineProperty,P=Object.defineProperties,x=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,A=(ae,oe,G)=>oe in ae?w(ae,oe,{enumerable:!0,configurable:!0,writable:!0,value:G}):ae[oe]=G,k=(ae,oe)=>{for(var G in oe||(oe={}))N.call(oe,G)&&A(ae,G,oe[G]);if(M)for(var G of M(oe))C.call(oe,G)&&A(ae,G,oe[G]);return ae},L=(ae,oe)=>P(ae,x(oe)),K=(ae,oe)=>{var G={};for(var re in ae)N.call(ae,re)&&oe.indexOf(re)<0&&(G[re]=ae[re]);if(ae!=null&&M)for(var re of M(ae))oe.indexOf(re)<0&&C.call(ae,re)&&(G[re]=ae[re]);return G};function Z(ae){var oe=ae,{pub:G,subscribeButtonStyle:re,className:se,onClick:le}=oe,Ee=K(oe,["pub","subscribeButtonStyle","className","onClick"]);const ve=!!useUser();return h(LinkRow,{linkClassName:classnames("reader2-pub-link",se),href:getPubUrl(G,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:ve}),newTab:re!=null,onClick:le},h(J,L(k({},Ee),{pub:G,subscribeButtonStyle:re})))}function J({pub:ae,author:oe,subscribeButtonStyle:G,surface:re,highlights:se={},highlightedPost:le}){var Ee;const ve=(oe==null?void 0:oe.name)||ae.author_name||((Ee=ae.author)==null?void 0:Ee.name)||ae.name,pe=!!useUser();return h(q,null,h(F,{className:"head",pub:ae,subtitle:h("span",null,"By ",highlightText(ve,se.author_name)),subscribeButtonStyle:G,surface:re,highlights:se}),(ae.editorial_bio||ae.hero_text)&&h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},ae.editorial_bio||highlightText(ae.hero_text,se.hero_text)),le&&h("a",{target:"_blank",rel:"noopener",href:getPostUrl(ae,le,{signedIn:pe})},h(Box,{border:"detail",padding:12,radius:6,shadow:"md"},h(PostBody,{highlights:se,post:le}))),ae.rankingDetail&&h(Text.Meta,null,ae.rankingDetailFreeSubscriberCount))}function q(ae){return h(FlexBox,k({className:"reader2-pub-link",gap:12},ae))}function ne({children:ae}){return h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},ae)}function F({pub:ae,subtitle:oe,subscribeButtonStyle:G=null,isSubscribed:re,className:se,badgeType:le,surface:Ee,highlights:ve={}}){const pe=useUser();return h(FlexBox,{gap:12,flex:"grow",minWidth:0,className:se},h(PubIcon,{className:"logo",pub:ae,size:40,badgeType:le}),h(FlexColumn,{minWidth:0,flex:"grow"},h(Text.B4,{weight:"semibold",ellipsis:!0},highlightText(ae.name,ve.name,"extrabold")),h(Text.B4,{color:"secondary",ellipsis:!0},oe)),re?h(FlexBox,{className:css.checkmarkWrapper,alignItems:"center",justifyContent:"center"},h(Check,{size:16,stroke:"var(--color-tertiary)"})):G&&h(W,{pub:ae,user:pe,buttonStyle:G,surface:Ee}))}function W({pub:ae,user:oe,buttonStyle:G,surface:re}){const se=useSubscriptionsContext(),le=fe(re)(ae);return h(Button,{variant:"primary",look:G==="big"?"round":"circle",size:"small",hasLeftIcon:G==="big",newTab:!0,href:getSubscribeUrl(ae,{addBase:!0,user:oe,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:Ee=>{if(Ee.stopPropagation(),oe){const ve="visibilitychange",pe=()=>{document.visibilityState==="visible"&&(se.refetch(),document.removeEventListener(ve,pe))};document.addEventListener(ve,pe)}le(Ee)}},G==="big"?h(Fragment,null,h("div",{className:"reader2-button-icon-circle"},h(Plus,{size:12,strokeWidth:3})),"Subscribe"):h(Fragment,null,h(Plus,{size:20})))}function ie(ae){var oe;return ae.author_name||((oe=ae.author)==null?void 0:oe.name)}function he({pub:ae,author:oe}){const G=(oe==null?void 0:oe.name)||ie(ae);return h(Text.B4,null,"By ",G)}function ye({className:ae}){return h(LinkRow,{linkClassName:classnames("reader2-pub-link",ae)},h("div",{className:"reader2-publication-card"},h(Placeholder,{size:48}),h("div",{className:"meta",style:{gap:8}},h(Placeholder,{type:"bar",width:120}),h(Placeholder,{type:"bar",width:80}))),h("div",{className:"body"},h(Placeholder,{type:"bar",width:"90%"}),h(Placeholder,{type:"bar",width:"100%"}),h(Placeholder,{type:"bar",width:"80%"})))}function fe(ae){const oe=(0,c.aF)(),{onboardingModalRef:G}=(0,p.SJ)();return(re,se)=>le=>{var Ee,ve;if(!oe){if(!G.current)return;le.preventDefault(),se?(Ee=G.current)==null||Ee.openForPub(re,se):(ve=G.current)==null||ve.openToPubSignup(re);return}(0,g.x6)(re,ae)}}},44695:(z,l,e)=>{"use strict";e.d(l,{GF:()=>ye,Sm:()=>J,Sz:()=>he});var o=e(6400),f=e(94184),u=e.n(f),c=e(25380),g=e(15045),v=e(83322),E=e(67963),y=e(3258),p=e(8479),T=e(84040),O=e(48960),I=e(51126),S=e(94016),_=e(43887),d=e(95297),s=e(10186),w=e(33510),P=e(68262),x=e(79167),M=e(27797),N=Object.defineProperty,C=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,L=(fe,ae,oe)=>ae in fe?N(fe,ae,{enumerable:!0,configurable:!0,writable:!0,value:oe}):fe[ae]=oe,K=(fe,ae)=>{for(var oe in ae||(ae={}))A.call(ae,oe)&&L(fe,oe,ae[oe]);if(C)for(var oe of C(ae))k.call(ae,oe)&&L(fe,oe,ae[oe]);return fe},Z=(fe,ae)=>{var oe={};for(var G in fe)A.call(fe,G)&&ae.indexOf(G)<0&&(oe[G]=fe[G]);if(fe!=null&&C)for(var G of C(fe))ae.indexOf(G)<0&&k.call(fe,G)&&(oe[G]=fe[G]);return oe};const J=fe=>{var ae=fe,{publication_id:oe,inline:G,utmSource:re}=ae,se=Z(ae,["publication_id","inline","utmSource"]);const{result:le,refetch:Ee}=(0,p.ib)({pathname:`/api/v1/publication/public/${oe}`,auto:!1,deps:[oe]}),ve=(0,E.aF)();return(0,o.h)(S.z,K({className:u()(M.Z.publicationHoverCardTarget,G&&M.Z.inline),content:le?(0,o.h)(q,{result:le,utmSource:re}):(0,o.h)(ie,null),onFetch:Ee,layerClassName:M.Z.publicationHoverCard},se))};function q({result:fe,utmSource:ae}){const{pub:oe}=fe,G=(0,E.aF)();(0,y.j)(y.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:oe.id});let re=oe.contributors,se=null;re&&re.length>3&&(se=`See all (${(0,v.numberToString)(re.length)})`,re=re.slice(0,3));const le=`${oe.base_url}?utm_source=${ae}`;return(0,o.h)(I.tu,{gap:16,padding:8},(0,o.h)(I.gq,null,(0,o.h)("a",{href:le},(0,o.h)(P.F,{pub:fe.pub,size:56}))),(0,o.h)(I.tu,{gap:6},(0,o.h)(he,{title:fe.pub.name,handle:void 0,blurb:fe.pub.hero_text,url:fe.pub.base_url}),oe.rankingDetail&&oe.rankingDetailFreeSubscriberCount&&(0,o.h)(_.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},oe.rankingDetailFreeSubscriberCount.toUpperCase())),(0,o.h)(I.tu,null,(0,o.h)(ne,{isContr:fe.isContributor,isSubs:fe.isSubscribed,pub:fe.pub,user:G,dashboardUrl:fe.pub.base_url,utmSource:ae})),(0,o.h)(O.i,null),(0,o.h)(I.tu,null,(0,o.h)(F,{contributors:re,seeAllLabel:se,redirLink:fe.pub.base_url,utmSource:ae})))}function ne({isContr:fe,isSubs:ae,pub:oe,user:G,dashboardUrl:re,utmSource:se}){const le=(0,x.i)("profile");return(0,o.h)(I.tu,null,fe?(0,o.h)(o.Fragment,null,(0,o.h)(T.zx,{priority:"secondary",fill:"outline",href:`${re}/publish`},"Dashboard")):ae?(0,o.h)(T.zx,{priority:"secondary",fill:"outline",href:(0,g.getSubscribeUrl)(oe,{user:G,addBase:!0,utm_source:se||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:(0,o.h)(c.Z,null)},"Subscribed"):(0,o.h)(T.zx,{priority:"primary",href:(0,g.getSubscribeUrl)(oe,{user:G,addBase:!0,utm_source:se|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:le(oe)},"Subscribe"))}function F({contributors:fe,seeAllLabel:ae,redirLink:oe,utmSource:G}){return(0,o.h)(I.tu,null,(0,o.h)(ye,{sectionTitle:"Written by",seeAllLabel:ae,link:`${oe}/about?sort=people`}),(0,o.h)(I.tu,null,fe.map(re=>(0,o.h)(W,{profile:re,utmSource:G}))))}function W({profile:fe,utmSource:ae}){return(0,o.h)("a",{href:(0,g.getProfileUrlById)(fe.user_id,fe.name,{searchParams:{utm_source:ae}}),className:M.Z.hoverCardAvatar},(0,o.h)(s.qE,{user:fe,size:32}),(0,o.h)(_.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},fe.name))}function ie(){return(0,o.h)(I.tu,{padding:8,gap:8},(0,o.h)(w.Vm,{size:56,style:{borderRadius:4}}),(0,o.h)(w.Vm,{type:"bar",width:"100%",height:20}),(0,o.h)(w.Vm,{type:"bar",width:"20%",height:20}),(0,o.h)(w.Vm,{type:"bar",width:"60%",height:20}))}function he({title:fe,handle:ae,blurb:oe,url:G,themed:re,bestsellerTier:se,userId:le}){return(0,o.h)(o.Fragment,null,(0,o.h)("a",{style:{textDecoration:"none"},href:G},(0,o.h)(_.xv.H3,{color:re?"pub-primary-text":"primary",className:M.Z.hoverCardTitle},fe,!!se&&!!le&&(0,o.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,o.h)(d.s,{inline:!0,tier:se,userId:le,tooltipOnHover:!0,size:"md"})))),ae&&(0,o.h)(_.xv.Meta,null,`@${ae}`),oe&&(0,o.h)(_.xv.B3,{color:re?"pub-secondary-text":"secondary",clamp:4},oe))}function ye({sectionTitle:fe,seeAllLabel:ae,link:oe}){return(0,o.h)(I.gq,{justifyContent:"space-between"},(0,o.h)(_.xv.Meta,{color:"secondary"},fe),ae&&(0,o.h)("a",{className:M.Z.hoverCardSeeAll,href:oe},(0,o.h)(_.xv.B4,{color:"accent-blue"},ae)))}},40172:(z,l,e)=>{"use strict";var o=e(6400),f=e(43887);const u=(c,g,v)=>{if(!c)return"";if(!g)return c;const E=new RegExp(g.join("|"),"ig"),y=c.split(E),p=[...c.matchAll(E)];return y.map((O,I)=>h(Fragment,null,O,I!==y.length-1&&h(Text,{as:"span",weight:v||"bold",fontStyle:"italic"},p[I]," ")))}},20533:(z,l,e)=>{"use strict";var o=e(6400),f=e(94184),u=e(84040),c=e(51126),g=e(43887);const v={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju",tabText:"frontend-reader2-TabBar-module__tabText--Sb2W6"};var E=Object.defineProperty,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,O=(s,w,P)=>w in s?E(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,I=(s,w)=>{for(var P in w||(w={}))p.call(w,P)&&O(s,P,w[P]);if(y)for(var P of y(w))T.call(w,P)&&O(s,P,w[P]);return s},S=(s,w)=>{var P={};for(var x in s)p.call(s,x)&&w.indexOf(x)<0&&(P[x]=s[x]);if(s!=null&&y)for(var x of y(s))w.indexOf(x)<0&&T.call(s,x)&&(P[x]=s[x]);return P};function _(s){var w=s,{value:P,currentValue:x,children:M,onClick:N}=w,C=S(w,["value","currentValue","children","onClick"]);const A=P===x;return h(UnstyledButton,I({className:classnames(css.tab,A&&css.isActive),resetCss:!0,onClick:()=>N(P)},C),h(Text,{size:14,lineHeight:20,weight:"medium",className:classnames(css.tabText,A&&css.isActive)},M))}function d(s){return h(FlexBox,I({className:css.tabs,style:{height:40}},s))}},47585:(z,l,e)=>{"use strict";e.d(l,{Eb:()=>T,in:()=>O,r8:()=>y});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(21958),v=e(42332);const E={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"};function y(I,S=(0,o.h)(p,null)){const[_,d]=(0,f.eJ)(I);return[_&&S,()=>{d(!1)}]}function p(){return(0,o.h)(T,null)}function T({className:I}){const{isHovering:S,ref:_}=(0,v.aw)();return(0,o.h)(o.Fragment,null,(0,o.h)(O,{className:c()(I,"reader2-unread-dot"),ref:_}),S&&(0,o.h)(v.u,{tetherRef:_},"New since your last visit"))}const O=(0,g.L)(E.unreadDot)},16742:(z,l,e)=>{"use strict";e.d(l,{K:()=>ie,y:()=>he});var o=e(6400),f=e(30396),u=e(81108),c=e(74655),g=e(36250),v=e(70444),E=e(20501),y=e(31517),p=e(1706),T=e(28488),O=e(67963),I=e(8479),S=e(39419),_=e.n(S),d=e(84040),s=e(51126),w=e(76235),P=e(62246),x=e(43887),M=e(75425),N=e(91870),C=e(10174),A=Object.defineProperty,k=Object.defineProperties,L=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,q=(ae,oe,G)=>oe in ae?A(ae,oe,{enumerable:!0,configurable:!0,writable:!0,value:G}):ae[oe]=G,ne=(ae,oe)=>{for(var G in oe||(oe={}))Z.call(oe,G)&&q(ae,G,oe[G]);if(K)for(var G of K(oe))J.call(oe,G)&&q(ae,G,oe[G]);return ae},F=(ae,oe)=>k(ae,L(oe)),W=(ae,oe,G)=>new Promise((re,se)=>{var le=pe=>{try{ve(G.next(pe))}catch(me){se(me)}},Ee=pe=>{try{ve(G.throw(pe))}catch(me){se(me)}},ve=pe=>pe.done?re(pe.value):Promise.resolve(pe.value).then(le,Ee);ve((G=G.apply(ae,oe)).next())});function ie({pub:ae,post:oe,comment:G,feedItem:re,onRestack:se,tabId:le}){var Ee,ve;const pe=(0,O.aF)(),me=(0,M.pm)(),Ie=!!pe,_e=!!((Ee=G||oe)!=null&&Ee.restacked),de=((ve=G||oe)==null?void 0:ve.restacks)||0,Re=(0,N.I0)(),ke=(0,C.i3)(),Ve=(0,I.ib)({pathname:"/api/v1/restack/feed"}),{iString:Ge}=(0,T.M1)(),{nuxModal:Qe,showRestackNux:bt}=he(G&&!G.post_id?"note":G?"comment":"post"),Ce=()=>W(this,null,function*(){const rt=yield Ve.refetch({method:"POST",json:{postId:G?null:oe==null?void 0:oe.id,commentId:(G==null?void 0:G.id)||null,tabId:le}});if(rt instanceof Error){alert((0,S.getNetworkErrorMessage)(rt));return}me.popToast(Je=>(0,o.h)(M.FN,F(ne({},Je),{text:rt.comment?Ge("Note restacked"):Ge("Post restacked"),Icon:y.Z,cta:Ge("View"),href:(0,v.E2)()}))),rt.comment?Re({type:"comment_restack",payload:{commentId:rt.comment.id,isRestacked:!0}}):Re({type:"post_restack",payload:{postId:rt.post.id,isRestacked:!0}}),bt(),se==null||se(!0)}),We=()=>W(this,null,function*(){const rt=yield Ve.refetch({method:"DELETE",json:{postId:G?null:oe==null?void 0:oe.id,commentId:(G==null?void 0:G.id)||null,tabId:le}});if(rt instanceof Error){alert((0,S.getNetworkErrorMessage)(rt));return}me.popToast(Je=>(0,o.h)(M.FN,F(ne({},Je),{text:Ge("Restack undone"),Icon:u.Z}))),G?Re({type:"comment_restack",payload:{commentId:G.id,isRestacked:!1}}):oe&&Re({type:"post_restack",payload:{postId:oe.id,isRestacked:!1}}),se==null||se(!1)}),xe=rt=>W(this,null,function*(){rt.preventDefault();try{yield ke.open({feedItem:re,restackUrl:G?(0,g.getCommentUrl)(oe,G,ae):(0,E.getPostUrl)(ae,oe),tabId:le}),bt()}catch(Je){}});return{canRestack:Ie,isRestacked:_e,restacks:de,nuxModal:Qe,menuItems:[_e?(0,o.h)(w.sN,{icon:(0,o.h)(u.Z,null),onClick:We},Ge("Undo restack")):(0,o.h)(w.sN,{icon:(0,o.h)(y.Z,null),onClick:Ce},Ge("Restack")),(0,o.h)(w.sN,{icon:(0,o.h)(p.Z,null),onClick:xe},Ge("Restack with a note"))]}}function he(ae){const oe=ye({entityType:ae}),G=(0,I.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),re=()=>W(this,null,function*(){var se;const le=(se=G.result)!=null?se:yield G.refetch();!(le instanceof Error)&&(le==null?void 0:le.hasRestacked)===!1&&(oe.open(),G.setResult({hasRestacked:!0}))});return{nuxModal:oe.element,showRestackNux:re}}function ye({entityType:ae}){const[oe,G]=(0,f.eJ)(!1),re=()=>{G(!1)};return{open:()=>{G(!0)},element:(0,o.h)(P.u_,{isOpen:oe,onClose:re},(0,o.h)(fe,{onClose:re,entityType:ae}))}}function fe({onClose:ae,entityType:oe}){const{iString:G}=(0,T.M1)();return(0,o.h)(s.tu,{paddingX:16},(0,o.h)(s.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,o.h)(c.Z,{size:40,stroke:"var(--color-primary)"})),(0,o.h)(s.tu,{gap:12},(0,o.h)(x.xv.H3,{align:"center"},oe==="comment"&&G("You restacked a comment"),oe==="note"&&G("You restacked a note"),oe==="post"&&G("You restacked a post")),(0,o.h)(x.xv.B3,{color:"secondary",align:"center"},oe==="comment"&&G("Restack comments that inspire you to share them with more people."),oe==="note"&&G("Restack notes that inspire you to share them with more people."),oe==="post"&&G("Restack posts that inspire you to share them with more people.")," ",G("Subscribers can see your restacks in the Notes tab and on your profile."))),(0,o.h)(s.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,o.h)(d.zx,{rounded:!0,href:(0,v.E2)()},G("View now")),(0,o.h)(d.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:ae},G("OK"))))}},38497:(z,l,e)=>{"use strict";var o=e(30396);function f(){const[c,g]=useState(null);return{confirm:()=>new Promise((y,p)=>{c&&p(new Error("Already confirming.")),g({resolve:y,reject:p})}),isConfirming:!!c,handleConfirm:()=>{g(null),c==null||c.resolve(!0)},handleCancel:()=>{g(null),c==null||c.resolve(!1)}}}function u(c){const[g,v]=useState(null);return{confirm:()=>new Promise((p,T)=>{g&&T(new Error("Already confirming.")),v({resolve:p,reject:T})}),isConfirming:!!g,element:g?c({onConfirm:()=>{v(null),g==null||g.resolve(!0)},onCancel:()=>{v(null),g==null||g.resolve(!1)}}):null}}},70762:(z,l,e)=>{"use strict";e.d(l,{K:()=>N,_:()=>M});var o=e(6400),f=e(30396),u=e(58718),c=e(86418),g=e(20501),v=e(67963),E=e(8479),y=e(75425),p=e(72307),T=Object.defineProperty,O=Object.defineProperties,I=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(q,ne,F)=>ne in q?T(q,ne,{enumerable:!0,configurable:!0,writable:!0,value:F}):q[ne]=F,w=(q,ne)=>{for(var F in ne||(ne={}))_.call(ne,F)&&s(q,F,ne[F]);if(S)for(var F of S(ne))d.call(ne,F)&&s(q,F,ne[F]);return q},P=(q,ne)=>O(q,I(ne)),x=(q,ne,F)=>new Promise((W,ie)=>{var he=ae=>{try{fe(F.next(ae))}catch(oe){ie(oe)}},ye=ae=>{try{fe(F.throw(ae))}catch(oe){ie(oe)}},fe=ae=>ae.done?W(ae.value):Promise.resolve(ae.value).then(he,ye);fe((F=F.apply(q,ne)).next())});function M({publicationId:q,publication:ne,publicationName:F,user:W,allowSecondaryPublications:ie=!0,subscriptionSource:he,sourceNoteId:ye}){var fe,ae,oe;q=(oe=(fe=ne==null?void 0:ne.id)!=null?fe:q)!=null?oe:(ae=W==null?void 0:W.primary_publication)==null?void 0:ae.id;const G=(0,v.aF)(),re=(0,y.pm)(),se=(0,u.oJ)(),le=(0,p.Th)(),[Ee,ve]=(0,f.eJ)(!1),pe=A(G,q,le)||C(G,W,le,{allowSecondaryPublications:ie}),[me,Ie]=(0,f.eJ)(null),_e=!!q,de=le.isLoading||!!me||!_e,Re=Ge=>x(this,null,function*(){var Qe;if(Ge&&(Ge.preventDefault(),Ge.stopPropagation()),de||pe||!_e)return;Ie("subscribing");const bt=q?yield L(q,he,{publication:ne,user:G,sourceNoteId:ye}):W?yield Z(G,W,he):{didAction:!1,errorMessage:"No subscription target"},Ce=`Subscribed to ${q?(Qe=F!=null?F:ne==null?void 0:ne.name)!=null?Qe:"publication":W?W.name:"profile"}`;if(bt.didAction){if(ve(!0),re.popToast(We=>(0,o.h)(y.FN,P(w({},We),{text:Ce}))),G)try{yield le.refetch()}catch(We){console.error("Failed to reload subscriptions:",We)}W&&se((We=[])=>We.includes(W.id)?We:[W.id,...We],{revalidate:!1})}else bt.errorMessage&&re.popToast(We=>{var xe;return(0,o.h)(y.FN,P(w({},We),{text:(xe=bt.errorMessage)!=null?xe:""}))});Ie(null)}),ke=Ge=>x(this,null,function*(){var Qe;if(Ge&&(Ge.preventDefault(),Ge.stopPropagation()),de||!pe||!_e)return;Ie("unsubscribing");const bt=q?yield K(q,he):W?yield J(G,W,he):{didAction:!1,errorMessage:"No subscription target"},Ce=`Unsubscribed from ${q?(Qe=F!=null?F:ne==null?void 0:ne.name)!=null?Qe:"publication":W?W.name:"profile"}`;if(bt.didAction){if(ve(!1),re.popToast(We=>(0,o.h)(y.FN,P(w({},We),{text:Ce}))),G)try{yield le.refetch()}catch(We){console.error("Failed to reload subscriptions:",We)}}else bt.errorMessage&&re.popToast(We=>{var xe;return(0,o.h)(y.FN,P(w({},We),{text:(xe=bt.errorMessage)!=null?xe:""}))});Ie(null)}),Ve=pe&&!me||me==="subscribing";return{showCta:_e&&(!G||le.hasLoadedOnce)&&!(G&&G.id===(W==null?void 0:W.id))&&(!pe||Ee||me==="unsubscribing"),isSubscribed:Ve,hasPublication:!!q,subscribe:Re,unsubscribe:ke,toggle:Ve?ke:Re}}function N(q){var ne;const F=(0,p.Th)(),W=(0,v.aF)();if((W==null?void 0:W.id)===q)return"subscribed";const{result:ie}=F;if(!ie)return null;const{subscriptions:he,publicationUsers:ye}=ie;for(const ae of ye)if(["admin","contributor"].includes(ae.role)&&k(q,ae.publication_id,F))return"subscribed";let fe=null;for(const ae of he)k(q,ae.publication_id,F)&&(fe=(ne=(0,c.P)(ae.membership_state,fe)?ae.membership_state:fe)!=null?ne:null);return fe}function C(q,ne,F,{allowSecondaryPublications:W}={}){if(!q||!ne||!F.hasLoadedOnce||!F.result)return!1;const{presubscriptions:ie,subscriptions:he,publicationUsers:ye}=F.result;if(ie.includes(ne.id))return!0;if(W){for(const fe of he)if(fe.membership_state!=="unsubscribed"&&k(ne.id,fe.publication_id,F))return!0;for(const fe of ye)if(["admin","contributor"].includes(fe.role)&&k(ne.id,fe.publication_id,F))return!0}return!1}function A(q,ne,F){if(!q||!ne||!F.hasLoadedOnce||!F.result)return!1;const W=F.result.subscriptionMap.get(ne);if(W&&W.membership_state!=="unsubscribed")return!0;const ie=F.result.publicationUserMap.get(ne);return!!(ie&&["admin","contributor"].includes(ie.role))}function k(q,ne,F){if(F.isLoading||!F.result)return!1;const W=F.result.publicationMap.get(ne);if(W){if(W.author_id===q)return!0;for(const ie of W.contributors)if(ie.user_id===q)return!0}return!1}function L(q,ne){return x(this,arguments,function*(F,W,{publication:ie,user:he,sourceNoteId:ye}={}){let fe=!1,ae;if(he)try{(yield(0,E.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:F,email:he.email,source:W,noWelcomeEmail:!0,sourceNoteId:ye}})).requires_confirmation?ae="Check your email to confirm subscription":fe=!0}catch(oe){console.error(oe),ae="Failed to subscribe"}else if(!he){if(!ie)try{ie=yield(0,E.rd)(`/api/v1/reader/publication/${F}`)}catch(oe){console.error(oe)}if(ie){const oe=(0,g.getSubscribeUrl)(ie,{addBase:!0,user:he!=null?he:void 0});window.open(oe,"_blank")}}return{didAction:fe,errorMessage:ae}})}function K(q,ne){return x(this,null,function*(){let F=!1,W;try{yield(0,E.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:q,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:ne}}),F=!0}catch(ie){console.error(ie),W="Failed to unsubscribe"}return{didAction:F,errorMessage:W}})}function Z(q,ne,F){return x(this,null,function*(){let W=!1,ie;try{yield(0,E.rd)((0,g.getPresubscribeUrl)(ne),{method:"POST",json:{source:F}}),W=!0}catch(he){console.error(he),ie="Failed to subscribe"}return{didAction:W,errorMessage:ie}})}function J(q,ne,F){return x(this,null,function*(){let W=!1,ie;try{yield(0,E.rd)((0,g.getPresubscribeUrl)(ne),{method:"DELETE",json:{source:F}}),W=!0}catch(he){console.error(he),ie="Failed to unsubscribe"}return{didAction:W,errorMessage:ie}})}},81671:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(94184),u=e.n(f),c=e(15045),g=e(83322),v=e(79786);function E({href:T,linkify:O,children:I,openInNewTab:S}){return O?S?(0,o.h)("a",{href:T,target:"_blank"},I):(0,o.h)("a",{href:T,native:!0},I):I}const p=({pub:T,href:O="",logo_url:I,showHover:S=!1,byline:_=null,proof:d=null,size:s=196,linkify:w=!0,title:P=null,className:x="",noMargin:M=!1,openInNewTab:N=!1,isStatic:C=!1,belowTheFold:A=!1})=>{var k;return(0,o.h)("div",{className:u()("pub-icon",!M&&"pub-icon-margin",x),title:P},S&&(0,o.h)("div",{className:"logo-hover"},(0,o.h)("div",{className:"logo-hover-title"},(0,o.h)("a",{href:O||T.base_url,native:!0},(T.name||T.subdomain)+(_?` by ${_}`:""))),(0,o.h)("div",{className:"logo-hover-proof"},d),(0,o.h)("div",{className:"logo-hover-description"},T.hero_text)),(0,o.h)(E,{href:O||T.base_url,linkify:w,openInNewTab:N},I?C?(0,o.h)("img",{src:(0,c.imginary)(I,s*2,{height:s*2,crop:"fill"}),width:s,height:s,className:"custom",alt:T.name}):(0,o.h)(v.e,{className:"custom",alt:T.name,imageProps:{height:s*2,crop:"fill"},maxWidth:s*2,src:I,width:s,height:s,loading:A?"lazy":null}):(0,o.h)("span",{className:"placeholder",style:T.theme_var_background_pop?`border-color:${(0,g.colorLightness)(T.theme_var_background_pop,.7)} ${T.theme_var_background_pop} ${T.theme_var_background_pop} ${(0,g.colorLightness)(T.theme_var_background_pop,.7)}`:""},(k=T.name||T.subdomain)==null?void 0:k[0])))}},86804:(z,l,e)=>{"use strict";e.d(l,{Z:()=>g});var o=e(6400),f=(p,T,O)=>new Promise((I,S)=>{var _=w=>{try{s(O.next(w))}catch(P){S(P)}},d=w=>{try{s(O.throw(w))}catch(P){S(P)}},s=w=>w.done?I(w.value):Promise.resolve(w.value).then(_,d);s((O=O.apply(p,T)).next())});const u="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let c=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=E);class g extends o.Component{componentDidMount(){return f(this,null,function*(){yield y(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:T}){return(0,o.h)("div",{className:T})}}function v(){const p=document.getElementsByTagName("script")[0],T=document.createElement("script");T.type="text/javascript",T.async=!0,T.defer=!0,T.src=u,p.parentNode.insertBefore(T,p)}function E(){if(c){const p=c;c=!0;for(const T of p)T()}}function y(){return new Promise(p=>{c===!0?p():c===!1?(c=[p],v()):c.push(p)})}},19826:(z,l,e)=>{"use strict";e.d(l,{EJ:()=>y.E,Fx:()=>d,ZP:()=>_});var o=e(6400),f=e(94184),u=e.n(f),c=e(39419),g=e.n(c),v=e(7922),E=e(26059),y=e(22939),p=Object.defineProperty,T=(s,w,P)=>w in s?p(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,O=(s,w,P)=>(T(s,typeof w!="symbol"?w+"":w,P),P);const I="active",S=.7;class _ extends o.Component{constructor(w,P){if(super(w,P),O(this,"onDocumentMouseUp",x=>{!(0,c.isRootOrChild)(x.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),O(this,"onDocumentKeyDown",x=>{x.key==="Escape"&&this.state.active&&this.close()}),O(this,"onWindowResize",()=>{this.placeDropdown()}),O(this,"placeDropdown",()=>{var x,M;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const N=this.base.getBoundingClientRect(),C=N.width/(this.state.active?1:S),A=N.right+(C-N.width)/2,k=N.left-(C-N.width)/2,L=typeof window!="undefined"&&window.innerWidth;if(C>=L)return;const K=typeof window!="undefined"&&window.getComputedStyle(this.base),Z=!isNaN(parseFloat(K.left))&&parseFloat(K.left),J=!isNaN(parseFloat(K.right))&&parseFloat(K.right),q=(x=this.state.originalLeft)!=null?x:K.left,ne=(M=this.state.originalRight)!=null?M:K.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:q}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:ne}),k<0?typeof this.state.left=="number"?this.setState({left:this.state.left-k,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+k}):typeof J=="number"?this.setState({left:null,right:J+k}):this.setState({left:(Z||0)-k,right:null}):A>=L&&(typeof this.state.left=="number"?this.setState({left:this.state.left-A+L,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+A-L}):typeof Z=="number"?this.setState({left:Z-A+L,right:null}):this.setState({left:null,right:(J||0)+A-L}))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const x=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:x.matches};const M=N=>{this.setState({isMobileWidth:N.matches})};x.addEventListener?x.addEventListener("change",M):x.addListener&&x.addListener(M)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:w=null}={}){this.blockToggle||(0,c.stateTransaction)(this,P=>{w===null&&(w=!P.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[w?"add":"remove"]("modal-in"),this.setState({active:w},()=>{this.props.onToggle&&this.props.onToggle({active:w})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:w,attachOnActive:P,noDrawerCloseButton:x},{active:M}){const N=(0,o.toChildArray)(this.props.children),C={},A={};typeof this.state.left=="number"?(C.left=`${this.state.left}px`,C.right="unset",A.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(C.left="unset",C.right=`${this.state.right}px`,A.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const k=this.useDrawerStyle();return(0,o.h)(o.Fragment,null,k&&(0,o.h)("div",{className:u()("dropdown-drawer-backdrop",{[I]:M}),onclick:()=>this.drawerBackdropClicked()}),(!P||M||k)&&(0,o.h)("ul",{className:u()("dropdown-menu",this.props.className,{[I]:M,"no-rect":this.props.noRectWhenClosed,drawer:k,tooltip:!k,"no-place":!!this.props.noPlace}),style:C},!w&&!this.useDrawerStyle()&&(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"dropdown-menu-tail",style:A}),(0,o.h)("div",{className:"dropdown-menu-tail-shadow",style:A})),(0,o.h)("div",{className:u()("dropdown-menu-wrapper",this.props.wrapperClassName)},k&&!x&&(0,o.h)(v.k,{className:"drawer-close-button",onClick:()=>this.close()},(0,o.h)(E.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?N:N.map(L=>(0,o.h)("li",null,L)))))}}class d extends o.Component{constructor(w){super(w),O(this,"onDocumentMouseUp",P=>{!(0,c.isRootOrChild)(P.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),O(this,"onDocumentKeyDown",P=>{P.key==="Escape"&&this.close()}),O(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:w=null}={}){this.blockToggle||(0,c.stateTransaction)(this,P=>{w===null&&(w=!P.active),this.setState({active:w},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const w=(0,o.toChildArray)(this.props.children);return this.props.noList?(0,o.h)("div",{className:u()("dropdown-menu tooltip",this.props.className,{[I]:this.state.active}),ref:this.props.forwardedRef},(0,o.h)("div",{className:"dropdown-menu-wrapper"},w)):(0,o.h)("ul",{className:u()("dropdown-menu tooltip",this.props.className,{[I]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,o.h)("div",{className:"dropdown-menu-wrapper"},w.map(P=>(0,o.h)("li",null,P))))}}},23890:(z,l,e)=>{"use strict";e.d(l,{GP:()=>x,UD:()=>P,ZP:()=>A,ew:()=>C,lQ:()=>s});var o=e(6400),f=e(94184),u=e.n(f),c=e(80569),g=e.n(c),v=e(83322),E=e(3258),y=Object.defineProperty,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(k,L,K)=>L in k?y(k,L,{enumerable:!0,configurable:!0,writable:!0,value:K}):k[L]=K,S=(k,L)=>{for(var K in L||(L={}))T.call(L,K)&&I(k,K,L[K]);if(p)for(var K of p(L))O.call(L,K)&&I(k,K,L[K]);return k},_=(k,L)=>{var K={};for(var Z in k)T.call(k,Z)&&L.indexOf(Z)<0&&(K[Z]=k[Z]);if(k!=null&&p)for(var Z of p(k))L.indexOf(Z)<0&&O.call(k,Z)&&(K[Z]=k[Z]);return K},d=(k,L,K)=>new Promise((Z,J)=>{var q=W=>{try{F(K.next(W))}catch(ie){J(ie)}},ne=W=>{try{F(K.throw(W))}catch(ie){J(ie)}},F=W=>W.done?Z(W.value):Promise.resolve(W.value).then(q,ne);F((K=K.apply(k,L)).next())});function s(k,L){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const K={};return L&&L.stripe_user_id?v.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(L.stripe_country)&&(K.stripeAccount=L.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(k,K)}function w(k,L){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(L!=null&&L.stripe_user_id))return null;const K={stripeAccount:L.stripe_user_id};return window.Stripe(k,K)}function P(k){return k.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}class x extends o.Component{componentDidMount(){this.props.card&&this.props.card.mount(this.cardElement)}componentWillUnmount(){if(this.props.card)try{this.props.card.unmount(this.cardElement)}catch(L){}}render({className:L,card:K}){if(K)return(0,o.h)("div",{className:`fancy-stripe ${L||""}`},(0,o.h)("div",{ref:Z=>this.cardElement=Z}))}}class M extends o.Component{constructor(L,K){if(super(L,K),L.stripe&&L.pub.stripe_country){(0,E.j)(E.FP.APPLE_PAY_SETUP_STARTED);try{const Z=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),J=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:Z});this.state={paymentRequest:Z,stripeButton:J}}catch(Z){console.error(Z),(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return d(this,null,function*(){let L=!1;if(this.state.paymentRequest){try{const K=yield this.state.paymentRequest.canMakePayment();K&&K.applePay&&(L=!0)}catch(K){console.error(K)}(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:L})}yield this.setState({canMount:L}),L?(this.button||(yield new Promise(K=>setTimeout(K,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",K=>this.onTokenReceived(K)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(L){let K=!1;for(const Z of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(L[Z]!==this.props[Z]||Z==="coupon"&&L[Z]&&L[Z].loading&&(!this.props[Z]||!this.props[Z].loading)){K=!0;break}K&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(L){}}onTokenReceived(L){return d(this,null,function*(){(0,E.j)(E.FP.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:L.payerEmail,name:L.payerName,stripe_token:L.token}),L.complete("success"),(0,E.j)(E.FP.APPLE_PAY_SUCCEEDED)}catch(K){console.error("Apple Pay submission failed:",L,K),L.complete("fail"),(0,E.j)(E.FP.APPLE_PAY_FAILED,{reason:K.message})}})}getPaymentTotal(){var L;const{pub:K,plan:Z,quantity:J,coupon:q,notRecurring:ne,variableAmount:F}=this.props;let W=0,ie=Math.max(0,Z.trial_period_days||0,q&&!q.error&&!q.loading&&q.trial_period_days||0,K.trial_end_override&&Math.ceil((K.trial_end_override-Date.now()/1e3)/60/60/24));ne&&(ie=0);const ye=(((L=Z.metadata)==null?void 0:L.founding)&&F||Z.amount)*(J||1);let fe=ye;q&&!q.error&&!q.loading&&(q.percent_off?fe=Math.round(fe*(1-(q.percent_off_precise||q.percent_off)/100)):q.amount_off&&(fe=Math.max(0,fe-q.amount_off)),fe<=0&&(fe=ye,q.duration==="once"?Z.interval==="year"?W+=12*Z.interval_count:W+=Z.interval_count:q.duration==="repeating"&&(W+=q.duration_in_months)));let ae;return ne?ae="one-time":(ae=`${this.props.plan.interval}ly`,this.props.quantity>1&&(ae+=" per person"),W?(ie>15&&(W+=parseInt(ie/30)),ae+=` with ${W}-month trial`):ie&&(ae+=` with ${ie}-day trial`)),{label:ae,amount:fe}}render({children:L,className:K,error:Z},{canMount:J}){if(!(typeof J!="undefined"&&!J&&typeof window!="undefined"))return(0,o.h)("div",{className:"apple-pay-parent-container"},J?(0,o.h)("div",{className:`apple-pay-element ${K||""}`,ref:q=>this.button=q}):(0,o.h)("p",{className:`apple-pay-loader ${K||""}`},"Loading\u2026"),Z&&(0,o.h)("div",{className:"error"},Z),L)}}class N extends o.Component{render(L,K){var Z=L,{children:J,ref:q}=Z,ne=_(Z,["children","ref"]);return(0,o.h)("div",{className:"fancy-input"},(0,o.h)("input",S({ref:F=>this._input=F},ne)),J)}blur(){this._input&&this._input.blur()}}class C extends Error{constructor(L){super(L),this.response={body:{error:this.message}}}}class A extends o.Component{constructor(L,K){super(L,K),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=s(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this._stripeCard=P(this._stripe),this._connectedStripe=w(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const L=[];if(this.base){const K=Array.from(this.base.getElementsByTagName("*"));for(const Z of K)["INPUT","TEXTAREA","SELECT"].includes(Z.nodeName)&&Z.getAttribute("name")&&L.push(Z)}return L}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const L of this.getInputs())L.blur&&L.blur(),L.type==="checkbox"?L.checked=!1:L.type==="select"?L.selectedIndex=-1:L.type==="radio"?L.checked=!1:L.target?L.target.value="":L.value=""}handleStripeChange({error:L}){L?this.setState({_stripeError:L.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCard&&this._stripeCard.addEventListener("change",L=>this.handleStripeChange(L))}componentWillUnmount(){this._stripeCard&&this._stripeCard.destroy()}onInputBlur(L){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&L.target&&L.target.value&&!L.target._blurTracked&&((0,E.j)(`${this.props.analyticsName} Input Filled`,{name:L.target.name}),L.target._blurTracked=!0)}onPaymentRequestAttempt(L){return d(this,null,function*(){const K=yield this.handleSubmitAsync(null,L);if(K)throw K})}handleSubmit(L){L&&L.preventDefault(),this.handleSubmitAsync(L).catch(K=>{console.error(K)})}handleSubmitAsync(L){return d(this,arguments,function*(K,Z={}){var J,q;if(K&&K.preventDefault(),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const ne=this.props.method?this.props.method:"post";let F=null;if(this.stripeElement&&!Z.stripe_token){const{token:ye,error:fe}=this._stripe?yield this._stripe.createToken(this._stripeCard):{error:{message:""}};if(ye)F=ye;else{this.setState({loading:!1,_stripeError:fe&&fe.message}),this.props.analyticsName&&(console.log("error",fe),(0,E.j)(`${this.props.analyticsName} Missing Payment`,{type:fe&&fe.type,code:fe&&fe.code,decline_code:fe&&fe.decline_code,reason:fe&&fe.message}));return}}let W={};for(const ye of this.getInputs())ye.blur&&ye.blur(),ye.type=="checkbox"?W[ye.name]=!!ye.checked:ye.type=="radio"?ye.checked&&(W[ye.name]=ye.value):ye.type==="select"?W[ye.name]=ye.options[ye.selectedIndex].value:W[ye.name]=ye.value;if(Object.keys(Z).forEach(ye=>{!W[ye]&&Z[ye]&&(W[ye]=Z[ye])}),F&&(W.stripe_token=F),this.props.prepareData)try{const ye=yield this.props.prepareData(W,K);ye&&(W=ye)}catch(ye){throw this.setState({loading:!1}),ye}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let ie,he;try{if(this.props.performSubmit)ie=yield this.props.performSubmit(W);else if(this.props.action){const ye=g()[ne](this.props.action);this.props.method&&this.props.method==="get"?ie=yield ye.query(W):ie=yield ye.send(W)}else this.props.onSubmit&&this.props.onSubmit(W)}catch(ye){he=ye}if((J=ie==null?void 0:ie.body)!=null&&J.confirmPaymentUrl&&ie.body.clientSecret&&this._connectedStripe){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_STARTED);const ye=yield this._connectedStripe.confirmCardPayment(ie.body.clientSecret);if(ye.error){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_FAILED,{error:(q=ye.error)==null?void 0:q.message});const fe={error:ye.error.message||"Failed to confirm payment"};he={response:{body:fe,text:JSON.stringify(fe)}}}else(0,E.j)(E.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!he)this.props.onSuccess&&this.props.onSuccess(ie,W);else if(this.processErrors(he.response),this.props.onError&&this.props.onError(he),!he.response)throw he;return he})}processErrors(L){const K={},Z=[];if(L&&L.body&&L.body.errors){const J=this.getInputs();L.body.errors.forEach(q=>{this.props.noInlineErrors!==!0&&q.param&&J.filter(ne=>ne.getAttribute("name")===q.param).length>0?K[q.param]?(console.log("Discarding repeated error"),console.log(q)):K[q.param]=q:Z.push(q)})}else L&&L.body&&typeof L.body.error=="string"?Z.push({msg:L.body.error}):Z.push({msg:"Something went wrong"});this.setState({_paramErrors:K,_otherErrors:Z}),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(K),otherErrors:JSON.stringify(Z)})}render(L,K){const Z=L.autoLock&&K.loading||L.loading;let J=!1,q=!1;const ne=F=>{const W=[];return(0,o.toChildArray)(F).forEach(ie=>{if(!ie)return null;if((ie.type===N||ie.type==="input"||ie.type==="textarea"||ie.type==="select")&&ie.props&&ie.props.name){const he=ie.props.name;if(W.push((0,o.cloneElement)(ie,{disabled:Z||ie.props.disabled,onChange:ye=>{var fe,ae;const oe=((fe=ie.props)==null?void 0:fe.onChange)||((ae=ie.props)==null?void 0:ae.onInput);oe&&oe(ye),this.props.onChange&&this.props.onChange(ye)},onInput:ye=>{ie.props&&ie.props.onInput&&ie.props.onInput(ye),this.props.onInput&&this.props.onInput(ye)},onBlur:ye=>{this.onInputBlur(ye),ie.props&&ie.props.onBlur&&ie.props.onBlur(ye)}})),K._paramErrors[he]&&!Z){const ye=K._paramErrors[he];ye.msgHTML?W.push((0,o.h)("div",{className:"error",name:he,dangerouslySetInnerHTML:{__html:ye.msgHTML}})):W.push((0,o.h)("div",{className:"error",name:he},ye.msg||"Invalid"))}}else if(ie.props&&ie.props.type==="submit")W.push((0,o.cloneElement)(ie,{disabled:Z||ie.props.disabled,onClick:he=>{ie.props&&ie.props.onClick&&ie.props.onClick(he)!==!1&&this.handleSubmit(he)}}));else if(ie.props&&ie.props.id==="error-container"){if(K._otherErrors&&!Z){const he=K._otherErrors.map(ye=>ye.msgHTML?(0,o.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:ye.msgHTML}}):(0,o.h)("div",{className:"error other-error"},ye.msg)).concat(ie.props&&ie.props.children?(0,o.toChildArray)(ie.props.children):[]);W.push((0,o.cloneElement)(ie,{},he))}}else if(ie.type===x){if(J)throw new Error("Can only handle one stripe element");J=!0,W.push((0,o.cloneElement)(ie,{ref:he=>{ie.props&&ie.props.ref&&ie.props.ref(he),this.stripeElement=he},card:this._stripeCard})),(K._stripeError||!this._stripeCard)&&!Z&&typeof window!="undefined"&&W.push((0,o.h)("div",{className:u()("error",L.stripeErrorClassName),role:"alert"},K._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(ie.type===M){if(q)throw new Error("Can only handle one stripe payment request button");q=!0,W.push((0,o.cloneElement)(ie,{ref:he=>{ie.props&&ie.props.ref&&ie.props.ref(he),this.stripePaymentRequestButton=he},stripe:this._stripe,onSuccess:he=>(ie.props&&ie.props.onSuccess&&ie.props.onSuccess(he),this.onPaymentRequestAttempt(he))}))}else ie.props&&ie.props.children?W.push((0,o.cloneElement)(ie,{},ne(ie.props.children))):W.push(ie)}),W};return(0,o.h)("form",S({className:`form ${L.className||""}`,action:L.noJsAction||L.action,method:L.method&&["get","post"].includes(L.method.toLowerCase())&&L.method.toLowerCase()||"post",autoComplete:L.autoComplete,onSubmit:F=>this.handleSubmit(F),noValidate:!0},L.enctype&&{enctype:L.enctype}),ne(L.children))}}},41406:(z,l,e)=>{"use strict";e.d(l,{Z:()=>Ee});var o=e(6400),f=e(94184),u=e.n(f),c=e(7922),g=e(23890),v=e(28488),E=e(1824),y=e(3258),p=e(72496),T=e(39419),O=e(30396),I=e(5285),S=e(92271),_=e(51126),d=e(43887);const s={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},w=({emailSuggestions:ve,currentEmail:pe,onAccept:me,onReject:Ie})=>{const _e=(0,T.isMobileBrowser)(),[de,Re]=(0,O.eJ)(!1),[ke,Ve]=(0,O.eJ)(null),Ge=(0,O.sO)(null),Qe=xe=>{Re(!1),(0,y.j)(y.FP.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:pe,email_suggested:xe}),Ie&&Ie()},bt=ve&&pe&&ve[pe]&&ve[pe]!=pe.trim(),Ce=xe=>{Re(!1),(0,y.j)(y.FP.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:pe,email_suggested:xe}),me(xe)};(0,O.d4)(()=>{if(bt){const xe=ve[pe];(0,y.j)(y.FP.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:pe,email_suggested:xe}),Ve(xe),Re(!0)}else Re(!1)},[bt,ve,pe]);const{iString:We}=(0,v.M1)();return(0,o.h)("div",{className:s.animationWrapper},(0,o.h)(I.u,{show:de,enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:Ge},(0,o.h)(_.hs,{className:s.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,o.h)(_.tu,{className:s.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:6,alignItems:"start",gap:20},(0,o.h)(d.xv,{translated:!0,size:16,font:"display",className:s.secondaryText},"Did you mean"," ",(0,o.h)(d.xv,{as:"span",weight:"semibold",className:s.primaryText},I18N.p(ke||"")),"?"),(0,o.h)(_.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:s.buttonWrapper},(0,o.h)(S.z,{onClick:()=>Ce(ke),className:s.buttonFill,variant:"themed-primary"},We(_e?"Yes":"Yes, Subscribe with correction")),(0,o.h)(S.z,{className:s.buttonFill,variant:"secondary",onClick:()=>Qe(ke)},We("No")))))))};var P=e(23279),x=e.n(P),M=e(80569),N=e.n(M),C=e(83868),A=e.n(C),k=(ve,pe,me)=>new Promise((Ie,_e)=>{var de=Ve=>{try{ke(me.next(Ve))}catch(Ge){_e(Ge)}},Re=Ve=>{try{ke(me.throw(Ve))}catch(Ge){_e(Ge)}},ke=Ve=>Ve.done?Ie(Ve.value):Promise.resolve(Ve.value).then(de,Re);ke((me=me.apply(ve,pe)).next())});const L=(ve,pe)=>k(void 0,null,function*(){const me=yield N().get("/api/v1/check-email").query({email:ve});pe([ve,me.body])}),K=x()((ve,pe)=>k(void 0,null,function*(){yield L(ve,pe)}),200),Z=ve=>k(void 0,null,function*(){return A()(ve)?new Promise((pe,me)=>{K(ve,pe)}):[]});var J=e(13045),q=e(15045),ne=e(83322);const F={container:"frontend-components-free_email_form-module__container--OfBh4",form:"frontend-components-free_email_form-module__form--LDIzl",sideBySideWrap:"frontend-components-free_email_form-module__sideBySideWrap--yhsgv",emailInput:"frontend-components-free_email_form-module__emailInput--BLQGf",emailInputOnAccentBackground:"frontend-components-free_email_form-module__emailInputOnAccentBackground--WwaMR",button:"frontend-components-free_email_form-module__button--WcLG9",buttonOnAccentBackground:"frontend-components-free_email_form-module__buttonOnAccentBackground--pxtYI",disabled:"frontend-components-free_email_form-module__disabled--tI4ri",links:"frontend-components-free_email_form-module__links--G_QlQ"};var W=Object.defineProperty,ie=Object.defineProperties,he=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,oe=(ve,pe,me)=>pe in ve?W(ve,pe,{enumerable:!0,configurable:!0,writable:!0,value:me}):ve[pe]=me,G=(ve,pe)=>{for(var me in pe||(pe={}))fe.call(pe,me)&&oe(ve,me,pe[me]);if(ye)for(var me of ye(pe))ae.call(pe,me)&&oe(ve,me,pe[me]);return ve},re=(ve,pe)=>ie(ve,he(pe)),se=(ve,pe,me)=>(oe(ve,typeof pe!="symbol"?pe+"":pe,me),me),le=(ve,pe,me)=>new Promise((Ie,_e)=>{var de=Ve=>{try{ke(me.next(Ve))}catch(Ge){_e(Ge)}},Re=Ve=>{try{ke(me.throw(Ve))}catch(Ge){_e(Ge)}},ke=Ve=>Ve.done?Ie(Ve.value):Promise.resolve(Ve.value).then(de,Re);ke((me=me.apply(ve,pe)).next())});class Ee extends o.Component{constructor(pe){super(pe),se(this,"handleEmailChange",()=>{const me=this.emailInput.value;me&&(this.setState({currentEmail:me}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(me))&&Z(me).then(Ie=>{const[_e,de]=Ie;this.setState({emailSuggestions:re(G({},this.state.emailSuggestions),{[_e]:de})})}))}),se(this,"_onSuccess",me=>le(this,null,function*(){const{iTemplate:Ie}=this.context;me.body.prompt_to_login||y.IU(),me.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(me):alert(Ie`Confirmation required: we sent an email to ${me.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==me.body.email&&(0,E.a)({freeSignupEmail:me.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(me))})),se(this,"onSuccess",me=>le(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,q.getQueryItem)("referralCode")?window.campaign.identify({email:me.body.email},()=>this._onSuccess(me)):yield this._onSuccess(me)})),se(this,"onAcceptSuggestion",me=>{this.emailInput.value=me,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return le(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(pe){this.setState({loading:pe,requires_confirmation:!1})}onError(pe){pe.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(pe)}render({autoFocus:pe,children:me,className:Ie,disabled:_e,loginRedirect:de,next:Re,onAccentBackground:ke,pub:Ve,referralCode:Ge,showLogin:Qe,showTerms:bt,source:Ce,submitButtonText:We,useSubscribeLink:xe,user:rt,utm_campaign:Je,onMaybeLater:ft,onPrepareData:je},{loading:Rt,requires_confirmation:Jt}){var Ct,Le,He,it,Ne,Be;const ze=Ce==="treatment_bold_fade",lt=((He=(Le=(Ct=(0,q.getQueryItem)("referring_pub_ids"))==null?void 0:Ct.split)==null?void 0:Le.call(Ct,","))==null?void 0:He[0])||void 0,et=((Be=(Ne=(it=(0,q.getQueryItem)("referring_pub_ids"))==null?void 0:it.split)==null?void 0:Ne.call(it,","))==null?void 0:Be.slice(1))||void 0,Ae=this.getPrefilledEmail(),{iString:H,iTemplate:Q}=this.context;return(0,o.h)("div",{className:F.container},(0,o.h)(g.ZP,{ref:ce=>this.form=ce,className:u()(Ie,F.form),noInlineErrors:!0,action:(0,q.pathWithQuery)("/api/v1/free"),noJsAction:(0,q.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:ce=>{Jt&&(ce.resend_confirmation=!0),je&&je(ce)},onChangeLoadingState:this.onLoadingState.bind(this),onError:ce=>this.onError(ce),onSuccess:ce=>this.onSuccess(ce),typoFound:ce=>this.setState({emailSuggestion:ce}),disableSubmit:xe},(0,o.h)("input",{type:"hidden",name:"first_url",value:p.xY}),(0,o.h)("input",{type:"hidden",name:"first_referrer",value:p.ip}),(0,o.h)("input",{type:"hidden",name:"current_url",value:p.UE}),(0,o.h)("input",{type:"hidden",name:"current_referrer",value:p.xU}),(0,o.h)("input",{type:"hidden",name:"referral_code",value:Ge}),(0,o.h)("input",{type:"hidden",name:"source",value:Ce}),(0,o.h)("input",{type:"hidden",name:"referring_pub_id",value:lt}),(0,o.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:et}),(0,o.h)("div",{className:F.sideBySideWrap},!!Ae&&(0,T.inputPrefillHack)(),(0,o.h)("input",{className:u()("pencraft",F.emailInput,{[F.emailInputOnAccentBackground]:ke}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:ce=>this.emailInput=ce,type:"email",name:ze?"email-pop":"email",readOnly:!!(this.getSavedEmail()||Rt||_e),disabled:!!(Rt||_e),autoFocus:pe&&!(this.getPrefilledEmail()||_e)&&!(0,T.isMobileBrowser)(),placeholder:H("Type your email...")}),(0,o.h)(c.Z,{className:u()("rightButton primary subscribe-btn",F.button,{pop:ze,[F.buttonOnAccentBackground]:ke}),type:"submit",disabled:!!(Rt||_e),onClick:ce=>{xe&&(location.href=(0,q.getSubscribeUrl)(Ve,{addBase:!0,user:rt,utm_source:"substack",utm_medium:"web",utm_campaign:Je,next:Re}))}},(0,o.h)("span",{className:`button-text ${ze?"pop":""}`},We||(0,ne.getSubscribeText)(Ve)))),Jt?(0,o.h)("div",null,(0,o.h)(J.xv,{translated:!0,className:"error other-error"},"This email address is not confirmed yet.",(0,o.h)("br",null),(0,o.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,o.h)("div",{id:"error-container"}),(0,o.h)("div",{className:u()("subtle-help-text below-input",F.links)},Qe&&(this.getSavedEmail()?(0,o.h)("a",{className:"login-button",href:(0,q.getSignoutUrl)({for_pub:Ve.subdomain}),native:!0},H("Not you?")):(0,o.h)("a",{className:"login-button",href:(0,q.getSigninUrl)({for_pub:Ve.subdomain,redirect:de}),native:!0},H("Login"))),bt&&[(0,o.h)("a",{className:"legal",href:(0,q.getPrivacyUrl)(Ve),target:"_blank",native:!0},H("Privacy")),(0,o.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},H("Terms")),(0,o.h)("a",{className:"legal",href:`${(0,q.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},H("Information collection notice"))],me)),(0,o.h)(w,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}se(Ee,"contextType",v.wj)},89867:(z,l,e)=>{"use strict";e.d(l,{Z:()=>I});var o=e(6400),f=e(30396),u=e(46505),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(S,_,d)=>_ in S?c(S,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):S[_]=d,p=(S,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(S,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(S,d,_[d]);return S},T=(S,_)=>{var d={};for(var s in S)v.call(S,s)&&_.indexOf(s)<0&&(d[s]=S[s]);if(S!=null&&g)for(var s of g(S))_.indexOf(s)<0&&E.call(S,s)&&(d[s]=S[s]);return d};const I=S=>{const _=S,{ampProps:d}=_,s=T(_,["ampProps"]);return(0,f.qp)(u.E).isAmp?(0,o.h)("amp-img",p(p({},d),s)):(0,o.h)("img",p({},s))}},96789:(z,l,e)=>{"use strict";e.d(l,{Z:()=>s,p:()=>w});var o=e(6400),f=e(94184),u=e.n(f),c=e(71375),g=e(39419),v=e.n(g),E=e(84040),y=Object.defineProperty,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,I=(P,x,M)=>x in P?y(P,x,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[x]=M,S=(P,x)=>{for(var M in x||(x={}))T.call(x,M)&&I(P,M,x[M]);if(p)for(var M of p(x))O.call(x,M)&&I(P,M,x[M]);return P},_=(P,x,M)=>(I(P,typeof x!="symbol"?x+"":x,M),M),d=(P,x,M)=>new Promise((N,C)=>{var A=K=>{try{L(M.next(K))}catch(Z){C(Z)}},k=K=>{try{L(M.throw(K))}catch(Z){C(Z)}},L=K=>K.done?N(K.value):Promise.resolve(K.value).then(A,k);L((M=M.apply(P,x)).next())});class s extends o.Component{constructor(x,M){super(x,M),_(this,"onDocumentKeyDown",N=>{N.key==="Escape"&&!this.props.noExit&&!(0,g.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(x){x&&(this._callback=x);const M=document.getElementsByTagName("html")[0];(0,g.hasClass)(M,"modal-in")||(0,g.addClass)(M,"modal-in"),this.setState({display:!0,open:!0})}open(x){return d(this,null,function*(){x&&(this._callback=x);const M=document.getElementsByTagName("html")[0];(0,g.hasClass)(M,"modal-in")||(0,g.addClass)(M,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(N=>{this.setState({display:!0},()=>{this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),N()})},50)})})})}close(x){return d(this,null,function*(){this.isOpen()&&this.onBeforeClose(x)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(x)===!1||((0,g.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(M=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(x),this.props.onClose&&this.props.onClose(x),this._callback&&this._callback(x),M()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(x){var M,N;x.stopPropagation(),(N=(M=this.props).onClick)==null||N.call(M,x),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&x.target&&this.container&&this.close()}onClickInner(x){var M,N;x.stopPropagation(),(N=(M=this.props).onClick)==null||N.call(M,x)}render(){const x=this.state.open?"in":"out",M=this.state.display===!1?"gone":"",N=this.props.variant==="structured",C=!this.state.open;return(0,o.h)("div",{className:u()("modal typography",x,M,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":N,popup:this.popup}),inert:C,onClick:A=>this.onClickOuter(A),"data-testid":this.props.testID,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{ref:A=>this.content=A,className:u()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,o.h)("div",S({className:u()({container:!N}),ref:A=>this.container=A,onClick:A=>this.onClickInner(A)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,g.isMobileBrowser)())&&(N?(0,o.h)("div",{className:"structured-modal__close-button"},(0,o.h)(E.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,o.h)(c.Z,{size:20,color:"secondary"}))):(0,o.h)(E.hU,{"data-testid":"close-modal",className:u()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,o.h)(c.Z,{size:20,color:"secondary"}))),N?(0,o.h)("div",{className:"structured-modal__wrapper"},(0,o.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,o.h)("h3",null,this.props.modalTitle):(0,o.h)("h3",null,"\xA0")),(0,o.h)("div",{className:"structured-modal__body"},(0,o.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,o.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:x},M){return x}}class w extends s{constructor(x,M){super(x,M),this.popup=!0}}},50615:(z,l,e)=>{"use strict";e.d(l,{l:()=>C,y:()=>N});var o=e(6400),f=e(30396),u=e(50308),c=e.n(u),g=e(80569),v=e.n(g),E=e(39776),y=e(15045),p=e(83322),T=e(3258),O=e(39419),I=e.n(O),S=e(19826),_=e(46595),d=e(22702),s=e(65726),w=Object.defineProperty,P=(A,k,L)=>k in A?w(A,k,{enumerable:!0,configurable:!0,writable:!0,value:L}):A[k]=L,x=(A,k,L)=>(P(A,typeof k!="symbol"?k+"":k,L),L),M=(A,k,L)=>new Promise((K,Z)=>{var J=F=>{try{ne(L.next(F))}catch(W){Z(W)}},q=F=>{try{ne(L.throw(F))}catch(W){Z(W)}},ne=F=>F.done?K(F.value):Promise.resolve(F.value).then(J,q);ne((L=L.apply(A,k)).next())});class N extends o.Component{constructor(){super(...arguments),x(this,"toggleTopExclusion",k=>(0,O.stateTransaction)(this,(L,K)=>M(this,[L,K],function*(Z,{post:J,onChange:q}){if(Z.topExcluding)return;this.setState({topExcluding:k.id});const ne=J.top_exclusions.includes(k.id),F=`/api/v1/publication/${k.id}/exclusion/${J.id}`;try{ne?(yield v().del(F),J.top_exclusions.splice(0)):(yield v().post(F),J.top_exclusions.splice(0),J.top_exclusions.push(k.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(W){console.error("Failed to exclude post:",W),alert((0,O.getNetworkErrorMessage)(W));return}finally{this.setState({topExcluding:null})}q&&(yield q({post:J}))}))),x(this,"toggleSectionPin",(k,L)=>(0,O.stateTransaction)(this,(K,Z)=>M(this,[K,Z],function*(J,{post:q,onChange:ne}){if(J.pinning)return;this.setState({sectionPinning:L});const F=`/api/v1/publication/${k.id}/section/${L}/pin/${q.id}`;try{q.is_section_pinned?(yield v().del(F),q.is_section_pinned=!1):(yield v().post(F),q.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(W){console.error("Failed to pin post:",W),alert((0,O.getNetworkErrorMessage)(W));return}finally{this.setState({sectionPinning:null})}ne&&(yield ne({post:q}))}))),x(this,"togglePin",k=>(0,O.stateTransaction)(this,(L,K)=>M(this,[L,K],function*(Z,{post:J,onChange:q}){if(Z.pinning)return;this.setState({pinning:k.id});const ne=J.pins.includes(k.id),F=`/api/v1/publication/${k.id}/pin/${J.id}`;try{ne?(yield v().del(F),J.pins.splice(J.pins.indexOf(k.id),1)):(yield v().post(F),k.multiple_pins||J.pins.splice(0),J.pins.push(k.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(W){console.error("Failed to pin post:",W),alert((0,O.getNetworkErrorMessage)(W));return}finally{this.setState({pinning:null})}q&&(yield q({post:J}))}))),x(this,"sendEmail",()=>M(this,null,function*(){const{post:k}=this.props,L={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[k.audience];if(!confirm(`Send this published post as an email to ${L}?`))return;const K=`/api/v1/drafts/${k.id}/publish`;try{yield v().post(K).send({send:!0,only_send:!0}),location.reload()}catch(Z){console.error("Failed to send post:",Z),alert((0,O.getNetworkErrorMessage)(Z))}})),x(this,"clearCache",()=>M(this,null,function*(){const{post:k}=this.props;try{yield v().put(`/api/v1/posts/${k.id}/clear_cache`),location.reload()}catch(L){console.error("Failed to clear post from cache"),alert((0,O.getNetworkErrorMessage)(L))}})),x(this,"duplicatePost",()=>M(this,null,function*(){this.setState({duplicating:!0});const{pub:k,post:L}=this.props;try{const K=yield v().post(`/api/v1/posts/${L.id}/duplicate`);(0,O.redirect)((0,y.getEditPostUrlById)(k,K.body.id,K.body.editor_v2),{local_navigation:!1})}catch(K){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,O.getNetworkErrorMessage)(K))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:k,post:L,hidePinning:K,user:Z,emailSent:J,allowSendEmail:q,className:ne,useDrawerOnMobile:F,handleCrossPost:W},{pinning:ie,sectionPinning:he,topExcluding:ye,duplicating:fe}){let ae=null;L.section_id&&k.sections&&k.sections.length&&(ae=k.sections.find(G=>G.id===L.section_id));const oe=!!(0,E.default)("enable_post_summarization");return(0,o.h)(S.ZP,{attachOnActive:!0,ref:G=>this.editMenu=G,className:ne,useDrawerOnMobile:F},(0,o.h)(s.Z,{href:(0,y.getPostUrl)(k,L,{edit:!0}),onClick:c()},"Edit post"),!K&&L.slug&&[(0,p.isPinnable)(k)&&L.section_id&&(L.section_name||ae.name)&&(0,o.h)(s.Z,{onClick:()=>this.toggleSectionPin(k,L.section_id)},[L.is_section_pinned^he===L.section_id?"Unpin from":"Pin on",` ${L.section_name||ae.name}`]),(0,p.isPinnable)(k)&&(0,o.h)(s.Z,{onClick:()=>this.togglePin(k)},[L.pins.includes(k.id)^ie===k.id?"Unpin from":"Pin on",k.parent_publication_id||ae?` ${k.name}`:" homepage"]),k.parent_publication&&(0,p.isPinnable)(k.parent_publication)&&(0,o.h)(s.Z,{onClick:()=>this.togglePin(k.parent_publication)},[L.pins.includes(k.parent_publication.id)^ie===k.parent_publication.id?"Unpin from":"Pin on",` ${k.parent_publication.name}`])],L.slug&&L.type!=="adhoc_email"&&[(0,o.h)(s.Z,{onClick:()=>this.toggleTopExclusion(k)},[L.top_exclusions.includes(k.id)^ye===k.id?"Include in":"Exclude from"," Top",k.parent_publication_id&&` for ${k.name}`]),k.parent_publication&&(0,o.h)(s.Z,{onClick:()=>this.toggleTopExclusion(k.parent_publication)},[L.top_exclusions.includes(k.parent_publication.id)^ye===k.parent_publication.id?"Include in":"Exclude from"," Top",` for ${k.parent_publication.name}`])],(0,o.h)(s.Z,{disabled:fe,onClick:()=>this.duplicatePost()},fe?"Duplicating":"Duplicate"," to drafts"),!J&&q&&L.is_published&&(0,o.h)(s.Z,{onClick:()=>this.sendEmail()},"Send as email"),(Z==null?void 0:Z.is_global_admin)&&(0,o.h)(s.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(0,o.h)(s.Z,{onClick:()=>{window.open(`${(0,y.getPostUrl)(k,L)}/media-assets`)}},"View media assets"),!!(oe&&this.props.onSummaryOpen)&&(0,o.h)(s.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),W&&(0,o.h)(s.Z,{onClick:W},"Cross post"))}}x(N,"state",{duplicating:!1});function C({pub:A,post:k,iconHeight:L,hidePinning:K,user:Z,emailSent:J,allowSendEmail:q,showUpdatedIcons:ne,dropdownClassName:F,iconClassName:W}){const ie=(0,f.sO)();return(0,o.h)(o.Fragment,null,(0,o.h)(s.Z,{onClick:()=>{ie.current.isOpen()||(0,T.j)(T.FP.EDIT_POST_DROPDOWN_MENU_OPENED),ie.current.toggle()}},ne?(0,o.h)(d.Z,{stroke:"#262626",height:L,className:W}):(0,o.h)(_.Z,{stroke:"#757575",height:L,className:W})),(0,o.h)(N,{ref:ie,pub:A,post:k,hidePinning:K,user:Z,emailSent:J,allowSendEmail:q,className:F}))}},95847:(z,l,e)=>{"use strict";e.d(l,{_0:()=>he,EB:()=>ye});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(80569),v=e.n(g),E=e(15045),y=e(96702),p=e(83322),T=e(3258),O=e(39419),I=e(35291),S=e(7922),_=e(19237),d=(ae,oe,G)=>new Promise((re,se)=>{var le=pe=>{try{ve(G.next(pe))}catch(me){se(me)}},Ee=pe=>{try{ve(G.throw(pe))}catch(me){se(me)}},ve=pe=>pe.done?re(pe.value):Promise.resolve(pe.value).then(le,Ee);ve((G=G.apply(ae,oe)).next())});const w=({photoUrl:ae,newPhotoUrl:oe,newPhotoOrientation:G,updatePhoto:re})=>{const se=(0,f.sO)(null),le=()=>d(void 0,null,function*(){const Ee=se.current.files[0];if(se.current.value="",!Ee){re({newPhotoUrl:null,newPhotoOrientation:null});return}let ve;try{ve=yield(0,O.getDataUrlFromFile)(Ee)}catch(me){console.error("Failed to get data URL from file:",me),alert(me.message);return}let pe;try{pe=yield(0,O.getExifOrientationFromFile)(Ee)}catch(me){console.error("Failed to extract EXIF data from file:",me)}re({newPhotoUrl:ve,newPhotoOrientation:pe})});return(0,o.h)("div",{className:"profile-photo-wrap"},ae&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${oe||(0,E.imginary)(ae,144)})`,transform:(0,O.transformExifOrientation)(G)}}),!ae&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,E.imginary)(E.DEFAULT_PHOTO_URL,144)})`,transform:(0,O.transformExifOrientation)(G)}}),(0,o.h)(S.Z,{onClick:()=>{((0,O.isIE)()||(0,O.isFirefox)())&&se.current.click()}},(0,o.h)("input",{ref:se,type:"file",name:"photo",accept:"image/*",onChange:le}),(0,o.h)("div",{className:"add-photo-fab",onClick:Ee=>{Ee.preventDefault(),se.current.click()}},(0,o.h)(_.Z,{size:20,color:"var(--color-light-primary)"}))))};var P=e(23890),x=e(96789),M=e(81671),N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Z=(ae,oe,G)=>oe in ae?N(ae,oe,{enumerable:!0,configurable:!0,writable:!0,value:G}):ae[oe]=G,J=(ae,oe)=>{for(var G in oe||(oe={}))L.call(oe,G)&&Z(ae,G,oe[G]);if(k)for(var G of k(oe))K.call(oe,G)&&Z(ae,G,oe[G]);return ae},q=(ae,oe)=>C(ae,A(oe)),ne=(ae,oe)=>{var G={};for(var re in ae)L.call(ae,re)&&oe.indexOf(re)<0&&(G[re]=ae[re]);if(ae!=null&&k)for(var re of k(ae))oe.indexOf(re)<0&&K.call(ae,re)&&(G[re]=ae[re]);return G},F=(ae,oe,G)=>new Promise((re,se)=>{var le=pe=>{try{ve(G.next(pe))}catch(me){se(me)}},Ee=pe=>{try{ve(G.throw(pe))}catch(me){se(me)}},ve=pe=>pe.done?re(pe.value):Promise.resolve(pe.value).then(le,Ee);ve((G=G.apply(ae,oe)).next())});const W=({sub:ae,onSetVisibility:oe,source:G})=>{const re=ae.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:re,logo_url:re.logo_url||re.author_photo_url}),h("span",null,re.name)),h("div",{className:"right"},h(BigCheckbox,{checked:ae.visibility==="public",onChange:()=>oe(ae.visibility==="public"?"private":"public")})))},ie=({profile:ae,onFinalizeVisibility:oe,onSetVisibility:G,source:re})=>{if(!ae)return;const se=ae.subscriptions.every(({visibility:pe})=>pe==="public"),le=()=>{G(ae.subscriptions.reduce((pe,{publication:me})=>q(J({},pe),{[me.id]:se?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:ae.subscriptions.length})},Ee=pe=>me=>{G(ae.subscriptions.reduce((Ie,{visibility:_e,publication:de})=>q(J({},Ie),{[de.id]:de.id===pe.id?me:_e}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:me})},ve=h("button",{className:"small",onClick:le},se?"Hide all":"Show all");return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},ve),h("div",{className:"edit-sub-visibility-frame"},ae.subscriptions.map(pe=>h(W,{sub:pe,onSetVisibility:Ee(pe.publication),source:re}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:oe},"Done")))};class he extends o.Component{constructor(oe,G){var re;super(oe,G),this.formRef=(0,o.createRef)(),this.state={newName:null,newHandle:null,newBio:null,newEmail:oe.user&&oe.user.is_magic?oe.user.email:null},oe.isPostInvite&&!((re=oe.user)!=null&&re.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var oe,G,re;this.props.autoSubmit&&(this.isComplete()?(oe=this.formRef.current)==null||oe.handleSubmit():(re=(G=this.props).onAutoSubmitFailed)==null||re.call(G))}isComplete(){const{user:oe,needsPhoto:G}=this.props;return oe&&!oe.is_magic&&oe.name&&(!G||oe.photo_url)}onFileInputChanged(){return F(this,null,function*(){const oe=this.fileInput.files[0];if(this.fileInput.value="",!oe){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let G;try{G=yield(0,O.getDataUrlFromFile)(oe)}catch(se){console.error("Failed to get data URL from file:",se),alert(se.message);return}let re;try{re=yield(0,O.getExifOrientationFromFile)(oe)}catch(se){console.error("Failed to extract EXIF data from file:",se)}this.setState({newPhotoUrl:G,newPhotoOrientation:re})})}onError(oe){var G,re;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(re=(G=this.props).onAutoSubmitFailed)==null||re.call(G)),this.setState({sentLoginEmail:!1}),oe.status===401&&this.sendLoginEmail()}createDefaultPublication(oe,G){return F(this,null,function*(){try{const re=yield v().get("/api/v1/publication/suggestion"),se=G||`${oe} on Substack`;yield v().post("/api/v1/publication").send({name:oe,subdomain:re.body.subdomain,hero_text:se,tos:!0})}catch(re){(0,T.j)(T.FP.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",re)}})}sendLoginEmail(){return F(this,null,function*(){const oe=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!oe)){this.setState({loading:!0});try{yield v().post("/api/v1/email-login").send({email:oe,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(G){console.error("Failed send login email:",G)}this.setState({loading:!1})}})}render({className:oe,user:G,numVisibleSubscriptions:re,numSubscriptions:se,freeSignup:le,freeSignupEmail:Ee,initialPhotoUrl:ve,needsPhoto:pe,optionalPhoto:me,token:Ie,text:_e,onSuccess:de,prepareData:Re,pageTitle:ke,primaryEligiblePublications:Ve,isPostInvite:Ge,complete:Qe,profileExists:bt,onSkip:Ce,onEditReadVisibility:We,barebones:xe,onEditRecommendations:rt,numRecommendationsToMake:Je,noSubscribeCta:ft,style:je},{newPhotoUrl:Rt,newPhotoOrientation:Jt,newName:Ct,newHandle:Le,newEmail:He,loading:it,sentLoginEmail:Ne,sentAccountConfirmationEmail:Be,newBio:ze,createPublication:lt}){const et=Rt||ve||(0,y.getUserPhotoUrlWithoutDefault)(G,{noFallbackToSignedOut:!0}),Ae=typeof ke=="string"?ke:`${this.isComplete()?"Update":"Create"} your profile`,H=Ct||G&&G.name||"",Q=Le||(G==null?void 0:G.handle)||"",ce=typeof ze=="string"?ze:G&&G.bio||"",Pe=(Me,$e)=>F(this,null,function*(){if(Me.body.emailConfirmationRequired){this.setState({sentAccountConfirmationEmail:!0});return}lt&&(yield this.createDefaultPublication(H,ce)),de(Me,$e)});return(0,o.h)("div",{className:c()("profile-updater",oe),style:je},(0,o.h)("h2",{className:"page-title profile-updater-title"},Ae),(et||pe||me)&&(0,o.h)(w,{photoUrl:et,newPhotoUrl:Rt,newPhotoOrientation:Jt,updatePhoto:({newPhotoOrientation:Me,newPhotoUrl:$e})=>this.setState({newPhotoOrientation:Me,newPhotoUrl:$e}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,o.h)(P.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:Re,onSuccess:Pe,onError:Me=>this.onError(Me),noInlineErrors:!0,loading:it,autoLock:!0},(0,o.h)("label",{htmlFor:"name"},"Name (Required)"),(0,o.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:"Type your name\u2026",name:"name",id:"name",value:H,onInput:Me=>this.setState({newName:Me.target.value})}),(0,o.h)("label",{htmlFor:"handle"},"Handle"),(0,o.h)("input",{type:"text",className:"profile-name",placeholder:"Type your handle\u2026",name:"handle",id:"handle",value:Q,onInput:Me=>this.setState({newHandle:Me.target.value})}),!xe&&(0,o.h)("label",{htmlFor:"bio"},"Bio"),!xe&&(0,o.h)("textarea",{className:"profile-bio",placeholder:"Say something about yourself\u2026",name:"bio",id:"bio",value:ce,onInput:Me=>this.setState({newBio:Me.target.value})}),Ge&&(0,o.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),Ge&&(0,o.h)("div",{className:"bio-guest-tip"},"Tip: this will be shown at the bottom of your guest post"),Ge&&Ve&&(G==null?void 0:G.has_publication)&&Ve.length>1&&(0,o.h)(o.Fragment,null,(0,o.h)("label",null,"Publication to display"),(0,o.h)("div",{className:"primary-publication-selector"},Ve.map((Me,$e)=>(0,o.h)("label",{className:"publication-selector-row",for:`primary-radio-${Me.id}`},(0,o.h)("input",{id:`primary-radio-${Me.id}`,type:"radio",name:"primary_publication_user_id",value:Me.id,checked:$e===0}),(0,o.h)(M.Z,{pub:Me.publication,logo_url:(0,E.imginary)(Me.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:Me.publication.name}),(0,o.h)("div",{className:"primary-publication-name"},Me.publication.name))))),(!G||G.is_magic)&&!Ee&&!Ge&&(0,o.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:He,onInput:Me=>this.setState({newEmail:Me.target.value})}),!ft&&!(G&&(G.is_subscribed||G.is_free_subscribed)||le)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," Subscribe to the newsletter"),Ge&&!(G!=null&&G.has_publication)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:lt,onChange:Me=>this.setState({createPublication:Me.target.checked})}),"Create a Substack publication for me"),(0,o.h)("input",{type:"hidden",name:"confirmation_redirect_pathname",value:document.location.pathname}),(0,o.h)("input",{type:"hidden",name:"photo_url",value:et}),(0,o.h)("input",{type:"hidden",name:"user_id",value:(G==null?void 0:G.id)||""}),(0,o.h)("input",{type:"hidden",name:"needs_photo",value:!!pe}),(0,o.h)("input",{type:"hidden",name:"token",value:Ie}),Qe&&(0,o.h)("input",{type:"hidden",name:"complete",value:!0}),(0,o.h)("div",{id:"error-container"},Ne&&(0,o.h)("div",{className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,o.h)("b",null,He)," with a link that you can use to sign in."),Be&&(0,o.h)("div",{className:"error other-error"},"We have sent you a confirmation email. Please check your inbox before continuing.")),(0,o.h)("p",{className:c()("left",{hidden:!(typeof re=="number"&&se>0&&We)})},(0,p.pluralize)(re||0,"subscription")," ",bt?"are":"will be"," displayed on your profile (",(0,o.h)("a",{onClick:We},"edit"),")"),!bt&&rt&&Je>0&&(0,o.h)("p",{className:"left second"},(0,p.pluralize)(Je||0,"recommendation")," will be made on your publication (",(0,o.h)("a",{onClick:rt},"edit"),")"),(0,o.h)("div",{className:"modal-ctas"},(0,o.h)("p",{className:c()("skip",{hidden:!Ce})},(0,o.h)("a",{className:"small",onClick:Ce||(()=>{})},"Skip for now")),(0,o.h)(S.Z,{className:"primary",type:"submit"},_e||"Save"),Ge&&(0,o.h)(o.Fragment,null,(0,o.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,o.h)("div",{className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,o.h)("a",{href:`${(0,E.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}class ye extends x.p{renderChildren(){const oe=this.props,{ref:G,onBeforeClose:re,contributor:se}=oe,le=ne(oe,["ref","onBeforeClose","contributor"]);return(0,o.h)("div",{className:"profile-updater-modal"},se?(0,o.h)(fe,q(J({},le),{onSuccess:()=>this.close(!0)})):(0,o.h)(he,q(J({},le),{onSuccess:()=>this.close(!0)})))}}const fe=({profile:ae,user:oe,pub:G,onSuccess:re,isOwnProfile:se})=>{const le=(0,f.sO)(),[Ee,ve]=(0,f.eJ)(null),[pe,me]=(0,f.eJ)(null),Ie=Ee||ae&&ae.photo_url,[_e,de]=(0,f.eJ)(ae.name),[Re,ke]=(0,f.eJ)(ae.bio),Ve=()=>F(void 0,null,function*(){var Ge;const Qe=(Ge=le.current)!=null&&Ge.files?le.current.files[0]:null;if(le.value="",!Qe){ve(null),me(null);return}let bt;try{bt=yield(0,O.getDataUrlFromFile)(Qe)}catch(We){console.error("Failed to get data URL from file:",We),alert(We.message);return}let Ce;try{Ce=yield(0,O.getExifOrientationFromFile)(Qe)}catch(We){console.error("Failed to extract EXIF data from file:",We)}ve(bt),me(Ce)});return(0,o.h)("div",{className:"profile-updater"},(0,o.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,o.h)("div",{className:"profile-photo-wrap"},Ie&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${Ee||(0,E.imginary)(ae.photo_url,144)})`,transform:(0,O.transformExifOrientation)(pe)}}),(0,o.h)(S.Z,{onClick:()=>{((0,O.isIE)()||(0,O.isFirefox)())&&le.click()}},!Ie&&"Set photo",(0,o.h)("input",{ref:le,type:"file",name:"photo",accept:"image/*",onChange:()=>Ve()}))),(0,o.h)(P.ZP,{method:"patch",action:`/api/v1/publication/users/${ae.id}`,onSuccess:re,autoLock:!0},(0,o.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:_e,onInput:Ge=>de(Ge.target.value)}),(0,o.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:Re,onInput:Ge=>ke(Ge.target.value)}),(0,o.h)("input",{type:"hidden",name:"photo_url",value:Ie}),(0,o.h)("span",{className:"notice"},(0,o.h)("p",null,(0,o.h)("b",null,"Note:")," This is a contributor profile, viewable by ",G.name,"'s readers."),se&&(0,o.h)("p",null,"You may also edit your"," ",(0,o.h)("a",{native:!0,href:`${(0,E.getReaderProfileUrl)(oe)}`},"personal profile"),".")),(0,o.h)(S.Z,{className:"primary",type:"submit"},"Update profile")))}},31533:(z,l,e)=>{"use strict";e.d(l,{E6:()=>ne,dJ:()=>fe,fS:()=>F,oq:()=>ae,xl:()=>he});var o=e(6400),f=e(94184),u=e.n(f),c=e(12297),g=e.n(c),v=e(80569),E=e.n(v),y=e(82626),p=e(15045),T=e(83322),O=e(28488),I=e(1824),S=e(3258),_=e(39419),d=e.n(_),s=e(51126),w=e(43887),P=e(41406),x=e(12650),M=e(96789),N=Object.defineProperty,C=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,L=(oe,G,re)=>G in oe?N(oe,G,{enumerable:!0,configurable:!0,writable:!0,value:re}):oe[G]=re,K=(oe,G)=>{for(var re in G||(G={}))A.call(G,re)&&L(oe,re,G[re]);if(C)for(var re of C(G))k.call(G,re)&&L(oe,re,G[re]);return oe},Z=(oe,G,re)=>(L(oe,typeof G!="symbol"?G+"":G,re),re),J=(oe,G,re)=>new Promise((se,le)=>{var Ee=me=>{try{pe(re.next(me))}catch(Ie){le(Ie)}},ve=me=>{try{pe(re.throw(me))}catch(Ie){le(Ie)}},pe=me=>me.done?se(me.value):Promise.resolve(me.value).then(Ee,ve);pe((re=re.apply(oe,G)).next())});const q="\u2764",ne=(oe,G,re)=>{const{reaction:se,reactions:le,reactor_names:Ee}=W(oe,G,re);ie(G,se,le,Ee)},F=(oe,G)=>W(oe,G,!G.reaction),W=(oe,G,re)=>{let{reaction:se,reactions:le={},reactor_names:Ee=[]}=G;return le=K({},le),Ee=[...Ee],re&&!se?(se=q,le[se]=le[se]?le[se]+1:1,oe&&oe.is_public_admin&&Ee.push(oe.name||"author")):!re&&se&&(le[q]=le[q]?le[q]-1:0,oe&&oe.is_public_admin&&(Ee=Ee.filter(ve=>ve!==(oe.name||"author"))),se=null),{reaction:se,reactions:le,reactor_names:Ee}},ie=(oe,G,re,se)=>{oe.reaction=G,oe.reactions=re,oe.reactor_names=se};function he(oe,G,re,se){const le=(0,p.pathWithQuery)(`/api/v1/${G?"comment":"post"}/${oe.id}/reaction`,{token:se});return re?E().post(le).send({reaction:q}):E().delete(le)}class ye extends o.Component{constructor(){super(...arguments),Z(this,"state",{includeModal:!1}),Z(this,"modalRef",(0,o.createRef)(null)),Z(this,"react",G=>J(this,null,function*(){if(this.props.isStatic)return;G&&G.stopPropagation();const se=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(se),this.props.noSelfUpdate)return;const le=yield(0,_.stateLock)(this,"locked",(Ee,ve)=>J(this,null,function*(){const pe=ve.comment||ve.post,me=he(pe,!!ve.comment,se,ve.token),{reaction:Ie,reactions:_e,reactor_names:de}=F(ve.user,pe);this.notifyParent({reactions:_e,reaction:Ie,reactor_names:de});let Re;try{yield me}catch(ke){Re=ke,this.notifyParent(pe)}return{error:Re,reaction:Ie}}));return le&&le.error&&(le.error.response&&le.error.response.statusCode===401?yield this.reactionRejected(le.reaction):alert((0,_.getNetworkErrorMessage)(le.error))),!!le&&!le.error}))}notifyParent({reaction:G,reactions:re,reactor_names:se}){const le=K({},this.props.post),Ee=this.props.comment&&K({},this.props.comment);ie(Ee||le,G,re,se),this.props.onChange&&this.props.onChange({post:le,comment:Ee})}reactionRejected(G){return J(this,null,function*(){(0,S.j)(S.FP.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!G}),yield new Promise(re=>{this.state.includeModal?this.modalRef.current.open(re):this.setState({includeModal:!0},()=>this.modalRef.current.open(re))})})}render({className:G,user:re,pub:se,comment:le,height:Ee,isStatic:ve,post:pe,buttonStyle:me,hideReactionCount:Ie,countInParenthesesStyle:_e,iString:de}){const Re=le||pe,ke=Re.reaction,Ve=Re.reactions||{},Ge=g()(Object.values(Ve));let Qe;return pe&&pe.reaction_url_override?Qe=pe.reaction_url_override:ve?Qe=y.Substitutions.REACTION_URL:Qe="javascript:void(0)",(0,o.h)(w.xv,{as:"span",decoration:"hover-underline",color:ke?"accent-red":"pub-secondary-text",className:G},this.props.render?this.props.render({liked:ke,numReactions:Ge>0?(0,T.numberToString)(Ge):null,onClick:bt=>{this.react(bt)}}):(0,o.h)("a",{href:Qe,className:u()("like-button",{button:me,"post-meta-button":me,liked:ke}),onClick:bt=>this.react(bt)},(0,o.h)(s.hs,{gap:6,alignItems:"center",className:G},ve?(0,o.h)(x.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:Ee,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,o.h)(s.hs,{className:"reaction-container"},(0,o.h)(x.Z,{className:"animation"}),!ke&&(0,o.h)(x.Z,{strokeWidth:2,height:Ee,fill:"transparent",stroke:"var(--color-secondary-themed)"}),ke&&(0,o.h)(x.Z,{height:Ee,strokeWidth:2})),_e?(0,o.h)(w.xv.Meta,{color:ke?"accent-red":"pub-secondary-text",className:"like-count"},de(ke?"Liked":"Like"),!Ie&&Ge>0?` (${(0,T.numberToString)(Ge)})`:""):!Ie&&Ge>0?(0,o.h)("span",{className:"like-count"},(0,T.numberToString)(Ge)):me?(0,o.h)("span",{className:"like-count"},de("Like")):null)),!ve&&this.state.includeModal&&(0,o.h)(ae,{modalRef:this.modalRef,user:re,pub:se,comment:le,react:this.react}))}}const fe=(0,O.fz)(ye);function ae({comment:oe,pub:G,user:re,modalRef:se,onClose:le,react:Ee}){const{iString:ve}=(0,O.M1)();return(0,o.h)(M.Z,{ref:se,onClose:le},(0,o.h)(s.tu,{alignItems:"center",paddingTop:80,gap:24},(0,o.h)(w.xv.H2,null,ve(oe?"Subscribe to like this comment":"Subscribe to like this post")),(0,o.h)(P.Z,{user:re,pub:G,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:pe=>J(this,null,function*(){const me=pe&&pe.body&&pe.body.email;pe&&pe.body&&pe.body.prompt_to_login||!(yield Ee())?window.location.href=(0,p.getSigninUrl)({for_pub:G.subdomain,email:me}):se!=null&&se.current&&((0,I.a)({freeSignup:!0,freeSignupEmail:me}),yield se.current.close())})})))}},49715:(z,l,e)=>{"use strict";e.d(l,{J:()=>he});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),g=e(82626),v=e(85928),E=e.n(v),y=e(6385),p=e(15045),T=e(83322),O=e(13045),I=e(63270),S=e(3258),_=e(39419),d=e(84040),s=e(51126),w=e(62246),P=e(43887),x=e(75425),M=e(96427),N=e(81671),C=e(61152);const A={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var k=Object.defineProperty,L=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,J=(ye,fe,ae)=>fe in ye?k(ye,fe,{enumerable:!0,configurable:!0,writable:!0,value:ae}):ye[fe]=ae,q=(ye,fe)=>{for(var ae in fe||(fe={}))K.call(fe,ae)&&J(ye,ae,fe[ae]);if(L)for(var ae of L(fe))Z.call(fe,ae)&&J(ye,ae,fe[ae]);return ye},ne=(ye,fe,ae)=>new Promise((oe,G)=>{var re=Ee=>{try{le(ae.next(Ee))}catch(ve){G(ve)}},se=Ee=>{try{le(ae.throw(Ee))}catch(ve){G(ve)}},le=Ee=>Ee.done?oe(Ee.value):Promise.resolve(Ee.value).then(re,se);le((ae=ae.apply(ye,fe)).next())});const F={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},W={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},ie={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},he=({pub:ye,post:fe,user:ae,open:oe,setOpen:G,placeholderText:re=""})=>{const se=E()().add(2,"minutes"),[le,Ee]=(0,f.eJ)(null),[ve,pe]=(0,f.eJ)(re),[me,Ie]=(0,f.eJ)(!1),[_e,de]=(0,f.eJ)(!0),[Re,ke]=(0,f.eJ)(F.PREAMBLE),[Ve,Ge]=(0,f.eJ)(null),[Qe,bt]=(0,f.eJ)(null),[Ce,We]=(0,f.eJ)(!0),[xe,rt]=(0,f.eJ)(!0),[Je,ft]=(0,f.eJ)(!1),[je,Rt]=(0,f.eJ)(E()().add(1,"day").toDate()),[Jt,Ct]=(0,f.eJ)(""),{getConfigFor:Le}=(0,I.xR)(),He={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Qe],it=Ce?"Send":"Publish",Ne=Je&&je?E()(je).max(se).fromNow():"",ze=`${it} cross-post ${Ce?He:""} ${Ne}`,lt=le==null?void 0:le.find(Q=>Q.id===Ve),et=(0,x.pm)();(0,f.d4)(()=>{oe&&!le&&_e&&(()=>ne(void 0,null,function*(){var ce;try{const Pe=yield c().get("/api/v1/restack/restackable-pubs"),Me=((ce=Pe==null?void 0:Pe.body)==null?void 0:ce.publications)||[];Ee(Me),de(!1),Me.length>0&&(Ge(Me[0].id),bt("everyone"))}catch(Pe){console.error("Failed to load user profile for restacking: ",Pe)}}))()},[oe,ae,_e,de,le,Ee]),(0,f.d4)(()=>{oe&&le&&le.length===0&&!_e&&(0,_.redirect)((0,p.getStartPublishingUrl)())},[oe,le,_e]);const Ae=(Q,ce)=>{G(!oe,ce),ke(F.PREAMBLE),Ct(null),de(!1),ce&&(pe(""),(0,S.j)(S.FP.RESTACK_POST_SUBMITTED,{restacked_publication_id:ye.id,restacked_post_id:fe.id,restacking_user_id:ae.id,restacking_publication_id:lt.id,restacking_blurb:ve}),et.popToast(Pe=>(0,o.h)(x.FN,q({text:Je?`This post is scheduled to cross-post ${Ne}`:"This post was cross-posted to your subscribers"},Pe)))),(0,S.j)(S.FP.CROSS_POST_MODAL_CLOSED,{didRestack:ce})},H=()=>ne(void 0,null,function*(){(0,S.j)(S.FP.CROSS_POST_MODAL_SUBMIT_CLICKED),de(!0);try{if(Je){const Q=E()(je).max(se).toDate();yield c().post(`/api/v1/restack/${fe.id}/schedule`).send({audience:Qe,restackingPubId:lt.id,introText:ve,sendEmail:Ce,publishToWeb:xe,scheduledAt:Q})}else yield c().post(`/api/v1/restack/${fe.id}`).send({audience:Qe,restackingPubId:lt.id,introText:ve,sendEmail:Ce,publishToWeb:xe});(0,S.j)(S.FP.CROSS_POST_MODAL_SUBMITTED),Ae({},!0);return}catch(Q){if((0,S.j)(S.FP.CROSS_POST_MODAL_SUBMIT_FAILED),Q instanceof TypeError)throw Ct("An unknown error ocurred. This post was not recommended."),de(!1),Q;Ct((0,_.getNetworkErrorMessage)(Q,"This post could not be recommended.")),de(!1)}});return(0,o.h)(w.u_,{isOpen:oe,onClose:Ae},(0,o.h)(w.xB,{includeClose:!0,onClose:Ae,title:"Cross-post to your Substack"}),(0,o.h)("div",{"data-testid":"modal-ref-id",className:A.modalWrap},Re===F.PREAMBLE?(0,o.h)(s.tu,{gap:24,paddingTop:12},(0,o.h)(s.tu,{gap:16},(0,o.h)("textarea",q({className:A.textarea,placeholder:"Say why this post is worth reading...",onChange:Q=>{me||(Ie(!0),(0,S.j)(S.FP.CROSS_POST_MODAL_TYPING_STARTED)),pe(Q.target.value)},value:ve,maxLength:"800"},C.J)),(0,o.h)(s.tu,{gap:12,className:A.postPreview,paddingX:16,paddingY:16},(0,o.h)(s.gq,{alignItems:"center",gap:8},(0,o.h)(N.Z,{pub:ye,size:24,logo_url:ye.logo_url,linkify:!1,className:A.pubIcon,noMargin:!0}),(0,o.h)(P.xv.B4,{color:"primary",weight:"semibold",size:14},ye.name)),(0,o.h)(s.tu,{gap:4},(0,o.h)(P.xv.H4,{weight:"semibold"},fe.title),(0,o.h)(P.xv.B3,{color:"secondary"},(0,T.formatEllipsis)(((fe.truncated_body_text||"").replace(g.Substitutions.PUBLICATION_NAME,ye.name)||fe.subtitle||"").substring(0,100)))))),Jt&&(0,o.h)(P.xv.B4,{color:"accent-red"},Jt),(0,o.h)(d.zx,{priority:"primary-theme",onClick:()=>{if((0,S.j)(S.FP.CROSS_POST_MODAL_CONTINUE_CLICKED),!ve){Ct("Please write something to your subscribers to continue"),(0,S.j)(S.FP.CROSS_POST_MODAL_CONTINUE_FAILED);return}Ct(""),ke(F.AUDIENCE_SELECTION),(0,S.j)(S.FP.CROSS_POST_MODAL_CONTINUED)},disabled:_e||!ve,className:"restack-modal-button "},"Continue")):(0,o.h)(s.tu,{gap:24,paddingTop:12},(0,o.h)(s.tu,{gap:20},(0,o.h)(s.tu,{gap:8},(0,o.h)(P.xv.B3,null,"Post to"),(0,o.h)(M.P,{value:lt.id,onChange:Q=>{bt("everyone"),Ge(Number(Q))},className:A.select},le.map(Q=>(0,o.h)("option",{value:Q.id},Q.name)))),(0,o.h)(s.tu,{gap:8},(0,o.h)(P.xv.B3,null,"Send to"),(0,o.h)(M.P,{value:Qe,onChange:Q=>bt(Q),className:A.select},((lt==null?void 0:lt.payments_state)==="enabled"?(0,y.getAudiencesForPublicListing)():["everyone"]).map(Q=>(0,o.h)("option",{value:Q},W[Q]))))),(0,o.h)(s.tu,{gap:12},(0,o.h)(P.xv.B3,null,"Delivery"),(0,o.h)(O.ji,{value:Ce,label:"Send cross-post via email",onChange:Q=>We(Q)}),(0,o.h)(O.ji,{value:xe,label:"Publish cross-post to web",onChange:Q=>rt(Q)}),(0,o.h)(O.ji,{value:Je,label:"Schedule time to publish cross-post",onChange:Q=>ft(Q),contentBelow:(0,o.h)(O.HZ,{expanded:Je},(0,o.h)(s.tu,{paddingTop:8},(0,o.h)(O.Tz,{value:je!=null?je:new Date,max:E()().add(92,"days").toDate(),onChange:Q=>{Rt(new Date(Q.currentTarget.value))}})))})),Jt&&(0,o.h)(P.xv.B4,{color:"accent-red"},Jt),(0,o.h)(d.zx,{priority:!Ce&&!xe?"secondary":"primary-theme",onClick:H,disabled:_e||!Ce&&!xe,className:"restack-modal-button "},ze))))}},69427:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>pe});var o=e(6400),f=e(98661),u=e(91004),c=e(15045),g=e(28488),v=e(3258),E=e(58884),y=e(39419),p=e.n(y),T=e(51126),O=e(76235),I=e(43887),S=e(7922),_=e(46595),d=e(51889),s=e(54813),w=e(64484),P=e(73416),x=e(21302),M=e(65665),N=e(7775),C=e(74957),A=e(41874),k=e(95950),L=e(96789),K=e(79786),Z=e(38441),J=Object.defineProperty,q=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,W=Object.getPrototypeOf,ie=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,ye=Reflect.get,fe=(Ie,_e,de)=>_e in Ie?J(Ie,_e,{enumerable:!0,configurable:!0,writable:!0,value:de}):Ie[_e]=de,ae=(Ie,_e)=>{for(var de in _e||(_e={}))ie.call(_e,de)&&fe(Ie,de,_e[de]);if(F)for(var de of F(_e))he.call(_e,de)&&fe(Ie,de,_e[de]);return Ie},oe=(Ie,_e)=>q(Ie,ne(_e)),G=(Ie,_e,de)=>(fe(Ie,typeof _e!="symbol"?_e+"":_e,de),de),re=(Ie,_e,de)=>ye(W(Ie),de,_e),se=(Ie,_e,de)=>new Promise((Re,ke)=>{var Ve=bt=>{try{Qe(de.next(bt))}catch(Ce){ke(Ce)}},Ge=bt=>{try{Qe(de.throw(bt))}catch(Ce){ke(Ce)}},Qe=bt=>bt.done?Re(bt.value):Promise.resolve(bt.value).then(Ve,Ge);Qe((de=de.apply(Ie,_e)).next())});const le=(0,f.forwardRef)((Ie,_e)=>(0,o.h)(S.Z,oe(ae({},Ie),{className:"share-action",forwardedRef:_e}),(0,o.h)("div",{className:"action-icon"},(0,o.h)(_.Z,null)),(0,o.h)(I.xv.B4,{translated:!0,color:"secondary"},"Other"))),Ee=({pub:Ie,post:_e,profile:de})=>{let Re=typeof document!="undefined"?document.title:"",ke="",Ve="";const Ge=(0,c.getBaseUrl)(Ie).replace(/^https?:\/\//,"").replace(/\/$/);return _e?(Re=_e.title||_e.draft_title,ke=Ge,Ve=_e.cover_image||null):Ie?(Re=Ie.name,ke=Ge,Ve=Ie.logo_url):de&&(Re=de.name,ke=de.bio,Ve=(0,c.getUserPhotoUrl)(de)),(0,o.h)(T.gq,{className:`social-preview-box ${_e?"post":Ie?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,o.h)("div",{className:"social-image-box"},(_e||Ie)&&Ve&&(0,o.h)(K.e,{className:"social-image",src:Ve,alt:"",maxWidth:120,loading:"lazy"}),!_e&&!Ie&&Ve&&(0,o.h)(Z.cy,{className:"social-image",imageUrl:Ve,size:52}),!Ve&&(0,o.h)(s.Z,{className:"social-image-default"})),(0,o.h)(T.tu,{paddingLeft:12,paddingY:8},(0,o.h)(I.xv.H4,null,Re),(0,o.h)(I.xv.B4,{color:"secondary"},ke)))},ve=class extends L.p{constructor(Ie,_e){super(Ie,_e),this.noFullscreen=!0}open(){return se(this,null,function*(){const Ie="direct",_e={title:(0,u.B8)(ae({},this.props)),url:(0,u.O1)(Ie,ae({medium:this.state.medium},this.props))};if((0,y.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(_e))try{yield navigator.share(_e),(0,v.j)(v.FP.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"}),(0,E.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(de){if(de.name==="AbortError")return;(0,v.j)(v.FP.NATIVE_SHARE_FAILED,{errorName:de.name,errorMessage:de.message})}re(ve.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){(0,v.j)(v.FP.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:Ie,pub:_e,profile:de}){const Re=Ie?"post":_e?"publication":de?"profile":null,ke=Re?this.context.iTemplate`Share this ${Re}`:this.context.iString("Share");return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"share-dialog-title"},ke),(0,o.h)(T.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(Ie||_e||de)&&(0,o.h)(Ee,{post:Ie,pub:_e,profile:de}),(0,o.h)(me,oe(ae({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,u.B8)(ae({},this.props)),shareUrl:(0,u.O1)(null,ae({medium:this.state.medium},this.props))}))))}};let pe=ve;G(pe,"contextType",g.wj);class me extends o.Component{maybeOnChange(){const{onChange:_e}=this.props;_e&&_e()}render({}){return(0,o.h)(T.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,o.h)(S.Z,{onClick:()=>{(0,u.Ui)(ae({},this.props)),this.maybeOnChange()},className:"share-action"},(0,o.h)("div",{className:"action-icon"},(0,o.h)(N.Z,null)),(0,o.h)(I.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,o.h)(S.Z,{className:"share-action",onClick:()=>{(0,u.Po)(ae({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(A.Z,null)),(0,o.h)(I.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,o.h)(S.Z,{className:"share-action",onClick:()=>{(0,u.WZ)(ae({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(C.Z,null)),(0,o.h)(I.xv.B4,{translated:!0,color:"secondary"},"Email")),(0,o.h)(S.Z,{className:"share-action",onClick:()=>{(0,u.BZ)(ae({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(P.Z,null)),(0,o.h)(I.xv.B4,{color:"secondary"},"Notes")),(0,o.h)(O.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,o.h)(le,null),onOpen:()=>{(0,v.j)(v.FP.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}},(0,o.h)(O.sN,{onClick:()=>{(0,u.lc)(ae({},this.props)),this.maybeOnChange()},icon:(0,o.h)(w.Z,null)},"Linkedin"),(0,o.h)(O.sN,{onClick:()=>{(0,u.sn)(ae({},this.props)),this.maybeOnChange()},icon:(0,o.h)(M.Z,null)},"Reddit"),(0,o.h)(O.sN,{onClick:()=>{(0,u.b6)(ae({},this.props)),this.maybeOnChange()},icon:(0,o.h)(d.Z,null)},"Hacker News"),(0,o.h)(O.sN,{onClick:()=>{(0,u.Vn)(ae({},this.props)),this.maybeOnChange()},icon:(0,o.h)(x.Z,null)},"Pinterest"),(0,o.h)(O.sN,{onClick:()=>{(0,u.Wn)(ae({},this.props)),this.maybeOnChange()},icon:(0,o.h)(k.Z,null)},"Twitter")))}}},61152:(z,l,e)=>{"use strict";e.d(l,{J:()=>S,Z:()=>_});var o=e(6400),f=e(83322),u=e(39419),c=e.n(u),g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?g(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,T=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},O=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w},I=(d,s,w)=>(p(d,typeof s!="symbol"?s+"":s,w),w);const S={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class _ extends o.Component{constructor(){super(...arguments),I(this,"onWindowResize",s=>{this.setAutoHeight()}),I(this,"onKeyDown",s=>(this.props.inline&&s.key==="Enter"&&s.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(s))),I(this,"onInput",s=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(s))),I(this,"onBlur",()=>{var s;if(this.props.inline){const w=(s=this.base)==null?void 0:s.value,P=(0,f.sanitizeInlineText)(w);w&&w!==P&&(this.base.value=P,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(s,w,P){s.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,u.stateTransaction)(this,s=>{this.base.style.height="";const w=window.getComputedStyle(this.base),P=parseInt(w.getPropertyValue("height")),x=parseInt(w.getPropertyValue("padding-top"))+parseInt(w.getPropertyValue("padding-bottom")),M=parseInt(w.getPropertyValue("line-height")),N=Math.min(Math.round((this.base.scrollHeight-x)/M),this.props.maxLines||1/0);this.base.style.height=`${Math.max(N*M+x,P)}px`,this.base.style.height!==s.height&&this.setState({height:this.base.style.height})}))}render(s,{height:w}){var P=s,{children:x,ref:M,style:N,onKeyDown:C,onInput:A,inline:k,autoHeight:L,maxLines:K}=P,Z=O(P,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return L&&(N=Object.assign({},N,{height:w})),(0,o.h)("textarea",T(T({style:N,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},S),Z),x)}}},4605:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>d,g1:()=>I});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),g=e(85928),v=e.n(g),E=e(83322),y=e(3258),p=e(66141);const T=(s,{timeout:w=5e3,className:P="",dismissable:x=!1,beforeDismiss:M=null}={},N=document.body)=>{const C=document.createElement("div");C.setAttribute("id","toast"),C.setAttribute("role","alert"),P&&C.classList.add(P),N.appendChild(C);const A=()=>{M&&M(),C.classList.remove("in"),setTimeout(()=>{C.remove()},500)};(0,o.render)([(0,o.h)("p",null,s),x&&(0,o.h)("a",{className:"dismiss",onClick:A},"Dismiss")],C),setTimeout(()=>{C.classList.add("in")}),!x&&setTimeout(A,w)},O=({children:s,className:w,dismissKey:P,dismissDurationInSeconds:x,beforeDismiss:M,container:N})=>{const[C,A]=(0,p.Z)(P,x,M);if(!C)return T(s,{className:w,beforeDismiss:A,dismissable:!0},N)},I=({user:s,pub:w,container:P})=>{if(!(!s||!w||!s.is_subscribed))return(0,o.h)(_,{pub:w,container:P})},S=s=>{if(s&&s.cardExpiresAt){const w=v()(s.expiry).subtract(E.GRACE_PERIOD_DAYS,"day"),P=v()(s.cardExpiresAt),x=v()().add(12,"day");return P.isBefore(w)&&w.isBefore(x)}return!1},_=({pub:s,container:w})=>{const[P,x]=(0,f.eJ)(null);if((0,f.d4)(()=>{c().get("/api/v1/subscription").then(M=>x(M.body)).catch(M=>{console.error("Failed to fetch subscription data: ",M)})},[]),S(P))return(0,o.h)(O,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*E.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,y.j)(y.FP.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:w},"Your credit card is expiring soon."," ",(0,o.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,y.j)(y.FP.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${s.name}`,".")},d=T},38441:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>k,cy:()=>ne,m1:()=>L});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(15045),v=e(3258),E=e(11688),y=e(32127),p=e(1782),T=e(36377),O=e(89867),I=e(95847),S=e(79786),_=e(35570),d=e(84017),s=Object.defineProperty,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,M=(F,W,ie)=>W in F?s(F,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):F[W]=ie,N=(F,W)=>{for(var ie in W||(W={}))P.call(W,ie)&&M(F,ie,W[ie]);if(w)for(var ie of w(W))x.call(W,ie)&&M(F,ie,W[ie]);return F},C=(F,W,ie)=>(M(F,typeof W!="symbol"?W+"":W,ie),ie);const A=33;class k extends o.Component{constructor(){super(...arguments),C(this,"onClick",W=>{if(this.props.onClick)this.props.onClick(W);else if(this.props.modalProfile)W.preventDefault(),W.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,v.j)(v.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(W){return W?W.author_id?{id:W.author_id,name:W.author_name,photo_url:(0,g.getUserPhotoUrl)(W,{preferAuthorPhoto:!0}),publications:W.subdomain?[W]:[]}:W.user_id?{id:W.user_id,name:W.name,photo_url:(0,g.getUserPhotoUrl)(W),publications:[]}:{id:W.id,name:W.name,photo_url:(0,g.getUserPhotoUrl)(W),publications:[]}:{id:null,name:null,photo_url:g.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(W){return!!k.getSubject(W).photo_url}isSelf(){return this.props.user&&this.props.user.id===k.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?(0,g.getProfileUrl)(k.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,g.getReaderProfileUrl)(k.getSubject(this.props.subject))}onBeforeProfileClose(W){if(W)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:W,pub:ie,user:he,badge:ye,freeSignup:fe,freeSignupEmail:ae,token:oe,isStatic:G,size:re,modalProfile:se,isBanned:le,lazy:Ee,tooltip:ve,noLink:pe,className:me}){re=re||A;const Ie=k.getSubject(W);return(0,o.h)("div",{className:c()("user-head",{banned:le},me)},pe?(0,o.h)(L,{photo_url:Ie.photo_url,size:re,isStatic:G,isBanned:le,lazy:Ee,badge:ye,tooltip:ve,className:"default-pointer"}):(0,o.h)("a",{href:G||!se?this.profileUrl():null,onClick:this.onClick},(0,o.h)(L,{photo_url:Ie.photo_url,size:re,isStatic:G,isBanned:le,lazy:Ee,badge:ye,tooltip:ve})),this.props.modalProfile&&!G&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,o.h)(I.EB,{ref:_e=>this.profile=_e,user:he,freeSignup:fe,freeSignupEmail:ae,needsPhoto:!0,token:oe,onBeforeClose:_e=>this.onBeforeProfileClose(_e)}):(0,o.h)(d.FI,{ref:_e=>this.profile=_e,profileUser:Ie,pub:ie,isBanned:le})))}}const L=({photo_url:F,size:W,isStatic:ie,isBanned:he,lazy:ye,badge:fe,tooltip:ae,style:oe,expandable:G,children:re,className:se})=>{const[le,Ee]=(0,f.eJ)(!1),ve=!F&&!!re,pe={founding:(0,o.h)(T.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:ae}),author:(0,o.h)(y.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:ae})}[fe];return(0,o.h)("div",{onClick:()=>{G&&Ee(!0)},className:c()("profile-img-wrap",se)},ve?re:ye?(0,o.h)(Z,N({},{photo_url:F,size:W,isStatic:ie,badge:fe,style:oe})):(0,o.h)(J,N({},{photo_url:F,size:W,isStatic:ie,badge:fe,style:oe})),pe&&(0,o.h)("div",{className:"profile-img-badge",title:ae},pe),he&&(0,o.h)(p.Z,null),(0,o.h)(E.cr,{module:"./ImageViewerModal",resolve:me=>me.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:le,modalContent:[{src:ve?re:F,attrs:{src:ve?re:F}}],onClose:()=>{Ee(!1)},step:0,includeDownloadButton:!1}))},K=(F,W)=>(0,g.imginary)(F,W*2,{height:W*2,crop:"fill"}),Z=({photo_url:F,size:W,isStatic:ie,badge:he,style:ye})=>{const[fe,ae]=(0,_.Z)({}),oe=!ae||ae.isIntersecting?F:g.DEFAULT_PHOTO_URL;return(0,o.h)(q,{url:K(oe,W),size:W,ref:fe,badge:he,isStatic:ie,style:ye})},J=({photo_url:F,size:W,isStatic:ie,badge:he,style:ye})=>(0,o.h)(q,{url:K(F,W),size:W,badge:he,isStatic:ie,style:ye}),q=({url:F,size:W,isStatic:ie,ref:he,badge:ye,className:fe})=>ie?(0,o.h)(O.Z,{className:fe,src:(0,g.imginary)(F,W*2,{height:W*2,crop:"fill"}),ref:he,height:W,width:W,alt:ye||""}):(0,o.h)(S.e,{className:fe,src:F,imageProps:{height:W*2,crop:"fill"},maxWidth:W*2,ref:he,alt:ye||""}),ne=({imageUrl:F,alt:W,size:ie,className:he})=>(0,o.h)(q,{className:`user-photo ${he||""}`,url:F,badge:W,size:ie})},84017:(z,l,e)=>{"use strict";e.d(l,{FI:()=>C,fi:()=>k});var o=e(6400),f=e(94184),u=e.n(f),c=e(80569),g=e.n(c),v=e(85928),E=e.n(v),y=e(15045),p=e(83322),T=e(1782),O=e(96789),I=Object.defineProperty,S=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(L,K,Z)=>K in L?I(L,K,{enumerable:!0,configurable:!0,writable:!0,value:Z}):L[K]=Z,w=(L,K)=>{for(var Z in K||(K={}))_.call(K,Z)&&s(L,Z,K[Z]);if(S)for(var Z of S(K))d.call(K,Z)&&s(L,Z,K[Z]);return L},P=(L,K)=>{var Z={};for(var J in L)_.call(L,J)&&K.indexOf(J)<0&&(Z[J]=L[J]);if(L!=null&&S)for(var J of S(L))K.indexOf(J)<0&&d.call(L,J)&&(Z[J]=L[J]);return Z},x=(L,K,Z)=>new Promise((J,q)=>{var ne=ie=>{try{W(Z.next(ie))}catch(he){q(he)}},F=ie=>{try{W(Z.throw(ie))}catch(he){q(he)}},W=ie=>ie.done?J(ie.value):Promise.resolve(ie.value).then(ne,F);W((Z=Z.apply(L,K)).next())});const M=92;class N extends o.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(K){!this.props.manualLoad&&K.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return x(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const K=yield g().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:K.body})}catch(K){console.error("Failed to load profile:",K)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:K}){var Z;const J=((Z=this.getProfileUser().publications)==null?void 0:Z.filter(q=>q.id!==K.id))||[];return(0,o.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,o.h)(k,{photo_url:(0,y.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:K}),(0,o.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,o.h)("div",{className:"user-profile-status"},this.getProfileUser().id===K.author_id?(0,o.h)("b",null,"Author of ",K.name):this.getProfileUser().subscribed_at?`Subscriber to ${K.name} since ${E()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),J.length>0&&(0,o.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,p.oxfordComma)(J.map(q=>(0,o.h)("a",{href:q.base_url,native:!0},q.name)))),this.props.isBanned&&(0,o.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",K.name))}}class C extends O.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const K=this.props,{ref:Z}=K,J=P(K,["ref"]);return(0,o.h)("div",{className:"user-profile-modal"},(0,o.h)(N,w({ref:q=>this.profile=q,manualLoad:!0},J)))}}const A=({children:L,email:K,pub:Z})=>(0,o.h)("a",{target:"_blank",href:(0,y.getSubscriberDetailsUrl)(Z,K)},L),k=({photo_url:L,size:K=M,banned:Z=!1,email:J="",className:q="",pub:ne=null,children:F=void 0})=>{const W=(0,o.h)("img",{className:"user-profile-head",height:K,width:K,src:(0,y.imginary)(L,K*2,{height:K*2,crop:"fill"})});return(0,o.h)("div",{className:u()(q,"profile-image-wrapper")},J&&ne?(0,o.h)(A,{email:J,pub:ne},W):W,Z&&(0,o.h)(T.Z,{height:K}),F)}},56617:(z,l,e)=>{"use strict";e.d(l,{Z:()=>T});var o=e(6400),f=e(94184),u=e.n(f),c=e(39419),g=e.n(c),v=Object.defineProperty,E=(O,I,S)=>I in O?v(O,I,{enumerable:!0,configurable:!0,writable:!0,value:S}):O[I]=S,y=(O,I,S)=>(E(O,typeof I!="symbol"?I+"":I,S),S),p=(O,I,S)=>new Promise((_,d)=>{var s=x=>{try{P(S.next(x))}catch(M){d(M)}},w=x=>{try{P(S.throw(x))}catch(M){d(M)}},P=x=>x.done?_(x.value):Promise.resolve(x.value).then(s,w);P((S=S.apply(O,I)).next())});class T extends o.Component{constructor(){super(...arguments),y(this,"checkVisibility",()=>{if(!this.ref)return;const I=this.ref.getBoundingClientRect(),S=this.props.threshold||0,_=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),d=!(I.bottom<0-S||I.top>=_+S);(0,c.stateTransaction)(this,(s,w)=>p(this,null,function*(){if(s.isVisible!==d)this.setState({isVisible:d});else if(!w.noDedupe)return;const x=d?"hadFirstVisible":"hadFirstInvisible",M=!s[x];M&&this.setState({[x]:!0}),(yield Promise.all([d&&w.onVisible&&w.onVisible(),d&&w.onFirstVisible&&M&&w.onFirstVisible(),!d&&w.onInvisible&&w.onInvisible(),!d&&w.onFirstInvisible&&M&&w.onFirstInvisible()])).reduce((C,A)=>A===!0||C)&&this.checkVisibility()}))})}componentDidMount(){return p(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(I=>setTimeout(I,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:I,children:S}){return(0,o.h)("div",{ref:_=>this.ref=_,className:u()("visibility-check",I)},S)}}},1824:(z,l,e)=>{"use strict";e.d(l,{Z:()=>d,a:()=>w});var o=e(98661),f=e(6400),u=e(36808),c=e.n(u),g=e(8111),v=e(15045),E=e(3258),y=e(39419),p=e.n(y),T=e(37888),O=e(33291);e(14369);const I="entry",S="ajs_anonymous_id";let _;function d(A){var k,L,K,Z,J;if(_)throw new Error("Cannot re-render the things");_=A,window._preloads&&(window._preloads.original_url=window.location.href),(0,E.uF)(),(0,T.j0)((L=(k=window._preloads)==null?void 0:k.user)==null?void 0:L.id),N(),P(),x(),(K=window._preloads)!=null&&K.language&&window._preloads.language!=="en"&&window.fetch&&((J=(Z=window._preloads)==null?void 0:Z.siteConfigs)!=null&&J.internationalization_enabled)?s(M,window._preloads.language):M(),C()}function s(A,k){fetch(`/api/v1/i18n/translations?language=${k}`,{method:"GET"}).then(L=>L.json()).then(L=>{g.mb.l(k,L)}).finally(()=>{A()})}function w(A){let k=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const L in A)(typeof A[L]=="object"&&A[L]!==null||A[L]!==window._preloads[L])&&(window._preloads[L]=A[L],k=!0);k&&M()}function P(){const A=(0,v.parseQuery)(window.location.href);if(!A.token&&!A.lli||!window.history.replaceState)return;delete A.token,delete A.lli;const k=`${(0,v.pathWithQuery)(window.location.pathname,A)}${window.location.hash}`;window.history.replaceState({},document.title,k)}function x(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const A=window.history.pushState;history.pushState=function(k,L,K){var Z;const J=A.apply(history,arguments);return((Z=k==null?void 0:k.resetScroll)!=null?Z:!0)&&K.indexOf("#")===-1&&window.scrollTo(0,0),J}}function M(){if(!_)return;const A=document.getElementById(I);(0,f.render)((0,f.h)(_,{initialData:window._preloads}),A||document.body)}function N(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let A;try{A=JSON.parse(u.get(S))}catch(k){}A||(A=(0,y.uuidV4)(),u.set(S,JSON.stringify(A),{expires:365})),window._analyticsConfig.anonymousId=A}}function C(){var A;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(A=window._preloads.user)!=null&&A.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},8826:z=>{"use strict";z.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,o,f=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([o,f]),this}once(e,o){return this.on(e,o,!0)}off(e,o){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(f=>f[0]!==o))}emit(e,o){const f=this.callbacks[e];if(f){for(const[u,c]of f)if(c&&this.off(e,u),u(o)===!1)return!1;return!0}}}},63503:(z,l,e)=>{"use strict";e.d(l,{Z:()=>u});var o=e(30396);const u=(c,g)=>{const v=(0,o.sO)();(0,o.d4)(()=>{v.current=c},[c]),(0,o.d4)(()=>{function E(){v.current()}if(g!==null){const y=setInterval(E,g);return()=>clearInterval(y)}},[g])}},89018:z=>{"use strict";z.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},72496:(z,l,e)=>{"use strict";e.d(l,{UE:()=>p,ip:()=>y,xU:()=>T,xY:()=>E});var o=e(79546),f=e.n(o);const u="substack_ref_url",c="substack_ref";let g,v;typeof window!="undefined"&&window.location&&window.location.href&&(g=window.location.href,v=document.referrer,f().get(u)||(f().set(u,g),f().set(c,v)));const E=f().get(u),y=f().get(c),p=g,T=v},58884:(z,l,e)=>{"use strict";var o;const f=e(79546);l.mM=(u,c=null)=>typeof window!="undefined"?f.get(u,c):c,l.ex=(u,c)=>{if(typeof window!="undefined")return f.set(u,c)},o=u=>{if(typeof window!="undefined")return f.remove(u)}},39419:function(z,l,e){"use strict";var o=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(G,re,se)=>re in G?o(G,re,{enumerable:!0,configurable:!0,writable:!0,value:se}):G[re]=se,y=(G,re)=>{for(var se in re||(re={}))g.call(re,se)&&E(G,se,re[se]);if(c)for(var se of c(re))v.call(re,se)&&E(G,se,re[se]);return G},p=(G,re)=>f(G,u(re)),T=(G,re,se)=>new Promise((le,Ee)=>{var ve=Ie=>{try{me(se.next(Ie))}catch(_e){Ee(_e)}},pe=Ie=>{try{me(se.throw(Ie))}catch(_e){Ee(_e)}},me=Ie=>Ie.done?le(Ie.value):Promise.resolve(Ie.value).then(ve,pe);me((se=se.apply(G,re)).next())});const{h:O,Fragment:I}=e(6400),{route:S}=e(20042),{getQueryItem:_,pathWithQuery:d,parseQuery:s,getGlobalAccountSettingsUrl:w,getPubAccountSettingsUrl:P,getCurrentUrlForLoginRedirect:x}=e(15045),{centsToPriceString:M,toTitleCase:N,pluralize:C,isZeroDecimalCurrency:A}=e(83322),k=e(8826),{isMobileUserAgent:L,getIosVersion:K}=e(76193),{validatePledgePrices:Z}=e(48971),J=e(27484),{Metadata:q}=e(35442),{getPodcastEpisodeImageUrl:ne}=e(63030);l.getPodcastEpisodeImageUrl=ne;const F=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let W=typeof window=="undefined"||!window.addEventListener;W||window.addEventListener("load",()=>{W=!0},!1),typeof window!="undefined"&&window._preloads,l.globalPlaybackNotifier=typeof window!="undefined"?new k:null,l.windowReady=G=>{W?G():window.addEventListener("load",G,!1)},l.debounce=function(G,re,se=this){let le=null;return function(){clearTimeout(le),le=setTimeout(()=>G.apply(se,arguments),re)}},l.couponToString=(G,re)=>{if(!G||G.loading||G.error)return;let se;return G.trial_period_days?se=`${G.trial_period_days} day free trial`:(G.percent_off?se=`${Math.round(G.percent_off_precise||G.percent_off)}% off`:G.amount_off&&(se=`${M(G.amount_off,re.currency)} off`),G.duration==="once"?re?se+=` first ${re.interval}`:se+=" first payment":G.duration==="repeating"?G.duration_in_months%12===0?se+=` for ${C(G.duration_in_months/12,"year")}`:se+=` for ${C(G.duration_in_months,"month")}`:se+=" forever"),se},l.preloadImage=function(G,re){const se=new Image;se.onload=()=>{se.onload=se.onerror=null,re&&re(se)},se.onerror=se.onload,se.src=G},l.getHostname=G=>{const re=document.createElement("a");return re.href=G,(re.hostname||"").replace(/\.localhost$/,"")},l.getPathname=G=>{const re=document.createElement("a");return re.href=G,re.pathname||""},l.getPath=G=>{const re=document.createElement("a");return re.href=G,(re.pathname||"")+(re.search||"")+(re.hash||"")},l.getNetworkErrorMessage=(G,re)=>{var se;return l.getNetworkErrorMessageFromResponse((G==null?void 0:G.body)||((se=G==null?void 0:G.response)==null?void 0:se.body),re)},l.getNetworkErrorBody=G=>{var re;const se=(G==null?void 0:G.body)||((re=G==null?void 0:G.response)==null?void 0:re.body);if(se&&se.error)return{msg:se.error};if(se&&se.errors&&se.errors.length>0)return{html:se.errors[se.errors.length-1].msgHTML,msg:se.errors[se.errors.length-1].msg}},l.getNetworkErrorMessageFromXhr=(G,re)=>{let se;try{se=JSON.parse(G&&G.responseText)}catch(le){}return l.getNetworkErrorMessageFromResponse(se,re)},l.getNetworkErrorMessageFromResponse=(G,re)=>(re=re||"Something went wrong",G&&G.error?G.error:G&&G.errors&&G.errors.length>0&&G.errors[G.errors.length-1].msg||re),l.inputPrefillHack=function(){return[O("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),O("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},l.isBrowser=function(){return typeof window!="undefined"},l.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const G=navigator.userAgent||navigator.vendor||window.opera;if(L(G,{checkFirst4:!0}))return!0}return!1},l.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),l.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),l.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),l.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),l.isIOs=()=>!!l.iosVersion(),l.isMac=(G=window.navigator)=>G?G.userAgentData&&G.userAgentData.platform?/macOS/.test(G.userAgentData.platform):/Mac/.test(G.platform):!1,l.isSafari=()=>{var G;return typeof window=="undefined"||!((G=window.navigator)!=null&&G.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},l.getModKeyLabel=(G=l.isMac())=>G?"\u2318":"^",l.iosVersion=()=>typeof window=="undefined"?null:K(),l.fixSmsUrl=G=>{const re=l.iosVersion();return re?re>=9?G.replace("?body=","&body="):G.replace("?body=",";body="):G};const ie=G=>((re,se)=>{let le;const Ee=()=>se.userAgent.match(/ipad|iphone/i),ve=_e=>{le=re.createElement("textArea"),le.value=_e,re.body.appendChild(le)},pe=()=>{let _e,de;Ee()?(_e=re.createRange(),_e.selectNodeContents(le),de=G.getSelection(),de.removeAllRanges(),de.addRange(_e),le.setSelectionRange(0,999999)):le.select()},me=()=>{re.execCommand("copy"),re.body.removeChild(le)};return{copy:_e=>{ve(_e),pe(),me()}}})(document,navigator);l.copyToClipboard=G=>{if(typeof window=="undefined")return;ie(window).copy(G);const re=se=>{se&&se.clipboardData?(se.clipboardData.setData("text/plain",G),se.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",G)};l.iosVersion()||window.addEventListener("copy",re),setTimeout(()=>{try{const se=document.createElement("input");se.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(se),se.value=G,se.contentEditable=!0,se.readOnly=!1;const le=document.createRange();le.selectNodeContents(se);const Ee=window.getSelection();Ee.removeAllRanges(),Ee.addRange(le),se.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(se)}catch(se){}window.removeEventListener("copy",re)},0)},l.copyNodeToClipboard=G=>{try{l.selectNode(G),document.execCommand("copy")}catch(re){console.error("Failed to copy text:",re)}},l.selectNode=G=>{try{if(["INPUT","TEXTAREA"].includes(G.nodeName)&&G.select)G.select();else if(document.body.createTextRange){const re=document.body.createTextRange();re.moveToElementText(G),re.select()}else if(window.getSelection){const re=window.getSelection(),se=document.createRange();se.selectNodeContents(G),re.removeAllRanges(),re.addRange(se)}else console.warn("Could not select text in node: Unsupported browser")}catch(re){console.error("Failed to select node:",re)}},l.deselectNode=G=>{try{const re=window.getSelection?window.getSelection():document.selection;re&&re.anchorNode===G&&(re.empty?re.empty():re.removeAllRanges&&re.removeAllRanges())}catch(re){console.error("Failed to deselect node:",re)}},l.setMetaData=function(G){return O(q,y({},G))},l.getBodyOffset=(G,re)=>{const se=`offset${N(re)}`;let le=0;for(;G&&G!==document.body;)le+=G[se],G=G.offsetParent||G.parentNode;return le},l.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),l.scrollToHash=function(G){const re=l.getUrlHash();if(!re)return;const se=document.getElementById(re);se&&(typeof G!="number"&&(G=-122),document.documentElement.scrollTop=Math.max(0,l.getBodyOffset(se,"top")+G))},l.mightSupportApplePay=G=>!(!G||!G.stripe_country||G.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),l.addClass=(G,re)=>{G.className+=` ${re}`},l.removeClass=(G,re)=>{G.className=G.className.replace(new RegExp(`\\b${re}\\b`,"g"),"").trim()},l.hasClass=(G,re)=>new RegExp(`\\b${re}\\b`,"g").test(G.className),l.isFocused=(...G)=>l.isRootOrChild(document.activeElement,...G),l.isRootOrChild=(G,...re)=>{for(;G;){for(const se of re)if(typeof se=="function"?se(G):G===se)return!0;G=G.parentNode}return!1},l.getRootOrChild=(G,re,{maxDepth:se}={})=>{const le=[G];let Ee=0;for(;le.length>0;){Ee++;const ve=le.splice(0);for(const pe of ve)if(pe){if(re(pe))return pe;(!se||Ee<se)&&pe.children&&le.push(...pe.children)}}return null},l.getRootOrParent=(G,re)=>G?re(G)?G:l.getRootOrParent(G.parentNode,re):null,l.getVisibilityApi=()=>{let G,re;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(G="visibilitychange",re="hidden"):typeof document.msHidden!="undefined"?(G="msvisibilitychange",re="msHidden"):typeof document.webkitHidden!="undefined"&&(G="webkitvisibilitychange",re="webkitHidden")),{visibilityChange:G,hidden:re}},l.isWindowVisible=()=>{const{hidden:G}=l.getVisibilityApi();return G?!document[G]:!0},l.onWindowVisibilityChange=G=>{const{visibilityChange:re}=l.getVisibilityApi();re&&document.addEventListener(re,G,!1)},l.offWindowVisibilityChange=G=>{const{visibilityChange:re}=l.getVisibilityApi();re&&document.removeEventListener(re,G,!1)},l.disableBackspaceNavigation=()=>{document.addEventListener("keydown",he,!1)},l.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",he,!1)};function he(G){if(G.keyCode!==8)return;const re=G.srcElement||G.target;if(!re.readonly&&!re.disabled){if(re.isContentEditable)return;if(re.nodeName==="TEXTAREA")return;if(re.nodeName==="INPUT"&&F.indexOf((re.getAttribute("type")||"").toLowerCase())>-1)return}return G.preventDefault(),!1}l.getBlob=G=>new Promise((re,se)=>{const le=new XMLHttpRequest;le.open("GET",G,!0),le.responseType="blob",le.onerror=se,le.onload=Ee=>{le.status==200?re(le.response):se(new Error("Failed to fetch blob"))},le.send()}),l.getDataUrlFromFile=G=>new Promise((re,se)=>{if(!window.FileReader){se(new TypeError("File reader API not found"));return}const le=new FileReader;le.onerror=se,le.onload=()=>{re(le.result)},le.readAsDataURL(G)}),l.getExifOrientationFromFile=G=>new Promise((re,se)=>{if(!window.FileReader){se(new TypeError("File reader API not found"));return}if(!window.DataView){se(new TypeError("DataView API not found"));return}const le=new FileReader;le.onerror=se,le.onload=()=>{const Ee=new DataView(le.result);if(Ee.getUint16(0,!1)!=65496)return re(-2);const ve=Ee.byteLength;let pe=2;for(;pe<ve;){if(Ee.getUint16(pe+2,!1)<=8)return re(-1);const me=Ee.getUint16(pe,!1);if(pe+=2,me==65505){if(Ee.getUint32(pe+=2,!1)!=1165519206)return re(-1);const Ie=Ee.getUint16(pe+=6,!1)==18761;pe+=Ee.getUint32(pe+4,Ie);const _e=Ee.getUint16(pe,Ie);pe+=2;for(let de=0;de<_e;de++)if(Ee.getUint16(pe+de*12,Ie)==274)return re(Ee.getUint16(pe+de*12+8,Ie))}else{if((me&65280)!=65280)break;pe+=Ee.getUint16(pe,!1)}}re(-1)},le.readAsArrayBuffer(G)}),l.getImageDataFromFileInput=G=>T(this,null,function*(){let re,se;const le=G!=null&&G.files?G.files[0]:null;if(G.value="",le){try{re=yield l.getDataUrlFromFile(le)}catch(Ee){console.error("Failed to get data URL from file:",Ee),alert(Ee.message);return}try{se=yield l.getExifOrientationFromFile(le)}catch(Ee){console.error("Failed to extract EXIF data from file:",Ee)}}return{url:re,orientation:se}}),l.transformExifOrientation=G=>{switch(G){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},l.canScroll=()=>l.maxScroll()>0,l.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,l.getLoginRedirect=({redirect:G,email:re,justTrying:se,with_password:le=!1,useOriginalUrl:Ee=!1}={})=>(typeof G!="string"&&(G=x({useOriginalUrl:Ee})),d("/account/login",{redirect:G||"",email:re||"",with_password:le?"1":"",justTrying:se||""})),l.redirectToLogin=(G={})=>{document.location.href=l.getLoginRedirect(G)},l.redirectToAccount=G=>{window.location.assign(P(G))},l.redirectToAccountSettings=()=>{document.location.href=w()},l.base64encode=G=>{const re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let se="",le,Ee,ve,pe,me,Ie,_e,de=0;for(G=l.utf8Encode(G);de<G.length;)le=G.charCodeAt(de++),Ee=G.charCodeAt(de++),ve=G.charCodeAt(de++),pe=le>>2,me=(le&3)<<4|Ee>>4,Ie=(Ee&15)<<2|ve>>6,_e=ve&63,isNaN(Ee)?Ie=_e=64:isNaN(ve)&&(_e=64),se=se+re.charAt(pe)+re.charAt(me)+re.charAt(Ie)+re.charAt(_e);return se},l.utf8Encode=G=>{let re="";for(let se=0;se<G.length;se++){const le=G.charCodeAt(se);le<128?re+=String.fromCharCode(le):le>127&&le<2048?(re+=String.fromCharCode(le>>6|192),re+=String.fromCharCode(le&63|128)):(re+=String.fromCharCode(le>>12|224),re+=String.fromCharCode(le>>6&63|128),re+=String.fromCharCode(le&63|128))}return re},l.redirectNoScroll=G=>{const re=[window.scrollX,window.scrollY];l.redirect(G),window.scrollTo(...re)},l.redirect=(G,{event:re=null,local_navigation:se=!0,replace:le=!1,newTab:Ee=!1}={})=>{var ve;if(re&&re.preventDefault(),!G.trim().startsWith("javascript:")){if(G.startsWith("#")&&se){window.location.hash!==G&&(le&&((ve=window.history)!=null&&ve.replaceState)?window.history.replaceState(null,null,G):window.location.hash=G),l.scrollToHash();return}if(se&&l.getHostname(G)&&l.getHostname(G)!==l.getHostname(window.location.href)&&(se=!1),Ee||re&&(re.metaKey||re.ctrlKey)){window.open(G,"_blank");return}if(se&&S(l.getPath(G),le)){setTimeout(()=>l.scrollToHash(),0);return}window.location.href=G}},l.setState=(G,re)=>new Promise(se=>{G.setState(re,se)}),l.stateTransaction=(G,re)=>new Promise((se,le)=>{G.setState((...Ee)=>T(this,null,function*(){try{se(yield re.apply(G,Ee))}catch(ve){le(ve)}}))}),l.stateLock=(G,re,se,...le)=>T(this,[G,re,se,...le],function*(Ee,ve,pe,{force:me}={}){return typeof ve=="function"&&(pe=ve,ve="lock"),yield l.stateTransaction(Ee,(Ie,..._e)=>T(this,null,function*(){if(Ie[ve]&&!me)return;yield l.setState(Ee,{[ve]:!0});const de=yield pe.call(Ee,Ie,..._e);return yield l.setState(Ee,{[ve]:!1}),de}))}),l.getsMessageQuery=G=>re=>{const se=s(document.location.href),le=_("message");if(le){delete se.message;const Ee=`${d(document.location.pathname,se)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,Ee)}return O(G,y({message:le},re))},l.uuidV4=()=>{const G=window.crypto||window.msCrypto;if(typeof(G==null?void 0:G.randomUUID)=="function")return G.randomUUID();if(G)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,re=>(re^G.getRandomValues(new Uint8Array(1))[0]&15>>re/4).toString(16));{let re=new Date().getTime(),se=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(le){let Ee=Math.random()*16;return re>0?(Ee=(re+Ee)%16|0,re=Math.floor(re/16)):(Ee=(se+Ee)%16|0,se=Math.floor(se/16)),(le==="x"?Ee:Ee&3|8).toString(16)})}},l.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,l.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",l.focusElement=G=>{G.focus&&G.focus(),G.select&&G.select()},l.getRoleOrOwner=(G,re)=>G?G.user_id===re.author_id?"owner":G.role:"byline",l.hexWithOpacity=(G,re)=>{if(!G)return G;G=G.replace("#","");const se=parseInt(G.substring(0,2),16),le=parseInt(G.substring(2,4),16),Ee=parseInt(G.substring(4,6),16);return`rgba(${se},${le},${Ee},${re/100})`},l.getSelectTheme=({primary:G,neutral0:re="#f8f8f8",neutral20:se="#d8d8d8",danger:le="var(--color-accent-red)",dangerLight:Ee="var(--color-bg-accent-red)"})=>ve=>p(y({},ve),{colors:p(y({},ve.colors),{primary:G,primary25:l.hexWithOpacity(G,25),primary50:l.hexWithOpacity(G,50),primary75:l.hexWithOpacity(G,75),neutral0:re,neutral20:se,danger:le,dangerLight:Ee})}),l.removeQueryParam=(G,{stripHash:re=!1}={})=>{var se;if(typeof window!="undefined"&&((se=window.history)!=null&&se.replaceState)){const le=s(window.location.href);if(!Array.isArray(G))delete le[G];else for(const ve of G)delete le[ve];const Ee=`${d(window.location.pathname,le)}${re?"":window.location.hash}`;window.history.replaceState({},document.title,Ee)}},l.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,l.goFullscreen=G=>typeof window=="undefined"?!1:G.requestFullScreen?(G.requestFullScreen(),!0):G.webkitRequestFullScreen?(G.webkitRequestFullScreen(),!0):G.mozRequestFullScreen?(G.mozRequestFullScreen(),!0):!1,l.exitFullscreen=()=>{if(!l.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},l.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),l.getVideoBlobDuration=(G,...re)=>T(this,[G,...re],function*(se,{timeout:le=5e3}={}){const Ee=document.createElement("video");Ee.volume=0;const ve=Promise.race([new Promise((pe,me)=>{Ee.onloadedmetadata=()=>{Ee.onloadedmetadata=null,Ee.duration===1/0?(Ee.currentTime=Number.MAX_SAFE_INTEGER,Ee.ontimeupdate=()=>{Ee.ontimeupdate=null,pe(Ee.duration),Ee.currentTime=0}):pe(Ee.duration)},Ee.onerror=Ie=>me(Ie.target.error)}),new Promise((pe,me)=>{setTimeout(()=>{me(new Error("Blob duration fetching timed out"))},le)})]);return Ee.src=typeof se=="string"||se instanceof String?se:window.URL.createObjectURL(se),ve}),l.downloadSrc=G=>{const re=document.createElement("a");document.body.appendChild(re),re.href=G,re.target="_blank",re.click(),document.body.removeChild(re)},l.getCurrencyFormattedPledgePlans=(G,{skipFoundingPlan:re=!1}={})=>{if(!(G!=null&&G.length))return[];const se=[];for(const le of G)re&&le.is_founding?se.push(y({},le)):le.amount?se.push(p(y({},le),{amount:le.amount})):se.push(y({},le));return se},l.validatePledgePlanValues=(G,re,se,le)=>{if(se<=re)return"Your founding price must be greater than your yearly price";const Ee=Z({value:G,interval:"month",is_founding:!1,currency:le});if(Ee)return Ee;const ve=Z({value:re,interval:"year",is_founding:!1,currency:le});if(ve)return ve;const pe=Z({value:se,interval:"year",is_founding:!0,currency:le});return pe||null},l.decimalToPercentString=G=>{let re=G;return typeof G=="string"&&(re=parseFloat(G)),`${Math.round(re*100)}%`};const ye=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),fe=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),ae=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),oe=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});l.formatPostDate=(G,{includeTime:re}={})=>{const se=J(G),le=J();return se.isBefore(le.startOf("year"))?ae.format(se.toDate())+(re?` at ${ye.format(se.toDate())}`:""):se.isBefore(le.startOf("day"))?fe.format(se.toDate())+(re?` at ${ye.format(se.toDate())}`:""):se.isAfter(le.endOf("year"))?oe.format(se.toDate())+(re?` at ${ye.format(se.toDate())}`:""):se.isAfter(le.endOf("day"))?fe.format(se.toDate())+(re?` at ${ye.format(se.toDate())}`:""):ye.format(se.toDate())},l.getBanMessage=G=>{const re=se=>`We've removed your publication from public view due a violation of Substack's ${se}. If you believe this was a mistake, you can submit an appeal to our Trust & Safety team`;switch(G){case"hate":return re("Hate policy");case"illegal":return re("Illegal & Harmful Activities policy");case"impersonation":return re("Impersonation policy");case"plagiarism":return re("Plagiarism policy");case"porn":return re("Nudity, Porn, & Erotica policy");case"private_information":return re("Private Information policy");case"spam":return re("Spam & Phishing policy");default:return re("Content Guidelines, Terms of Service, or Publisher Agreement")}}},702:(z,l,e)=>{"use strict";e.d(l,{Z:()=>x});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),g=e(80569),v=e.n(g),E=e(7922),y=e(1138),p=e(96789),T=e(61152),O=e(89018),I=e.n(O),S=e(39419),_=e.n(S),d=(M,N,C)=>new Promise((A,k)=>{var L=J=>{try{Z(C.next(J))}catch(q){k(q)}},K=J=>{try{Z(C.throw(J))}catch(q){k(q)}},Z=J=>J.done?A(J.value):Promise.resolve(J.value).then(L,K);Z((C=C.apply(M,N)).next())});const s=({className:M,pub:N,comment:C,onClose:A,onReportSuccess:k})=>{const L=(0,f.sO)(null),[K,Z]=(0,f.eJ)(!1),J={Report:0,Confirm:1},[q,ne]=(0,f.eJ)(J.Report),F=ie=>d(void 0,null,function*(){if(ie===""){alert("Please enter a reason!");return}Z(!0);try{yield v().post(`/api/v1/comment/${C.id}/report`).send({publication_id:N==null?void 0:N.id,reason:ie}),k(),ne(J.Confirm)}catch(he){alert((0,S.getNetworkErrorMessage)(he))}finally{Z(!1)}}),W=()=>{var ie;(ie=L==null?void 0:L.current)==null||ie.close()};return(0,f.d4)(()=>{var ie;(ie=L==null?void 0:L.current)==null||ie.open()},[]),(0,o.h)(p.p,{className:c()("report-comment-modal",M),ref:L,onClose:A},q===J.Report?(0,o.h)(w,{pub:N,reportComment:F,reporting:K,closeModal:W}):(0,o.h)(P,{pub:N,closeModal:W}))},w=({pub:M,reportComment:N,reporting:C,closeModal:A})=>{const[k,L]=(0,f.eJ)("");return(0,o.h)(o.Fragment,null,(0,o.h)("h4",null,"Report ",M?`to ${M.name} admins`:"note"),(0,o.h)("p",null,"Thanks for reporting this ",M?"comment":"note","."," ",M?(0,o.h)(o.Fragment,null,"Only the admins of ",(0,o.h)("span",{className:"weight"},M.name)," will see your name and the content of this report."):"Please help us understand the issue."),(0,o.h)(T.Z,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:k,onInput:K=>L(K.target.value)}),(0,o.h)("div",{className:"buttons"},(0,o.h)(E.Z,{className:"secondary",onClick:A},(0,o.h)("span",null,"Cancel")),(0,o.h)(E.Z,{className:"primary",onClick:()=>N(k),disabled:k===""||C},(0,o.h)("span",null,C?"Loading...":"Submit"))))},P=({pub:M,closeModal:N})=>(0,o.h)(o.Fragment,null,(0,o.h)(y.Z,{stroke:(M==null?void 0:M.theme_var_background_pop)||O.substack_color}),(0,o.h)("h4",null,"Thanks for your report"),M?(0,o.h)("p",null,"The admins of ",(0,o.h)("span",{className:"weight"},M.name)," will review this comment."):(0,o.h)("p",null,"We will review this note."),(0,o.h)("div",{className:"buttons"},(0,o.h)(E.Z,{className:"primary",onClick:N},(0,o.h)("span",null,"Done")))),x=s},37888:(z,l,e)=>{"use strict";e.d(l,{j0:()=>ye});var o=e(7436),f=e.n(o),u=e(62195),c=e.n(u),g=e(39627),v=e.n(g),E=e(8728),y=e.n(E),p=Object.defineProperty,T=Object.defineProperties,O=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(ae,oe,G)=>oe in ae?p(ae,oe,{enumerable:!0,configurable:!0,writable:!0,value:G}):ae[oe]=G,s=(ae,oe)=>{for(var G in oe||(oe={}))S.call(oe,G)&&d(ae,G,oe[G]);if(I)for(var G of I(oe))_.call(oe,G)&&d(ae,G,oe[G]);return ae},w=(ae,oe)=>T(ae,O(oe));const P=c().createStore([v(),y()],[]),x=".buffer",M="ss-version-backups-local",N=32,C=4,A=null,k=ae=>{var oe,G,re,se;return(G=(oe=window._preloads)==null?void 0:oe.pub)!=null&&G.id?(se=(re=window._preloads)==null?void 0:re.user)!=null&&se.id?K().filter(le=>!(le.publication_id!==window._preloads.pub.id||le.user_id&&le.user_id!==window._preloads.user.id||le.post_id!==ae||le.local_version_saved_at&&Date.now()-new Date(le.local_version_saved_at)>A)):[]:[]},L=ae=>{if(!(ae!=null&&ae.post_id)||!(ae!=null&&ae.draft_updated_at)||!(ae!=null&&ae.draft_body))return;const oe=K();if(oe.filter(se=>se.post_id===ae.post_id).length>=C){const se=findLastIndex(oe,le=>le.post_id===ae.post_id);se>=0&&oe.splice(se,1)}const re=[ae].concat(oe.filter(se=>se.post_id!==ae.post_id||se.draft_updated_at!==ae.draft_updated_at&&se.draft_body&&se.draft_body!==ae.draft_body)).slice(0,N);fe(M,re)},K=()=>P.get(M,[]).filter(Boolean),Z=()=>P.get(M+x,{}),J=ae=>{var oe,G;(oe=window._preloads.pub)!=null&&oe.id&&(G=window._preloads.user)!=null&&G.id&&ae!=null&&ae.post_id&&ae!=null&&ae.draft_updated_at&&ae!=null&&ae.draft_body&&fe(M+x,w(s({},ae),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},q=()=>{P.remove(M+x)},ne=ae=>{if(!(ae!=null&&ae.post_id)||!(ae!=null&&ae.draft_updated_at))return;const G=K().filter(re=>re.post_id!==ae.post_id||re.draft_updated_at!==ae.draft_updated_at);fe(M,G)},F=({postId:ae,editorId:oe})=>!!K().find(re=>re.post_id===ae&&re.editor_id&&re.editor_id!==oe),W=({postId:ae,editorId:oe})=>{const re=K().filter(se=>se.editor_id?se.post_id!==ae||se.editor_id!==oe:!1);fe(M,re)},ie=()=>{const ae=Z();ae!=null&&ae.draft_body&&(L(ae),q())},he=()=>{q(),P.remove(M)},ye=ae=>{(!ae||K().find(oe=>oe.user_id&&oe.user_id!==ae))&&he()},fe=(ae,oe)=>{try{if(P.set(ae,oe),JSON.stringify(P.get(ae))!==JSON.stringify(oe))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",ae)}catch(G){console.error("localStorage.setItem failed:",G),he()}}},56242:(z,l,e)=>{"use strict";var o;const{TASTEMAKER_CATEGORY_NAME:f,COMMUNITY_PICKS_CATEGORY_NAME:u}=e(83322);o=(c,g)=>{if(!c)return"featured";if(c==="featured"||c==="twitter"||c==="podcast"||c===u||c===f)return c;const v=g.find(E=>E.slug===c);return v?v.id:"featured"}},94930:(z,l)=>{"use strict";l.isCouponValid=(e,{is_group:o,is_gift:f,paywallFreeTrialEnabled:u})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!o||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!u||f||o)),l.isCouponValidForPlan=(e,o)=>!e||!o||o.metadata.unlimited_group?!1:o.metadata.no_coupons?!!(e.founding_only&&o.metadata.founding):!(o.interval==="forever"||e.yearly_only&&o.interval!=="year"||e.monthly_only&&o.interval!=="month"||e.duration==="repeating"&&(o.interval==="month"&&e.duration_in_months%o.interval_count!==0||o.interval==="year"&&e.duration_in_months%(o.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==o.currency),l.isEmailValidEdu=(e,o)=>{const f=o.filter(g=>g.is_suffix);return o.filter(g=>!g.is_suffix).find(g=>e.split("@").pop().startsWith(g.pattern))||f.find(g=>e.endsWith(g.pattern))},l.isCouponValidForEmail=(e,o,f)=>!(e.edu_only&&!l.isEmailValidEdu(o,f)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(c=>o.toLowerCase().endsWith(c.toLowerCase()))),l.getDiscountedAmount=(e,o)=>{let f=e.amount;return o&&l.isCouponValidForPlan(o,e)&&(o.percent_off?f=Math.round(f*(1-(o.percent_off_precise||o.percent_off)/100)):o.amount_off&&(f=Math.max(0,f-o.amount_off))),f}},85928:(z,l,e)=>{"use strict";var o=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(I,S,_)=>S in I?o(I,S,{enumerable:!0,configurable:!0,writable:!0,value:_}):I[S]=_,y=(I,S)=>{for(var _ in S||(S={}))g.call(S,_)&&E(I,_,S[_]);if(c)for(var _ of c(S))v.call(S,_)&&E(I,_,S[_]);return I},p=(I,S)=>f(I,u(S));const T=e(27484);z.exports=T,T.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(O);function O(I,S,_){S.prototype.standardDateOrTime=function({long:N=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const C=this.locale(),{iString:A}=I18N.i(C),{secondsToLargestUnit:k}=e(83322),L=_().diff(this,"seconds");return L<60?A("just now"):k(L,{long:N,language:C,appendAgo:!0})}},S.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},S.prototype.readerDateTime=function(){const N=this.locale(),{iString:C}=I18N.i(N),A=this.diff(_(),"day");let k;return A===0?k=this.format("h:mm a"):A===-1?k=C("Yesterday"):A>-7?k=this.standardDate():k=this.standardDate(),k},S.prototype.standardDate=function({full:N=!1}={}){return!N&&this.isSame(_(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},S.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},S.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},S.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},S.prototype.standardDatetimeWithYear=function(){const N=_().year();return this.year()!=N?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},S.prototype.min=function(...N){let C=this;for(let A of N)A=_(A),C.isAfter(A)&&(C=A);return C},S.prototype.max=function(...N){let C=this;for(let A of N)A=_(A),C.isBefore(A)&&(C=A);return C},S.prototype.minNow=function(){return this.min(_())},S.prototype.maxNow=function(){return this.max(_())},S.prototype.isBeforeNow=function(N){return this.isBefore(_(),N)},S.prototype.isAfterNow=function(N){return this.isAfter(_(),N)},S.prototype.isSameNow=function(N){return this.isSame(_(),N)};const d=_.en,s=p(y({},d),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),w=e(80790),P=p(y({},w),{relativeTime:{future:"an %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}}),x=p(y({},w),{relativeTime:{future:"an %s",past:"%s",s:"soeben",m:"1M",mm:"%dMin",h:"1S",hh:"%dS",d:"1T",dd:"%dT",M:"1Mon",MM:"%dMon",y:"1J",yy:"%dJ"}}),M=_.locale();_.locale("enshort",s),_.locale("de",P),_.locale("deshort",x),_.locale(M),S.prototype.fromNowShort=function(){return this.locale()==="de"?this.locale("deshort").fromNow():d?this.locale("enshort").fromNow():this.fromNow()}}},42395:z=>{"use strict";z.exports=l=>(l||"").replace(/&#(\d+);/g,(e,o)=>String.fromCharCode(o))},6378:(z,l)=>{"use strict";l.isMultiPub=c=>c?c.child_publications&&c.child_publications.length>0:!1,l.isSectionedPub=c=>{var g;return!!(c!=null&&c.sections)&&((g=c.sections)==null?void 0:g.length)>0},l.canAddSections=c=>{var g;return!(!c||(g=c.child_publications)!=null&&g.length||c.parent_publication_id||c.parent_publication)},l.canEditNavigationBar=c=>{var g;return!(!c||(g=c.child_publications)!=null&&g.length||c.parent_publication_id||c.parent_publication)},l.hasMultiplePodcasts=c=>e(c)>1;const e=c=>{let g=[];return l.isMultiPub(c)&&(g=l.getMultiPubChildPodcasts(c)),l.isSectionedPub(c)&&(g=l.getSectionPodcasts(c)),(c.podcast_enabled?1:0)+g.length};l.hasPodcast=c=>e(c)>0,l.hasOnePodcast=c=>e(c)===1,l.getMultiPubChildPodcasts=c=>l.isMultiPub(c)?c.child_publications.filter(g=>g.type==="podcast"):[],l.getSectionPodcasts=c=>l.isSectionedPub(c)?c.sections.filter(g=>g.is_podcast):[];const o=c=>c&&!c.includes("substack");l.pubCouldHavePublicPodcastUrl=c=>o(c.podcast_feed_url),l.sectionCouldHavePublicPodcastUrl=c=>{var g;return o((g=c.podcastSettings)==null?void 0:g.podcast_feed_url)},l.userCouldSeePublicPodcastUrls=c=>{if(l.pubCouldHavePublicPodcastUrl(c))return!0;if(l.hasMultiplePodcasts(c)){if(l.isMultiPub(c)){const g=l.getMultiPubChildPodcasts(c);for(const v of g)if(l.pubCouldHavePublicPodcastUrl(v))return!0}if(l.isSectionedPub(c)){const g=l.getSectionPodcasts(c);for(const v of g)if(l.sectionCouldHavePublicPodcastUrl(v))return!0}}return!1},l.userCouldSubscribeToPodcast=(c,g)=>g?l.isMultiPub(g)?!0:!l.hasPodcast(g)||g.hide_podcast_feed_link?!1:g.has_free_podcast?!0:g.has_subscriber_only_podcast?l.userIsPaidSubscriber(c):!1:!1,l.userIsFreeOnly=c=>c?!!(c.is_free_subscribed&&!c.is_subscribed):!1,l.userIsPaidSubscriber=c=>c?!!c.is_subscribed:!1,l.paymentsAreEnabled=c=>c?c.payments_state==="enabled":!1;const f=(c,{usePreview:g=!1,useDraft:v=!1}={})=>{switch(c==null?void 0:c.type){case"newsletter":return v?c.draftVoiceoverUpload:c.voiceoverUpload;case"podcast":return g?v?c.draftPodcastPreviewUpload:c.podcastPreviewUpload:v?c.draftPodcastUpload:c.podcastUpload;case"video":return v?c.draftVideoUpload:c.videoUpload;default:return null}};l.getMediaDuration=(c,{usePreview:g=!1,useDraft:v=!1}={})=>{var E;const y=f(c,{usePreview:g,useDraft:v});if(y)return(E=y.duration)!=null?E:null;if((c==null?void 0:c.type)==="podcast"&&!g){const p=v?c.draft_podcast_duration:c.podcast_duration;return p!=null?p:null}return null},l.getMediaFileSize=(c,{usePreview:g=!1,useDraft:v=!1}={})=>{var E,y;const p=f(c,{usePreview:g,useDraft:v});return p?(E=p.primary_file_size)!=null?E:null:(c==null?void 0:c.type)==="podcast"&&!g&&!v&&(y=c.legacy_podcast_file_size)!=null?y:null},l.podcastPostIsFreePreview=c=>!c||c.type!=="podcast"||!c.podcastUpload?!1:!!c.podcastUpload.is_free_preview,l.hasPodcastPreview=c=>!!c&&!!c.podcast_preview_upload_id,l.getLogo=c=>{var g;return c.logo_url||c.cover_photo_url||c.author_photo_url||((g=c.author)==null?void 0:g.photo_url)},l.getFoundingTierPlan=c=>{var g;return Array.isArray(c==null?void 0:c.plans)&&(g=c.plans.find(v=>{var E;return((E=v.metadata)==null?void 0:E.founding)==="yes"}))!=null?g:null},l.getFoundingTierName=c=>{var g,v;const E=l.getFoundingTierPlan(c);return(v=(g=E==null?void 0:E.metadata)==null?void 0:g.short_description)!=null?v:null},l.mediaUploadHasProblem=c=>!c||!c.state?!1:c.state==="error"||c.state==="cancelled",l.getPaidOrFoundingTierNameForPost=(c,g)=>(g==null?void 0:g.audience)==="founding"&&l.getFoundingTierName(c)||"paid",l.hasVoiceover=c=>!!c&&!!c.voiceover_upload_id,l.canSyndicateVoiceoverDraft=(c,g)=>!c||!g||!l.hasPodcast(c)?!1:!!g.draft_voiceover_upload_id;const u=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;l.getAspectRatioFromBucketeerUrl=c=>{const g=c.match(u);return g?parseInt(g[1])/parseInt(g[2]):null},l.isBulwarkPub=(c,{checkParent:g=!0}={})=>{var v;return g&&c.subdomain==="thebulwark"||((v=c.parent_publication)==null?void 0:v.subdomain)==="thebulwark"}},8221:(z,l)=>{"use strict";var e;let o="";l.S=o},72985:(z,l,e)=>{"use strict";const o=e(71171);l.sluggify=(f,{softMax:u=32,hardMax:c=48,extension:g=!1,extensionSeparator:v="-"}={})=>{let E=l.cleanSlug(f);if(E.length>u){const p=E.indexOf("-",u);p!==-1&&(E=E.substr(0,p))}E.length>c&&(E=E.substr(0,c));const y=g&&typeof g=="string"?g:o().substr(0,3);return E?g&&(E+=`${v}${y}`):E=y,E},l.cleanSlug=(f,{hashIfEmpty:u=!1,allowUnicode:c=!1}={})=>{const g=(f||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(c?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return f&&typeof f=="string"&&!g&&u?Array.from(f).map(v=>v.codePointAt(0)).map(v=>v.toString(16)).join("").substring(0,12):g}},15045:(z,l,e)=>{"use strict";var o=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(Ce,We,xe)=>We in Ce?o(Ce,We,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ce[We]=xe,y=(Ce,We)=>{for(var xe in We||(We={}))g.call(We,xe)&&E(Ce,xe,We[xe]);if(c)for(var xe of c(We))v.call(We,xe)&&E(Ce,xe,We[xe]);return Ce},p=(Ce,We)=>f(Ce,u(We)),T=(Ce,We)=>{var xe={};for(var rt in Ce)g.call(Ce,rt)&&We.indexOf(rt)<0&&(xe[rt]=Ce[rt]);if(Ce!=null&&c)for(var rt of c(Ce))We.indexOf(rt)<0&&v.call(Ce,rt)&&(xe[rt]=Ce[rt]);return xe};const{cleanSlug:O}=e(72985),{substack_color:I}=e(89018),{CDN_URL:S,substackDomain:_,getSubscribeUrl:d,serializeQuery:s,pathWithQuery:w,getBaseUrl:P,getSubstackUrl:x,getHostname:M,_getUrl:N,getBaseAppLinkUrl:C,getLikelyLoggedInParam:A,getPubAccountSettingsUrl:k,getPostDashboardUrl:L,getDashboardHomeUrl:K,getSubscriberDashboardUrl:Z,getProfileUrlById:J,getReaderProfileUrl:q,imginary:ne,unimginary:F,extractDimensionsFromImageUrl:W,getPodcastRssUrlFromIds:ie,parseUrl:he,getPublishBaseUrl:ye,getPublishSettingsUrl:fe,getDonateSubscriptionUrl:ae,stripeBaseUrl:oe,getPostUrl:G,getPostUrlBySlug:re,getEditPostUrlById:se,getGroupManagementUrl:le,getConnectTwitterUrl:Ee,getPubConnectTwitterUrl:ve,getCancelOrUncancelUrl:pe,getSubstackUrlWithDomain:me,getManageGroupSubscriptionUrl:Ie,getPostDetailsShareCenterUrl:_e}=e(20501),{getPostCommentsUrl:de}=e(36250),{getUserPhotoUrl:Re,getDefaultUserPhotoById:ke,DEFAULT_PHOTO_URL:Ve}=e(96702),{getProfileSetupUrl:Ge}=e(2731),Qe=[/\/embed\/podcast\//];l.TWITTER_CARD_WIDTH=504,l.TWITTER_CARD_HEIGHT=264,l.TWITTER_CARD_LOGO_SIZE=70,l.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",l.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=18072253847444&tf_18071211318676=my_import_file_is_too_large_",l.getBaseUrl=P,l.getSubstackUrl=x,l.getSubstackUrlWithDomain=me,l.getBaseAppLinkUrl=C,l.getHostname=M,l.serializeQuery=s,l.pathWithQuery=w,l.getLikelyLoggedInParam=A,l.getPubAccountSettingsUrl=k,l.getPostDashboardUrl=L,l.getSubscriberDashboardUrl=Z,l.getProfileUrlById=J,l.getReaderProfileUrl=q,l.imginary=ne,l.unimginary=F,l.extractDimensionsFromImageUrl=W,l.parseUrl=he,l.getPublishBaseUrl=ye,l.getPublishSettingsUrl=fe,l.getDonateSubscriptionUrl=ae,l.stripeBaseUrl=oe,l.getPostUrl=G,l.getPostUrlBySlug=re,l.getEditPostUrlById=se,l.getGroupManagementUrl=le,l.getDashboardHomeUrl=K,l.getConnectTwitterUrl=Ee,l.getPubConnectTwitterUrl=ve,l.getCancelOrUncancelUrl=pe,l.getPostCommentsUrl=de,l.getPodcastRssUrlFromIds=ie,l.getManageGroupSubscriptionUrl=Ie,l.getUserPhotoUrl=Re,l.getDefaultUserPhotoById=ke,l.DEFAULT_PHOTO_URL=Ve,l.getProfileSetupUrl=Ge,l.getPostDetailsShareCenterUrl=_e,l.updateQuery=function(Ce,We,{skipHash:xe=!1}={}){typeof Ce=="object"&&(We=Ce,Ce=document.location.pathname+document.location.search+document.location.hash);let rt=l.pathWithQuery(Ce.split("?")[0].split("#")[0],Object.assign(l.parseQuery(Ce),We));return Ce.indexOf("#")!==-1&&!xe&&(rt+=Ce.substr(Ce.indexOf("#"))),rt},l.parseQuery=function(Ce){const We={},xe=((Ce==null?void 0:Ce.split("?")[1])||"").split("#")[0].trim();if(xe){const rt=xe.split("&");for(let Je=0;Je<rt.length;Je++){const ft=rt[Je].split("=");We[decodeURIComponent(ft[0])]=decodeURIComponent(ft.slice(1).join("="))}}return We},l.getQueryItem=(Ce,We)=>{if(typeof We!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;We=Ce,Ce=window.location.href}const xe=l.parseQuery(Ce);if(We in xe)return xe[We]},l.getPubUrl=(Ce,{params:We={},signedIn:xe=!1}={})=>{const rt=A(xe,Ce);return l.pathWithQuery(`${l.getBaseUrl(Ce)}/`,y({lli:rt},We))},l.getCallbackUrl=Ce=>`${l.getBaseUrl({subdomain:"callback"})}${Ce}`,l.getTld=Ce=>{try{return new URL(Ce).hostname.split(".").slice(-2).join(".")}catch(We){return null}},l.cdnSvg=Ce=>!Ce||!Ce.startsWith("/")||Ce.startsWith("//")||!/\.svg(\?|#|$)/.test(Ce)?Ce:`${S}/${Ce}`,l.stripProtocol=Ce=>(Ce||"").replace(/^(\w+:)?\/\//g,""),l.getUndergroundUrl=Ce=>{const xe=N(`admin.${_}`);return Ce?`${xe}/publications/${Ce}`:xe},l.getStockLandingUrl=Ce=>`${N(`${_}`)}/discover/stocks/${Ce}`,l.getUserUndergroundUrl=Ce=>{const xe=N(`admin.${_}`);return Ce?`${xe}/users/${Ce}`:xe},l.getBaseReaderUrl=({utm_source:Ce}={})=>{const We=_,xe="reader";return l.pathWithQuery(N(`${xe}.${We}`),{utm_source:Ce})},l.getReaderSignupUrl=Ce=>l.pathWithQuery(`${N(_)}/browse`,p(y({},Ce),{action:"signup"})),l.getReaderUrl=(Ce,{query:We}={})=>{const xe=_;return l.pathWithQuery(`${N(xe)}${Ce}`,We)},l.getNotificationsUrl=Ce=>l.getReaderUrl("/activity",{query:Ce}),l.getLibraryUrl=Ce=>l.getReaderUrl("/library",{query:Ce}),l.getFeedUrl=Ce=>l.getReaderUrl("/feed",{query:Ce}),l.getChatUrl=Ce=>l.getReaderUrl("/chat",{query:Ce}),l.getSavedPostsUrl=Ce=>l.getReaderUrl("/saved",Ce),l.getDeprecatedPostAppLinkUrl=(Ce,We,{params:xe={},redirect:rt=null,source:Je=null,postUuid:ft=null}={})=>{const je=ft?`${l.getSubstackUrl()}/app-link/publications/${Ce}/drafts/${ft}`:`${l.getSubstackUrl()}/app-link/post`,Rt=y({publication_id:Ce,post_id:We,utm_source:Je,redirect:rt},xe);return l.pathWithQuery(je,Rt)},l.getPostAppLinkUrl=(Ce,We,{params:xe={},redirect:rt=null,source:Je=null,postUuid:ft=null,inbox:je=null,hostOverride:Rt=null}={})=>{if(!Ce||!We)return"";const Jt=Rt?ft?`${Rt}/p/${ft}`:`${Rt}/p/${We}`:ft?`${l.getBaseAppLinkUrl()}/pub/${Ce}/drafts/${ft}`:`${l.getBaseAppLinkUrl()}/pub/${Ce}/p/${We}`,Ct=y({utm_source:Je,redirect:rt,inbox:je},xe);return l.pathWithQuery(Jt,Ct)},l.getPostCommentInContextUrl=function(Ce,We,xe,rt=3){if(!xe.ancestor_path)return l.getPostCommentsUrl(Ce,We,xe);const Je=xe==null?void 0:xe.ancestor_path.split("."),ft=Je.length<rt?0:Je.length-rt;return l.getPostUrl(Ce,We,{comments:!0,commentId:xe.id,commentContextId:Je[ft]})},l.getPodcastLandingUrl=({pub:Ce,section:We,addBase:xe=!0})=>{We=We||Ce.section;const rt=xe?l.getBaseUrl(Ce):"";return We?`${rt}/listen/${We.slug||We.id}`:`${rt}/podcast`},l.getEditSectionUrl=(Ce,{addBase:We,type:xe,id:rt}={})=>`${We?l.getBaseUrl(Ce):""}/publish/settings/${xe}/${rt}`,l.getArchiveUrl=(Ce,{params:We}={})=>{const xe=Ce.section?`/s/${Ce.section.slug||Ce.section.id}`:"";return l.pathWithQuery(`${xe}/archive`,We)},l.getBaseArchiveUrl=(Ce,{addBase:We,params:xe}={})=>{const rt=We?l.getBaseUrl(Ce):"";return l.pathWithQuery(`${rt}/archive`,xe)},l.getAboutUrl=(Ce,{addBase:We,params:xe}={})=>{const rt=We?l.getBaseUrl(Ce):"";return l.pathWithQuery(`${rt}/about`,xe)},l.getSitemapUrl=(Ce,{addBase:We,params:xe}={})=>{const rt=We?l.getBaseUrl(Ce):"";return l.pathWithQuery(`${rt}/sitemap`,xe)},l.getDashboardUrlForSubdomain=(Ce,{params:We}={})=>{const xe=`${l.getBaseUrl({subdomain:Ce})}/publish/home`;return l.pathWithQuery(xe,We)},l.getFindTwitterPubsUrl=Ce=>l.pathWithQuery(`${l.getSubstackUrl()}/twitter/find-pubs`,Ce),l.getPodcastingUrl=(Ce,{addBase:We,params:xe,slug:rt,isSection:Je}={})=>{let je=`${We?l.getBaseUrl(Ce):""}/publish/podcasting`;return rt&&(Je?je=`${je}/s/${rt}`:je=`${je}/${rt}`),xe?l.pathWithQuery(je,xe):je},l.getCreatePostUrl=(Ce,We={})=>{var xe=We,{baseUrl:rt=null}=xe,Je=T(xe,["baseUrl"]);return l.pathWithQuery(`${rt!=null?rt:l.getBaseUrl(Ce)}/publish/post`,Je)},l.getCreateMarketingPostUrl=(Ce,We)=>l.pathWithQuery(`${l.getBaseUrl(Ce)}/publish/post/marketing`,We),l.getSubscriberStatsUrl=(Ce,{addBase:We,params:xe}={})=>{const rt=We?l.getBaseUrl(Ce):"";return l.pathWithQuery(`${rt}/publish/subscribers`,xe)},l.getAddSubscriberUrl=Ce=>"/publish/subscribers/add",l.getVerifyImportDoubleOptinUrl=(Ce,We)=>`${l.getBaseUrl(Ce)}/publish/subscribers/add?conditional_import_id=${We}`,l.getIgnoreImportDoubleOptinUrl=(Ce,We)=>`${l.getBaseUrl(Ce)}/publish/subscribers/add?conditional_import_id=${We}`,l.getDomainConfigUrl=(Ce,{payment:We}={})=>`/publish/domain${We?"/pay":""}`,l.getDomainMigrateUrl=Ce=>"/publish/domain/migrate",l.getDomainStatusUrl=()=>"/publish/domain/status",l.getSubscriberDetailsUrl=(Ce,We,{addBase:xe,tab:rt}={})=>{const Je=xe?l.getBaseUrl(Ce):"";return l.pathWithQuery(`${Je}/publish/subscribers/legacy`,{email:We,tab:rt})},l.getGroupDetailsUrl=Ce=>`/publish/groups/${Ce}`,l.getManageGroupsUrl=()=>"/publish/groups",l.getCheckoutUrl=function(Ce,We={}){const xe=l.pathWithQuery(`${l.getBaseUrl(Ce)}/subscribe`,We);return xe.indexOf("?")===-1?`${xe}?`:xe},l.getFoundingCheckoutUrl=function(Ce){return`${l.getBaseUrl(Ce)}/subscribe?plan=founding&`},l.getLoginUrl=(Ce={})=>l.pathWithQuery("/account/login",Ce),l.getMfaUrl=(Ce={})=>l.pathWithQuery(`${l.getSubstackUrl()}/sign-in/mfa`,Ce),l.getGlobalAccountRedirectForPub=(Ce,We,xe)=>{const rt=Ce==null?void 0:Ce.subdomain;return l.pathWithQuery(`${l.getSubstackUrl()}${We}`,{redirect:xe,for_pub:rt})},l.getWriterReferralUrl=(Ce,We={})=>{if(Ce)return l.pathWithQuery(`${l.getSubstackUrl()}/refer/${Ce}`,We)},l.getWriterReferralSettingsUrl=({utm_source:Ce,utm_context:We,utm_content:xe}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/referral`,{utm_source:Ce,utm_context:We,utm_content:xe}),l.getGlobalAccountSettingsUrl=({utm_source:Ce,section:We,highlightNotification:xe}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/settings`,{utm_source:Ce,section:We,highlightNotification:xe}),l.getGlobalNotificationSettingsUrl=({highlight:Ce,utm_source:We}={})=>l.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:Ce,utm_source:We}),l.getManageSubscriptionsUrl=({utm_source:Ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/settings/subscriptions`,{utm_source:Ce}),l.getSharePubUrl=Ce=>`${l.getBaseUrl(Ce)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,l.getPodcatcherSetupUrlForAllPodcasts=(Ce,We)=>{var xe=We,{startAtSubscribeFlow:rt}=xe,Je=T(xe,["startAtSubscribeFlow"]);let ft=`${l.getBaseUrl(Ce)}/listen`;if(Je){const je=l.serializeQuery(Je);je&&(ft+=`?${je}`)}return rt?l.getSubscribeUrl(Ce,y({addBase:!0,next:ft,skipPodcastSetupPage:!0},Je)):ft},l.getPodcatcherSetupUrl=(Ce,{addBase:We,params:xe,noSection:rt,section:Je,user:ft,startAtSubscribeFlow:je}={})=>{let Rt="";if(We&&(Rt+=l.getBaseUrl(Ce)),Je=Je||(Ce==null?void 0:Ce.section),Je&&!rt&&(Rt+=`/s/${Je.slug||Je.id}`),Rt+="/account/add-podcast",ft&&ft.email&&(xe=p(y({},xe),{email:ft.email}),Rt+="/email"),xe){const Jt=l.serializeQuery(xe);Jt&&(Rt+=`?${Jt}`)}return je?l.getSubscribeUrl(Ce,y({addBase:!0,next:Rt,skipPodcastSetupPage:!0},xe)):Rt},l.getCdnUrl=(Ce,{cdnUrl:We=S}={})=>Ce==null?void 0:Ce.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,We);const bt="https://";l.getAsChartableUrl=(Ce,We)=>Ce?`${bt}chrt.fm/track/${encodeURIComponent(Ce)}/${l.stripProtocol(We)}`:We,l.addSpotifyAnalyticsPrefix=Ce=>`${bt}prfx.byspotify.com/e/${l.stripProtocol(Ce)}`,l.addPodscribePrefix=Ce=>`${bt}pscrb.fm/rss/p/${l.stripProtocol(Ce)}`,l.getCdnUrlForAudio=(Ce,We,{token:xe}={})=>(We=l.getCdnUrl(We),Ce!=null&&Ce.id&&(We=l.updateQuery(We,{post_id:Ce.id})),xe&&(We=l.updateQuery(We,{podcast_rss_token:xe})),We),l.getClientReadyPodcastUrl=(Ce,We,{rssToken:xe})=>{if(We.podcast_upload_id){let rt=l.updateQuery(`${l.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${We.podcast_upload_id}/src`,{token:xe});return Ce!=null&&Ce.chartable_token&&(rt=l.getAsChartableUrl(Ce.chartable_token,rt)),rt}if(We.podcast_url){let rt=l.getCdnUrlForAudio(We,We.podcast_url,{token:xe});return Ce!=null&&Ce.chartable_token&&(rt=l.getAsChartableUrl(Ce.chartable_token,rt)),rt}return null},l.urlIsRegularlyShownInIframe=Ce=>{for(let We=0;We<Qe.length;We++)if(Qe[We].test(Ce))return!0;return!1},l.getCurrentUrlForLoginRedirect=({useOriginalUrl:Ce})=>{if(Ce&&typeof window!="undefined"&&window._preloads.original_url)try{const We=new URL(window._preloads.original_url);return`${We.pathname}${We.search}${We.hash}`}catch(We){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},l.getSigninUrl=(Ce={})=>{const{for_pub:We,email:xe,with_password:rt,error:Je,message:ft,change_user:je,justTrying:Rt,useOriginalUrl:Jt}=Ce;let{redirect:Ct}=Ce;return typeof Ct!="string"&&(Ct=l.getCurrentUrlForLoginRedirect({useOriginalUrl:Jt})),l.pathWithQuery(`${l.getSubstackUrl()}/sign-in`,{redirect:Ct,for_pub:We,email:xe,with_password:rt,error:Je,message:ft,change_user:je,justTrying:Rt})},l.getTermsUrl=({utm_source:Ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/tos`,{utm_source:Ce}),l.getGoingPaidUrl=()=>`${l.getSubstackUrl()}/going-paid`,l.getInfoCollectionUrl=({utm_source:Ce}={})=>`${l.pathWithQuery(`${l.getSubstackUrl()}/ccpa`,{utm_source:Ce})}#personal-data-collected`,l.getHomeUrl=({utm_source:Ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/home`,{utm_source:Ce}),l.getPrivacyUrl=({pub:Ce,utm_source:We,hash:xe=null}={})=>{const rt=Ce?`${l.getBaseUrl(Ce)}`:l.getSubstackUrl(),Je=xe?`#${xe}`:"";return`${l.pathWithQuery(`${rt}/privacy`,{utm_source:We})}${Je}`},l.getLegalUrls=()=>({infoCollection:l.getInfoCollectionUrl(),privacy:l.getPrivacyUrl(),terms:l.getTermsUrl()}),l.getEditProfileUrl=({params:Ce}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/profile/edit`,Ce),l.getReaderOnboardingUrl=(Ce,{isAbbreviated:We,redirect:xe,postRedirectToast:rt,pubId:Je=null}={})=>{let ft=null;if(xe)try{ft=new URL(xe),rt&&ft.searchParams.set("profile-setup-message",rt)}catch(je){ft=new URL(l.getSubstackUrl())}return l.pathWithQuery(`${l.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:We,redirect:ft?ft.toString():null,pubId:Je})},l.getDiscoverCategoryUrl=(Ce,We)=>`${l.getSubstackUrl()}/discover${Ce?`/category/${Ce.slug}`:""}${We==="all"?"/all":""}`,l.getDiscoverSearchUrl=({query:Ce,params:We={}}={})=>{let xe=`${l.getSubstackUrl()}/search`;return Ce&&(xe=`${l.getSubstackUrl()}/search/${encodeURIComponent(Ce)}`),l.updateQuery(xe,We)},l.getSubscribeUrl=(Ce,We={})=>{var xe=We,{signedIn:rt=!1,addBase:Je=!1,root:ft=void 0,user:je=void 0}=xe,Rt=T(xe,["signedIn","addBase","root","user"]);const Jt=A(rt,Ce);return d(Ce,{root:ft,user:je,addBase:Je,params:y({lli:Jt},Rt)})},l.getRecommendationsPageUrl=(Ce,We={})=>l.pathWithQuery(`${l.getBaseUrl(Ce)}/recommendations`,We),l.getStartPublishingUrl=(Ce={})=>l.updateQuery(`${l.getSubstackUrl()}/signup`,Ce),l.getMigrateFromTwitterUrl=(Ce={})=>l.updateQuery(`${l.getSubstackUrl()}/twitter-quitter`,Ce),l.getImportUrl=(Ce={})=>l.updateQuery(`${l.getSubstackUrl()}/signup/import`,Ce),l.getPublishStripeAccountImportUrl=(Ce,{addBase:We=!1,baseUrlOptions:xe={},params:rt=void 0}={})=>l.pathWithQuery(`${ye(Ce,{addBase:We,baseUrlOptions:xe})}/stripe-import`,rt),l.getPublishStatsUrl=(Ce,{addBase:We,baseUrlOptions:xe,params:rt}={})=>{const Je=We?l.getBaseUrl(Ce,xe):"";return l.pathWithQuery(`${Je}/publish/stats`,rt)},l.getPublishSettingsRecommendationsUrl=(Ce,{addBase:We,baseUrlOptions:xe,params:rt}={})=>{const Je=We?l.getBaseUrl(Ce,xe):"";return l.pathWithQuery(`${Je}/publish/settings/recommendations`,rt)},l.getPublishStatsRecommendationsUrl=(Ce,{addBase:We,baseUrlOptions:xe,params:rt}={})=>{const Je=We?l.getBaseUrl(Ce,xe):"";return l.pathWithQuery(`${Je}/publish/recommendations`,rt)},l.getManageBlurbsUrl=(Ce,{addBase:We,baseUrlOptions:xe,params:rt}={})=>{const Je=We?l.getBaseUrl(Ce,xe):"";return l.pathWithQuery(`${Je}/publish/settings/blurbs`,rt)},l.getManageReaderReferralSettingsUrl=Ce=>{const We=l.getBaseUrl(Ce);return l.pathWithQuery(`${We}/publish/settings/`,{search:"referral"})},l.getPublishModerationUrl=(Ce,{addBase:We=!1,baseUrlOptions:xe={}}={})=>`${ye(Ce,{addBase:We,baseUrlOptions:xe})}/moderation`,l.getPublicationPodcastUrl=Ce=>"/publish/settings/podcast/edit",l.getInviteUrl=Ce=>`${l.getBaseUrl(Ce)}/invite`,l.getProfileSlug=Ce=>{let We=`${Ce.author_id||Ce.id}`;const xe=O(Ce.author_id?Ce.author_name:Ce.name,{hashIfEmpty:!0});return xe&&(We+=`-${xe}`),We},l.getProfileUrl=(Ce,We,{utm_source:xe}={})=>l.getReaderProfileUrl(Ce,{utm_source:xe}),l.getPodcastRssUrl=({pub:Ce,token:We=null})=>{var xe;if(Ce.section){const{section:Je}=Ce;if((xe=Je.podcastSettings)!=null&&xe.podcast_feed_url)return Je.podcastSettings.podcast_feed_url;let ft=`${l.getBaseUrl({subdomain:"api"})}/feed/podcast/${Ce.id}/s/`;return We?ft+=`${Je.id}/private/${We}.rss`:ft+=`${Je.id}.rss`,ft}else if(Ce.podcast_feed_url)return Ce.podcast_feed_url;let rt=`${l.getBaseUrl({subdomain:"api"})}/feed/podcast/${Ce.id}`;return We?rt+=`/private/${We}.rss`:rt+=".rss",rt},l.getSupportEmail=(Ce,{noOverride:We}={})=>{if(Ce){if(Ce.support_email&&!We)return Ce.support_email}else return"support@substack.com";return`support+${Ce.subdomain}@substack.com`},l.getSupportUrl=(Ce,We)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(l.getSupportEmail(Ce,We))}`,l.getPostSelectionPreviewUrl=(Ce,We,xe)=>l.imginary(`${l.getPostSelectionPreviewSvgUrl(Ce,We,xe)}`,l.TWITTER_CARD_WIDTH*2,{height:l.TWITTER_CARD_HEIGHT*2,format:"jpg",crop:"fill",skipDomainValidation:!0,quality:"auto:best",version:7}),l.getPostSelectionPreviewSvgUrl=(Ce,We,xe)=>`${l.getBaseUrl(Ce)}/api/v1/post_selection_image/${We.id}/${xe}.svg`,l.getTwitterAccountUrl=Ce=>`https://twitter.com/${Ce}`,l.getInstagramAccountUrl=Ce=>`https://instagram.com/${Ce}`,l.getTiktokAccountUrl=Ce=>`https://tiktok.com/@${Ce}`,l.getYoutubeAccountUrl=Ce=>`https://youtube.com/channel/${Ce}`,l.getTwitterSubscribeCardUrl=Ce=>l.imginary(`${l.getTwitterSubscribeCardSvgUrl(Ce)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),l.getTwitterSubscribeCardSvgUrl=Ce=>{const{hashString:We}=e(83322);let xe=`${l.getBaseUrl(Ce,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const rt=`${Ce.logo_url}:${Ce.hero_text}:${Ce.name}:${Ce.author_name}:${Ce.subdomain}`,Je=We(rt);return Je?xe+=`?v=${Je}`:xe+="?v=bust",xe},l.getPressKitUrl=(Ce,We,xe,rt)=>{const Je=l.getPressKitImageUrl(Ce,We,xe);return l.imginary(Je,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!rt,filename:rt})},l.getPressKitImageUrl=(Ce,We,xe)=>{const{hashString:rt}=e(83322),Je=rt(`${We.social_title+We.title+We.description+We.cover_image}`);return l.pathWithQuery(`${l.getBaseUrl(Ce,{forceSubdomain:!0})}/api/v1/press_kit/${We.id}.jpg`,p(y({},xe),{isDraft:We.is_draft,hash:Je}))},l.getPressKitDownloadUrl=(Ce,We,xe)=>l.pathWithQuery(`${l.getBaseUrl(Ce,{forceSubdomain:!0})}/api/v1/press_kit/all/${We.id}`,{aspectRatio:xe,isDraft:We.is_draft}),l.getLatexUrl=Ce=>{const We=l.getLatexImageUrl(Ce);return l.imginary(We,null,{quality:"auto:best",version:9})},l.getLatexImageUrl=Ce=>l.pathWithQuery("/api/v1/latex/jpeg",{expression:Ce}),l.getBestsellerAssetUrl=Ce=>{const We=`${l.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Ce.id}-bestseller.jpg`;return l.imginary(We,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},l.getBestsellerShareCardUrl=Ce=>{const We=`${l.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Ce.id}-bestseller-share-card.jpg`;return l.imginary(We,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},l.getThreadDeepLinkUrl=Ce=>`substack://publications/${Ce.id}/threads`,l.isPublishPath=(Ce,We)=>Ce.startsWith("/publish"),l.looksLikePostUrl=Ce=>{const We=l.parseUrl(Ce);return We?We.pathname.startsWith("/p/"):!1},l.getPostSlug=Ce=>l.looksLikePostUrl(Ce)?l.parseUrl(Ce).pathname.split("/")[2]:null,l.looksLikePostCommentsUrl=Ce=>{if(!l.looksLikePostUrl(Ce))return!1;const xe=l.parseUrl(Ce).pathname.split("/");return xe.length===4&&xe[3]==="comments"},l.getSignoutUrl=({redirect:Ce,for_pub:We,utm_source:xe}={})=>(Ce=Ce||"",l.pathWithQuery(`${l.getSubstackUrl()}/sign-out`,{redirect:Ce,for_pub:We,utm_source:xe})),l.getPodcastOnboardingUrl=Ce=>`/publish/podcast/new?referrer=${encodeURIComponent(Ce)}`,l.getUrlExtension=Ce=>{try{const xe=new URL(Ce).pathname.match(/\.(\w+)$/);return xe?xe[0]:null}catch(We){return null}},l.EMAIL_CONTENT_WIDTH=550,l.WEB_CONTENT_WIDTH=728,l.WEB_CONTENT_WIDTH_MOBILE=424,l.WEB_RESPONSIVE_IMAGE_WIDTHS=[l.WEB_CONTENT_WIDTH_MOBILE,l.WEB_CONTENT_WIDTH_MOBILE*2,l.WEB_CONTENT_WIDTH_MOBILE*3,l.WEB_CONTENT_WIDTH*2],l.LARGE_IMAGE_WIDTH=1200,l.MAX_REASONABLE_SCREEN_WIDTH=2880,l.MIN_GIF_WIDTH=320,l.MAX_GIF_WIDTH=550,l.getMediaUploadThumbnailUrl=Ce=>{var We;return Ce?`https://substack-video.s3.amazonaws.com/video_upload/post/${Ce.post_id}/${Ce.id}/transcoded-${((We=Ce.thumbnail_id)!=null?We:1).toString().padStart(5,"0")}.png`:void 0},l.getMediaUploadThumbnailUrlForPlayer=(Ce,{pub:We,isStatic:xe}={})=>{var rt;const{colorLuma:Je,videoPlayerDimensions:ft}=e(83322),{height:je,width:Rt}=ft(Ce,{isStatic:xe}),Jt=Rt/je<1920/1080?"pad":"fill",Ct=((rt=We==null?void 0:We.theme)==null?void 0:rt.background_pop_color)||(We==null?void 0:We.theme_var_background_pop)||I,Le=Je(Ct)>.6?"#1a1a1a":"#ffffff";return l.imginary(l.getMediaUploadThumbnailUrl(Ce),Rt*2,{crop:Jt,height:je*2,trailingSegments:xe?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${Ct.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${Le.slice(1)}`]:[]})},l.getPreviewInAppUrl=(Ce,We,xe={})=>l.pathWithQuery(`https://substack.com/app-link/publications/${Ce.id}/drafts/${We}`,xe),l.getLinkRedirectUrl=(Ce,{userIdJwt:We,domain:xe}={})=>`${xe?l.getSubstackUrlWithDomain(xe):l.getSubstackUrl()}/redirect/${Ce}?j=${We||""}`,l.getLoginChallengeDeepUrl=Ce=>l.pathWithQuery("substack://sign-in/challenge",{token:Ce}),l.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",l.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",l.getSubstackMarketingUrl=(Ce={})=>l.pathWithQuery(`${l.getSubstackUrl()}/home`),l.getAppMarketingUrl=(Ce={})=>l.pathWithQuery(`${l.getSubstackUrl()}/app`,Ce),l.getAppWriterFaqUrl=(Ce={})=>l.pathWithQuery("https://on.substack.com/p/writerfaq",Ce),l.getAppStoreRedirectUrl=Ce=>l.pathWithQuery(`${l.getSubstackUrl()}/app/app-store-redirect`,Ce),l.getAppStoreUrl=Ce=>l.pathWithQuery(`${l.getSubstackUrl()}/app/get-ios`,Ce),l.getPlayStoreUrl=Ce=>l.pathWithQuery(`${l.getSubstackUrl()}/app/get-android`,Ce),l.getDefaultPodcastArtUrl=({pathOnly:Ce=!1}={})=>{const We="/img/podcast/generic.png";return Ce?We:`${l.getSubstackUrl()}${We}`},l.getDefaultPodcastArtUrlCDN=()=>{const Ce=l.getDefaultPodcastArtUrl({pathOnly:!0});return l.imginary(Ce,1400)}},17187:z=>{function l(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}z.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0,l.defaultMaxListeners=10,l.prototype.setMaxListeners=function(c){if(!o(c)||c<0||isNaN(c))throw TypeError("n must be a positive number");return this._maxListeners=c,this},l.prototype.emit=function(c){var g,v,E,y,p,T;if(this._events||(this._events={}),c==="error"&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(g=arguments[1],g instanceof Error)throw g;var O=new Error('Uncaught, unspecified "error" event. ('+g+")");throw O.context=g,O}if(v=this._events[c],u(v))return!1;if(e(v))switch(arguments.length){case 1:v.call(this);break;case 2:v.call(this,arguments[1]);break;case 3:v.call(this,arguments[1],arguments[2]);break;default:y=Array.prototype.slice.call(arguments,1),v.apply(this,y)}else if(f(v))for(y=Array.prototype.slice.call(arguments,1),T=v.slice(),E=T.length,p=0;p<E;p++)T[p].apply(this,y);return!0},l.prototype.addListener=function(c,g){var v;if(!e(g))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",c,e(g.listener)?g.listener:g),this._events[c]?f(this._events[c])?this._events[c].push(g):this._events[c]=[this._events[c],g]:this._events[c]=g,f(this._events[c])&&!this._events[c].warned&&(u(this._maxListeners)?v=l.defaultMaxListeners:v=this._maxListeners,v&&v>0&&this._events[c].length>v&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),typeof console.trace=="function"&&console.trace())),this},l.prototype.on=l.prototype.addListener,l.prototype.once=function(c,g){if(!e(g))throw TypeError("listener must be a function");var v=!1;function E(){this.removeListener(c,E),v||(v=!0,g.apply(this,arguments))}return E.listener=g,this.on(c,E),this},l.prototype.removeListener=function(c,g){var v,E,y,p;if(!e(g))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;if(v=this._events[c],y=v.length,E=-1,v===g||e(v.listener)&&v.listener===g)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,g);else if(f(v)){for(p=y;p-- >0;)if(v[p]===g||v[p].listener&&v[p].listener===g){E=p;break}if(E<0)return this;v.length===1?(v.length=0,delete this._events[c]):v.splice(E,1),this._events.removeListener&&this.emit("removeListener",c,g)}return this},l.prototype.removeAllListeners=function(c){var g,v;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[c]&&delete this._events[c],this;if(arguments.length===0){for(g in this._events)g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events={},this}if(v=this._events[c],e(v))this.removeListener(c,v);else if(v)for(;v.length;)this.removeListener(c,v[v.length-1]);return delete this._events[c],this},l.prototype.listeners=function(c){var g;return!this._events||!this._events[c]?g=[]:e(this._events[c])?g=[this._events[c]]:g=this._events[c].slice(),g},l.prototype.listenerCount=function(c){if(this._events){var g=this._events[c];if(e(g))return 1;if(g)return g.length}return 0},l.listenerCount=function(c,g){return c.listenerCount(g)};function e(c){return typeof c=="function"}function o(c){return typeof c=="number"}function f(c){return typeof c=="object"&&c!==null}function u(c){return c===void 0}},4445:z=>{z.exports=c,c.default=c,c.stable=y,c.stableStringify=y;var l="[...]",e="[Circular]",o=[],f=[];function u(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function c(O,I,S,_){typeof _=="undefined"&&(_=u()),v(O,"",0,[],void 0,0,_);var d;try{f.length===0?d=JSON.stringify(O,I,S):d=JSON.stringify(O,T(I),S)}catch(w){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var s=o.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return d}function g(O,I,S,_){var d=Object.getOwnPropertyDescriptor(_,S);d.get!==void 0?d.configurable?(Object.defineProperty(_,S,{value:O}),o.push([_,S,I,d])):f.push([I,S,O]):(_[S]=O,o.push([_,S,I]))}function v(O,I,S,_,d,s,w){s+=1;var P;if(typeof O=="object"&&O!==null){for(P=0;P<_.length;P++)if(_[P]===O){g(e,O,I,d);return}if(typeof w.depthLimit!="undefined"&&s>w.depthLimit){g(l,O,I,d);return}if(typeof w.edgesLimit!="undefined"&&S+1>w.edgesLimit){g(l,O,I,d);return}if(_.push(O),Array.isArray(O))for(P=0;P<O.length;P++)v(O[P],P,P,_,O,s,w);else{var x=Object.keys(O);for(P=0;P<x.length;P++){var M=x[P];v(O[M],M,P,_,O,s,w)}}_.pop()}}function E(O,I){return O<I?-1:O>I?1:0}function y(O,I,S,_){typeof _=="undefined"&&(_=u());var d=p(O,"",0,[],void 0,0,_)||O,s;try{f.length===0?s=JSON.stringify(d,I,S):s=JSON.stringify(d,T(I),S)}catch(P){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var w=o.pop();w.length===4?Object.defineProperty(w[0],w[1],w[3]):w[0][w[1]]=w[2]}}return s}function p(O,I,S,_,d,s,w){s+=1;var P;if(typeof O=="object"&&O!==null){for(P=0;P<_.length;P++)if(_[P]===O){g(e,O,I,d);return}try{if(typeof O.toJSON=="function")return}catch(C){return}if(typeof w.depthLimit!="undefined"&&s>w.depthLimit){g(l,O,I,d);return}if(typeof w.edgesLimit!="undefined"&&S+1>w.edgesLimit){g(l,O,I,d);return}if(_.push(O),Array.isArray(O))for(P=0;P<O.length;P++)p(O[P],P,P,_,O,s,w);else{var x={},M=Object.keys(O).sort(E);for(P=0;P<M.length;P++){var N=M[P];p(O[N],N,P,_,O,s,w),x[N]=O[N]}if(typeof d!="undefined")o.push([d,I,O]),d[I]=x;else return x}_.pop()}}function T(O){return O=typeof O!="undefined"?O:function(I,S){return S},function(I,S){if(f.length>0)for(var _=0;_<f.length;_++){var d=f[_];if(d[1]===I&&d[0]===S){S=d[2],f.splice(_,1);break}}return O.call(this,I,S)}}},17648:z=>{"use strict";var l="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,o=Object.prototype.toString,f="[object Function]";z.exports=function(c){var g=this;if(typeof g!="function"||o.call(g)!==f)throw new TypeError(l+g);for(var v=e.call(arguments,1),E,y=function(){if(this instanceof E){var S=g.apply(this,v.concat(e.call(arguments)));return Object(S)===S?S:this}else return g.apply(c,v.concat(e.call(arguments)))},p=Math.max(0,g.length-v.length),T=[],O=0;O<p;O++)T.push("$"+O);if(E=Function("binder","return function ("+T.join(",")+"){ return binder.apply(this,arguments); }")(y),g.prototype){var I=function(){};I.prototype=g.prototype,E.prototype=new I,I.prototype=null}return E}},58612:(z,l,e)=>{"use strict";var o=e(17648);z.exports=Function.prototype.bind||o},40210:(z,l,e)=>{"use strict";var o,f=SyntaxError,u=Function,c=TypeError,g=function(J){try{return u('"use strict"; return ('+J+").constructor;")()}catch(q){}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch(J){v=null}var E=function(){throw new c},y=v?function(){try{return arguments.callee,E}catch(J){try{return v(arguments,"callee").get}catch(q){return E}}}():E,p=e(41405)(),T=Object.getPrototypeOf||function(J){return J.__proto__},O={},I=typeof Uint8Array=="undefined"?o:T(Uint8Array),S={"%AggregateError%":typeof AggregateError=="undefined"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?o:ArrayBuffer,"%ArrayIteratorPrototype%":p?T([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics=="undefined"?o:Atomics,"%BigInt%":typeof BigInt=="undefined"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?o:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?o:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array=="undefined"?o:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?o:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?T(T([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map=="undefined"?o:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!p?o:T(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?o:Promise,"%Proxy%":typeof Proxy=="undefined"?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?o:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!p?o:T(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?T(""[Symbol.iterator]()):o,"%Symbol%":p?Symbol:o,"%SyntaxError%":f,"%ThrowTypeError%":y,"%TypedArray%":I,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array=="undefined"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?o:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?o:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?o:WeakSet};try{null.error}catch(J){var _=T(T(J));S["%Error.prototype%"]=_}var d=function J(q){var ne;if(q==="%AsyncFunction%")ne=g("async function () {}");else if(q==="%GeneratorFunction%")ne=g("function* () {}");else if(q==="%AsyncGeneratorFunction%")ne=g("async function* () {}");else if(q==="%AsyncGenerator%"){var F=J("%AsyncGeneratorFunction%");F&&(ne=F.prototype)}else if(q==="%AsyncIteratorPrototype%"){var W=J("%AsyncGenerator%");W&&(ne=T(W.prototype))}return S[q]=ne,ne},s={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e(58612),P=e(17642),x=w.call(Function.call,Array.prototype.concat),M=w.call(Function.apply,Array.prototype.splice),N=w.call(Function.call,String.prototype.replace),C=w.call(Function.call,String.prototype.slice),A=w.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,K=function(q){var ne=C(q,0,1),F=C(q,-1);if(ne==="%"&&F!=="%")throw new f("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&ne!=="%")throw new f("invalid intrinsic syntax, expected opening `%`");var W=[];return N(q,k,function(ie,he,ye,fe){W[W.length]=ye?N(fe,L,"$1"):he||ie}),W},Z=function(q,ne){var F=q,W;if(P(s,F)&&(W=s[F],F="%"+W[0]+"%"),P(S,F)){var ie=S[F];if(ie===O&&(ie=d(F)),typeof ie=="undefined"&&!ne)throw new c("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:W,name:F,value:ie}}throw new f("intrinsic "+q+" does not exist!")};z.exports=function(q,ne){if(typeof q!="string"||q.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ne!="boolean")throw new c('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,q)===null)throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=K(q),W=F.length>0?F[0]:"",ie=Z("%"+W+"%",ne),he=ie.name,ye=ie.value,fe=!1,ae=ie.alias;ae&&(W=ae[0],M(F,x([0,1],ae)));for(var oe=1,G=!0;oe<F.length;oe+=1){var re=F[oe],se=C(re,0,1),le=C(re,-1);if((se==='"'||se==="'"||se==="`"||le==='"'||le==="'"||le==="`")&&se!==le)throw new f("property names with quotes must have matching quotes");if((re==="constructor"||!G)&&(fe=!0),W+="."+re,he="%"+W+"%",P(S,he))ye=S[he];else if(ye!=null){if(!(re in ye)){if(!ne)throw new c("base intrinsic for "+q+" exists, but the property is not available.");return}if(v&&oe+1>=F.length){var Ee=v(ye,re);G=!!Ee,G&&"get"in Ee&&!("originalValue"in Ee.get)?ye=Ee.get:ye=ye[re]}else G=P(ye,re),ye=ye[re];G&&!fe&&(S[he]=ye)}}return ye}},41595:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});/*! gettext.js - Guillaume Potier - MIT Licensed */var o=function(u){u=u||{},this&&(this.__version="1.1.1");var c={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(P){return{nplurals:2,plural:P!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},g={isObject:function(P){var x=typeof P;return x==="function"||x==="object"&&!!P},isArray:function(P){return toString.call(P)==="[object Array]"}},v={},E=u.locale||c.locale,y=u.domain||c.domain,p={},T={},O=u.ctxt_delimiter||c.ctxt_delimiter;u.messages&&(p[y]={},p[y][E]=u.messages),u.plural_forms&&(T[E]=u.plural_forms);var I=function(P){var x=arguments;return P.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(M,N){return x[N]}).replace(/%% /g,"%")},S=function(P){if(P.indexOf(O)!==-1){var x=P.split(O);return x[1]}return P},_=function(P){for(var x=[P],M=P.lastIndexOf("-");M>0;)P=P.slice(0,M),x.push(P),M=P.lastIndexOf("-");return x},d=function(P){P=P.replace("_","-");var x=P.search(/[.@]/);return x!=-1&&(P=P.slice(0,x)),P},s=function(P){var x=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!x.test(P))throw new Error(I('The plural form "%1" is not valid',P));return new Function("n","var plural, nplurals; "+P+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},w=function(P,x,M){if(!M.plural_form)return I.apply(this,[S(P[0])].concat(Array.prototype.slice.call(arguments,3)));var N;return M.plural_func?N=M.plural_func(x):(v[E]||(v[E]=s(T[E])),N=v[E](x)),(typeof N.plural=="undefined"||N.plural>N.nplurals||P.length<=N.plural)&&(N.plural=0),I.apply(this,[S(P[N.plural]),x].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:I,expand_locale:_,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(P,x,M,N){if(!P||!x||!M)throw new Error("You must provide a domain, a locale and messages");if(typeof P!="string"||typeof x!="string"||!g.isObject(M))throw new Error("Invalid arguments");return x=d(x),N&&(T[x]=N),p[P]||(p[P]={}),p[P][x]=M,this},loadJSON:function(P,x){if(g.isObject(P)||(P=JSON.parse(P)),!P[""]||!P[""].language||!P[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var M=P[""];return delete P[""],this.setMessages(x||c.domain,M.language,P,M["plural-forms"])},setLocale:function(P){return E=d(P),this},getLocale:function(){return E},textdomain:function(P){return P?(y=P,this):y},gettext:function(P){return this.dcnpgettext.apply(this,[void 0,void 0,P,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(P,x,M){return this.dcnpgettext.apply(this,[void 0,void 0,P,x,M].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(P,x){return this.dcnpgettext.apply(this,[void 0,P,x,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(P,x,M,N,C){if(P=P||y,typeof M!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',M));var A,k={plural_form:!1},L=x?x+O+M:M,K,Z,J=_(E);for(var q in J)if(Z=J[q],K=p[P]&&p[P][Z]&&p[P][Z][L],N?K=K&&typeof p[P][Z][L]!="string":K=K&&typeof p[P][Z][L]=="string",K)break;return K?A=p[P][Z][L]:(A=M,k.plural_func=c.plural_func),N?(k.plural_form=!0,w.apply(this,[K?A:[M,N],C,k].concat(Array.prototype.slice.call(arguments,5)))):w.apply(this,[[A],C,k].concat(Array.prototype.slice.call(arguments,5)))}}};const f=o},41405:(z,l,e)=>{"use strict";var o=typeof Symbol!="undefined"&&Symbol,f=e(55419);z.exports=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:f()}},55419:z=>{"use strict";z.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},o=Symbol("test"),f=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(f)!=="[object Symbol]")return!1;var u=42;e[o]=u;for(o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==o||!Object.prototype.propertyIsEnumerable.call(e,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(e,o);if(g.value!==u||g.enumerable!==!0)return!1}return!0}},17642:(z,l,e)=>{"use strict";var o=e(58612);z.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},36808:(z,l,e)=>{var o,f;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(u){var c=!1;if(o=u,f=typeof o=="function"?o.call(l,e,l,z):o,f!==void 0&&(z.exports=f),c=!0,z.exports=u(),c=!0,!c){var g=window.Cookies,v=window.Cookies=u();v.noConflict=function(){return window.Cookies=g,v}}})(function(){function u(){for(var g=0,v={};g<arguments.length;g++){var E=arguments[g];for(var y in E)v[y]=E[y]}return v}function c(g){function v(E,y,p){var T;if(typeof document!="undefined"){if(arguments.length>1){if(p=u({path:"/"},v.defaults,p),typeof p.expires=="number"){var O=new Date;O.setMilliseconds(O.getMilliseconds()+p.expires*864e5),p.expires=O}p.expires=p.expires?p.expires.toUTCString():"";try{T=JSON.stringify(y),/^[\{\[]/.test(T)&&(y=T)}catch(M){}g.write?y=g.write(y,E):y=encodeURIComponent(String(y)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),E=encodeURIComponent(String(E)),E=E.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),E=E.replace(/[\(\)]/g,escape);var I="";for(var S in p)p[S]&&(I+="; "+S,p[S]!==!0&&(I+="="+p[S]));return document.cookie=E+"="+y+I}E||(T={});for(var _=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,s=0;s<_.length;s++){var w=_[s].split("="),P=w.slice(1).join("=");!this.json&&P.charAt(0)==='"'&&(P=P.slice(1,-1));try{var x=w[0].replace(d,decodeURIComponent);if(P=g.read?g.read(P,x):g(P,x)||P.replace(d,decodeURIComponent),this.json)try{P=JSON.parse(P)}catch(M){}if(E===x){T=P;break}E||(T[x]=P)}catch(M){}}return T}}return v.set=v,v.get=function(E){return v.call(v,E)},v.getJSON=function(){return v.apply({json:!0},[].slice.call(arguments))},v.defaults={},v.remove=function(E,y){v(E,"",u(y,{expires:-1}))},v.withConverter=c,v}return c(function(){})})},3312:z=>{"use strict";const l={},e=l.hasOwnProperty,o=(C,A)=>{for(const k in C)e.call(C,k)&&A(k,C[k])},f=(C,A)=>(A&&o(A,(k,L)=>{C[k]=L}),C),u=(C,A)=>{const k=C.length;let L=-1;for(;++L<k;)A(C[L])},c=C=>"\\u"+("0000"+C).slice(-4),g=(C,A)=>{let k=C.toString(16);return A?k:k.toUpperCase()},v=l.toString,E=Array.isArray,y=C=>typeof Buffer=="function"&&Buffer.isBuffer(C),p=C=>v.call(C)=="[object Object]",T=C=>typeof C=="string"||v.call(C)=="[object String]",O=C=>typeof C=="number"||v.call(C)=="[object Number]",I=C=>typeof C=="function",S=C=>v.call(C)=="[object Map]",_=C=>v.call(C)=="[object Set]",d={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},s=/[\\\b\f\n\r\t]/,w=/[0-9]/,P=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,x=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,M=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,N=(C,A)=>{const k=()=>{F=ne,++A.indentLevel,ne=A.indent.repeat(A.indentLevel)},L={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},K=A&&A.json;K&&(L.quotes="double",L.wrap=!0),A=f(L,A),A.quotes!="single"&&A.quotes!="double"&&A.quotes!="backtick"&&(A.quotes="single");const Z=A.quotes=="double"?'"':A.quotes=="backtick"?"`":"'",J=A.compact,q=A.lowercaseHex;let ne=A.indent.repeat(A.indentLevel),F="";const W=A.__inline1__,ie=A.__inline2__,he=J?"":`
`;let ye,fe=!0;const ae=A.numbers=="binary",oe=A.numbers=="octal",G=A.numbers=="decimal",re=A.numbers=="hexadecimal";if(K&&C&&I(C.toJSON)&&(C=C.toJSON()),!T(C)){if(S(C))return C.size==0?"new Map()":(J||(A.__inline1__=!0,A.__inline2__=!1),"new Map("+N(Array.from(C),A)+")");if(_(C))return C.size==0?"new Set()":"new Set("+N(Array.from(C),A)+")";if(y(C))return C.length==0?"Buffer.from([])":"Buffer.from("+N(Array.from(C),A)+")";if(E(C))return ye=[],A.wrap=!0,W&&(A.__inline1__=!1,A.__inline2__=!0),ie||k(),u(C,le=>{fe=!1,ie&&(A.__inline2__=!1),ye.push((J||ie?"":ne)+N(le,A))}),fe?"[]":ie?"["+ye.join(", ")+"]":"["+he+ye.join(","+he)+he+(J?"":F)+"]";if(O(C)){if(K)return JSON.stringify(C);if(G)return String(C);if(re){let le=C.toString(16);return q||(le=le.toUpperCase()),"0x"+le}if(ae)return"0b"+C.toString(2);if(oe)return"0o"+C.toString(8)}else return p(C)?(ye=[],A.wrap=!0,k(),o(C,(le,Ee)=>{fe=!1,ye.push((J?"":ne)+N(le,A)+":"+(J?"":" ")+N(Ee,A))}),fe?"{}":"{"+he+ye.join(","+he)+he+(J?"":F)+"}"):K?JSON.stringify(C)||"null":String(C)}const se=A.escapeEverything?x:M;return ye=C.replace(se,(le,Ee,ve,pe,me,Ie)=>{if(Ee){if(A.minimal)return Ee;const de=Ee.charCodeAt(0),Re=Ee.charCodeAt(1);if(A.es6){const ke=(de-55296)*1024+Re-56320+65536;return"\\u{"+g(ke,q)+"}"}return c(g(de,q))+c(g(Re,q))}if(ve)return c(g(ve.charCodeAt(0),q));if(le=="\0"&&!K&&!w.test(Ie.charAt(me+1)))return"\\0";if(pe)return pe==Z||A.escapeEverything?"\\"+pe:pe;if(s.test(le))return d[le];if(A.minimal&&!P.test(le))return le;const _e=g(le.charCodeAt(0),q);return K||_e.length>2?c(_e):"\\x"+("00"+_e).slice(-2)}),Z=="`"&&(ye=ye.replace(/\$\{/g,"\\${")),A.isScriptContext&&(ye=ye.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,K?"\\u003C!--":"\\x3C!--")),A.wrap&&(ye=Z+ye+Z),ye};N.version="3.0.2",z.exports=N},23059:(z,l)=>{function e(o){if(typeof o!="object")return o;var f,u,c=Object.prototype.toString.call(o);if(c==="[object Object]"){if(o.constructor!==Object&&typeof o.constructor=="function"){u=new o.constructor;for(f in o)o.hasOwnProperty(f)&&u[f]!==o[f]&&(u[f]=e(o[f]))}else{u={};for(f in o)f==="__proto__"?Object.defineProperty(u,f,{value:e(o[f]),configurable:!0,enumerable:!0,writable:!0}):u[f]=e(o[f])}return u}if(c==="[object Array]"){for(f=o.length,u=Array(f);f--;)u[f]=e(o[f]);return u}return c==="[object Set]"?(u=new Set,o.forEach(function(g){u.add(e(g))}),u):c==="[object Map]"?(u=new Map,o.forEach(function(g,v){u.set(e(v),e(g))}),u):c==="[object Date]"?new Date(+o):c==="[object RegExp]"?(u=new RegExp(o.source,o.flags),u.lastIndex=o.lastIndex,u):c==="[object DataView]"?new o.constructor(e(o.buffer)):c==="[object ArrayBuffer]"?o.slice(0):c.slice(-6)==="Array]"?new o.constructor(o):o}l.klona=e},25235:(z,l,e)=>{z.exports=e(8425)},87100:(z,l,e)=>{"use strict";var o;o=!0;var f=e(98661),u=E(f),c=e(8425),g=v(c);function v(s){if(s&&s.__esModule)return s;var w={};if(s!=null)for(var P in s)Object.prototype.hasOwnProperty.call(s,P)&&(w[P]=s[P]);return w.default=s,w}function E(s){return s&&s.__esModule?s:{default:s}}function y(s,w){if(!(s instanceof w))throw new TypeError("Cannot call a class as a function")}function p(s,w){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:s}function T(s,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);s.prototype=Object.create(w&&w.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(s,w):s.__proto__=w)}var O=g.options,I=O.Options;function S(s,w){for(var P=g.tokenize(s),x=[],M=0,N=0;N<P.length;N++){var C=P[N];if(C.type==="nl"&&w.nl2br){x.push(u.default.createElement("br",{key:"linkified-"+ ++M}));continue}else if(!C.isLink||!w.check(C)){x.push(C.toString());continue}var A=w.resolve(C),k=A.formatted,L=A.formattedHref,K=A.tagName,Z=A.className,J=A.target,q=A.attributes,ne={key:"linkified-"+ ++M,href:L};if(Z&&(ne.className=Z),J&&(ne.target=J),q)for(var F in q)ne[F]=q[F];x.push(u.default.createElement(K,ne,k))}return x}function _(s,w){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(u.default.Children.count(s.props.children)===0)return s;var x=[];u.default.Children.forEach(s.props.children,function(C){typeof C=="string"?(P=P+1,x.push.apply(x,S(C,w))):u.default.isValidElement(C)?typeof C.type=="string"&&O.contains(w.ignoreTags,C.type.toUpperCase())?x.push(C):x.push(_(C,w,++P)):x.push(C)});var M={key:"linkified-element-"+P};for(var N in s.props)M[N]=s.props[N];return u.default.cloneElement(s,M,x)}var d=function(s){T(w,s);function w(){return y(this,w),p(this,s.apply(this,arguments))}return w.prototype.render=function(){var x={key:"linkified-element-0"};for(var M in this.props)M!=="options"&&M!=="tagName"&&(x[M]=this.props[M]);var N=new I(this.props.options),C=this.props.tagName||"span",A=u.default.createElement(C,x);return _(A,N,0)},w}(u.default.Component);l.default=d},8425:(z,l,e)=>{"use strict";l.__esModule=!0,l.tokenize=l.test=l.scanner=l.parser=l.options=l.inherits=l.find=void 0;var o=e(72227),f=e(47951),u=y(f),c=e(6417),g=y(c),v=e(45788),E=y(v);function y(I){if(I&&I.__esModule)return I;var S={};if(I!=null)for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(S[_]=I[_]);return S.default=I,S}Array.isArray||(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"});var p=function(S){return E.run(g.run(S))},T=function(S){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=p(S),s=[],w=0;w<d.length;w++){var P=d[w];P.isLink&&(!_||P.type===_)&&s.push(P.toObject())}return s},O=function(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=p(S);return d.length===1&&d[0].isLink&&(!_||d[0].type===_)};l.find=T,l.inherits=o.inherits,l.options=u,l.parser=E,l.scanner=g,l.test=O,l.tokenize=p},45788:(z,l,e)=>{"use strict";l.__esModule=!0,l.start=l.run=l.TOKENS=l.State=void 0;var o=e(25439),f=e(23370),u=g(f),c=e(63333);function g(me){if(me&&me.__esModule)return me;var Ie={};if(me!=null)for(var _e in me)Object.prototype.hasOwnProperty.call(me,_e)&&(Ie[_e]=me[_e]);return Ie.default=me,Ie}var v=function(Ie){return new o.TokenState(Ie)},E=v(),y=v(),p=v(),T=v(),O=v(),I=v(),S=v(),_=v(f.URL),d=v(),s=v(f.URL),w=v(f.URL),P=v(),x=v(),M=v(),N=v(),C=v(),A=v(f.URL),k=v(f.URL),L=v(f.URL),K=v(f.URL),Z=v(),J=v(),q=v(),ne=v(),F=v(),W=v(),ie=v(f.EMAIL),he=v(),ye=v(f.EMAIL),fe=v(f.MAILTOEMAIL),ae=v(),oe=v(),G=v(),re=v(),se=v(f.NL);E.on(c.NL,se).on(c.PROTOCOL,y).on(c.MAILTO,p).on(c.SLASH,T),y.on(c.SLASH,T),T.on(c.SLASH,O),E.on(c.TLD,I).on(c.DOMAIN,I).on(c.LOCALHOST,_).on(c.NUM,I),O.on(c.TLD,w).on(c.DOMAIN,w).on(c.NUM,w).on(c.LOCALHOST,w),I.on(c.DOT,S),F.on(c.DOT,W),S.on(c.TLD,_).on(c.DOMAIN,I).on(c.NUM,I).on(c.LOCALHOST,I),W.on(c.TLD,ie).on(c.DOMAIN,F).on(c.NUM,F).on(c.LOCALHOST,F),_.on(c.DOT,S),ie.on(c.DOT,W),_.on(c.COLON,d).on(c.SLASH,w),d.on(c.NUM,s),s.on(c.SLASH,w),ie.on(c.COLON,he),he.on(c.NUM,ye);var le=[c.DOMAIN,c.AT,c.LOCALHOST,c.NUM,c.PLUS,c.POUND,c.PROTOCOL,c.SLASH,c.TLD,c.UNDERSCORE,c.SYM,c.AMPERSAND],Ee=[c.COLON,c.DOT,c.QUERY,c.PUNCTUATION,c.CLOSEBRACE,c.CLOSEBRACKET,c.CLOSEANGLEBRACKET,c.CLOSEPAREN,c.OPENBRACE,c.OPENBRACKET,c.OPENANGLEBRACKET,c.OPENPAREN];w.on(c.OPENBRACE,x).on(c.OPENBRACKET,M).on(c.OPENANGLEBRACKET,N).on(c.OPENPAREN,C),P.on(c.OPENBRACE,x).on(c.OPENBRACKET,M).on(c.OPENANGLEBRACKET,N).on(c.OPENPAREN,C),x.on(c.CLOSEBRACE,w),M.on(c.CLOSEBRACKET,w),N.on(c.CLOSEANGLEBRACKET,w),C.on(c.CLOSEPAREN,w),A.on(c.CLOSEBRACE,w),k.on(c.CLOSEBRACKET,w),L.on(c.CLOSEANGLEBRACKET,w),K.on(c.CLOSEPAREN,w),Z.on(c.CLOSEBRACE,w),J.on(c.CLOSEBRACKET,w),q.on(c.CLOSEANGLEBRACKET,w),ne.on(c.CLOSEPAREN,w),x.on(le,A),M.on(le,k),N.on(le,L),C.on(le,K),x.on(Ee,Z),M.on(Ee,J),N.on(Ee,q),C.on(Ee,ne),A.on(le,A),k.on(le,k),L.on(le,L),K.on(le,K),A.on(Ee,A),k.on(Ee,k),L.on(Ee,L),K.on(Ee,K),Z.on(le,A),J.on(le,k),q.on(le,L),ne.on(le,K),Z.on(Ee,Z),J.on(Ee,J),q.on(Ee,q),ne.on(Ee,ne),w.on(le,w),P.on(le,w),w.on(Ee,P),P.on(Ee,P),p.on(c.TLD,fe).on(c.DOMAIN,fe).on(c.NUM,fe).on(c.LOCALHOST,fe),fe.on(le,fe).on(Ee,ae),ae.on(le,fe).on(Ee,ae);var ve=[c.DOMAIN,c.NUM,c.PLUS,c.POUND,c.QUERY,c.UNDERSCORE,c.SYM,c.AMPERSAND,c.TLD];I.on(ve,oe).on(c.AT,G),_.on(ve,oe).on(c.AT,G),S.on(ve,oe),oe.on(ve,oe).on(c.AT,G).on(c.DOT,re),re.on(ve,oe),G.on(c.TLD,F).on(c.DOMAIN,F).on(c.LOCALHOST,ie);var pe=function(Ie){for(var _e=Ie.length,de=0,Re=[],ke=[];de<_e;){for(var Ve=E,Ge=null,Qe=null,bt=0,Ce=null,We=-1;de<_e&&!(Ge=Ve.next(Ie[de]));)ke.push(Ie[de++]);for(;de<_e&&(Qe=Ge||Ve.next(Ie[de]));)Ge=null,Ve=Qe,Ve.accepts()?(We=0,Ce=Ve):We>=0&&We++,de++,bt++;if(We<0)for(var xe=de-bt;xe<de;xe++)ke.push(Ie[xe]);else{ke.length>0&&(Re.push(new f.TEXT(ke)),ke=[]),de-=We,bt-=We;var rt=Ce.emit();Re.push(new rt(Ie.slice(de-bt,de)))}}return ke.length>0&&Re.push(new f.TEXT(ke)),Re};l.State=o.TokenState,l.TOKENS=u,l.run=pe,l.start=E},6417:(z,l,e)=>{"use strict";l.__esModule=!0,l.start=l.run=l.TOKENS=l.State=void 0;var o=e(25439),f=e(63333),u=c(f);function c(ie){if(ie&&ie.__esModule)return ie;var he={};if(ie!=null)for(var ye in ie)Object.prototype.hasOwnProperty.call(ie,ye)&&(he[ye]=ie[ye]);return he.default=ie,he}var g="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),v="0123456789".split(""),E="0123456789abcdefghijklmnopqrstuvwxyz".split(""),y=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],p=[],T=function(he){return new o.CharacterState(he)},O=T(),I=T(f.NUM),S=T(f.DOMAIN),_=T(),d=T(f.WS);O.on("@",T(f.AT)).on(".",T(f.DOT)).on("+",T(f.PLUS)).on("#",T(f.POUND)).on("?",T(f.QUERY)).on("/",T(f.SLASH)).on("_",T(f.UNDERSCORE)).on(":",T(f.COLON)).on("{",T(f.OPENBRACE)).on("[",T(f.OPENBRACKET)).on("<",T(f.OPENANGLEBRACKET)).on("(",T(f.OPENPAREN)).on("}",T(f.CLOSEBRACE)).on("]",T(f.CLOSEBRACKET)).on(">",T(f.CLOSEANGLEBRACKET)).on(")",T(f.CLOSEPAREN)).on("&",T(f.AMPERSAND)).on([",",";","!",'"',"'"],T(f.PUNCTUATION)),O.on(`
`,T(f.NL)).on(y,d),d.on(y,d);for(var s=0;s<g.length;s++){var w=(0,o.stateify)(g[s],O,f.TLD,f.DOMAIN);p.push.apply(p,w)}var P=(0,o.stateify)("file",O,f.DOMAIN,f.DOMAIN),x=(0,o.stateify)("ftp",O,f.DOMAIN,f.DOMAIN),M=(0,o.stateify)("http",O,f.DOMAIN,f.DOMAIN),N=(0,o.stateify)("mailto",O,f.DOMAIN,f.DOMAIN);p.push.apply(p,P),p.push.apply(p,x),p.push.apply(p,M),p.push.apply(p,N);var C=P.pop(),A=x.pop(),k=M.pop(),L=N.pop(),K=T(f.DOMAIN),Z=T(f.PROTOCOL),J=T(f.MAILTO);A.on("s",K).on(":",Z),k.on("s",K).on(":",Z),p.push(K),C.on(":",Z),K.on(":",Z),L.on(":",J);var q=(0,o.stateify)("localhost",O,f.LOCALHOST,f.DOMAIN);p.push.apply(p,q),O.on(v,I),I.on("-",_).on(v,I).on(E,S),S.on("-",_).on(E,S);for(var ne=0;ne<p.length;ne++)p[ne].on("-",_).on(E,S);_.on("-",_).on(v,S).on(E,S),O.defaultTransition=T(f.SYM);var F=function(he){for(var ye=he.replace(/[A-Z]/g,function(pe){return pe.toLowerCase()}),fe=he.length,ae=[],oe=0;oe<fe;){for(var G=O,re=null,se=0,le=null,Ee=-1;oe<fe&&(re=G.next(ye[oe]));)G=re,G.accepts()?(Ee=0,le=G):Ee>=0&&Ee++,se++,oe++;if(!(Ee<0)){oe-=Ee,se-=Ee;var ve=le.emit();ae.push(new ve(he.substr(oe-se,se)))}}return ae},W=O;l.State=o.CharacterState,l.TOKENS=u,l.run=F,l.start=W},25439:(z,l,e)=>{"use strict";l.__esModule=!0,l.stateify=l.TokenState=l.CharacterState=void 0;var o=e(72227);function f(){return function(E){this.j=[],this.T=E||null}}var u=f();u.prototype={defaultTransition:!1,on:function(y,p){if(y instanceof Array){for(var T=0;T<y.length;T++)this.j.push([y[T],p]);return this}return this.j.push([y,p]),this},next:function(y){for(var p=0;p<this.j.length;p++){var T=this.j[p],O=T[0],I=T[1];if(this.test(y,O))return I}return this.defaultTransition},accepts:function(){return!!this.T},test:function(y,p){return y===p},emit:function(){return this.T}};var c=(0,o.inherits)(u,f(),{test:function(y,p){return y===p||p instanceof RegExp&&p.test(y)}}),g=(0,o.inherits)(u,f(),{jump:function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=this.next(new y(""));return T===this.defaultTransition?(T=new this.constructor(p),this.on(y,T)):p&&(T.T=p),T},test:function(y,p){return y instanceof p}});function v(E,y,p,T){for(var O=0,I=E.length,S=y,_=[],d=void 0;O<I&&(d=S.next(E[O]));)S=d,O++;if(O>=I)return[];for(;O<I-1;)d=new c(T),_.push(d),S.on(E[O],d),S=d,O++;return d=new c(p),_.push(d),S.on(E[I-1],d),_}l.CharacterState=c,l.TokenState=g,l.stateify=v},9770:(z,l)=>{"use strict";l.__esModule=!0;function e(){return function(o){o&&(this.v=o)}}l.createTokenClass=e},23370:(z,l,e)=>{"use strict";l.__esModule=!0,l.URL=l.TEXT=l.NL=l.EMAIL=l.MAILTOEMAIL=l.Base=void 0;var o=e(9770),f=e(72227),u=e(63333);function c(O){return O instanceof u.DOMAIN||O instanceof u.TLD}var g=(0,o.createTokenClass)();g.prototype={type:"token",isLink:!1,toString:function(){for(var I=[],S=0;S<this.v.length;S++)I.push(this.v[S].toString());return I.join("")},toHref:function(){return this.toString()},toObject:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(I)}}};var v=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0}),E=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),y=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"text"}),p=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"nl"}),T=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",S=!1,_=!1,d=this.v,s=[],w=0;d[w]instanceof u.PROTOCOL;)S=!0,s.push(d[w].toString().toLowerCase()),w++;for(;d[w]instanceof u.SLASH;)_=!0,s.push(d[w].toString()),w++;for(;c(d[w]);)s.push(d[w].toString().toLowerCase()),w++;for(;w<d.length;w++)s.push(d[w].toString());return s=s.join(""),S||_||(s=I+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof u.PROTOCOL}});l.Base=g,l.MAILTOEMAIL=v,l.EMAIL=E,l.NL=p,l.TEXT=y,l.URL=T},63333:(z,l,e)=>{"use strict";l.__esModule=!0,l.AMPERSAND=l.CLOSEPAREN=l.CLOSEANGLEBRACKET=l.CLOSEBRACKET=l.CLOSEBRACE=l.OPENPAREN=l.OPENANGLEBRACKET=l.OPENBRACKET=l.OPENBRACE=l.WS=l.TLD=l.SYM=l.UNDERSCORE=l.SLASH=l.MAILTO=l.PROTOCOL=l.QUERY=l.POUND=l.PLUS=l.NUM=l.NL=l.LOCALHOST=l.PUNCTUATION=l.DOT=l.COLON=l.AT=l.DOMAIN=l.Base=void 0;var o=e(9770),f=e(72227),u=(0,o.createTokenClass)();u.prototype={toString:function(){return this.v+""}};function c(W){var ie=W?{v:W}:{};return(0,f.inherits)(u,(0,o.createTokenClass)(),ie)}var g=c(),v=c("@"),E=c(":"),y=c("."),p=c(),T=c(),O=c(`
`),I=c(),S=c("+"),_=c("#"),d=c(),s=c("mailto:"),w=c("?"),P=c("/"),x=c("_"),M=c(),N=c(),C=c(),A=c("{"),k=c("["),L=c("<"),K=c("("),Z=c("}"),J=c("]"),q=c(">"),ne=c(")"),F=c("&");l.Base=u,l.DOMAIN=g,l.AT=v,l.COLON=E,l.DOT=y,l.PUNCTUATION=p,l.LOCALHOST=T,l.NL=O,l.NUM=I,l.PLUS=S,l.POUND=_,l.QUERY=w,l.PROTOCOL=d,l.MAILTO=s,l.SLASH=P,l.UNDERSCORE=x,l.SYM=M,l.TLD=N,l.WS=C,l.OPENBRACE=A,l.OPENBRACKET=k,l.OPENANGLEBRACKET=L,l.OPENPAREN=K,l.CLOSEBRACE=Z,l.CLOSEBRACKET=J,l.CLOSEANGLEBRACKET=q,l.CLOSEPAREN=ne,l.AMPERSAND=F},72227:(z,l)=>{"use strict";l.__esModule=!0,l.inherits=e;function e(o,f){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=Object.create(o.prototype);for(var g in u)c[g]=u[g];return c.constructor=f,f.prototype=c,f}},47951:(z,l)=>{"use strict";l.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o={defaultProtocol:"http",events:null,format:c,formatHref:c,nl2br:!1,tagName:"a",target:g,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};l.defaults=o,l.Options=f,l.contains=u;function f(v){v=v||{},this.defaultProtocol=v.hasOwnProperty("defaultProtocol")?v.defaultProtocol:o.defaultProtocol,this.events=v.hasOwnProperty("events")?v.events:o.events,this.format=v.hasOwnProperty("format")?v.format:o.format,this.formatHref=v.hasOwnProperty("formatHref")?v.formatHref:o.formatHref,this.nl2br=v.hasOwnProperty("nl2br")?v.nl2br:o.nl2br,this.tagName=v.hasOwnProperty("tagName")?v.tagName:o.tagName,this.target=v.hasOwnProperty("target")?v.target:o.target,this.validate=v.hasOwnProperty("validate")?v.validate:o.validate,this.ignoreTags=[],this.attributes=v.attributes||v.linkAttributes||o.attributes,this.className=v.hasOwnProperty("className")?v.className:v.linkClass||o.className;for(var E=v.hasOwnProperty("ignoreTags")?v.ignoreTags:o.ignoreTags,y=0;y<E.length;y++)this.ignoreTags.push(E[y].toUpperCase())}f.prototype={resolve:function(E){var y=E.toHref(this.defaultProtocol);return{formatted:this.get("format",E.toString(),E),formattedHref:this.get("formatHref",y,E),tagName:this.get("tagName",y,E),className:this.get("className",y,E),target:this.get("target",y,E),events:this.getObject("events",y,E),attributes:this.getObject("attributes",y,E)}},check:function(E){return this.get("validate",E.toString(),E)},get:function(E,y,p){var T=void 0,O=this[E];if(!O)return O;switch(typeof O=="undefined"?"undefined":e(O)){case"function":return O(y,p.type);case"object":return T=O.hasOwnProperty(p.type)?O[p.type]:o[E],typeof T=="function"?T(y,p.type):T}return O},getObject:function(E,y,p){var T=this[E];return typeof T=="function"?T(y,p.type):T}};function u(v,E){for(var y=0;y<v.length;y++)if(v[y]===E)return!0;return!1}function c(v){return v}function g(v,E){return E==="url"?"_blank":null}},28175:(z,l,e)=>{z.exports=e(87100).default},18552:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"DataView");z.exports=u},1989:(z,l,e)=>{var o=e(51789),f=e(80401),u=e(57667),c=e(21327),g=e(81866);function v(E){var y=-1,p=E==null?0:E.length;for(this.clear();++y<p;){var T=E[y];this.set(T[0],T[1])}}v.prototype.clear=o,v.prototype.delete=f,v.prototype.get=u,v.prototype.has=c,v.prototype.set=g,z.exports=v},38407:(z,l,e)=>{var o=e(27040),f=e(14125),u=e(82117),c=e(67518),g=e(54705);function v(E){var y=-1,p=E==null?0:E.length;for(this.clear();++y<p;){var T=E[y];this.set(T[0],T[1])}}v.prototype.clear=o,v.prototype.delete=f,v.prototype.get=u,v.prototype.has=c,v.prototype.set=g,z.exports=v},57071:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"Map");z.exports=u},83369:(z,l,e)=>{var o=e(24785),f=e(11285),u=e(96e3),c=e(49916),g=e(95265);function v(E){var y=-1,p=E==null?0:E.length;for(this.clear();++y<p;){var T=E[y];this.set(T[0],T[1])}}v.prototype.clear=o,v.prototype.delete=f,v.prototype.get=u,v.prototype.has=c,v.prototype.set=g,z.exports=v},53818:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"Promise");z.exports=u},58525:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"Set");z.exports=u},88668:(z,l,e)=>{var o=e(83369),f=e(90619),u=e(72385);function c(g){var v=-1,E=g==null?0:g.length;for(this.__data__=new o;++v<E;)this.add(g[v])}c.prototype.add=c.prototype.push=f,c.prototype.has=u,z.exports=c},46384:(z,l,e)=>{var o=e(38407),f=e(37465),u=e(63779),c=e(67599),g=e(44758),v=e(34309);function E(y){var p=this.__data__=new o(y);this.size=p.size}E.prototype.clear=f,E.prototype.delete=u,E.prototype.get=c,E.prototype.has=g,E.prototype.set=v,z.exports=E},62705:(z,l,e)=>{var o=e(55639),f=o.Symbol;z.exports=f},11149:(z,l,e)=>{var o=e(55639),f=o.Uint8Array;z.exports=f},70577:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"WeakMap");z.exports=u},96874:z=>{function l(e,o,f){switch(f.length){case 0:return e.call(o);case 1:return e.call(o,f[0]);case 2:return e.call(o,f[0],f[1]);case 3:return e.call(o,f[0],f[1],f[2])}return e.apply(o,f)}z.exports=l},44174:z=>{function l(e,o,f,u){for(var c=-1,g=e==null?0:e.length;++c<g;){var v=e[c];o(u,v,f(v),e)}return u}z.exports=l},34963:z=>{function l(e,o){for(var f=-1,u=e==null?0:e.length,c=0,g=[];++f<u;){var v=e[f];o(v,f,e)&&(g[c++]=v)}return g}z.exports=l},47443:(z,l,e)=>{var o=e(42118);function f(u,c){var g=u==null?0:u.length;return!!g&&o(u,c,0)>-1}z.exports=f},1196:z=>{function l(e,o,f){for(var u=-1,c=e==null?0:e.length;++u<c;)if(f(o,e[u]))return!0;return!1}z.exports=l},14636:(z,l,e)=>{var o=e(22545),f=e(35694),u=e(1469),c=e(44144),g=e(65776),v=e(36719),E=Object.prototype,y=E.hasOwnProperty;function p(T,O){var I=u(T),S=!I&&f(T),_=!I&&!S&&c(T),d=!I&&!S&&!_&&v(T),s=I||S||_||d,w=s?o(T.length,String):[],P=w.length;for(var x in T)(O||y.call(T,x))&&!(s&&(x=="length"||_&&(x=="offset"||x=="parent")||d&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||g(x,P)))&&w.push(x);return w}z.exports=p},29932:z=>{function l(e,o){for(var f=-1,u=e==null?0:e.length,c=Array(u);++f<u;)c[f]=o(e[f],f,e);return c}z.exports=l},62488:z=>{function l(e,o){for(var f=-1,u=o.length,c=e.length;++f<u;)e[c+f]=o[f];return e}z.exports=l},82908:z=>{function l(e,o){for(var f=-1,u=e==null?0:e.length;++f<u;)if(o(e[f],f,e))return!0;return!1}z.exports=l},44286:z=>{function l(e){return e.split("")}z.exports=l},34865:(z,l,e)=>{var o=e(89465),f=e(77813),u=Object.prototype,c=u.hasOwnProperty;function g(v,E,y){var p=v[E];(!(c.call(v,E)&&f(p,y))||y===void 0&&!(E in v))&&o(v,E,y)}z.exports=g},18470:(z,l,e)=>{var o=e(77813);function f(u,c){for(var g=u.length;g--;)if(o(u[g][0],c))return g;return-1}z.exports=f},81119:(z,l,e)=>{var o=e(89881);function f(u,c,g,v){return o(u,function(E,y,p){c(v,E,g(E),p)}),v}z.exports=f},89465:(z,l,e)=>{var o=e(38777);function f(u,c,g){c=="__proto__"&&o?o(u,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[c]=g}z.exports=f},20731:(z,l,e)=>{var o=e(88668),f=e(47443),u=e(1196),c=e(29932),g=e(7518),v=e(74757),E=200;function y(p,T,O,I){var S=-1,_=f,d=!0,s=p.length,w=[],P=T.length;if(!s)return w;O&&(T=c(T,g(O))),I?(_=u,d=!1):T.length>=E&&(_=v,d=!1,T=new o(T));e:for(;++S<s;){var x=p[S],M=O==null?x:O(x);if(x=I||x!==0?x:0,d&&M===M){for(var N=P;N--;)if(T[N]===M)continue e;w.push(x)}else _(T,M,I)||w.push(x)}return w}z.exports=y},89881:(z,l,e)=>{var o=e(47816),f=e(99291),u=f(o);z.exports=u},56029:(z,l,e)=>{var o=e(33448);function f(u,c,g){for(var v=-1,E=u.length;++v<E;){var y=u[v],p=c(y);if(p!=null&&(T===void 0?p===p&&!o(p):g(p,T)))var T=p,O=y}return O}z.exports=f},41848:z=>{function l(e,o,f,u){for(var c=e.length,g=f+(u?1:-1);u?g--:++g<c;)if(o(e[g],g,e))return g;return-1}z.exports=l},21078:(z,l,e)=>{var o=e(62488),f=e(37285);function u(c,g,v,E,y){var p=-1,T=c.length;for(v||(v=f),y||(y=[]);++p<T;){var O=c[p];g>0&&v(O)?g>1?u(O,g-1,v,E,y):o(y,O):E||(y[y.length]=O)}return y}z.exports=u},28483:(z,l,e)=>{var o=e(25063),f=o();z.exports=f},47816:(z,l,e)=>{var o=e(28483),f=e(3674);function u(c,g){return c&&o(c,g,f)}z.exports=u},97786:(z,l,e)=>{var o=e(71811),f=e(40327);function u(c,g){g=o(g,c);for(var v=0,E=g.length;c!=null&&v<E;)c=c[f(g[v++])];return v&&v==E?c:void 0}z.exports=u},68866:(z,l,e)=>{var o=e(62488),f=e(1469);function u(c,g,v){var E=g(c);return f(c)?E:o(E,v(c))}z.exports=u},44239:(z,l,e)=>{var o=e(62705),f=e(89607),u=e(2333),c="[object Null]",g="[object Undefined]",v=o?o.toStringTag:void 0;function E(y){return y==null?y===void 0?g:c:v&&v in Object(y)?f(y):u(y)}z.exports=E},53325:z=>{function l(e,o){return e>o}z.exports=l},13:z=>{function l(e,o){return e!=null&&o in Object(e)}z.exports=l},42118:(z,l,e)=>{var o=e(41848),f=e(62722),u=e(42351);function c(g,v,E){return v===v?u(g,v,E):o(g,f,E)}z.exports=c},9454:(z,l,e)=>{var o=e(44239),f=e(37005),u="[object Arguments]";function c(g){return f(g)&&o(g)==u}z.exports=c},90939:(z,l,e)=>{var o=e(2492),f=e(37005);function u(c,g,v,E,y){return c===g?!0:c==null||g==null||!f(c)&&!f(g)?c!==c&&g!==g:o(c,g,v,E,u,y)}z.exports=u},2492:(z,l,e)=>{var o=e(46384),f=e(67114),u=e(18351),c=e(16096),g=e(64160),v=e(1469),E=e(44144),y=e(36719),p=1,T="[object Arguments]",O="[object Array]",I="[object Object]",S=Object.prototype,_=S.hasOwnProperty;function d(s,w,P,x,M,N){var C=v(s),A=v(w),k=C?O:g(s),L=A?O:g(w);k=k==T?I:k,L=L==T?I:L;var K=k==I,Z=L==I,J=k==L;if(J&&E(s)){if(!E(w))return!1;C=!0,K=!1}if(J&&!K)return N||(N=new o),C||y(s)?f(s,w,P,x,M,N):u(s,w,k,P,x,M,N);if(!(P&p)){var q=K&&_.call(s,"__wrapped__"),ne=Z&&_.call(w,"__wrapped__");if(q||ne){var F=q?s.value():s,W=ne?w.value():w;return N||(N=new o),M(F,W,P,x,N)}}return J?(N||(N=new o),c(s,w,P,x,M,N)):!1}z.exports=d},2958:(z,l,e)=>{var o=e(46384),f=e(90939),u=1,c=2;function g(v,E,y,p){var T=y.length,O=T,I=!p;if(v==null)return!O;for(v=Object(v);T--;){var S=y[T];if(I&&S[2]?S[1]!==v[S[0]]:!(S[0]in v))return!1}for(;++T<O;){S=y[T];var _=S[0],d=v[_],s=S[1];if(I&&S[2]){if(d===void 0&&!(_ in v))return!1}else{var w=new o;if(p)var P=p(d,s,_,v,E,w);if(!(P===void 0?f(s,d,u|c,p,w):P))return!1}}return!0}z.exports=g},62722:z=>{function l(e){return e!==e}z.exports=l},28458:(z,l,e)=>{var o=e(23560),f=e(15346),u=e(13218),c=e(80346),g=/[\\^$.*+?()[\]{}|]/g,v=/^\[object .+?Constructor\]$/,E=Function.prototype,y=Object.prototype,p=E.toString,T=y.hasOwnProperty,O=RegExp("^"+p.call(T).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I(S){if(!u(S)||f(S))return!1;var _=o(S)?O:v;return _.test(c(S))}z.exports=I},38749:(z,l,e)=>{var o=e(44239),f=e(41780),u=e(37005),c="[object Arguments]",g="[object Array]",v="[object Boolean]",E="[object Date]",y="[object Error]",p="[object Function]",T="[object Map]",O="[object Number]",I="[object Object]",S="[object RegExp]",_="[object Set]",d="[object String]",s="[object WeakMap]",w="[object ArrayBuffer]",P="[object DataView]",x="[object Float32Array]",M="[object Float64Array]",N="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",L="[object Uint8ClampedArray]",K="[object Uint16Array]",Z="[object Uint32Array]",J={};J[x]=J[M]=J[N]=J[C]=J[A]=J[k]=J[L]=J[K]=J[Z]=!0,J[c]=J[g]=J[w]=J[v]=J[P]=J[E]=J[y]=J[p]=J[T]=J[O]=J[I]=J[S]=J[_]=J[d]=J[s]=!1;function q(ne){return u(ne)&&f(ne.length)&&!!J[o(ne)]}z.exports=q},67206:(z,l,e)=>{var o=e(91573),f=e(16432),u=e(6557),c=e(1469),g=e(39601);function v(E){return typeof E=="function"?E:E==null?u:typeof E=="object"?c(E)?f(E[0],E[1]):o(E):g(E)}z.exports=v},280:(z,l,e)=>{var o=e(25726),f=e(86916),u=Object.prototype,c=u.hasOwnProperty;function g(v){if(!o(v))return f(v);var E=[];for(var y in Object(v))c.call(v,y)&&y!="constructor"&&E.push(y);return E}z.exports=g},69199:(z,l,e)=>{var o=e(89881),f=e(98612);function u(c,g){var v=-1,E=f(c)?Array(c.length):[];return o(c,function(y,p,T){E[++v]=g(y,p,T)}),E}z.exports=u},91573:(z,l,e)=>{var o=e(2958),f=e(1499),u=e(42634);function c(g){var v=f(g);return v.length==1&&v[0][2]?u(v[0][0],v[0][1]):function(E){return E===g||o(E,g,v)}}z.exports=c},16432:(z,l,e)=>{var o=e(90939),f=e(27361),u=e(79095),c=e(15403),g=e(89162),v=e(42634),E=e(40327),y=1,p=2;function T(O,I){return c(O)&&g(I)?v(E(O),I):function(S){var _=f(S,O);return _===void 0&&_===I?u(S,O):o(I,_,y|p)}}z.exports=T},82689:(z,l,e)=>{var o=e(29932),f=e(97786),u=e(67206),c=e(69199),g=e(71131),v=e(7518),E=e(85022),y=e(6557),p=e(1469);function T(O,I,S){I.length?I=o(I,function(s){return p(s)?function(w){return f(w,s.length===1?s[0]:s)}:s}):I=[y];var _=-1;I=o(I,v(u));var d=c(O,function(s,w,P){var x=o(I,function(M){return M(s)});return{criteria:x,index:++_,value:s}});return g(d,function(s,w){return E(s,w,S)})}z.exports=T},25970:(z,l,e)=>{var o=e(63012),f=e(79095);function u(c,g){return o(c,g,function(v,E){return f(c,E)})}z.exports=u},63012:(z,l,e)=>{var o=e(97786),f=e(10611),u=e(71811);function c(g,v,E){for(var y=-1,p=v.length,T={};++y<p;){var O=v[y],I=o(g,O);E(I,O)&&f(T,u(O,g),I)}return T}z.exports=c},40371:z=>{function l(e){return function(o){return o==null?void 0:o[e]}}z.exports=l},79152:(z,l,e)=>{var o=e(97786);function f(u){return function(c){return o(c,u)}}z.exports=f},5976:(z,l,e)=>{var o=e(6557),f=e(45357),u=e(30061);function c(g,v){return u(f(g,v,o),g+"")}z.exports=c},10611:(z,l,e)=>{var o=e(34865),f=e(71811),u=e(65776),c=e(13218),g=e(40327);function v(E,y,p,T){if(!c(E))return E;y=f(y,E);for(var O=-1,I=y.length,S=I-1,_=E;_!=null&&++O<I;){var d=g(y[O]),s=p;if(d==="__proto__"||d==="constructor"||d==="prototype")return E;if(O!=S){var w=_[d];s=T?T(w,d,_):void 0,s===void 0&&(s=c(w)?w:u(y[O+1])?[]:{})}o(_,d,s),_=_[d]}return E}z.exports=v},56560:(z,l,e)=>{var o=e(75703),f=e(38777),u=e(6557),c=f?function(g,v){return f(g,"toString",{configurable:!0,enumerable:!1,value:o(v),writable:!0})}:u;z.exports=c},14259:z=>{function l(e,o,f){var u=-1,c=e.length;o<0&&(o=-o>c?0:c+o),f=f>c?c:f,f<0&&(f+=c),c=o>f?0:f-o>>>0,o>>>=0;for(var g=Array(c);++u<c;)g[u]=e[u+o];return g}z.exports=l},71131:z=>{function l(e,o){var f=e.length;for(e.sort(o);f--;)e[f]=e[f].value;return e}z.exports=l},67762:z=>{function l(e,o){for(var f,u=-1,c=e.length;++u<c;){var g=o(e[u]);g!==void 0&&(f=f===void 0?g:f+g)}return f}z.exports=l},22545:z=>{function l(e,o){for(var f=-1,u=Array(e);++f<e;)u[f]=o(f);return u}z.exports=l},80531:(z,l,e)=>{var o=e(62705),f=e(29932),u=e(1469),c=e(33448),g=1/0,v=o?o.prototype:void 0,E=v?v.toString:void 0;function y(p){if(typeof p=="string")return p;if(u(p))return f(p,y)+"";if(c(p))return E?E.call(p):"";var T=p+"";return T=="0"&&1/p==-g?"-0":T}z.exports=y},27561:(z,l,e)=>{var o=e(67990),f=/^\s+/;function u(c){return c&&c.slice(0,o(c)+1).replace(f,"")}z.exports=u},7518:z=>{function l(e){return function(o){return e(o)}}z.exports=l},45652:(z,l,e)=>{var o=e(88668),f=e(47443),u=e(1196),c=e(74757),g=e(23593),v=e(21814),E=200;function y(p,T,O){var I=-1,S=f,_=p.length,d=!0,s=[],w=s;if(O)d=!1,S=u;else if(_>=E){var P=T?null:g(p);if(P)return v(P);d=!1,S=c,w=new o}else w=T?[]:s;e:for(;++I<_;){var x=p[I],M=T?T(x):x;if(x=O||x!==0?x:0,d&&M===M){for(var N=w.length;N--;)if(w[N]===M)continue e;T&&w.push(M),s.push(x)}else S(w,M,O)||(w!==s&&w.push(M),s.push(x))}return s}z.exports=y},74757:z=>{function l(e,o){return e.has(o)}z.exports=l},54290:(z,l,e)=>{var o=e(6557);function f(u){return typeof u=="function"?u:o}z.exports=f},71811:(z,l,e)=>{var o=e(1469),f=e(15403),u=e(55514),c=e(79833);function g(v,E){return o(v)?v:f(v,E)?[v]:u(c(v))}z.exports=g},40180:(z,l,e)=>{var o=e(14259);function f(u,c,g){var v=u.length;return g=g===void 0?v:g,!c&&g>=v?u:o(u,c,g)}z.exports=f},26393:(z,l,e)=>{var o=e(33448);function f(u,c){if(u!==c){var g=u!==void 0,v=u===null,E=u===u,y=o(u),p=c!==void 0,T=c===null,O=c===c,I=o(c);if(!T&&!I&&!y&&u>c||y&&p&&O&&!T&&!I||v&&p&&O||!g&&O||!E)return 1;if(!v&&!y&&!I&&u<c||I&&g&&E&&!v&&!y||T&&g&&E||!p&&E||!O)return-1}return 0}z.exports=f},85022:(z,l,e)=>{var o=e(26393);function f(u,c,g){for(var v=-1,E=u.criteria,y=c.criteria,p=E.length,T=g.length;++v<p;){var O=o(E[v],y[v]);if(O){if(v>=T)return O;var I=g[v];return O*(I=="desc"?-1:1)}}return u.index-c.index}z.exports=f},14429:(z,l,e)=>{var o=e(55639),f=o["__core-js_shared__"];z.exports=f},55189:(z,l,e)=>{var o=e(44174),f=e(81119),u=e(67206),c=e(1469);function g(v,E){return function(y,p){var T=c(y)?o:f,O=E?E():{};return T(y,v,u(p,2),O)}}z.exports=g},99291:(z,l,e)=>{var o=e(98612);function f(u,c){return function(g,v){if(g==null)return g;if(!o(g))return u(g,v);for(var E=g.length,y=c?E:-1,p=Object(g);(c?y--:++y<E)&&v(p[y],y,p)!==!1;);return g}}z.exports=f},25063:z=>{function l(e){return function(o,f,u){for(var c=-1,g=Object(o),v=u(o),E=v.length;E--;){var y=v[e?E:++c];if(f(g[y],y,g)===!1)break}return o}}z.exports=l},98805:(z,l,e)=>{var o=e(40180),f=e(62689),u=e(83140),c=e(79833);function g(v){return function(E){E=c(E);var y=f(E)?u(E):void 0,p=y?y[0]:E.charAt(0),T=y?o(y,1).join(""):E.slice(1);return p[v]()+T}}z.exports=g},23593:(z,l,e)=>{var o=e(58525),f=e(50308),u=e(21814),c=1/0,g=o&&1/u(new o([,-0]))[1]==c?function(v){return new o(v)}:f;z.exports=g},38777:(z,l,e)=>{var o=e(10852),f=function(){try{var u=o(Object,"defineProperty");return u({},"",{}),u}catch(c){}}();z.exports=f},67114:(z,l,e)=>{var o=e(88668),f=e(82908),u=e(74757),c=1,g=2;function v(E,y,p,T,O,I){var S=p&c,_=E.length,d=y.length;if(_!=d&&!(S&&d>_))return!1;var s=I.get(E),w=I.get(y);if(s&&w)return s==y&&w==E;var P=-1,x=!0,M=p&g?new o:void 0;for(I.set(E,y),I.set(y,E);++P<_;){var N=E[P],C=y[P];if(T)var A=S?T(C,N,P,y,E,I):T(N,C,P,E,y,I);if(A!==void 0){if(A)continue;x=!1;break}if(M){if(!f(y,function(k,L){if(!u(M,L)&&(N===k||O(N,k,p,T,I)))return M.push(L)})){x=!1;break}}else if(!(N===C||O(N,C,p,T,I))){x=!1;break}}return I.delete(E),I.delete(y),x}z.exports=v},18351:(z,l,e)=>{var o=e(62705),f=e(11149),u=e(77813),c=e(67114),g=e(68776),v=e(21814),E=1,y=2,p="[object Boolean]",T="[object Date]",O="[object Error]",I="[object Map]",S="[object Number]",_="[object RegExp]",d="[object Set]",s="[object String]",w="[object Symbol]",P="[object ArrayBuffer]",x="[object DataView]",M=o?o.prototype:void 0,N=M?M.valueOf:void 0;function C(A,k,L,K,Z,J,q){switch(L){case x:if(A.byteLength!=k.byteLength||A.byteOffset!=k.byteOffset)return!1;A=A.buffer,k=k.buffer;case P:return!(A.byteLength!=k.byteLength||!J(new f(A),new f(k)));case p:case T:case S:return u(+A,+k);case O:return A.name==k.name&&A.message==k.message;case _:case s:return A==k+"";case I:var ne=g;case d:var F=K&E;if(ne||(ne=v),A.size!=k.size&&!F)return!1;var W=q.get(A);if(W)return W==k;K|=y,q.set(A,k);var ie=c(ne(A),ne(k),K,Z,J,q);return q.delete(A),ie;case w:if(N)return N.call(A)==N.call(k)}return!1}z.exports=C},16096:(z,l,e)=>{var o=e(58234),f=1,u=Object.prototype,c=u.hasOwnProperty;function g(v,E,y,p,T,O){var I=y&f,S=o(v),_=S.length,d=o(E),s=d.length;if(_!=s&&!I)return!1;for(var w=_;w--;){var P=S[w];if(!(I?P in E:c.call(E,P)))return!1}var x=O.get(v),M=O.get(E);if(x&&M)return x==E&&M==v;var N=!0;O.set(v,E),O.set(E,v);for(var C=I;++w<_;){P=S[w];var A=v[P],k=E[P];if(p)var L=I?p(k,A,P,E,v,O):p(A,k,P,v,E,O);if(!(L===void 0?A===k||T(A,k,y,p,O):L)){N=!1;break}C||(C=P=="constructor")}if(N&&!C){var K=v.constructor,Z=E.constructor;K!=Z&&"constructor"in v&&"constructor"in E&&!(typeof K=="function"&&K instanceof K&&typeof Z=="function"&&Z instanceof Z)&&(N=!1)}return O.delete(v),O.delete(E),N}z.exports=g},99021:(z,l,e)=>{var o=e(85564),f=e(45357),u=e(30061);function c(g){return u(f(g,void 0,o),g+"")}z.exports=c},31957:(z,l,e)=>{var o=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;z.exports=o},58234:(z,l,e)=>{var o=e(68866),f=e(99551),u=e(3674);function c(g){return o(g,u,f)}z.exports=c},45050:(z,l,e)=>{var o=e(37019);function f(u,c){var g=u.__data__;return o(c)?g[typeof c=="string"?"string":"hash"]:g.map}z.exports=f},1499:(z,l,e)=>{var o=e(89162),f=e(3674);function u(c){for(var g=f(c),v=g.length;v--;){var E=g[v],y=c[E];g[v]=[E,y,o(y)]}return g}z.exports=u},10852:(z,l,e)=>{var o=e(28458),f=e(47801);function u(c,g){var v=f(c,g);return o(v)?v:void 0}z.exports=u},89607:(z,l,e)=>{var o=e(62705),f=Object.prototype,u=f.hasOwnProperty,c=f.toString,g=o?o.toStringTag:void 0;function v(E){var y=u.call(E,g),p=E[g];try{E[g]=void 0;var T=!0}catch(I){}var O=c.call(E);return T&&(y?E[g]=p:delete E[g]),O}z.exports=v},99551:(z,l,e)=>{var o=e(34963),f=e(70479),u=Object.prototype,c=u.propertyIsEnumerable,g=Object.getOwnPropertySymbols,v=g?function(E){return E==null?[]:(E=Object(E),o(g(E),function(y){return c.call(E,y)}))}:f;z.exports=v},64160:(z,l,e)=>{var o=e(18552),f=e(57071),u=e(53818),c=e(58525),g=e(70577),v=e(44239),E=e(80346),y="[object Map]",p="[object Object]",T="[object Promise]",O="[object Set]",I="[object WeakMap]",S="[object DataView]",_=E(o),d=E(f),s=E(u),w=E(c),P=E(g),x=v;(o&&x(new o(new ArrayBuffer(1)))!=S||f&&x(new f)!=y||u&&x(u.resolve())!=T||c&&x(new c)!=O||g&&x(new g)!=I)&&(x=function(M){var N=v(M),C=N==p?M.constructor:void 0,A=C?E(C):"";if(A)switch(A){case _:return S;case d:return y;case s:return T;case w:return O;case P:return I}return N}),z.exports=x},47801:z=>{function l(e,o){return e==null?void 0:e[o]}z.exports=l},222:(z,l,e)=>{var o=e(71811),f=e(35694),u=e(1469),c=e(65776),g=e(41780),v=e(40327);function E(y,p,T){p=o(p,y);for(var O=-1,I=p.length,S=!1;++O<I;){var _=v(p[O]);if(!(S=y!=null&&T(y,_)))break;y=y[_]}return S||++O!=I?S:(I=y==null?0:y.length,!!I&&g(I)&&c(_,I)&&(u(y)||f(y)))}z.exports=E},62689:z=>{var l="\\ud800-\\udfff",e="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",u=e+o+f,c="\\ufe0e\\ufe0f",g="\\u200d",v=RegExp("["+g+l+u+c+"]");function E(y){return v.test(y)}z.exports=E},51789:(z,l,e)=>{var o=e(94536);function f(){this.__data__=o?o(null):{},this.size=0}z.exports=f},80401:z=>{function l(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}z.exports=l},57667:(z,l,e)=>{var o=e(94536),f="__lodash_hash_undefined__",u=Object.prototype,c=u.hasOwnProperty;function g(v){var E=this.__data__;if(o){var y=E[v];return y===f?void 0:y}return c.call(E,v)?E[v]:void 0}z.exports=g},21327:(z,l,e)=>{var o=e(94536),f=Object.prototype,u=f.hasOwnProperty;function c(g){var v=this.__data__;return o?v[g]!==void 0:u.call(v,g)}z.exports=c},81866:(z,l,e)=>{var o=e(94536),f="__lodash_hash_undefined__";function u(c,g){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=o&&g===void 0?f:g,this}z.exports=u},37285:(z,l,e)=>{var o=e(62705),f=e(35694),u=e(1469),c=o?o.isConcatSpreadable:void 0;function g(v){return u(v)||f(v)||!!(c&&v&&v[c])}z.exports=g},65776:z=>{var l=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function o(f,u){var c=typeof f;return u=u==null?l:u,!!u&&(c=="number"||c!="symbol"&&e.test(f))&&f>-1&&f%1==0&&f<u}z.exports=o},16612:(z,l,e)=>{var o=e(77813),f=e(98612),u=e(65776),c=e(13218);function g(v,E,y){if(!c(y))return!1;var p=typeof E;return(p=="number"?f(y)&&u(E,y.length):p=="string"&&E in y)?o(y[E],v):!1}z.exports=g},15403:(z,l,e)=>{var o=e(1469),f=e(33448),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;function g(v,E){if(o(v))return!1;var y=typeof v;return y=="number"||y=="symbol"||y=="boolean"||v==null||f(v)?!0:c.test(v)||!u.test(v)||E!=null&&v in Object(E)}z.exports=g},37019:z=>{function l(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}z.exports=l},15346:(z,l,e)=>{var o=e(14429),f=function(){var c=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function u(c){return!!f&&f in c}z.exports=u},25726:z=>{var l=Object.prototype;function e(o){var f=o&&o.constructor,u=typeof f=="function"&&f.prototype||l;return o===u}z.exports=e},89162:(z,l,e)=>{var o=e(13218);function f(u){return u===u&&!o(u)}z.exports=f},27040:z=>{function l(){this.__data__=[],this.size=0}z.exports=l},14125:(z,l,e)=>{var o=e(18470),f=Array.prototype,u=f.splice;function c(g){var v=this.__data__,E=o(v,g);if(E<0)return!1;var y=v.length-1;return E==y?v.pop():u.call(v,E,1),--this.size,!0}z.exports=c},82117:(z,l,e)=>{var o=e(18470);function f(u){var c=this.__data__,g=o(c,u);return g<0?void 0:c[g][1]}z.exports=f},67518:(z,l,e)=>{var o=e(18470);function f(u){return o(this.__data__,u)>-1}z.exports=f},54705:(z,l,e)=>{var o=e(18470);function f(u,c){var g=this.__data__,v=o(g,u);return v<0?(++this.size,g.push([u,c])):g[v][1]=c,this}z.exports=f},24785:(z,l,e)=>{var o=e(1989),f=e(38407),u=e(57071);function c(){this.size=0,this.__data__={hash:new o,map:new(u||f),string:new o}}z.exports=c},11285:(z,l,e)=>{var o=e(45050);function f(u){var c=o(this,u).delete(u);return this.size-=c?1:0,c}z.exports=f},96e3:(z,l,e)=>{var o=e(45050);function f(u){return o(this,u).get(u)}z.exports=f},49916:(z,l,e)=>{var o=e(45050);function f(u){return o(this,u).has(u)}z.exports=f},95265:(z,l,e)=>{var o=e(45050);function f(u,c){var g=o(this,u),v=g.size;return g.set(u,c),this.size+=g.size==v?0:1,this}z.exports=f},68776:z=>{function l(e){var o=-1,f=Array(e.size);return e.forEach(function(u,c){f[++o]=[c,u]}),f}z.exports=l},42634:z=>{function l(e,o){return function(f){return f==null?!1:f[e]===o&&(o!==void 0||e in Object(f))}}z.exports=l},24523:(z,l,e)=>{var o=e(88306),f=500;function u(c){var g=o(c,function(E){return v.size===f&&v.clear(),E}),v=g.cache;return g}z.exports=u},94536:(z,l,e)=>{var o=e(10852),f=o(Object,"create");z.exports=f},86916:(z,l,e)=>{var o=e(5569),f=o(Object.keys,Object);z.exports=f},31167:(z,l,e)=>{z=e.nmd(z);var o=e(31957),f=l&&!l.nodeType&&l,u=f&&!0&&z&&!z.nodeType&&z,c=u&&u.exports===f,g=c&&o.process,v=function(){try{var E=u&&u.require&&u.require("util").types;return E||g&&g.binding&&g.binding("util")}catch(y){}}();z.exports=v},2333:z=>{var l=Object.prototype,e=l.toString;function o(f){return e.call(f)}z.exports=o},5569:z=>{function l(e,o){return function(f){return e(o(f))}}z.exports=l},45357:(z,l,e)=>{var o=e(96874),f=Math.max;function u(c,g,v){return g=f(g===void 0?c.length-1:g,0),function(){for(var E=arguments,y=-1,p=f(E.length-g,0),T=Array(p);++y<p;)T[y]=E[g+y];y=-1;for(var O=Array(g+1);++y<g;)O[y]=E[y];return O[g]=v(T),o(c,this,O)}}z.exports=u},55639:(z,l,e)=>{var o=e(31957),f=typeof self=="object"&&self&&self.Object===Object&&self,u=o||f||Function("return this")();z.exports=u},90619:z=>{var l="__lodash_hash_undefined__";function e(o){return this.__data__.set(o,l),this}z.exports=e},72385:z=>{function l(e){return this.__data__.has(e)}z.exports=l},21814:z=>{function l(e){var o=-1,f=Array(e.size);return e.forEach(function(u){f[++o]=u}),f}z.exports=l},30061:(z,l,e)=>{var o=e(56560),f=e(21275),u=f(o);z.exports=u},21275:z=>{var l=800,e=16,o=Date.now;function f(u){var c=0,g=0;return function(){var v=o(),E=e-(v-g);if(g=v,E>0){if(++c>=l)return arguments[0]}else c=0;return u.apply(void 0,arguments)}}z.exports=f},37465:(z,l,e)=>{var o=e(38407);function f(){this.__data__=new o,this.size=0}z.exports=f},63779:z=>{function l(e){var o=this.__data__,f=o.delete(e);return this.size=o.size,f}z.exports=l},67599:z=>{function l(e){return this.__data__.get(e)}z.exports=l},44758:z=>{function l(e){return this.__data__.has(e)}z.exports=l},34309:(z,l,e)=>{var o=e(38407),f=e(57071),u=e(83369),c=200;function g(v,E){var y=this.__data__;if(y instanceof o){var p=y.__data__;if(!f||p.length<c-1)return p.push([v,E]),this.size=++y.size,this;y=this.__data__=new u(p)}return y.set(v,E),this.size=y.size,this}z.exports=g},42351:z=>{function l(e,o,f){for(var u=f-1,c=e.length;++u<c;)if(e[u]===o)return u;return-1}z.exports=l},83140:(z,l,e)=>{var o=e(44286),f=e(62689),u=e(676);function c(g){return f(g)?u(g):o(g)}z.exports=c},55514:(z,l,e)=>{var o=e(24523),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,c=o(function(g){var v=[];return g.charCodeAt(0)===46&&v.push(""),g.replace(f,function(E,y,p,T){v.push(p?T.replace(u,"$1"):y||E)}),v});z.exports=c},40327:(z,l,e)=>{var o=e(33448),f=1/0;function u(c){if(typeof c=="string"||o(c))return c;var g=c+"";return g=="0"&&1/c==-f?"-0":g}z.exports=u},80346:z=>{var l=Function.prototype,e=l.toString;function o(f){if(f!=null){try{return e.call(f)}catch(u){}try{return f+""}catch(u){}}return""}z.exports=o},67990:z=>{var l=/\s/;function e(o){for(var f=o.length;f--&&l.test(o.charAt(f)););return f}z.exports=e},676:z=>{var l="\\ud800-\\udfff",e="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",u=e+o+f,c="\\ufe0e\\ufe0f",g="["+l+"]",v="["+u+"]",E="\\ud83c[\\udffb-\\udfff]",y="(?:"+v+"|"+E+")",p="[^"+l+"]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",O="[\\ud800-\\udbff][\\udc00-\\udfff]",I="\\u200d",S=y+"?",_="["+c+"]?",d="(?:"+I+"(?:"+[p,T,O].join("|")+")"+_+S+")*",s=_+S+d,w="(?:"+[p+v+"?",v,T,O,g].join("|")+")",P=RegExp(E+"(?="+E+")|"+w+s,"g");function x(M){return M.match(P)||[]}z.exports=x},48403:(z,l,e)=>{var o=e(79833),f=e(11700);function u(c){return f(o(c).toLowerCase())}z.exports=u},8400:(z,l,e)=>{var o=e(14259),f=e(16612),u=e(40554),c=Math.ceil,g=Math.max;function v(E,y,p){(p?f(E,y,p):y===void 0)?y=1:y=g(u(y),0);var T=E==null?0:E.length;if(!T||y<1)return[];for(var O=0,I=0,S=Array(c(T/y));O<T;)S[I++]=o(E,O,O+=y);return S}z.exports=v},39693:z=>{function l(e){for(var o=-1,f=e==null?0:e.length,u=0,c=[];++o<f;){var g=e[o];g&&(c[u++]=g)}return c}z.exports=l},75703:z=>{function l(e){return function(){return e}}z.exports=l},23279:(z,l,e)=>{var o=e(13218),f=e(7771),u=e(14841),c="Expected a function",g=Math.max,v=Math.min;function E(y,p,T){var O,I,S,_,d,s,w=0,P=!1,x=!1,M=!0;if(typeof y!="function")throw new TypeError(c);p=u(p)||0,o(T)&&(P=!!T.leading,x="maxWait"in T,S=x?g(u(T.maxWait)||0,p):S,M="trailing"in T?!!T.trailing:M);function N(ne){var F=O,W=I;return O=I=void 0,w=ne,_=y.apply(W,F),_}function C(ne){return w=ne,d=setTimeout(L,p),P?N(ne):_}function A(ne){var F=ne-s,W=ne-w,ie=p-F;return x?v(ie,S-W):ie}function k(ne){var F=ne-s,W=ne-w;return s===void 0||F>=p||F<0||x&&W>=S}function L(){var ne=f();if(k(ne))return K(ne);d=setTimeout(L,A(ne))}function K(ne){return d=void 0,M&&O?N(ne):(O=I=void 0,_)}function Z(){d!==void 0&&clearTimeout(d),w=0,O=s=I=d=void 0}function J(){return d===void 0?_:K(f())}function q(){var ne=f(),F=k(ne);if(O=arguments,I=this,s=ne,F){if(d===void 0)return C(s);if(x)return clearTimeout(d),d=setTimeout(L,p),N(s)}return d===void 0&&(d=setTimeout(L,p)),_}return q.cancel=Z,q.flush=J,q}z.exports=E},77813:z=>{function l(e,o){return e===o||e!==e&&o!==o}z.exports=l},7436:(z,l,e)=>{var o=e(41848),f=e(67206),u=e(40554),c=Math.max,g=Math.min;function v(E,y,p){var T=E==null?0:E.length;if(!T)return-1;var O=T-1;return p!==void 0&&(O=u(p),O=p<0?c(T+O,0):g(O,T-1)),o(E,f(y,3),O,!0)}z.exports=v},85564:(z,l,e)=>{var o=e(21078);function f(u){var c=u==null?0:u.length;return c?o(u,1):[]}z.exports=f},27361:(z,l,e)=>{var o=e(97786);function f(u,c,g){var v=u==null?void 0:o(u,c);return v===void 0?g:v}z.exports=f},7739:(z,l,e)=>{var o=e(89465),f=e(55189),u=Object.prototype,c=u.hasOwnProperty,g=f(function(v,E,y){c.call(v,y)?v[y].push(E):o(v,y,[E])});z.exports=g},79095:(z,l,e)=>{var o=e(13),f=e(222);function u(c,g){return c!=null&&f(c,g,o)}z.exports=u},6557:z=>{function l(e){return e}z.exports=l},35694:(z,l,e)=>{var o=e(9454),f=e(37005),u=Object.prototype,c=u.hasOwnProperty,g=u.propertyIsEnumerable,v=o(function(){return arguments}())?o:function(E){return f(E)&&c.call(E,"callee")&&!g.call(E,"callee")};z.exports=v},1469:z=>{var l=Array.isArray;z.exports=l},98612:(z,l,e)=>{var o=e(23560),f=e(41780);function u(c){return c!=null&&f(c.length)&&!o(c)}z.exports=u},29246:(z,l,e)=>{var o=e(98612),f=e(37005);function u(c){return f(c)&&o(c)}z.exports=u},44144:(z,l,e)=>{z=e.nmd(z);var o=e(55639),f=e(95062),u=l&&!l.nodeType&&l,c=u&&!0&&z&&!z.nodeType&&z,g=c&&c.exports===u,v=g?o.Buffer:void 0,E=v?v.isBuffer:void 0,y=E||f;z.exports=y},18446:(z,l,e)=>{var o=e(90939);function f(u,c){return o(u,c)}z.exports=f},23560:(z,l,e)=>{var o=e(44239),f=e(13218),u="[object AsyncFunction]",c="[object Function]",g="[object GeneratorFunction]",v="[object Proxy]";function E(y){if(!f(y))return!1;var p=o(y);return p==c||p==g||p==u||p==v}z.exports=E},41780:z=>{var l=9007199254740991;function e(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=l}z.exports=e},14293:z=>{function l(e){return e==null}z.exports=l},13218:z=>{function l(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}z.exports=l},37005:z=>{function l(e){return e!=null&&typeof e=="object"}z.exports=l},33448:(z,l,e)=>{var o=e(44239),f=e(37005),u="[object Symbol]";function c(g){return typeof g=="symbol"||f(g)&&o(g)==u}z.exports=c},36719:(z,l,e)=>{var o=e(38749),f=e(7518),u=e(31167),c=u&&u.isTypedArray,g=c?f(c):o;z.exports=g},3674:(z,l,e)=>{var o=e(14636),f=e(280),u=e(98612);function c(g){return u(g)?o(g):f(g)}z.exports=c},10928:z=>{function l(e){var o=e==null?0:e.length;return o?e[o-1]:void 0}z.exports=l},84753:(z,l,e)=>{var o=e(56029),f=e(53325),u=e(67206);function c(g,v){return g&&g.length?o(g,u(v,2),f):void 0}z.exports=c},88306:(z,l,e)=>{var o=e(83369),f="Expected a function";function u(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new TypeError(f);var v=function(){var E=arguments,y=g?g.apply(this,E):E[0],p=v.cache;if(p.has(y))return p.get(y);var T=c.apply(this,E);return v.cache=p.set(y,T)||p,T};return v.cache=new(u.Cache||o),v}u.Cache=o,z.exports=u},50308:z=>{function l(){}z.exports=l},7771:(z,l,e)=>{var o=e(55639),f=function(){return o.Date.now()};z.exports=f},43174:(z,l,e)=>{var o=e(55189),f=o(function(u,c,g){u[g?0:1].push(c)},function(){return[[],[]]});z.exports=f},78718:(z,l,e)=>{var o=e(25970),f=e(99021),u=f(function(c,g){return c==null?{}:o(c,g)});z.exports=u},39601:(z,l,e)=>{var o=e(40371),f=e(79152),u=e(15403),c=e(40327);function g(v){return u(v)?o(c(v)):f(v)}z.exports=g},89734:(z,l,e)=>{var o=e(21078),f=e(82689),u=e(5976),c=e(16612),g=u(function(v,E){if(v==null)return[];var y=E.length;return y>1&&c(v,E[0],E[1])?E=[]:y>2&&c(E[0],E[1],E[2])&&(E=[E[0]]),f(v,o(E,1),[])});z.exports=g},70479:z=>{function l(){return[]}z.exports=l},95062:z=>{function l(){return!1}z.exports=l},12297:(z,l,e)=>{var o=e(67762),f=e(6557);function u(c){return c&&c.length?o(c,f):0}z.exports=u},23493:(z,l,e)=>{var o=e(23279),f=e(13218),u="Expected a function";function c(g,v,E){var y=!0,p=!0;if(typeof g!="function")throw new TypeError(u);return f(E)&&(y="leading"in E?!!E.leading:y,p="trailing"in E?!!E.trailing:p),o(g,v,{leading:y,maxWait:v,trailing:p})}z.exports=c},98913:(z,l,e)=>{var o=e(22545),f=e(54290),u=e(40554),c=9007199254740991,g=4294967295,v=Math.min;function E(y,p){if(y=u(y),y<1||y>c)return[];var T=g,O=v(y,g);p=f(p),y-=g;for(var I=o(O,p);++T<y;)p(T);return I}z.exports=E},18601:(z,l,e)=>{var o=e(14841),f=1/0,u=17976931348623157e292;function c(g){if(!g)return g===0?g:0;if(g=o(g),g===f||g===-f){var v=g<0?-1:1;return v*u}return g===g?g:0}z.exports=c},40554:(z,l,e)=>{var o=e(18601);function f(u){var c=o(u),g=c%1;return c===c?g?c-g:c:0}z.exports=f},14841:(z,l,e)=>{var o=e(27561),f=e(13218),u=e(33448),c=0/0,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,E=/^0o[0-7]+$/i,y=parseInt;function p(T){if(typeof T=="number")return T;if(u(T))return c;if(f(T)){var O=typeof T.valueOf=="function"?T.valueOf():T;T=f(O)?O+"":O}if(typeof T!="string")return T===0?T:+T;T=o(T);var I=v.test(T);return I||E.test(T)?y(T.slice(2),I?2:8):g.test(T)?c:+T}z.exports=p},79833:(z,l,e)=>{var o=e(80531);function f(u){return u==null?"":o(u)}z.exports=f},44908:(z,l,e)=>{var o=e(45652);function f(u){return u&&u.length?o(u):[]}z.exports=f},45578:(z,l,e)=>{var o=e(67206),f=e(45652);function u(c,g){return c&&c.length?f(c,o(g,2)):[]}z.exports=u},73955:(z,l,e)=>{var o=e(79833),f=0;function u(c){var g=++f;return o(c)+g}z.exports=u},11700:(z,l,e)=>{var o=e(98805),f=o("toUpperCase");z.exports=f},82569:(z,l,e)=>{var o=e(20731),f=e(5976),u=e(29246),c=f(function(g,v){return u(g)?o(g,v):[]});z.exports=c},87021:(z,l,e)=>{"use strict";e.d(l,{Z:()=>c});var o=e(6400),f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const u=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(g,v)=>{const E=_=>{var d=_,{color:y="currentColor",size:p=24,strokeWidth:T=2,absoluteStrokeWidth:O,children:I}=d,S=gi(d,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return(0,o.h)("svg",ir(Ro(ir({},f),{width:String(p),height:p,stroke:y,["stroke-width"]:O?Number(T)*24/Number(p):T,class:`lucide lucide-${u(g)}`}),S),[...v.map(([s,w])=>(0,o.h)(s,w)),...(0,o.toChildArray)(I)])};return E.displayName=`${g}`,E}},4675:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},66298:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ArrowUpRight",[["line",{x1:"7",x2:"17",y1:"17",y2:"7",key:"11kluq"}],["polyline",{points:"7 7 17 7 17 17",key:"blehsp"}]])},88812:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},18794:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},25380:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},49336:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},56743:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},2564:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},71212:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},23237:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},47641:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},65207:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},67747:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},77951:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]])},5149:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7617:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},95951:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]])},80587:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9528:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},32224:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]])},74655:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},28596:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]])},31131:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},66440:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},52066:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},17048:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},71375:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},61864:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},19206:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={reset:"frontend-pencraft-Box-module__reset--VfQY8","display-block":"frontend-pencraft-Box-module__display-block--lluJR","display-inline":"frontend-pencraft-Box-module__display-inline--UP8rE","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--x7tGd","display-flex":"frontend-pencraft-Box-module__display-flex--ZqeZt","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--ZE941","display-none":"frontend-pencraft-Box-module__display-none--DZ2wU","position-relative":"frontend-pencraft-Box-module__position-relative--QdxKA","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--Rq7pk","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--s2PZ1","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--oFiiL","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--thxnd","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--WI0rj","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--U7KAu","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--dau9W","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--_8fEd","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--NvIcg","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--SQPji","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--lwKjM","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--MkgIa","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--_zZdC","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--rSd6h","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--g0Yna","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--GQEEw","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--QhlBL","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--ygpwW","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--XMhN_","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--ZV59d","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--omwPY","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--WL4Xc","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--i3DJs","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--zeW5_","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--lHgtr","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--HFpIK","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--rODKq","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--TpblU","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--WPlD2","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--bAb43","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--uRr14","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--Kpg6P","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--AvPvJ","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--Sbb_i","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--of5i3","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--dzjmF","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--jHDvi","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--heAIr","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--iB6Cx","padding-0":"frontend-pencraft-Box-module__padding-0--F3S1v","padding-4":"frontend-pencraft-Box-module__padding-4--KlLyn","padding-6":"frontend-pencraft-Box-module__padding-6--_Mjv2","padding-8":"frontend-pencraft-Box-module__padding-8--wF5Sz","padding-12":"frontend-pencraft-Box-module__padding-12--jTMsq","padding-16":"frontend-pencraft-Box-module__padding-16--n240L","padding-20":"frontend-pencraft-Box-module__padding-20--yVUtG","padding-24":"frontend-pencraft-Box-module__padding-24--ZJr5O","padding-32":"frontend-pencraft-Box-module__padding-32--IeG12","padding-40":"frontend-pencraft-Box-module__padding-40--IAcQ9","padding-48":"frontend-pencraft-Box-module__padding-48--aMnjo","padding-56":"frontend-pencraft-Box-module__padding-56--am1eN","padding-64":"frontend-pencraft-Box-module__padding-64--xeXXX","padding-80":"frontend-pencraft-Box-module__padding-80--th3sr","padding-120":"frontend-pencraft-Box-module__padding-120--RXYMO","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--rxzTp","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--dGugw","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--taKGa","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--exiCC","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--JVW4L","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--ohCEm","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--FoUpX","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--T7KvM","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--tBjpu","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--O9qPD","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--uSHVb","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--eNCBL","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--oRNr_","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--ft4ED","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--bsHus","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--_BaEr","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--oMCXf","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--KtJM6","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--jB65n","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--FGPm5","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--uAeGi","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--q3Pnm","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--v_X8l","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--ViY5j","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--MSogp","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--NnqyG","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--HTG4n","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--V6qbT","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--J1cac","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--J4j87","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--ZPgFJ","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--PRqVY","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--x0RDa","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--DGztk","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--VHq_j","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--RJQ3b","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--fCxei","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--bpJwI","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--hC6Qh","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--hE9Ly","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--gzQCl","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--uBMFI","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--kMReU","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--dczMQ","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--cd1qd","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--eZ0fE","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--vfrci","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--uJZ7B","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--OFOny","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--Tlz5i","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--mTu10","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--dTAvV","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--KVxKv","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--xSkS9","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--drRLc","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--aGRIB","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--_oo6b","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--ONDjp","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--zLgG0","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--jnone","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--R2shQ","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--xScwg","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--_fdq5","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--xHkhe","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--i3yO2","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--ci2Dl","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--eE6bp","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--BDsWV","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--BD8wa","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--b11Zo","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--BAj7w","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--b2JNE","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--oHoKK","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--pmJGh","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--Ob2OF","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--z2UJ5","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--gfeL6","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--EJgoJ","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--yke0B","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--hKLg1","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--Lht9u","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--smNvs","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--_sPKw","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--zD2yo","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--YeNhQ","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--KuK8G","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--VV1h6","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--oArMW","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--N0JmY","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--uXWcM","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--gw8yC","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--pjvSn","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--q8k5G","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--Aect2","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--N1KZU","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--XxyXq","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--orVE9","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--sD9mj","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--BJhKW","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--Mc9OW","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--C4tyc","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--TKJLF","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--LYrMu","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--O3kRJ","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--ibIMl","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--OAIbg","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--j7ZWw","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--rbTka","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--mxdv8","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--tCUqU","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--VytyY","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--jxhdF","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--wCqEB","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--dcRgL","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--f2QMh","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--rhTqq","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--JjRRa","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--mRU_f","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--ILgAN","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--KyRud","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--cAee1","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--oMFvQ","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--Q7L1k","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--gxEQk","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--ltu7c","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--S6ZC7","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--klvz2","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--OvGtj","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--wMXeg","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--dtOoW","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--ZFddh","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--FF8So","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--pHHdL","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--hhaLE","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--ysaO9","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--qBaDC","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--yamxD","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--WwNhz","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--pdIFk","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--dws4N","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--q99bY","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--N3CX8","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--Zp2aA","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--yaf6_","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--QBktp","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--mlEKm","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--u2BT7","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--l1XHn","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--NGnYk","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--e_Z74","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--q24xz","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--WcL2J","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--dydMQ","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--XCF1X","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--b5BI9","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--DdQKj","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--ejJzM","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--AcvqS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--jaNbX","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--g85Ek","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--guBcX","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--cb6H3","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--sLHt8","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--D_vuF","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--MK5v1","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--SLqFj","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--wQTg5","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--qz0qN","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--hhZQr","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--voGHV","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--UTs6w","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--aJowh","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--GBmBD","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--DOGvg","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--kCK6W","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--blnxY","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--rkiYK","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--oJ6mc","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--QomAL","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--c6qnp","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--aLZhy","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--uwKuV","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--fjFPO","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--m6L88","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--pNohc","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--a0t_9","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--HNzxh","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--Oef7p","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--YkvmY","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--Pyh23","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--IN5AZ","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--QMG0v","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--vznPS","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--VMIm8","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--LyDqa","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--gCYaK","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--jC0SK","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--TDCHN","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--KFFIi","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--yZ5l3","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--z_M2k","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--KAzfp","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--AxHJK","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--L8HbC","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--yY377","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--jjWe_","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--NMOpl","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--rMgFb","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--gRPK1","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--F6a0d","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--klUzH","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--ZjRhu","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--XZUYG","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--cSAwz","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--d6AYr","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--lV0L6","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--j1CUU","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--fQOYm","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--V3BCT","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--mWcOm","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--xZV_a","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--rdhq4","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--DVDzT","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--MaDAB","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--wZiyO","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--VIDL8","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--NBDZD","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--PD1Dy","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--V2Oc4","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--L0KUi","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--i7Z7o","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--hvPRY","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--zadfm","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--CuM14","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--MSA2_","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--LUN5o","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--KkeSn","border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-radius-6":"frontend-pencraft-Box-module__border-radius-6--lsyIU","border-radius-12":"frontend-pencraft-Box-module__border-radius-12--AmQy9","border-radius-24":"frontend-pencraft-Box-module__border-radius-24--UdDSM","min-width-0":"frontend-pencraft-Box-module__min-width-0--MCJwG","min-height-0":"frontend-pencraft-Box-module__min-height-0--GO2ox","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--diOyW","shadow-md":"frontend-pencraft-Box-module__shadow-md--iNIT9","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--wyu_D","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50","scrollBar-hidden":"frontend-pencraft-Box-module__scrollBar-hidden--fzF31",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"}},4924:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto",textButton:"frontend-pencraft-Button-module__textButton--wjDyp"}},28614:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},28967:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",desaturate:"frontend-reader2-FeedPage2-module__desaturate--nMKB1",unhideButton:"frontend-reader2-FeedPage2-module__unhideButton--lwW4T",viewHiddenRepliesButton:"frontend-reader2-FeedPage2-module__viewHiddenRepliesButton--Ids4f",hiddenRepliesSettingsButton:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButton--gT41H",hiddenRepliesSettingsButtonIcon:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButtonIcon--tfbag"}},7980:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq"}},95042:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},27797:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={card:"frontend-reader2-ProfileAndPublicationHoverCard-module__card--J_wFE",publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},33291:()=>{"use strict";var z={}},57824:z=>{var l=1e3,e=l*60,o=e*60,f=o*24,u=f*7,c=f*365.25;z.exports=function(p,T){T=T||{};var O=typeof p;if(O==="string"&&p.length>0)return g(p);if(O==="number"&&isFinite(p))return T.long?E(p):v(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function g(p){if(p=String(p),!(p.length>100)){var T=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(T){var O=parseFloat(T[1]),I=(T[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return O*c;case"weeks":case"week":case"w":return O*u;case"days":case"day":case"d":return O*f;case"hours":case"hour":case"hrs":case"hr":case"h":return O*o;case"minutes":case"minute":case"mins":case"min":case"m":return O*e;case"seconds":case"second":case"secs":case"sec":case"s":return O*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}function v(p){var T=Math.abs(p);return T>=f?Math.round(p/f)+"d":T>=o?Math.round(p/o)+"h":T>=e?Math.round(p/e)+"m":T>=l?Math.round(p/l)+"s":p+"ms"}function E(p){var T=Math.abs(p);return T>=f?y(p,T,f,"day"):T>=o?y(p,T,o,"hour"):T>=e?y(p,T,e,"minute"):T>=l?y(p,T,l,"second"):p+" ms"}function y(p,T,O,I){var S=T>=O*1.5;return Math.round(p/O)+" "+I+(S?"s":"")}},54125:z=>{/*!
 * mux-embed
 * @version 4.25.0
 * @copyright 2023 Mux, Inc
 */(function(){var l,e;l=this,e=function(){return function(){var o={80:function(c,g,v){c.exports=v(728).default},728:function(c,g,v){"use strict";v.d(g,{default:function(){return ci}});var E=v(48),y=v.n(E),p=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(nt){var Ze=16*Math.random()|0;return(nt==="x"?Ze:3&Ze|8).toString(16)})},T=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},O=function(nt){return nt&&nt.nodeName!==void 0?(nt.muxId||(nt.muxId=nt.id||T()),nt.muxId):nt},I=function(nt){var Ze;nt&&nt.nodeName!==void 0?nt=O(Ze=nt):Ze=document.querySelector(nt);var Xe=Ze&&Ze.nodeName?Ze.nodeName.toLowerCase():"";return[Ze,nt,Xe]},S=v(640),_=v.n(S),d=_().methodFactory;_().methodFactory=function(nt,Ze,Xe){var mt=d(nt,Ze,Xe);return function(){for(var Pt=["[mux]"],jt=0;jt<arguments.length;jt++)Pt.push(arguments[jt]);mt.apply(void 0,Pt)}},_().setLevel(_().getLevel());var s=_();function w(){return(y().doNotTrack||y().navigator&&y().navigator.doNotTrack)==="1"}var P={now:function(){var nt=y().performance,Ze=nt&&nt.timing,Xe=Ze&&Ze.navigationStart,mt=typeof Xe=="number"&&typeof nt.now=="function"?Xe+nt.now():Date.now();return Math.round(mt)}},x=function(nt){return M(nt)[0]},M=function(nt){if(typeof nt!="string"||nt==="")return["localhost"];var Ze,Xe=(nt.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return Xe&&(Ze=(Xe.match(/[^\.]+\.[^\.]+$/)||[])[0]),[Xe,Ze]},N={exists:function(){var nt=y().performance;return(nt&&nt.timing)!==void 0},domContentLoadedEventEnd:function(){var nt=y().performance,Ze=nt&&nt.timing;return Ze&&Ze.domContentLoadedEventEnd},navigationStart:function(){var nt=y().performance,Ze=nt&&nt.timing;return Ze&&Ze.navigationStart}};function C(nt,Ze,Xe){Xe=Xe===void 0?1:Xe,nt[Ze]=nt[Ze]||0,nt[Ze]+=Xe}var A=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],k=["x-cdn","content-type"].concat(A);function L(nt){var Ze={};return(nt=nt||"").trim().split(/[\r\n]+/).forEach(function(Xe){if(Xe){var mt=Xe.split(": "),Pt=mt.shift();Pt&&(k.indexOf(Pt.toLowerCase())>=0||Pt.toLowerCase().indexOf("x-litix-")===0)&&(Ze[Pt]=mt.join(": "))}}),Ze}function K(nt){if(nt){var Ze=A.find(function(Xe){return nt[Xe]!==void 0});return Ze?nt[Ze]:void 0}}var Z=function(nt){var Ze={};for(var Xe in nt){var mt=nt[Xe];mt["DATA-ID"].search("io.litix.data.")!==-1&&(Ze[mt["DATA-ID"].replace("io.litix.data.","")]=mt.VALUE)}return Ze};function J(nt,Ze){var Xe=Object.keys(nt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(nt);Ze&&(mt=mt.filter(function(Pt){return Object.getOwnPropertyDescriptor(nt,Pt).enumerable})),Xe.push.apply(Xe,mt)}return Xe}function q(nt){for(var Ze=1;Ze<arguments.length;Ze++){var Xe=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?J(Object(Xe),!0).forEach(function(mt){ne(nt,mt,Xe[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(Xe)):J(Object(Xe)).forEach(function(mt){Object.defineProperty(nt,mt,Object.getOwnPropertyDescriptor(Xe,mt))})}return nt}function ne(nt,Ze,Xe){return Ze in nt?Object.defineProperty(nt,Ze,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):nt[Ze]=Xe,nt}var F=function(nt){if(!nt)return{};var Ze=N.navigationStart(),Xe=nt.loading,mt=Xe?Xe.start:nt.trequest,Pt=Xe?Xe.first:nt.tfirst,jt=Xe?Xe.end:nt.tload;return{bytesLoaded:nt.total,requestStart:Math.round(Ze+mt),responseStart:Math.round(Ze+Pt),responseEnd:Math.round(Ze+jt)}},W=function(nt){if(nt&&typeof nt.getAllResponseHeaders=="function")return L(nt.getAllResponseHeaders())};function ie(nt,Ze){var Xe=Object.keys(nt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(nt);Ze&&(mt=mt.filter(function(Pt){return Object.getOwnPropertyDescriptor(nt,Pt).enumerable})),Xe.push.apply(Xe,mt)}return Xe}function he(nt){for(var Ze=1;Ze<arguments.length;Ze++){var Xe=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?ie(Object(Xe),!0).forEach(function(mt){ye(nt,mt,Xe[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(Xe)):ie(Object(Xe)).forEach(function(mt){Object.defineProperty(nt,mt,Object.getOwnPropertyDescriptor(Xe,mt))})}return nt}function ye(nt,Ze,Xe){return Ze in nt?Object.defineProperty(nt,Ze,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):nt[Ze]=Xe,nt}var fe=function(nt,Ze){if(!nt||typeof nt.getRequests!="function")return{};var Xe=nt.getRequests({state:"executed"});if(Xe.length===0)return{};var mt,Pt=Xe[Xe.length-1],jt=x(Pt.url),kt=Pt.url,Oe=Pt.bytesLoaded,be=new Date(Pt.requestStartDate).getTime(),we=new Date(Pt.firstByteDate).getTime(),Ke=new Date(Pt.requestEndDate).getTime(),ht=isNaN(Pt.duration)?0:Pt.duration,vt=typeof Ze.getMetricsFor=="function"?Ze.getMetricsFor(Pt.mediaType).HttpList:Ze.getDashMetrics().getHttpRequests(Pt.mediaType);return vt.length>0&&(mt=L(vt[vt.length-1]._responseHeaders||"")),{requestStart:be,requestResponseStart:we,requestResponseEnd:Ke,requestBytesLoaded:Oe,requestResponseHeaders:mt,requestMediaDuration:ht,requestHostname:jt,requestUrl:kt,requestId:mt?K(mt):void 0}},ae=function(nt,Ze){var Xe=Ze.getQualityFor(nt),mt=Ze.getCurrentTrackFor(nt).bitrateList;return mt?{currentLevel:Xe,renditionWidth:mt[Xe].width||null,renditionHeight:mt[Xe].height||null,renditionBitrate:mt[Xe].bandwidth}:{}},oe=function(nt){var Ze;return(Ze=nt.match(/.*codecs\*?="(.*)"/))===null||Ze===void 0?void 0:Ze[1]};function G(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var re=0,se=function(){function nt(){(function(Pt,jt){if(!(Pt instanceof jt))throw new TypeError("Cannot call a class as a function")})(this,nt)}var Ze,Xe,mt;return Ze=nt,Xe=[{key:"on",value:function(Pt,jt,kt){return jt._eventEmitterGuid=jt._eventEmitterGuid||++re,this._listeners=this._listeners||{},this._listeners[Pt]=this._listeners[Pt]||[],kt&&(jt=jt.bind(kt)),this._listeners[Pt].push(jt),jt}},{key:"off",value:function(Pt,jt){var kt=this._listeners&&this._listeners[Pt];kt&&kt.forEach(function(Oe,be){Oe._eventEmitterGuid===jt._eventEmitterGuid&&kt.splice(be,1)})}},{key:"one",value:function(Pt,jt,kt){var Oe=this;jt._eventEmitterGuid=jt._eventEmitterGuid||++re;var be=function we(){Oe.off(Pt,we),jt.apply(kt||this,arguments)};be._eventEmitterGuid=jt._eventEmitterGuid,this.on(Pt,be)}},{key:"emit",value:function(Pt,jt){var kt=this;if(this._listeners){jt=jt||{};var Oe=this._listeners["before*"]||[],be=this._listeners[Pt]||[],we=this._listeners["after"+Pt]||[],Ke=function(ht,vt){(ht=ht.slice()).forEach(function(Ot){Ot.call(kt,{type:Pt},vt)})};Ke(Oe,jt),Ke(be,jt),Ke(we,jt)}}}],Xe&&G(Ze.prototype,Xe),mt&&G(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}(),le=se;function Ee(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var ve=function(){function nt(Pt){var jt=this;(function(kt,Oe){if(!(kt instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,nt),this.pm=Pt,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,Pt.on("playing",function(){jt._playheadShouldBeProgressing=!0}),Pt.on("play",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),Pt.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),Pt.on("seeked",function(){Pt.data.player_is_paused?jt._stopPlaybackHeartbeatInterval():jt._startPlaybackHeartbeatInterval()}),Pt.on("timeupdate",function(){jt._playbackHeartbeatInterval!==null&&Pt.emit("playbackheartbeat")}),Pt.on("devicesleep",function(kt,Oe){jt._playbackHeartbeatInterval!==null&&(y().clearInterval(jt._playbackHeartbeatInterval),Pt.emit("playbackheartbeatend",{viewer_time:Oe.viewer_time}),jt._playbackHeartbeatInterval=null)})}var Ze,Xe,mt;return Ze=nt,(Xe=[{key:"_startPlaybackHeartbeatInterval",value:function(){var Pt=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=y().setInterval(function(){Pt.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(y().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&Ee(Ze.prototype,Xe),mt&&Ee(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}();function pe(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function me(nt,Ze,Xe){return Ze&&pe(nt.prototype,Ze),Xe&&pe(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var Ie=me(function nt(Ze){var Xe=this;(function(mt,Pt){if(!(mt instanceof Pt))throw new TypeError("Cannot call a class as a function")})(this,nt),Ze.on("viewinit",function(){Xe.viewErrored=!1}),Ze.on("error",function(mt,Pt){try{var jt=Ze.errorTranslator({player_error_code:Pt.player_error_code,player_error_message:Pt.player_error_message,player_error_context:Pt.player_error_context});jt?(Ze.data.player_error_code=jt.player_error_code||Pt.player_error_code,Ze.data.player_error_message=jt.player_error_message||Pt.player_error_message,Ze.data.player_error_context=jt.player_error_context||Pt.player_error_context,Xe.viewErrored=!0):(delete Ze.data.player_error_code,delete Ze.data.player_error_message,delete Ze.data.player_error_context)}catch(kt){Ze.mux.log.warn("Exception in error translator callback.",kt),Xe.viewErrored=!0}})});function _e(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var de=function(){function nt(Pt){(function(jt,kt){if(!(jt instanceof kt))throw new TypeError("Cannot call a class as a function")})(this,nt),this.pm=Pt,this._watchTimeTrackerLastCheckedTime=null,Pt.on("playbackheartbeat",this._updateWatchTime.bind(this)),Pt.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var Ze,Xe,mt;return Ze=nt,(Xe=[{key:"_updateWatchTime",value:function(Pt,jt){var kt=jt.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=kt),C(this.pm.data,"view_watch_time",kt-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=kt}},{key:"_clearWatchTimeState",value:function(Pt,jt){this._updateWatchTime(Pt,jt),this._watchTimeTrackerLastCheckedTime=null}}])&&_e(Ze.prototype,Xe),mt&&_e(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}();function Re(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var ke=function(){function nt(Pt){var jt=this;(function(kt,Oe){if(!(kt instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,nt),this.pm=Pt,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=P.now(),this._isAdPlaying=!1,Pt.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),Pt.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),Pt.on("seeking",this._clearPlaybackTimeState.bind(this)),Pt.on("adplaying",function(){jt._isAdPlaying=!0}),Pt.on("adended",function(){jt._isAdPlaying=!1}),Pt.on("adpause",function(){jt._isAdPlaying=!1}),Pt.on("adbreakstart",function(){jt._isAdPlaying=!1}),Pt.on("adbreakend",function(){jt._isAdPlaying=!1}),Pt.on("adplay",function(){jt._isAdPlaying=!1})}var Ze,Xe,mt;return Ze=nt,(Xe=[{key:"_updatePlaybackTime",value:function(){var Pt=this.pm.data.player_playhead_time,jt=P.now(),kt=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&Pt>this._playbackTimeTrackerLastPlayheadPosition?kt=Pt-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(kt=jt-this._lastTime),kt>0&&kt<=1e3&&C(this.pm.data,"view_content_playback_time",kt),this._playbackTimeTrackerLastPlayheadPosition=Pt,this._lastTime=jt}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&Re(Ze.prototype,Xe),mt&&Re(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}();function Ve(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var Ge=function(){function nt(Pt){(function(kt,Oe){if(!(kt instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,nt),this.pm=Pt;var jt=this._updatePlayheadTime.bind(this);Pt.on("playbackheartbeat",jt),Pt.on("playbackheartbeatend",jt),Pt.on("timeupdate",jt),Pt.on("destroy",function(){Pt.off("timeupdate",jt)})}var Ze,Xe,mt;return Ze=nt,(Xe=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(Pt,jt){var kt=this,Oe=function(){kt.pm.currentFragmentPDT&&kt.pm.currentFragmentStart&&(kt.pm.data.player_program_time=kt.pm.currentFragmentPDT+kt.pm.data.player_playhead_time-kt.pm.currentFragmentStart)};if(jt&&jt.player_playhead_time)this.pm.data.player_playhead_time=jt.player_playhead_time,Oe(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var be=this.pm.getPlayheadTime();be!==void 0&&(this.pm.data.player_playhead_time=be,Oe(),this._updateMaxPlayheadPosition())}}}])&&Ve(Ze.prototype,Xe),mt&&Ve(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}();function Qe(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function bt(nt,Ze,Xe){return Ze&&Qe(nt.prototype,Ze),Xe&&Qe(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var Ce=3e5,We=bt(function nt(Ze){if(function(jt,kt){if(!(jt instanceof kt))throw new TypeError("Cannot call a class as a function")}(this,nt),!Ze.disableRebufferTracking){var Xe,mt=function(jt,kt){Pt(kt),Xe=void 0},Pt=function(jt){if(Xe){var kt=jt.viewer_time-Xe;C(Ze.data,"view_rebuffer_duration",kt),Xe=jt.viewer_time,Ze.data.view_rebuffer_duration>Ce&&(Ze.emit("viewend"),Ze.send("viewend"),Ze.mux.log.warn("Ending view after rebuffering for longer than ".concat(Ce,"ms, future events will be ignored unless a programchange or videochange occurs.")))}Ze.data.view_watch_time>=0&&Ze.data.view_rebuffer_count>0&&(Ze.data.view_rebuffer_frequency=Ze.data.view_rebuffer_count/Ze.data.view_watch_time,Ze.data.view_rebuffer_percentage=Ze.data.view_rebuffer_duration/Ze.data.view_watch_time)};Ze.on("playbackheartbeat",function(jt,kt){return Pt(kt)}),Ze.on("rebufferstart",function(jt,kt){Xe||(C(Ze.data,"view_rebuffer_count",1),Xe=kt.viewer_time,Ze.one("rebufferend",mt))}),Ze.on("viewinit",function(){Xe=void 0,Ze.off("rebufferend",mt)})}});function xe(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var rt=function(){function nt(Pt){var jt=this;(function(kt,Oe){if(!(kt instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,nt),this.pm=Pt,Pt.disableRebufferTracking||Pt.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,Pt.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),Pt.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),Pt.on("seeking",function(){jt._cleanupRebufferTracker(null,{viewer_time:P.now()})}))}var Ze,Xe,mt;return Ze=nt,Xe=[{key:"_checkIfRebuffering",value:function(Pt,jt){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(Pt,jt);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var kt=jt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&kt>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=jt.viewer_time}else this._cleanupRebufferTracker(Pt,jt,!0);else this._prepareRebufferTrackerState(jt.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(Pt){this._lastCheckedTime=Pt,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=Pt}},{key:"_cleanupRebufferTracker",value:function(Pt,jt){var kt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:jt.viewer_time});else{if(this._lastCheckedTime===null)return;var Oe=this.pm.data.player_playhead_time-this._lastPlayheadTime,be=jt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&Oe>0&&be-Oe>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+be-Oe}))}kt?this._prepareRebufferTrackerState(jt.viewer_time):this._clearRebufferTrackerState()}}],Xe&&xe(Ze.prototype,Xe),mt&&xe(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}(),Je=rt;function ft(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var je=function(){function nt(Pt){var jt=this;(function(kt,Oe){if(!(kt instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,nt),this.pm=Pt,Pt.on("viewinit",function(){var kt=Pt.data,Oe=kt.view_id;if(!kt.view_program_changed){var be=function(we,Ke){var ht=Ke.viewer_time;we.type==="playing"&&Pt.data.view_time_to_first_frame===void 0?jt.calculateTimeToFirstFrame(ht||P.now(),Oe):we.type!=="adplaying"||Pt.data.view_time_to_first_frame!==void 0&&!jt._inPrerollPosition()||jt.calculateTimeToFirstFrame(ht||P.now(),Oe)};Pt.one("playing",be),Pt.one("adplaying",be),Pt.one("viewend",function(){Pt.off("playing",be),Pt.off("adplaying",be)})}})}var Ze,Xe,mt;return Ze=nt,(Xe=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(Pt,jt){jt===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:Pt}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&ft(Ze.prototype,Xe),mt&&ft(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}();function Rt(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function Jt(nt,Ze,Xe){return Ze&&Rt(nt.prototype,Ze),Xe&&Rt(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var Ct=Jt(function nt(Ze){var Xe=this;(function(mt,Pt){if(!(mt instanceof Pt))throw new TypeError("Cannot call a class as a function")})(this,nt),Ze.on("viewinit",function(){Xe._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(mt){Ze.on(mt,function(){if(Xe._lastPlayheadPosition>=0&&Ze.data.player_playhead_time>=0&&Xe._lastPlayerWidth>=0&&Xe._lastSourceWidth>0&&Xe._lastPlayerHeight>=0&&Xe._lastSourceHeight>0){var Pt=Ze.data.player_playhead_time-Xe._lastPlayheadPosition;if(Pt<0)return void(Xe._lastPlayheadPosition=-1);var jt=Math.min(Xe._lastPlayerWidth/Xe._lastSourceWidth,Xe._lastPlayerHeight/Xe._lastSourceHeight),kt=Math.max(0,jt-1),Oe=Math.max(0,1-jt);Ze.data.view_max_upscale_percentage=Math.max(Ze.data.view_max_upscale_percentage||0,kt),Ze.data.view_max_downscale_percentage=Math.max(Ze.data.view_max_downscale_percentage||0,Oe),C(Ze.data,"view_total_content_playback_time",Pt),C(Ze.data,"view_total_upscaling",kt*Pt),C(Ze.data,"view_total_downscaling",Oe*Pt)}Xe._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(mt){Ze.on(mt,function(){Xe._lastPlayheadPosition=Ze.data.player_playhead_time,Xe._lastPlayerWidth=Ze.data.player_width,Xe._lastPlayerHeight=Ze.data.player_height,Xe._lastSourceWidth=Ze.data.video_source_width,Xe._lastSourceHeight=Ze.data.video_source_height})})});function Le(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function He(nt,Ze,Xe){return Ze&&Le(nt.prototype,Ze),Xe&&Le(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var it=He(function nt(Ze){var Xe=this;(function(mt,Pt){if(!(mt instanceof Pt))throw new TypeError("Cannot call a class as a function")})(this,nt),this.isSeeking=!1,Ze.on("seeking",function(mt,Pt){Object.assign(Ze.data,Pt),Xe._lastSeekingTime=P.now(),Xe.isSeeking===!1&&(Xe.isSeeking=!0,Ze.send("seeking"))}),Ze.on("seeked",function(){Xe.isSeeking=!1;var mt=Xe._lastSeekingTime||P.now(),Pt=P.now()-mt;C(Ze.data,"view_seek_count",1),C(Ze.data,"view_seek_duration",Pt);var jt=Ze.data.view_max_seek_time||0;Ze.data.view_max_seek_time=Math.max(jt,Pt)}),Ze.on("viewend",function(){Xe.isSeeking=!1})});function Ne(nt,Ze){return function(Xe){if(Array.isArray(Xe))return Xe}(nt)||function(Xe,mt){var Pt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(Pt!=null){var jt,kt,Oe=[],be=!0,we=!1;try{for(Pt=Pt.call(Xe);!(be=(jt=Pt.next()).done)&&(Oe.push(jt.value),!mt||Oe.length!==mt);be=!0);}catch(Ke){we=!0,kt=Ke}finally{try{be||Pt.return==null||Pt.return()}finally{if(we)throw kt}}return Oe}}(nt,Ze)||function(Xe,mt){if(Xe){if(typeof Xe=="string")return Be(Xe,mt);var Pt=Object.prototype.toString.call(Xe).slice(8,-1);return Pt==="Object"&&Xe.constructor&&(Pt=Xe.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Xe):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?Be(Xe,mt):void 0}}(nt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Be(nt,Ze){(Ze==null||Ze>nt.length)&&(Ze=nt.length);for(var Xe=0,mt=new Array(Ze);Xe<Ze;Xe++)mt[Xe]=nt[Xe];return mt}function ze(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}var lt=function(nt,Ze){nt.push(Ze),nt.sort(function(Xe,mt){return Xe.viewer_time-mt.viewer_time})},et=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],Ae=function(){function nt(Pt){var jt=this;(function(Oe,be){if(!(Oe instanceof be))throw new TypeError("Cannot call a class as a function")})(this,nt),this.pm=Pt,Pt.on("viewinit",function(){jt.isAdBreak=!1,jt._currentAdRequestNumber=0,jt._currentAdResponseNumber=0,jt._adRequests=[],jt._adResponses=[],jt._adHasPlayed=!1,jt._wouldBeNewAdPlay=!0,jt._prerollPlayTime=void 0}),et.forEach(function(Oe){return Pt.on(Oe,jt._updateAdData.bind(jt))});var kt=function(){jt.isAdBreak=!1};Pt.on("adbreakstart",function(){jt.isAdBreak=!0}),Pt.on("play",kt),Pt.on("playing",kt),Pt.on("viewend",kt),Pt.on("adrequest",function(Oe,be){be=Object.assign({ad_request_id:"generatedAdRequestId"+jt._currentAdRequestNumber++},be),lt(jt._adRequests,be),C(Pt.data,"view_ad_request_count"),jt.inPrerollPosition()&&(Pt.data.view_preroll_requested=!0,jt._adHasPlayed||C(Pt.data,"view_preroll_request_count"))}),Pt.on("adresponse",function(Oe,be){be=Object.assign({ad_request_id:"generatedAdRequestId"+jt._currentAdResponseNumber++},be),lt(jt._adResponses,be);var we=jt.findAdRequest(be.ad_request_id);we&&C(Pt.data,"view_ad_request_time",Math.max(0,be.viewer_time-we.viewer_time))}),Pt.on("adplay",function(Oe,be){jt._adHasPlayed=!0,jt._wouldBeNewAdPlay&&(jt._wouldBeNewAdPlay=!1,C(Pt.data,"view_ad_played_count")),jt.inPrerollPosition()&&!Pt.data.view_preroll_played&&(Pt.data.view_preroll_played=!0,jt._adRequests.length>0&&(Pt.data.view_preroll_request_time=Math.max(0,be.viewer_time-jt._adRequests[0].viewer_time)),Pt.data.view_start&&(Pt.data.view_startup_preroll_request_time=Math.max(0,be.viewer_time-Pt.data.view_start)),jt._prerollPlayTime=be.viewer_time)}),Pt.on("adplaying",function(Oe,be){jt.inPrerollPosition()&&Pt.data.view_preroll_load_time===void 0&&jt._prerollPlayTime!==void 0&&(Pt.data.view_preroll_load_time=be.viewer_time-jt._prerollPlayTime,Pt.data.view_startup_preroll_load_time=be.viewer_time-jt._prerollPlayTime)}),Pt.on("adended",function(){jt._wouldBeNewAdPlay=!0}),Pt.on("aderror",function(){jt._wouldBeNewAdPlay=!0})}var Ze,Xe,mt;return Ze=nt,(Xe=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(Pt){for(var jt=0;jt<this._adRequests.length;jt++)if(this._adRequests[jt].ad_request_id===Pt)return this._adRequests[jt]}},{key:"_updateAdData",value:function(Pt,jt){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&jt.ad_tag_url){var kt=Ne(M(jt.ad_tag_url),2),Oe=kt[0],be=kt[1];this.pm.data.view_preroll_ad_tag_domain=be,this.pm.data.view_preroll_ad_tag_hostname=Oe}if(!this.pm.data.view_preroll_ad_asset_hostname&&jt.ad_asset_url){var we=Ne(M(jt.ad_asset_url),2),Ke=we[0],ht=we[1];this.pm.data.view_preroll_ad_asset_domain=ht,this.pm.data.view_preroll_ad_asset_hostname=Ke}}this.pm.data.ad_asset_url=jt==null?void 0:jt.ad_asset_url,this.pm.data.ad_tag_url=jt==null?void 0:jt.ad_tag_url,this.pm.data.ad_creative_id=jt==null?void 0:jt.ad_creative_id,this.pm.data.ad_id=jt==null?void 0:jt.ad_id,this.pm.data.ad_universal_id=jt==null?void 0:jt.ad_universal_id}}])&&ze(Ze.prototype,Xe),mt&&ze(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}();function H(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function Q(nt,Ze,Xe){return Ze&&H(nt.prototype,Ze),Xe&&H(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var ce=Q(function nt(Ze){var Xe,mt;(function(Oe,be){if(!(Oe instanceof be))throw new TypeError("Cannot call a class as a function")})(this,nt);var Pt=function(){Ze.disableRebufferTracking||Xe&&(C(Ze.data,"view_waiting_rebuffer_duration",P.now()-Xe),Xe=!1,y().clearInterval(mt))},jt=!1,kt=function(){jt=!1,Pt()};Ze.on("waiting",function(){jt&&(Ze.disableRebufferTracking||(C(Ze.data,"view_waiting_rebuffer_count",1),Xe=P.now(),mt=y().setInterval(function(){if(Xe){var Oe=P.now();C(Ze.data,"view_waiting_rebuffer_duration",Oe-Xe),Xe=Oe}},250)))}),Ze.on("playing",function(){Pt(),jt=!0}),Ze.on("pause",kt),Ze.on("seeking",kt)});function Pe(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function Me(nt,Ze,Xe){return Ze&&Pe(nt.prototype,Ze),Xe&&Pe(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var $e=Me(function nt(Ze){var Xe=this;(function(jt,kt){if(!(jt instanceof kt))throw new TypeError("Cannot call a class as a function")})(this,nt);var mt=function(){Xe.lastWallClockTime=P.now(),Ze.on("before*",Pt)},Pt=function(jt){var kt=P.now(),Oe=Xe.lastWallClockTime;Xe.lastWallClockTime=kt,kt-Oe>3e4&&(Ze.emit("devicesleep",{viewer_time:Oe}),Object.assign(Ze.data,{viewer_time:Oe}),Ze.send("devicesleep"),Ze.emit("devicewake",{viewer_time:kt}),Object.assign(Ze.data,{viewer_time:kt}),Ze.send("devicewake"))};Ze.one("playbackheartbeat",mt),Ze.on("playbackheartbeatend",function(){Ze.off("before*",Pt),Ze.one("playbackheartbeat",mt)})}),ct=v(375),ut=v(655),Et=v.n(ut),Nt="muxData",$t=function(){var nt;try{nt=ct.parse(Et().get(Nt)||"")}catch(Ze){nt={}}return nt},Nn=function(nt){try{Et().set(Nt,ct.stringify(nt),{expires:7300})}catch(Ze){}},Vt=function(){var nt=$t();return nt.mux_viewer_id=nt.mux_viewer_id||p(),nt.msn=nt.msn||Math.random(),Nn(nt),{mux_viewer_id:nt.mux_viewer_id,mux_sample_number:nt.msn}};function rr(nt,Ze){var Xe=Ze.beaconCollectionDomain,mt=Ze.beaconDomain;if(Xe)return"https://"+Xe;var Pt=mt||"litix.io";return(nt=nt||"inferred").match(/^[a-z0-9]+$/)?"https://"+nt+"."+Pt:"https://img.litix.io/a.gif"}var Tr=function(){var nt;switch(cr()){case"cellular":nt="cellular";break;case"ethernet":nt="wired";break;case"wifi":nt="wifi";break;case void 0:break;default:nt="other"}return nt},cr=function(){var nt=y().navigator,Ze=nt&&(nt.connection||nt.mozConnection||nt.webkitConnection);return Ze&&Ze.type};Tr.getConnectionFromAPI=cr;var Lr=Tr,Br=Dt({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),Cr=Dt({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function Dt(nt){var Ze={};for(var Xe in nt)nt.hasOwnProperty(Xe)&&(Ze[nt[Xe]]=Xe);return Ze}function Ft(nt){var Ze={},Xe={};return Object.keys(nt).forEach(function(mt){var Pt=!1;if(nt.hasOwnProperty(mt)&&nt[mt]!==void 0){var jt=mt.split("_"),kt=jt[0],Oe=Br[kt];Oe||(s.info("Data key word `"+jt[0]+"` not expected in "+mt),Oe=kt+"_"),jt.splice(1).forEach(function(be){be==="url"&&(Pt=!0),Cr[be]?Oe+=Cr[be]:Number(be)&&Math.floor(Number(be))===Number(be)?Oe+=be:(s.info("Data key word `"+be+"` not expected in "+mt),Oe+="_"+be+"_")}),Pt?Xe[Oe]=nt[mt]:Ze[Oe]=nt[mt]}}),Object.assign(Ze,Xe)}var zt={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},sn=["hb","requestcompleted","requestfailed","requestcanceled"],Un="https://img.litix.io",gr=function(nt){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=nt||Un,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},zt,Ze)};gr.prototype.queueEvent=function(nt,Ze){var Xe=Object.assign({},Ze);return(this._eventQueue.length<=this._options.maxQueueLength||nt==="eventrateexceeded")&&(this._eventQueue.push(Xe),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},gr.prototype.flushEvents=function(){var nt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];nt&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},gr.prototype.destroy=function(){var nt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,nt?this._clearBeaconQueue():this.flushEvents(),y().clearTimeout(this._sendTimeout)},gr.prototype._clearBeaconQueue=function(){var nt=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,Ze=this._eventQueue.slice(nt);nt>0&&Object.assign(Ze[Ze.length-1],Ft({mux_view_message:"event queue truncated"}));var Xe=this._createPayload(Ze);Fr(this._beaconUrl,Xe,!0,function(){})},gr.prototype._sendBeaconQueue=function(){var nt=this;if(!this._postInFlight){var Ze=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var Xe=this._createPayload(Ze),mt=P.now();Fr(this._beaconUrl,Xe,!1,function(Pt,jt){jt?(nt._eventQueue=Ze.concat(nt._eventQueue),nt._failureCount+=1,s.info("Error sending beacon: "+jt)):nt._failureCount=0,nt._roundTripTime=P.now()-mt,nt._postInFlight=!1})}},gr.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var nt=Math.pow(2,this._failureCount-1);return(1+(nt*=Math.random()))*this._options.baseTimeBetweenBeacons},gr.prototype._startBeaconSending=function(){var nt=this;y().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=y().setTimeout(function(){nt._eventQueue.length&&nt._sendBeaconQueue(),nt._startBeaconSending()},this._getNextBeaconTime()))},gr.prototype._createPayload=function(nt){var Ze,Xe,mt,Pt=this,jt={transmission_timestamp:Math.round(P.now())};this._roundTripTime&&(jt.rtt_ms=Math.round(this._roundTripTime));var kt=function(){Ze=JSON.stringify({metadata:jt,events:Xe||nt}),mt=Ze.length/1024},Oe=function(){return mt<=Pt._options.maxPayloadKBSize};return kt(),Oe()||(s.info("Payload size is too big ("+mt+" kb). Removing unnecessary events."),Xe=nt.filter(function(be){return sn.indexOf(be.e)===-1}),kt()),Oe()||(s.info("Payload size still too big ("+mt+" kb). Cropping fields.."),Xe.forEach(function(be){for(var we in be){var Ke=be[we];typeof Ke=="string"&&Ke.length>51200&&(be[we]=Ke.substring(0,51200))}}),kt()),Ze};var Dr=function(nt){return nt.length<=57344},Fr=function(nt,Ze,Xe,mt){if(Xe&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(nt,Ze))mt();else if(y().fetch)y().fetch(nt,{method:"POST",body:Ze,headers:{"Content-Type":"text/plain"},keepalive:Dr(Ze)}).then(function(jt){return mt(null,jt.ok?null:"Error")}).catch(function(jt){return mt(null,jt)});else{if(y().XMLHttpRequest){var Pt=new(y()).XMLHttpRequest;return Pt.onreadystatechange=function(){if(Pt.readyState===4)return mt(null,Pt.status!==200?"error":void 0)},Pt.open("POST",nt),Pt.setRequestHeader("Content-Type","text/plain"),void Pt.send(Ze)}mt()}},jr=gr;function kr(nt,Ze){return function(Xe){if(Array.isArray(Xe))return Xe}(nt)||function(Xe,mt){var Pt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(Pt!=null){var jt,kt,Oe=[],be=!0,we=!1;try{for(Pt=Pt.call(Xe);!(be=(jt=Pt.next()).done)&&(Oe.push(jt.value),!mt||Oe.length!==mt);be=!0);}catch(Ke){we=!0,kt=Ke}finally{try{be||Pt.return==null||Pt.return()}finally{if(we)throw kt}}return Oe}}(nt,Ze)||function(Xe,mt){if(Xe){if(typeof Xe=="string")return uo(Xe,mt);var Pt=Object.prototype.toString.call(Xe).slice(8,-1);return Pt==="Object"&&Xe.constructor&&(Pt=Xe.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Xe):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?uo(Xe,mt):void 0}}(nt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uo(nt,Ze){(Ze==null||Ze>nt.length)&&(Ze=nt.length);for(var Xe=0,mt=new Array(Ze);Xe<Ze;Xe++)mt[Xe]=nt[Xe];return mt}function to(nt,Ze){var Xe=Object.keys(nt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(nt);Ze&&(mt=mt.filter(function(Pt){return Object.getOwnPropertyDescriptor(nt,Pt).enumerable})),Xe.push.apply(Xe,mt)}return Xe}function ao(nt){for(var Ze=1;Ze<arguments.length;Ze++){var Xe=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?to(Object(Xe),!0).forEach(function(mt){no(nt,mt,Xe[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(Xe)):to(Object(Xe)).forEach(function(mt){Object.defineProperty(nt,mt,Object.getOwnPropertyDescriptor(Xe,mt))})}return nt}function Ur(nt){return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ze){return typeof Ze}:function(Ze){return Ze&&typeof Symbol=="function"&&Ze.constructor===Symbol&&Ze!==Symbol.prototype?"symbol":typeof Ze},Ur(nt)}function _o(nt,Ze){if(!(nt instanceof Ze))throw new TypeError("Cannot call a class as a function")}function fo(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function no(nt,Ze,Xe){return Ze in nt?Object.defineProperty(nt,Ze,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):nt[Ze]=Xe,nt}var so=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],go=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse"],Zo=["viewstart","error","ended","viewend"],Co=function(){function nt(Pt,jt){var kt,Oe,be,we,Ke,ht,vt,Ot,It,Wt,Ut,un,nn,dn,An,zn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_o(this,nt),no(this,"previousBeaconData",null),no(this,"lastEventTime",0),no(this,"rateLimited",!1),this.mux=Pt,this.envKey=jt,this.options=zn,this.eventQueue=new jr(rr(this.envKey,this.options)),this.sampleRate=(kt=this.options.sampleRate)!==null&&kt!==void 0?kt:1,this.disableCookies=(Oe=this.options.disableCookies)!==null&&Oe!==void 0&&Oe,this.respectDoNotTrack=(be=this.options.respectDoNotTrack)!==null&&be!==void 0&&be,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(we=this.options.platform)===null||we===void 0?void 0:we.name,viewer_application_version:(Ke=this.options.platform)===null||Ke===void 0?void 0:Ke.version,viewer_application_engine:(ht=this.options.platform)===null||ht===void 0?void 0:ht.layout,viewer_device_name:(vt=this.options.platform)===null||vt===void 0?void 0:vt.product,viewer_device_category:"",viewer_device_manufacturer:(Ot=this.options.platform)===null||Ot===void 0?void 0:Ot.manufacturer,viewer_os_family:(It=this.options.platform)===null||It===void 0||(Wt=It.os)===null||Wt===void 0?void 0:Wt.family,viewer_os_architecture:(Ut=this.options.platform)===null||Ut===void 0||(un=Ut.os)===null||un===void 0?void 0:un.architecture,viewer_os_version:(nn=this.options.platform)===null||nn===void 0||(dn=nn.os)===null||dn===void 0?void 0:dn.version,viewer_connection_type:Lr(),page_url:y()===null||y()===void 0||(An=y().location)===null||An===void 0?void 0:An.href},this.viewerData=this.disableCookies?{}:Vt()}var Ze,Xe,mt;return Ze=nt,(Xe=[{key:"send",value:function(Pt,jt){var kt;if(Pt&&jt!=null&&jt.view_id){if(this.respectDoNotTrack&&w())return s.info("Not sending `"+Pt+"` because Do Not Track is enabled");if(!jt||Ur(jt)!=="object")return s.error("A data object was expected in send() but was not provided");var Oe,be,we=this.disableCookies?{}:(Oe=$t(),be=P.now(),Oe.session_start&&(Oe.sst=Oe.session_start,delete Oe.session_start),Oe.session_id&&(Oe.sid=Oe.session_id,delete Oe.session_id),Oe.session_expires&&(Oe.sex=Oe.session_expires,delete Oe.session_expires),(!Oe.sex||Oe.sex<be)&&(Oe.sid=p(),Oe.sst=be),Oe.sex=be+15e5,Nn(Oe),{session_id:Oe.sid,session_start:Oe.sst,session_expires:Oe.sex}),Ke=ao(ao(ao(ao(ao({},this.pageLevelData),jt),we),this.viewerData),{},{event:Pt,env_key:this.envKey});Ke.user_id&&(Ke.viewer_user_id=Ke.user_id,delete Ke.user_id);var ht=((kt=Ke.mux_sample_number)!==null&&kt!==void 0?kt:0)>=this.sampleRate,vt=Ft(this._deduplicateBeaconData(Pt,Ke));if(this.lastEventTime=this.mux.utils.now(),ht)return s.info("Not sending event due to sample rate restriction",Pt,Ke,vt);if(this.envKey||s.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",Pt,Ke,vt),!this.rateLimited){if(s.info("Sending event",Pt,Ke,vt),this.rateLimited=!this.eventQueue.queueEvent(Pt,vt),this.mux.WINDOW_UNLOADING&&Pt==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&Pt==="hb"?this.eventQueue.flushEvents(!0):Zo.indexOf(Pt)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return Ke.event="eventrateexceeded",vt=Ft(Ke),this.eventQueue.queueEvent(Ke.event,vt),s.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(Pt,jt){var kt=this,Oe={},be=jt.view_id;if(be==="-1"||Pt==="viewstart"||Pt==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)Oe=ao({},jt),be&&(this.previousBeaconData=Oe),be&&Pt==="viewend"&&(this.previousBeaconData=null);else{var we=Pt.indexOf("request")===0;Object.entries(jt).forEach(function(Ke){var ht=kr(Ke,2),vt=ht[0],Ot=ht[1];kt.previousBeaconData&&(Ot!==kt.previousBeaconData[vt]||so.indexOf(vt)>-1||kt.objectHasChanged(we,vt,Ot,kt.previousBeaconData[vt])||kt.eventRequiresKey(Pt,vt))&&(Oe[vt]=Ot,kt.previousBeaconData[vt]=Ot)})}return Oe}},{key:"objectHasChanged",value:function(Pt,jt,kt,Oe){return!(!Pt||jt.indexOf("request_")!==0||jt!=="request_response_headers"&&Ur(kt)==="object"&&Ur(Oe)==="object"&&Object.keys(kt||{}).length===Object.keys(Oe||{}).length)}},{key:"eventRequiresKey",value:function(Pt,jt){return Pt==="renditionchange"&&jt.indexOf("video_source_")===0||!(jt.indexOf("ad_id")!==0||!go.includes(Pt))}}])&&fo(Ze.prototype,Xe),mt&&fo(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),nt}();function Oo(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function vo(nt,Ze,Xe){return Ze&&Oo(nt.prototype,Ze),Xe&&Oo(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var on=vo(function nt(Ze){(function(we,Ke){if(!(we instanceof Ke))throw new TypeError("Cannot call a class as a function")})(this,nt);var Xe=0,mt=0,Pt=0,jt=0,kt=0,Oe=0,be=0;Ze.on("requestcompleted",function(we,Ke){var ht,vt,Ot=Ke.request_start,It=Ke.request_response_start,Wt=Ke.request_response_end,Ut=Ke.request_bytes_loaded;if(jt++,It?(ht=It-(Ot!=null?Ot:0),vt=(Wt!=null?Wt:0)-It):vt=(Wt!=null?Wt:0)-(Ot!=null?Ot:0),vt>0&&Ut&&Ut>0){var un=Ut/vt*8e3;kt++,mt+=Ut,Pt+=vt,Ze.data.view_min_request_throughput=Math.min(Ze.data.view_min_request_throughput||1/0,un),Ze.data.view_average_request_throughput=mt/Pt*8e3,Ze.data.view_request_count=jt,ht>0&&(Xe+=ht,Ze.data.view_max_request_latency=Math.max(Ze.data.view_max_request_latency||0,ht),Ze.data.view_average_request_latency=Xe/kt)}}),Ze.on("requestfailed",function(we,Ke){jt++,Oe++,Ze.data.view_request_count=jt,Ze.data.view_request_failed_count=Oe}),Ze.on("requestcanceled",function(we,Ke){jt++,be++,Ze.data.view_request_count=jt,Ze.data.view_request_canceled_count=be})});function On(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function Tn(nt,Ze,Xe){return Ze&&On(nt.prototype,Ze),Xe&&On(nt,Xe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}var Bn=Tn(function nt(Ze){var Xe=this;(function(mt,Pt){if(!(mt instanceof Pt))throw new TypeError("Cannot call a class as a function")})(this,nt),Ze.on("before*",function(mt,Pt){var jt=Pt.viewer_time,kt=P.now(),Oe=Xe._lastEventTime;if(Xe._lastEventTime=kt,Oe&&kt-Oe>36e5){var be=Object.keys(Ze.data).reduce(function(we,Ke){return Ke.indexOf("video_")===0?Object.assign(we,function(ht,vt,Ot){return vt in ht?Object.defineProperty(ht,vt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):ht[vt]=Ot,ht}({},Ke,Ze.data[Ke])):we},{});Ze.mux.log.info("Received event after at least an hour inactivity, creating a new view"),Ze.emit("viewinit",Object.assign({viewer_time:jt},be)),Ze.playbackHeartbeat._playheadShouldBeProgressing&&mt.type!=="play"&&mt.type!=="adbreakstart"&&(Ze.emit("play",{viewer_time:jt}),mt.type!=="playing"&&Ze.emit("playing",{viewer_time:jt}))}})});function Tt(nt){return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ze){return typeof Ze}:function(Ze){return Ze&&typeof Symbol=="function"&&Ze.constructor===Symbol&&Ze!==Symbol.prototype?"symbol":typeof Ze},Tt(nt)}function Lt(nt,Ze){return function(Xe){if(Array.isArray(Xe))return Xe}(nt)||function(Xe,mt){var Pt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(Pt!=null){var jt,kt,Oe=[],be=!0,we=!1;try{for(Pt=Pt.call(Xe);!(be=(jt=Pt.next()).done)&&(Oe.push(jt.value),!mt||Oe.length!==mt);be=!0);}catch(Ke){we=!0,kt=Ke}finally{try{be||Pt.return==null||Pt.return()}finally{if(we)throw kt}}return Oe}}(nt,Ze)||function(Xe,mt){if(Xe){if(typeof Xe=="string")return Yt(Xe,mt);var Pt=Object.prototype.toString.call(Xe).slice(8,-1);return Pt==="Object"&&Xe.constructor&&(Pt=Xe.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Xe):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?Yt(Xe,mt):void 0}}(nt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yt(nt,Ze){(Ze==null||Ze>nt.length)&&(Ze=nt.length);for(var Xe=0,mt=new Array(Ze);Xe<Ze;Xe++)mt[Xe]=nt[Xe];return mt}function ln(nt,Ze){for(var Xe=0;Xe<Ze.length;Xe++){var mt=Ze[Xe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(nt,mt.key,mt)}}function hn(nt,Ze){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Xe,mt){return Xe.__proto__=mt,Xe},hn(nt,Ze)}function Dn(nt){var Ze=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Xe){return!1}}();return function(){var Xe,mt=Jn(nt);if(Ze){var Pt=Jn(this).constructor;Xe=Reflect.construct(mt,arguments,Pt)}else Xe=mt.apply(this,arguments);return an(this,Xe)}}function an(nt,Ze){if(Ze&&(Tt(Ze)==="object"||typeof Ze=="function"))return Ze;if(Ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mn(nt)}function Mn(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function Jn(nt){return Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ze){return Ze.__proto__||Object.getPrototypeOf(Ze)},Jn(nt)}var pt=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],Mt=function(nt){(function(kt,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");kt.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:kt,writable:!0,configurable:!0}}),Object.defineProperty(kt,"prototype",{writable:!1}),Oe&&hn(kt,Oe)})(jt,nt);var Ze,Xe,mt,Pt=Dn(jt);function jt(kt,Oe,be){var we;(function(It,Wt){if(!(It instanceof Wt))throw new TypeError("Cannot call a class as a function")})(this,jt),(we=Pt.call(this)).DOM_CONTENT_LOADED_EVENT_END=N.domContentLoadedEventEnd(),we.NAVIGATION_START=N.navigationStart(),we.mux=kt,we.id=Oe,(be=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(It){return It}},be)).data=be.data||{},be.data.property_key&&(be.data.env_key=be.data.property_key,delete be.data.property_key),s.setLevel(be.debug?"debug":"warn"),we.getPlayheadTime=be.getPlayheadTime,we.getStateData=be.getStateData||function(){return{}},we.getAdData=be.getAdData||function(){},we.minimumRebufferDuration=be.minimumRebufferDuration,we.sustainedRebufferThreshold=be.sustainedRebufferThreshold,we.playbackHeartbeatTime=be.playbackHeartbeatTime,we.disableRebufferTracking=be.disableRebufferTracking,we.disableRebufferTracking&&we.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),we.disablePlayheadRebufferTracking=be.disablePlayheadRebufferTracking,we.errorTranslator=be.errorTranslator,we.playbackEventDispatcher=new Co(kt,be.data.env_key,be),we.data={player_instance_id:p(),mux_sample_rate:be.sampleRate,beacon_domain:be.beaconCollectionDomain?be.beaconCollectionDomain:be.beaconDomain},we.data.view_sequence_number=1,we.data.player_sequence_number=1,we.oldEmit=we.emit,we.emit=function(It,Wt){Wt=Object.assign({viewer_time:this.mux.utils.now()},Wt),this.oldEmit(It,Wt)};var Ke=function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(Mn(we));we.on("viewinit",function(It,Wt){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,Wt),this._initializeViewData(),this.one("play",Ke),this.one("adbreakstart",Ke)});var ht=function(It){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",It)}.bind(Mn(we));if(we.on("videochange",function(It,Wt){ht(Wt)}),we.on("programchange",function(It,Wt){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),ht(Object.assign(Wt,{view_program_changed:!0})),Ke(),this.emit("play"),this.emit("playing")}),we.on("fragmentchange",function(It,Wt){this.currentFragmentPDT=Wt.currentFragmentPDT,this.currentFragmentStart=Wt.currentFragmentStart}),we.on("destroy",we.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var vt=function(){var It=we.data.view_start!==void 0;we.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",It&&we.mux.WINDOW_HIDDEN&&(we.data.player_is_paused||we.emit("hb"))};window.addEventListener("visibilitychange",vt,!1);var Ot=function(It){It.persisted||we.destroy()};window.addEventListener("pagehide",Ot,!1),we.on("destroy",function(){window.removeEventListener("visibilitychange",vt),window.removeEventListener("pagehide",Ot)})}return we.on("playerready",function(It,Wt){Object.assign(this.data,Wt)}),pt.forEach(function(It){we.on(It,function(Wt,Ut){It.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,Ut),this._sanitizeData()}),we.on("after"+It,function(){(It!=="error"||this.errorTracker.viewErrored)&&this.send(It)})}),we.on("viewend",function(It,Wt){Object.assign(we.data,Wt)}),we.one("playerready",function(It){var Wt=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=Wt-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),we.longResumeTracker=new Bn(Mn(we)),we.errorTracker=new Ie(Mn(we)),new $e(Mn(we)),we.seekingTracker=new it(Mn(we)),we.playheadTime=new Ge(Mn(we)),we.playbackHeartbeat=new ve(Mn(we)),new Ct(Mn(we)),we.watchTimeTracker=new de(Mn(we)),new ke(Mn(we)),we.adTracker=new Ae(Mn(we)),new Je(Mn(we)),new We(Mn(we)),new je(Mn(we)),new ce(Mn(we)),new on(Mn(we)),be.hlsjs&&we.addHLSJS(be),be.dashjs&&we.addDashJS(be),we.emit("viewinit",be.data),we}return Ze=jt,Xe=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(kt){if(this.data.view_id){var Oe=Object.assign({},this.data);if(Oe.video_source_is_live===void 0&&(Oe.player_source_duration===1/0||Oe.video_source_duration===1/0?Oe.video_source_is_live=!0:(Oe.player_source_duration>0||Oe.video_source_duration>0)&&(Oe.video_source_is_live=!1)),Oe.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(ht){Oe[ht]=void 0}),Oe.video_source_url=Oe.video_source_url||Oe.player_source_url,Oe.video_source_url){var be=Lt(M(Oe.video_source_url),2),we=be[0],Ke=be[1];Oe.video_source_domain=Ke,Oe.video_source_hostname=we}delete Oe.ad_request_id,this.playbackEventDispatcher.send(kt,Oe),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),kt==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var kt=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(Oe){var be=parseInt(kt.data[Oe],10);kt.data[Oe]=isNaN(be)?void 0:be}),["player_source_url","video_source_url"].forEach(function(Oe){if(kt.data[Oe]){var be=kt.data[Oe].toLowerCase();be.indexOf("data:")!==0&&be.indexOf("blob:")!==0||(kt.data[Oe]="MSE style URL")}})}},{key:"_resetVideoData",value:function(kt,Oe){var be=this;Object.keys(this.data).forEach(function(we){we.indexOf("video_")===0&&delete be.data[we]})}},{key:"_resetViewData",value:function(){var kt=this;Object.keys(this.data).forEach(function(Oe){Oe.indexOf("view_")===0&&delete kt.data[Oe]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(kt,Oe){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var kt=this,Oe=this.data.view_id=p(),be=function(){Oe===kt.data.view_id&&C(kt.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",be):be()}},{key:"_restartHeartBeat",value:function(){var kt=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){kt.data.player_is_paused||kt.emit("hb")},1e4))}},{key:"addHLSJS",value:function(kt){kt.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=kt.hlsjs,function(Oe,be,we){var Ke=arguments.length>4?arguments[4]:void 0,ht=Oe.log,vt=Oe.utils.secondsToMs,Ot=function(ar){var In,dr=parseInt(Ke.version);return dr===1&&ar.programDateTime!==null&&(In=ar.programDateTime),dr===0&&ar.pdt!==null&&(In=ar.pdt),In};if(N.exists()){var It=function(ar,In){return Oe.emit(be,ar,In)},Wt=function(ar,In){var dr=In.levels,lr=In.audioTracks,Sr=In.url,Ir=In.stats,ro=In.networkDetails,co=In.sessionData,So={},Bo={};dr.forEach(function(Fo,ot){So[ot]={width:Fo.width,height:Fo.height,bitrate:Fo.bitrate,attrs:Fo.attrs}}),lr.forEach(function(Fo,ot){Bo[ot]={name:Fo.name,language:Fo.lang,bitrate:Fo.bitrate}});var ko=F(Ir),Vo=ko.bytesLoaded,vi=ko.requestStart,Vi=ko.responseStart,Ti=ko.responseEnd;It("requestcompleted",q(q({},Z(co)),{},{request_event_type:ar,request_bytes_loaded:Vo,request_start:vi,request_response_start:Vi,request_response_end:Ti,request_type:"manifest",request_hostname:x(Sr),request_response_headers:W(ro),request_rendition_lists:{media:So,audio:Bo,video:{}}}))};we.on(Ke.Events.MANIFEST_LOADED,Wt);var Ut=function(ar,In){var dr=In.details,lr=In.level,Sr=In.networkDetails,Ir=In.stats,ro=F(Ir),co=ro.bytesLoaded,So=ro.requestStart,Bo=ro.responseStart,ko=ro.responseEnd,Vo=dr.fragments[dr.fragments.length-1],vi=Ot(Vo)+vt(Vo.duration);It("requestcompleted",{request_event_type:ar,request_bytes_loaded:co,request_start:So,request_response_start:Bo,request_response_end:ko,request_current_level:lr,request_type:"manifest",request_hostname:x(dr.url),request_response_headers:W(Sr),video_holdback:dr.holdBack&&vt(dr.holdBack),video_part_holdback:dr.partHoldBack&&vt(dr.partHoldBack),video_part_target_duration:dr.partTarget&&vt(dr.partTarget),video_target_duration:dr.targetduration&&vt(dr.targetduration),video_source_is_live:dr.live,player_manifest_newest_program_time:isNaN(vi)?void 0:vi})};we.on(Ke.Events.LEVEL_LOADED,Ut);var un=function(ar,In){var dr=In.details,lr=In.networkDetails,Sr=In.stats,Ir=F(Sr),ro=Ir.bytesLoaded,co=Ir.requestStart,So=Ir.responseStart,Bo=Ir.responseEnd;It("requestcompleted",{request_event_type:ar,request_bytes_loaded:ro,request_start:co,request_response_start:So,request_response_end:Bo,request_type:"manifest",request_hostname:x(dr.url),request_response_headers:W(lr)})};we.on(Ke.Events.AUDIO_TRACK_LOADED,un);var nn=function(ar,In){var dr=In.stats,lr=In.networkDetails,Sr=In.frag;dr=dr||Sr.stats;var Ir=F(dr),ro=Ir.bytesLoaded,co=Ir.requestStart,So=Ir.responseStart,Bo=Ir.responseEnd,ko=lr?W(lr):void 0,Vo={request_event_type:ar,request_bytes_loaded:ro,request_start:co,request_response_start:So,request_response_end:Bo,request_hostname:lr?x(lr.responseURL):void 0,request_id:ko?K(ko):void 0,request_response_headers:ko,request_media_duration:Sr.duration,request_url:lr==null?void 0:lr.responseURL};Sr.type==="main"?(Vo.request_type="media",Vo.request_current_level=Sr.level,Vo.request_video_width=(we.levels[Sr.level]||{}).width,Vo.request_video_height=(we.levels[Sr.level]||{}).height,Vo.request_labeled_bitrate=(we.levels[Sr.level]||{}).bitrate):Vo.request_type=Sr.type,It("requestcompleted",Vo)};we.on(Ke.Events.FRAG_LOADED,nn);var dn=function(ar,In){var dr=In.frag,lr=dr.start,Sr={currentFragmentPDT:Ot(dr),currentFragmentStart:vt(lr)};It("fragmentchange",Sr)};we.on(Ke.Events.FRAG_CHANGED,dn);var An=function(ar,In){var dr=In.type,lr=In.details,Sr=In.response,Ir=In.fatal,ro=In.frag,co=In.networkDetails,So=(ro==null?void 0:ro.url)||In.url||"",Bo=co?W(co):void 0;if(lr!==Ke.ErrorDetails.MANIFEST_LOAD_ERROR&&lr!==Ke.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&lr!==Ke.ErrorDetails.FRAG_LOAD_ERROR&&lr!==Ke.ErrorDetails.FRAG_LOAD_TIMEOUT&&lr!==Ke.ErrorDetails.LEVEL_LOAD_ERROR&&lr!==Ke.ErrorDetails.LEVEL_LOAD_TIMEOUT&&lr!==Ke.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&lr!==Ke.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&lr!==Ke.ErrorDetails.SUBTITLE_LOAD_ERROR&&lr!==Ke.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&lr!==Ke.ErrorDetails.KEY_LOAD_ERROR&&lr!==Ke.ErrorDetails.KEY_LOAD_TIMEOUT||It("requestfailed",{request_error:lr,request_url:So,request_hostname:x(So),request_id:Bo?K(Bo):void 0,request_type:lr===Ke.ErrorDetails.FRAG_LOAD_ERROR||lr===Ke.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":lr===Ke.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||lr===Ke.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":lr===Ke.ErrorDetails.SUBTITLE_LOAD_ERROR||lr===Ke.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":lr===Ke.ErrorDetails.KEY_LOAD_ERROR||lr===Ke.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:Sr==null?void 0:Sr.code,request_error_text:Sr==null?void 0:Sr.text}),Ir){var ko,Vo="".concat(So?"url: ".concat(So,`
`):"")+"".concat(Sr&&(Sr.code||Sr.text)?"response: ".concat(Sr.code,", ").concat(Sr.text,`
`):"")+"".concat(In.reason?"failure reason: ".concat(In.reason,`
`):"")+"".concat(In.level?"level: ".concat(In.level,`
`):"")+"".concat(In.parent?"parent stream controller: ".concat(In.parent,`
`):"")+"".concat(In.buffer?"buffer length: ".concat(In.buffer,`
`):"")+"".concat(In.error?"error: ".concat(In.error,`
`):"")+"".concat(In.event?"event: ".concat(In.event,`
`):"")+"".concat(In.err?"error message: ".concat((ko=In.err)===null||ko===void 0?void 0:ko.message,`
`):"");It("error",{player_error_code:dr,player_error_message:lr,player_error_context:Vo})}};we.on(Ke.Events.ERROR,An);var zn=function(ar,In){var dr=In.frag,lr=dr&&dr._url||"";It("requestcanceled",{request_event_type:ar,request_url:lr,request_type:"media",request_hostname:x(lr)})};we.on(Ke.Events.FRAG_LOAD_EMERGENCY_ABORTED,zn);var _r=function(ar,In){var dr=In.level,lr=we.levels[dr];if(lr&&lr.attrs&&lr.attrs.BANDWIDTH){var Sr,Ir=lr.attrs.BANDWIDTH,ro=parseFloat(lr.attrs["FRAME-RATE"]);isNaN(ro)||(Sr=ro),Ir?It("renditionchange",{video_source_fps:Sr,video_source_bitrate:Ir,video_source_width:lr.width,video_source_height:lr.height,video_source_rendition_name:lr.name,video_source_codec:lr==null?void 0:lr.videoCodec}):ht.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};we.on(Ke.Events.LEVEL_SWITCHED,_r),we._stopMuxMonitor=function(){we.off(Ke.Events.MANIFEST_LOADED,Wt),we.off(Ke.Events.LEVEL_LOADED,Ut),we.off(Ke.Events.AUDIO_TRACK_LOADED,un),we.off(Ke.Events.FRAG_LOADED,nn),we.off(Ke.Events.FRAG_CHANGED,dn),we.off(Ke.Events.ERROR,An),we.off(Ke.Events.FRAG_LOAD_EMERGENCY_ABORTED,zn),we.off(Ke.Events.LEVEL_SWITCHED,_r),we.off(Ke.Events.DESTROYING,we._stopMuxMonitor),delete we._stopMuxMonitor},we.on(Ke.Events.DESTROYING,we._stopMuxMonitor)}else ht.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,kt.hlsjs,{},kt.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var kt;this.hlsjs&&((kt=this.hlsjs)&&typeof kt._stopMuxMonitor=="function"&&kt._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(kt){kt.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=kt.dashjs,function(Oe,be,we){var Ke=Oe.log;if(we&&we.on){var ht=function(zn,_r){return Oe.emit(be,zn,_r)},vt=function(zn){var _r=zn.type,ar=(zn.data||{}).url;ht("requestcompleted",{request_event_type:_r,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:x(ar),request_url:ar})};we.on("manifestLoaded",vt);var Ot={},It=function(zn){var _r=zn.type,ar=zn.fragmentModel,In=(zn.chunk||{}).mediaInfo||{},dr=In.type,lr=In.bitrateList,Sr={};(lr=lr||[]).forEach(function(Ti,Fo){Sr[Fo]={},Sr[Fo].width=Ti.width,Sr[Fo].height=Ti.height,Sr[Fo].bitrate=Ti.bandwidth,Sr[Fo].attrs={}}),dr==="video"?Ot.video=Sr:dr==="audio"?Ot.audio=Sr:Ot.media=Sr;var Ir=fe(ar,we),ro=Ir.requestStart,co=Ir.requestResponseStart,So=Ir.requestResponseEnd,Bo=Ir.requestResponseHeaders,ko=Ir.requestMediaDuration,Vo=Ir.requestHostname,vi=Ir.requestUrl,Vi=Ir.requestId;ht("requestcompleted",{request_event_type:_r,request_start:ro,request_response_start:co,request_response_end:So,request_bytes_loaded:-1,request_type:dr+"_init",request_response_headers:Bo,request_hostname:Vo,request_id:Vi,request_url:vi,request_media_duration:ko,request_rendition_lists:Ot})};we.on("initFragmentLoaded",It);var Wt=function(zn){var _r=zn.type,ar=zn.fragmentModel,In=zn.chunk||{},dr=In.mediaInfo,lr=In.start,Sr=(dr||{}).type,Ir=fe(ar,we),ro=Ir.requestStart,co=Ir.requestResponseStart,So=Ir.requestResponseEnd,Bo=Ir.requestBytesLoaded,ko=Ir.requestResponseHeaders,Vo=Ir.requestMediaDuration,vi=Ir.requestHostname,Vi=Ir.requestUrl,Ti=Ir.requestId,Fo=ae(Sr,we),ot=Fo.currentLevel,at=Fo.renditionWidth,St=Fo.renditionHeight,Qt=Fo.renditionBitrate;ht("requestcompleted",{request_event_type:_r,request_start:ro,request_response_start:co,request_response_end:So,request_bytes_loaded:Bo,request_type:Sr,request_response_headers:ko,request_hostname:vi,request_id:Ti,request_url:Vi,request_media_start_time:lr,request_media_duration:Vo,request_current_level:ot,request_labeled_bitrate:Qt,request_video_width:at,request_video_height:St})};we.on("mediaFragmentLoaded",Wt);var Ut={video:void 0,audio:void 0,totalBitrate:void 0},un=function(){if(Ut.video&&typeof Ut.video.bitrate=="number"){if(Ut.video.width&&Ut.video.height){var zn=Ut.video.bitrate;return Ut.audio&&typeof Ut.audio.bitrate=="number"&&(zn+=Ut.audio.bitrate),zn!==Ut.totalBitrate?(Ut.totalBitrate=zn,{video_source_bitrate:zn,video_source_height:Ut.video.height,video_source_width:Ut.video.width,video_source_codec:oe(Ut.video.codec)}):void 0}Ke.warn("have bitrate info for video but missing width/height")}},nn=function(zn,_r,ar){if(typeof zn.newQuality=="number"){var In=zn.mediaType;if(In==="audio"||In==="video"){var dr=we.getBitrateInfoListFor(In).find(function(Sr){return Sr.qualityIndex===zn.newQuality});if(dr&&typeof dr.bitrate=="number"){Ut[In]=he(he({},dr),{},{codec:we.getCurrentTrackFor(In).codec});var lr=un();lr&&ht("renditionchange",lr)}else Ke.warn("missing bitrate info for ".concat(In))}}else Ke.warn("missing evt.newQuality in qualityChangeRendered event",zn)};we.on("qualityChangeRendered",nn);var dn=function(zn){var _r=zn.request,ar=zn.mediaType;ht("requestcanceled",{request_event_type:(_r=_r||{}).type+"_"+_r.action,request_url:_r.url,request_type:ar,request_hostname:x(_r.url)})};we.on("fragmentLoadingAbandoned",dn);var An=function(zn){var _r,ar,In=zn.error,dr=(In==null||(_r=In.data)===null||_r===void 0?void 0:_r.request)||{},lr=(In==null||(ar=In.data)===null||ar===void 0?void 0:ar.response)||{};(In==null?void 0:In.code)===27&&ht("requestfailed",{request_error:dr.type+"_"+dr.action,request_url:dr.url,request_hostname:x(dr.url),request_type:dr.mediaType,request_error_code:lr.status,request_error_text:lr.statusText});var Sr="".concat(dr!=null&&dr.url?"url: ".concat(dr.url,`
`):"")+"".concat(lr!=null&&lr.status||lr!=null&&lr.statusText?"response: ".concat(lr==null?void 0:lr.status,", ").concat(lr==null?void 0:lr.statusText,`
`):"");ht("error",{player_error_code:In==null?void 0:In.code,player_error_message:In==null?void 0:In.message,player_error_context:Sr})};we.on("error",An),we._stopMuxMonitor=function(){we.off("manifestLoaded",vt),we.off("initFragmentLoaded",It),we.off("mediaFragmentLoaded",Wt),we.off("qualityChangeRendered",nn),we.off("error",An),we.off("fragmentLoadingAbandoned",dn),delete we._stopMuxMonitor}}else Ke.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,kt.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var kt;this.dashjs&&((kt=this.dashjs)&&typeof kt._stopMuxMonitor=="function"&&kt._stopMuxMonitor(),this.dashjs=void 0)}}],Xe&&ln(Ze.prototype,Xe),mt&&ln(Ze,mt),Object.defineProperty(Ze,"prototype",{writable:!1}),jt}(le),Kt=Mt,qt=v(153),mn=v.n(qt);function En(nt){return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ze){return typeof Ze}:function(Ze){return Ze&&typeof Symbol=="function"&&Ze.constructor===Symbol&&Ze!==Symbol.prototype?"symbol":typeof Ze},En(nt)}function wn(nt,Ze){return function(Xe){if(Array.isArray(Xe))return Xe}(nt)||function(Xe,mt){var Pt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(Pt!=null){var jt,kt,Oe=[],be=!0,we=!1;try{for(Pt=Pt.call(Xe);!(be=(jt=Pt.next()).done)&&(Oe.push(jt.value),!mt||Oe.length!==mt);be=!0);}catch(Ke){we=!0,kt=Ke}finally{try{be||Pt.return==null||Pt.return()}finally{if(we)throw kt}}return Oe}}(nt,Ze)||function(Xe,mt){if(Xe){if(typeof Xe=="string")return Hn(Xe,mt);var Pt=Object.prototype.toString.call(Xe).slice(8,-1);return Pt==="Object"&&Xe.constructor&&(Pt=Xe.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Xe):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?Hn(Xe,mt):void 0}}(nt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hn(nt,Ze){(Ze==null||Ze>nt.length)&&(Ze=nt.length);for(var Xe=0,mt=new Array(Ze);Xe<Ze;Xe++)mt[Xe]=nt[Xe];return mt}var wr,zr=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],$r={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};y()&&y().WeakMap&&(wr=new WeakMap);var Or="#EXT-X-TARGETDURATION",Gr="#EXT-X-PART-INF",yo="#EXT-X-SERVER-CONTROL",Yo="#EXTINF",Mo="#EXT-X-PROGRAM-DATE-TIME",po="#EXT-X-VERSION",Jo="#EXT-X-SESSION-DATA",ho=function(nt){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(nt),this.manifest};ho.prototype.process=function(nt){var Ze;for(this.buffer+=nt,Ze=this.buffer.indexOf(`
`);Ze>-1;Ze=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,Ze)),this.buffer=this.buffer.substring(Ze+1)},ho.prototype.processLine=function(nt){var Ze=nt.indexOf(":"),Xe=ii(nt,Ze),mt=Xe[0],Pt=Xe.length===2?ni(Xe[1]):void 0;if(mt[0]!=="#")this.currentUri.uri=mt,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(mt){case Or:if(!isFinite(Pt)||Pt<0)return;this.manifest.targetDuration=Pt,this.setHoldBack();break;case Gr:Eo(this.manifest,Xe),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case yo:Eo(this.manifest,Xe),this.setHoldBack();break;case Yo:Pt===0?this.currentUri.duration=.01:Pt>0&&(this.currentUri.duration=Pt);break;case Mo:var jt=Pt,kt=new Date(jt);this.manifest.dateTimeString||(this.manifest.dateTimeString=jt,this.manifest.dateTimeObject=kt),this.currentUri.dateTimeString=jt,this.currentUri.dateTimeObject=kt;break;case po:Eo(this.manifest,Xe);break;case Jo:var Oe=Di(Xe[1]),be=Z(Oe);Object.assign(this.manifest.sessionData,be)}},ho.prototype.setHoldBack=function(){var nt=this.manifest,Ze=nt.serverControl,Xe=nt.targetDuration,mt=nt.partTargetDuration;if(Ze){var Pt="holdBack",jt="partHoldBack",kt=Xe&&3*Xe,Oe=mt&&2*mt;Xe&&!Ze.hasOwnProperty(Pt)&&(Ze[Pt]=kt),kt&&Ze[Pt]<kt&&(Ze[Pt]=kt),mt&&!Ze.hasOwnProperty(jt)&&(Ze[jt]=3*mt),mt&&Ze[jt]<Oe&&(Ze[jt]=Oe)}};var Eo=function(nt,Ze){var Xe,mt=Si(Ze[0].replace("#EXT-X-",""));oi(Ze[1])?(Xe={},Xe=Object.assign(fi(Ze[1]),Xe)):Xe=ni(Ze[1]),nt[mt]=Xe},Si=function(nt){return nt.toLowerCase().replace(/-(\w)/g,function(Ze){return Ze[1].toUpperCase()})},ni=function(nt){if(nt.toLowerCase()==="yes"||nt.toLowerCase()==="no")return nt.toLowerCase()==="yes";var Ze=nt.indexOf(":")!==-1?nt:parseFloat(nt);return isNaN(Ze)?nt:Ze},si=function(nt){var Ze={},Xe=nt.split("=");return Xe.length>1&&(Ze[Si(Xe[0])]=ni(Xe[1])),Ze},fi=function(nt){for(var Ze=nt.split(","),Xe={},mt=0;Ze.length>mt;mt++){var Pt=Ze[mt],jt=si(Pt);Xe=Object.assign(jt,Xe)}return Xe},oi=function(nt){return nt.indexOf("=")>-1},ii=function(nt,Ze){return Ze===-1?[nt]:[nt.substring(0,Ze),nt.substring(Ze+1)]},Di=function(nt){var Ze={};if(nt){var Xe=nt.search(",");return[nt.slice(0,Xe),nt.slice(Xe+1)].forEach(function(mt,Pt){for(var jt=mt.replace(/['"]+/g,"").split("="),kt=0;kt<jt.length;kt++)jt[kt]==="DATA-ID"&&(Ze["DATA-ID"]=jt[1-kt]),jt[kt]==="VALUE"&&(Ze.VALUE=jt[1-kt])}),{data:Ze}}},Mi=ho,pi={safeCall:function(nt,Ze,Xe,mt){var Pt=mt;if(nt&&typeof nt[Ze]=="function")try{Pt=nt[Ze].apply(nt,Xe)}catch(jt){s.info("safeCall error",jt)}return Pt},safeIncrement:C,getComputedStyle:function(nt,Ze){var Xe;if(nt&&Ze&&y()&&typeof y().getComputedStyle=="function")return wr&&wr.has(nt)&&(Xe=wr.get(nt)),Xe||(Xe=y().getComputedStyle(nt,null),wr&&wr.set(nt,Xe)),Xe.getPropertyValue(Ze)},secondsToMs:function(nt){return Math.floor(1e3*nt)},assign:Object.assign,headersStringToObject:L,cdnHeadersToRequestId:K,extractHostnameAndDomain:M,extractHostname:x,manifestParser:Mi,generateShortID:T,generateUUID:p,now:P.now},hi={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function mi(nt,Ze){return function(Xe){if(Array.isArray(Xe))return Xe}(nt)||function(Xe,mt){var Pt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(Pt!=null){var jt,kt,Oe=[],be=!0,we=!1;try{for(Pt=Pt.call(Xe);!(be=(jt=Pt.next()).done)&&(Oe.push(jt.value),!mt||Oe.length!==mt);be=!0);}catch(Ke){we=!0,kt=Ke}finally{try{be||Pt.return==null||Pt.return()}finally{if(we)throw kt}}return Oe}}(nt,Ze)||function(Xe,mt){if(Xe){if(typeof Xe=="string")return Xo(Xe,mt);var Pt=Object.prototype.toString.call(Xe).slice(8,-1);return Pt==="Object"&&Xe.constructor&&(Pt=Xe.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Xe):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?Xo(Xe,mt):void 0}}(nt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xo(nt,Ze){(Ze==null||Ze>nt.length)&&(Ze=nt.length);for(var Xe=0,mt=new Array(Ze);Xe<Ze;Xe++)mt[Xe]=nt[Xe];return mt}var Ao={},li=function nt(Ze){var Xe=arguments;typeof Ze=="string"?nt.hasOwnProperty(Ze)?y().setTimeout(function(){Xe=Array.prototype.splice.call(Xe,1),nt[Ze].apply(null,Xe)},0):s.warn("`"+Ze+"` is an unknown task"):typeof Ze=="function"?y().setTimeout(function(){Ze(nt)},0):s.warn("`"+Ze+"` is invalid.")},ui={loaded:P.now(),NAME:"mux-embed",VERSION:"4.25.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(nt,Ze){return function(Xe,mt,Pt){var jt=wn(I(mt),3),kt=jt[0],Oe=jt[1],be=jt[2],we=Xe.log,Ke=Xe.utils.getComputedStyle,ht=Xe.utils.secondsToMs;if(!kt)return we.error("No element was found with the `"+Oe+"` query selector.");if(be!=="video"&&be!=="audio")return we.error("The element of `"+Oe+"` was not a media element.");kt.mux&&(kt.mux.destroy(),delete kt.mux,we.warn("Already monitoring this video element, replacing existing event listeners")),(Pt=Object.assign({automaticErrorTracking:!0},Pt)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:Xe.VERSION},Pt.data),Pt.getPlayheadTime=function(){return ht(kt.currentTime)},Pt.getStateData=function(){var Ot,It,Wt=this.hlsjs&&this.hlsjs.url,Ut=this.dashjs&&En(this.dashjs.getSource==="function")&&this.dashjs.getSource(),un={player_is_paused:kt.paused,player_playhead_time:ht(kt.currentTime),player_width:parseInt(Ke(kt,"width")),player_height:parseInt(Ke(kt,"height")),player_autoplay_on:kt.autoplay,player_preload_on:kt.preload,player_language_code:kt.lang,player_is_fullscreen:mn()&&!!(mn().fullscreenElement||mn().webkitFullscreenElement||mn().mozFullScreenElement||mn().msFullscreenElement),video_poster_url:kt.poster,video_source_url:Wt||Ut||kt.currentSrc,video_source_duration:ht(kt.duration),video_source_height:kt.videoHeight,video_source_width:kt.videoWidth,view_dropped_frame_count:(Ot=kt)===null||Ot===void 0||(It=Ot.getVideoPlaybackQuality)===null||It===void 0?void 0:It.call(Ot).droppedVideoFrames},nn=Pt.getPlayheadTime();if(kt.getStartDate&&nn>0){var dn=kt.getStartDate();if(dn&&typeof dn.getTime=="function"&&dn.getTime()){var An=dn.getTime();if(un.player_program_time=An+nn,kt.seekable.length>0){var zn=An+kt.seekable.end(kt.seekable.length-1);un.player_live_edge_program_time=zn}}}return un},kt.mux=kt.mux||{},kt.mux.deleted=!1,kt.mux.emit=function(Ot,It){Xe.emit(Oe,Ot,It)};var vt=function(){we.error("The monitor for this video element has already been destroyed.")};kt.mux.destroy=function(){Object.keys(kt.mux.listeners).forEach(function(Ot){kt.removeEventListener(Ot,kt.mux.listeners[Ot],!1)}),delete kt.mux.listeners,kt.mux.destroy=vt,kt.mux.swapElement=vt,kt.mux.emit=vt,kt.mux.addHLSJS=vt,kt.mux.addDashJS=vt,kt.mux.removeHLSJS=vt,kt.mux.removeDashJS=vt,kt.mux.deleted=!0,Xe.emit(Oe,"destroy")},kt.mux.swapElement=function(Ot){var It=wn(I(Ot),3),Wt=It[0],Ut=It[1],un=It[2];return Wt?un!=="video"&&un!=="audio"?Xe.log.error("The element of `"+Ut+"` was not a media element."):(Wt.muxId=kt.muxId,delete kt.muxId,Wt.mux=Wt.mux||{},Wt.mux.listeners=Object.assign({},kt.mux.listeners),delete kt.mux.listeners,Object.keys(Wt.mux.listeners).forEach(function(nn){kt.removeEventListener(nn,Wt.mux.listeners[nn],!1),Wt.addEventListener(nn,Wt.mux.listeners[nn],!1)}),Wt.mux.swapElement=kt.mux.swapElement,Wt.mux.destroy=kt.mux.destroy,delete kt.mux,void(kt=Wt)):Xe.log.error("No element was found with the `"+Ut+"` query selector.")},kt.mux.addHLSJS=function(Ot){Xe.addHLSJS(Oe,Ot)},kt.mux.addDashJS=function(Ot){Xe.addDashJS(Oe,Ot)},kt.mux.removeHLSJS=function(){Xe.removeHLSJS(Oe)},kt.mux.removeDashJS=function(){Xe.removeDashJS(Oe)},Xe.init(Oe,Pt),Xe.emit(Oe,"playerready"),kt.paused||(Xe.emit(Oe,"play"),kt.readyState>2&&Xe.emit(Oe,"playing")),kt.mux.listeners={},zr.forEach(function(Ot){(Ot!=="error"||Pt.automaticErrorTracking)&&(kt.mux.listeners[Ot]=function(){var It={};if(Ot==="error"){if(!kt.error||kt.error.code===1)return;It.player_error_code=kt.error.code,It.player_error_message=$r[kt.error.code]||kt.error.message}Xe.emit(Oe,Ot,It)},kt.addEventListener(Ot,kt.mux.listeners[Ot],!1))})}(li,nt,Ze)},destroyMonitor:function(nt){var Ze=mi(I(nt),1)[0];Ze&&Ze.mux&&typeof Ze.mux.destroy=="function"?Ze.mux.destroy():s.error("A video element monitor for `"+nt+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(nt,Ze){var Xe=O(nt);Ao[Xe]?Ao[Xe].addHLSJS(Ze):s.error("A monitor for `"+Xe+"` has not been initialized.")},addDashJS:function(nt,Ze){var Xe=O(nt);Ao[Xe]?Ao[Xe].addDashJS(Ze):s.error("A monitor for `"+Xe+"` has not been initialized.")},removeHLSJS:function(nt){var Ze=O(nt);Ao[Ze]?Ao[Ze].removeHLSJS():s.error("A monitor for `"+Ze+"` has not been initialized.")},removeDashJS:function(nt){var Ze=O(nt);Ao[Ze]?Ao[Ze].removeDashJS():s.error("A monitor for `"+Ze+"` has not been initialized.")},init:function(nt,Ze){w()&&Ze&&Ze.respectDoNotTrack&&s.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var Xe=O(nt);Ao[Xe]=new Kt(li,Xe,Ze)},emit:function(nt,Ze,Xe){var mt=O(nt);Ao[mt]?(Ao[mt].emit(Ze,Xe),Ze==="destroy"&&delete Ao[mt]):s.error("A monitor for `"+mt+"` has not been initialized.")},checkDoNotTrack:w,log:s,utils:pi,events:hi,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(li,ui),y()!==void 0&&typeof y().addEventListener=="function"&&y().addEventListener("pagehide",function(nt){nt.persisted||(li.WINDOW_UNLOADING=!0)},!1);var ci=li},655:function(c,g,v){var E,y;function p(T){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},p(T);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(T){var O=!1;if((y=typeof(E=T)=="function"?E.call(g,v,g,c):E)===void 0||(c.exports=y),O=!0,p(g)==="object"&&(c.exports=T(),O=!0),!O){var I=window.Cookies,S=window.Cookies=T();S.noConflict=function(){return window.Cookies=I,S}}})(function(){var T=function(){for(var O=0,I={};O<arguments.length;O++){var S=arguments[O];for(var _ in S)I[_]=S[_]}return I};return function O(I){function S(_,d,s){var w;if(typeof document!="undefined"){if(arguments.length>1){if(typeof(s=T({path:"/"},S.defaults,s)).expires=="number"){var P=new Date;P.setMilliseconds(P.getMilliseconds()+864e5*s.expires),s.expires=P}try{w=JSON.stringify(d),/^[\{\[]/.test(w)&&(d=w)}catch(L){}return d=I.write?I.write(d,_):encodeURIComponent(String(d)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=(_=(_=encodeURIComponent(String(_))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[_,"=",d,s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}_||(w={});for(var x=document.cookie?document.cookie.split("; "):[],M=/(%[0-9A-Z]{2})+/g,N=0;N<x.length;N++){var C=x[N].split("="),A=C.slice(1).join("=");A.charAt(0)==='"'&&(A=A.slice(1,-1));try{var k=C[0].replace(M,decodeURIComponent);if(A=I.read?I.read(A,k):I(A,k)||A.replace(M,decodeURIComponent),this.json)try{A=JSON.parse(A)}catch(L){}if(_===k){w=A;break}_||(w[k]=A)}catch(L){}}return w}}return S.set=S,S.get=function(_){return S.call(S,_)},S.getJSON=function(){return S.apply({json:!0},[].slice.call(arguments))},S.defaults={},S.remove=function(_,d){S(_,"",T(d,{expires:-1}))},S.withConverter=O,S}(function(){})})},153:function(c,g,v){var E,y=v.g!==void 0?v.g:typeof window!="undefined"?window:{},p=v(558);typeof document!="undefined"?E=document:(E=y["__GLOBAL_DOCUMENT_CACHE@4"])||(E=y["__GLOBAL_DOCUMENT_CACHE@4"]=p),c.exports=E},48:function(c,g,v){var E;E=typeof window!="undefined"?window:v.g!==void 0?v.g:typeof self!="undefined"?self:{},c.exports=E},640:function(c,g,v){var E,y;(function(p,T){"use strict";E=function(){var O=function(){},I="undefined",S=typeof window!==I&&typeof window.navigator!==I&&/Trident\/|MSIE /.test(window.navigator.userAgent),_=["trace","debug","info","warn","error"];function d(L,K){var Z=L[K];if(typeof Z.bind=="function")return Z.bind(L);try{return Function.prototype.bind.call(Z,L)}catch(J){return function(){return Function.prototype.apply.apply(Z,[L,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function w(L){return L==="debug"&&(L="log"),typeof console!==I&&(L==="trace"&&S?s:console[L]!==void 0?d(console,L):console.log!==void 0?d(console,"log"):O)}function P(L,K){for(var Z=0;Z<_.length;Z++){var J=_[Z];this[J]=Z<L?O:this.methodFactory(J,L,K)}this.log=this.debug}function x(L,K,Z){return function(){typeof console!==I&&(P.call(this,K,Z),this[L].apply(this,arguments))}}function M(L,K,Z){return w(L)||x.apply(this,arguments)}function N(L,K,Z){var J,q=this;K=K==null?"WARN":K;var ne="loglevel";function F(ye){var fe=(_[ye]||"silent").toUpperCase();if(typeof window!==I&&ne){try{return void(window.localStorage[ne]=fe)}catch(ae){}try{window.document.cookie=encodeURIComponent(ne)+"="+fe+";"}catch(ae){}}}function W(){var ye;if(typeof window!==I&&ne){try{ye=window.localStorage[ne]}catch(oe){}if(typeof ye===I)try{var fe=window.document.cookie,ae=fe.indexOf(encodeURIComponent(ne)+"=");ae!==-1&&(ye=/^([^;]+)/.exec(fe.slice(ae))[1])}catch(oe){}return q.levels[ye]===void 0&&(ye=void 0),ye}}function ie(){if(typeof window!==I&&ne){try{return void window.localStorage.removeItem(ne)}catch(ye){}try{window.document.cookie=encodeURIComponent(ne)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(ye){}}}typeof L=="string"?ne+=":"+L:typeof L=="symbol"&&(ne=void 0),q.name=L,q.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},q.methodFactory=Z||M,q.getLevel=function(){return J},q.setLevel=function(ye,fe){if(typeof ye=="string"&&q.levels[ye.toUpperCase()]!==void 0&&(ye=q.levels[ye.toUpperCase()]),!(typeof ye=="number"&&ye>=0&&ye<=q.levels.SILENT))throw"log.setLevel() called with invalid level: "+ye;if(J=ye,fe!==!1&&F(ye),P.call(q,ye,L),typeof console===I&&ye<q.levels.SILENT)return"No console available for logging"},q.setDefaultLevel=function(ye){K=ye,W()||q.setLevel(ye,!1)},q.resetLevel=function(){q.setLevel(K,!1),ie()},q.enableAll=function(ye){q.setLevel(q.levels.TRACE,ye)},q.disableAll=function(ye){q.setLevel(q.levels.SILENT,ye)};var he=W();he==null&&(he=K),q.setLevel(he,!1)}var C=new N,A={};C.getLogger=function(L){if(typeof L!="symbol"&&typeof L!="string"||L==="")throw new TypeError("You must supply a name when creating a logger.");var K=A[L];return K||(K=A[L]=new N(L,C.getLevel(),C.methodFactory)),K};var k=typeof window!==I?window.log:void 0;return C.noConflict=function(){return typeof window!==I&&window.log===C&&(window.log=k),C},C.getLoggers=function(){return A},C.default=C,C},(y=typeof E=="function"?E.call(g,v,g,c):E)===void 0||(c.exports=y)})()},375:function(c,g){"use strict";var v=Object.prototype.hasOwnProperty;function E(p){try{return decodeURIComponent(p.replace(/\+/g," "))}catch(T){return null}}function y(p){try{return encodeURIComponent(p)}catch(T){return null}}g.stringify=function(p,T){T=T||"";var O,I,S=[];for(I in typeof T!="string"&&(T="?"),p)if(v.call(p,I)){if((O=p[I])||O!=null&&!isNaN(O)||(O=""),I=y(I),O=y(O),I===null||O===null)continue;S.push(I+"="+O)}return S.length?T+S.join("&"):""},g.parse=function(p){for(var T,O=/([^=?#&]+)=?([^&]*)/g,I={};T=O.exec(p);){var S=E(T[1]),_=E(T[2]);S===null||_===null||S in I||(I[S]=_)}return I}},558:function(){}},f={};function u(c){var g=f[c];if(g!==void 0)return g.exports;var v=f[c]={exports:{}};return o[c].call(v.exports,v,v.exports,u),v.exports}return u.n=function(c){var g=c&&c.__esModule?function(){return c.default}:function(){return c};return u.d(g,{a:g}),g},u.d=function(c,g){for(var v in g)u.o(g,v)&&!u.o(c,v)&&Object.defineProperty(c,v,{enumerable:!0,get:g[v]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(c){if(typeof window=="object")return window}}(),u.o=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)},u(80)}()},z.exports=e()})()},27418:z=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function f(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function u(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var g={},v=0;v<10;v++)g["_"+String.fromCharCode(v)]=v;var E=Object.getOwnPropertyNames(g).map(function(p){return g[p]});if(E.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(p){y[p]=p}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch(p){return!1}}z.exports=u()?Object.assign:function(c,g){for(var v,E=f(c),y,p=1;p<arguments.length;p++){v=Object(arguments[p]);for(var T in v)e.call(v,T)&&(E[T]=v[T]);if(l){y=l(v);for(var O=0;O<y.length;O++)o.call(v,y[O])&&(E[y[O]]=v[y[O]])}}return E}},70631:(z,l,e)=>{var o=typeof Map=="function"&&Map.prototype,f=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,u=o&&f&&typeof f.get=="function"?f.get:null,c=o&&Map.prototype.forEach,g=typeof Set=="function"&&Set.prototype,v=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=g&&v&&typeof v.get=="function"?v.get:null,y=g&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,T=p?WeakMap.prototype.has:null,O=typeof WeakSet=="function"&&WeakSet.prototype,I=O?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,_=S?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,s=Object.prototype.toString,w=Function.prototype.toString,P=String.prototype.match,x=String.prototype.slice,M=String.prototype.replace,N=String.prototype.toUpperCase,C=String.prototype.toLowerCase,A=RegExp.prototype.test,k=Array.prototype.concat,L=Array.prototype.join,K=Array.prototype.slice,Z=Math.floor,J=typeof BigInt=="function"?BigInt.prototype.valueOf:null,q=Object.getOwnPropertySymbols,ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,F=typeof Symbol=="function"&&typeof Symbol.iterator=="object",W=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===F||"symbol")?Symbol.toStringTag:null,ie=Object.prototype.propertyIsEnumerable,he=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Be){return Be.__proto__}:null);function ye(Be,ze){if(Be===1/0||Be===-1/0||Be!==Be||Be&&Be>-1e3&&Be<1e3||A.call(/e/,ze))return ze;var lt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Be=="number"){var et=Be<0?-Z(-Be):Z(Be);if(et!==Be){var Ae=String(et),H=x.call(ze,Ae.length+1);return M.call(Ae,lt,"$&_")+"."+M.call(M.call(H,/([0-9]{3})/g,"$&_"),/_$/,"")}}return M.call(ze,lt,"$&_")}var fe=e(24654),ae=fe.custom,oe=_e(ae)?ae:null;z.exports=function Be(ze,lt,et,Ae){var H=lt||{};if(ke(H,"quoteStyle")&&H.quoteStyle!=="single"&&H.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ke(H,"maxStringLength")&&(typeof H.maxStringLength=="number"?H.maxStringLength<0&&H.maxStringLength!==1/0:H.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Q=ke(H,"customInspect")?H.customInspect:!0;if(typeof Q!="boolean"&&Q!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ke(H,"indent")&&H.indent!==null&&H.indent!=="	"&&!(parseInt(H.indent,10)===H.indent&&H.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ke(H,"numericSeparator")&&typeof H.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ce=H.numericSeparator;if(typeof ze=="undefined")return"undefined";if(ze===null)return"null";if(typeof ze=="boolean")return ze?"true":"false";if(typeof ze=="string")return ft(ze,H);if(typeof ze=="number"){if(ze===0)return 1/0/ze>0?"0":"-0";var Pe=String(ze);return ce?ye(ze,Pe):Pe}if(typeof ze=="bigint"){var Me=String(ze)+"n";return ce?ye(ze,Me):Me}var $e=typeof H.depth=="undefined"?5:H.depth;if(typeof et=="undefined"&&(et=0),et>=$e&&$e>0&&typeof ze=="object")return se(ze)?"[Array]":"[Object]";var ct=He(H,et);if(typeof Ae=="undefined")Ae=[];else if(Qe(Ae,ze)>=0)return"[Circular]";function ut(gr,Dr,Fr){if(Dr&&(Ae=K.call(Ae),Ae.push(Dr)),Fr){var jr={depth:H.depth};return ke(H,"quoteStyle")&&(jr.quoteStyle=H.quoteStyle),Be(gr,jr,et+1,Ae)}return Be(gr,H,et+1,Ae)}if(typeof ze=="function"&&!Ee(ze)){var Et=Ge(ze),Nt=Ne(ze,ut);return"[Function"+(Et?": "+Et:" (anonymous)")+"]"+(Nt.length>0?" { "+L.call(Nt,", ")+" }":"")}if(_e(ze)){var $t=F?M.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(ze);return typeof ze=="object"&&!F?Rt($t):$t}if(Je(ze)){for(var Nn="<"+C.call(String(ze.nodeName)),Vt=ze.attributes||[],rr=0;rr<Vt.length;rr++)Nn+=" "+Vt[rr].name+"="+G(re(Vt[rr].value),"double",H);return Nn+=">",ze.childNodes&&ze.childNodes.length&&(Nn+="..."),Nn+="</"+C.call(String(ze.nodeName))+">",Nn}if(se(ze)){if(ze.length===0)return"[]";var Tr=Ne(ze,ut);return ct&&!Le(Tr)?"["+it(Tr,ct)+"]":"[ "+L.call(Tr,", ")+" ]"}if(ve(ze)){var cr=Ne(ze,ut);return!("cause"in Error.prototype)&&"cause"in ze&&!ie.call(ze,"cause")?"{ ["+String(ze)+"] "+L.call(k.call("[cause]: "+ut(ze.cause),cr),", ")+" }":cr.length===0?"["+String(ze)+"]":"{ ["+String(ze)+"] "+L.call(cr,", ")+" }"}if(typeof ze=="object"&&Q){if(oe&&typeof ze[oe]=="function"&&fe)return fe(ze,{depth:$e-et});if(Q!=="symbol"&&typeof ze.inspect=="function")return ze.inspect()}if(bt(ze)){var Lr=[];return c&&c.call(ze,function(gr,Dr){Lr.push(ut(Dr,ze,!0)+" => "+ut(gr,ze))}),Ct("Map",u.call(ze),Lr,ct)}if(xe(ze)){var Br=[];return y&&y.call(ze,function(gr){Br.push(ut(gr,ze))}),Ct("Set",E.call(ze),Br,ct)}if(Ce(ze))return Jt("WeakMap");if(rt(ze))return Jt("WeakSet");if(We(ze))return Jt("WeakRef");if(me(ze))return Rt(ut(Number(ze)));if(de(ze))return Rt(ut(J.call(ze)));if(Ie(ze))return Rt(d.call(ze));if(pe(ze))return Rt(ut(String(ze)));if(!le(ze)&&!Ee(ze)){var Cr=Ne(ze,ut),Dt=he?he(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,Ft=ze instanceof Object?"":"null prototype",zt=!Dt&&W&&Object(ze)===ze&&W in ze?x.call(Ve(ze),8,-1):Ft?"Object":"",sn=Dt||typeof ze.constructor!="function"?"":ze.constructor.name?ze.constructor.name+" ":"",Un=sn+(zt||Ft?"["+L.call(k.call([],zt||[],Ft||[]),": ")+"] ":"");return Cr.length===0?Un+"{}":ct?Un+"{"+it(Cr,ct)+"}":Un+"{ "+L.call(Cr,", ")+" }"}return String(ze)};function G(Be,ze,lt){var et=(lt.quoteStyle||ze)==="double"?'"':"'";return et+Be+et}function re(Be){return M.call(String(Be),/"/g,"&quot;")}function se(Be){return Ve(Be)==="[object Array]"&&(!W||!(typeof Be=="object"&&W in Be))}function le(Be){return Ve(Be)==="[object Date]"&&(!W||!(typeof Be=="object"&&W in Be))}function Ee(Be){return Ve(Be)==="[object RegExp]"&&(!W||!(typeof Be=="object"&&W in Be))}function ve(Be){return Ve(Be)==="[object Error]"&&(!W||!(typeof Be=="object"&&W in Be))}function pe(Be){return Ve(Be)==="[object String]"&&(!W||!(typeof Be=="object"&&W in Be))}function me(Be){return Ve(Be)==="[object Number]"&&(!W||!(typeof Be=="object"&&W in Be))}function Ie(Be){return Ve(Be)==="[object Boolean]"&&(!W||!(typeof Be=="object"&&W in Be))}function _e(Be){if(F)return Be&&typeof Be=="object"&&Be instanceof Symbol;if(typeof Be=="symbol")return!0;if(!Be||typeof Be!="object"||!ne)return!1;try{return ne.call(Be),!0}catch(ze){}return!1}function de(Be){if(!Be||typeof Be!="object"||!J)return!1;try{return J.call(Be),!0}catch(ze){}return!1}var Re=Object.prototype.hasOwnProperty||function(Be){return Be in this};function ke(Be,ze){return Re.call(Be,ze)}function Ve(Be){return s.call(Be)}function Ge(Be){if(Be.name)return Be.name;var ze=P.call(w.call(Be),/^function\s*([\w$]+)/);return ze?ze[1]:null}function Qe(Be,ze){if(Be.indexOf)return Be.indexOf(ze);for(var lt=0,et=Be.length;lt<et;lt++)if(Be[lt]===ze)return lt;return-1}function bt(Be){if(!u||!Be||typeof Be!="object")return!1;try{u.call(Be);try{E.call(Be)}catch(ze){return!0}return Be instanceof Map}catch(ze){}return!1}function Ce(Be){if(!T||!Be||typeof Be!="object")return!1;try{T.call(Be,T);try{I.call(Be,I)}catch(ze){return!0}return Be instanceof WeakMap}catch(ze){}return!1}function We(Be){if(!_||!Be||typeof Be!="object")return!1;try{return _.call(Be),!0}catch(ze){}return!1}function xe(Be){if(!E||!Be||typeof Be!="object")return!1;try{E.call(Be);try{u.call(Be)}catch(ze){return!0}return Be instanceof Set}catch(ze){}return!1}function rt(Be){if(!I||!Be||typeof Be!="object")return!1;try{I.call(Be,I);try{T.call(Be,T)}catch(ze){return!0}return Be instanceof WeakSet}catch(ze){}return!1}function Je(Be){return!Be||typeof Be!="object"?!1:typeof HTMLElement!="undefined"&&Be instanceof HTMLElement?!0:typeof Be.nodeName=="string"&&typeof Be.getAttribute=="function"}function ft(Be,ze){if(Be.length>ze.maxStringLength){var lt=Be.length-ze.maxStringLength,et="... "+lt+" more character"+(lt>1?"s":"");return ft(x.call(Be,0,ze.maxStringLength),ze)+et}var Ae=M.call(M.call(Be,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,je);return G(Ae,"single",ze)}function je(Be){var ze=Be.charCodeAt(0),lt={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return lt?"\\"+lt:"\\x"+(ze<16?"0":"")+N.call(ze.toString(16))}function Rt(Be){return"Object("+Be+")"}function Jt(Be){return Be+" { ? }"}function Ct(Be,ze,lt,et){var Ae=et?it(lt,et):L.call(lt,", ");return Be+" ("+ze+") {"+Ae+"}"}function Le(Be){for(var ze=0;ze<Be.length;ze++)if(Qe(Be[ze],`
`)>=0)return!1;return!0}function He(Be,ze){var lt;if(Be.indent==="	")lt="	";else if(typeof Be.indent=="number"&&Be.indent>0)lt=L.call(Array(Be.indent+1)," ");else return null;return{base:lt,prev:L.call(Array(ze+1),lt)}}function it(Be,ze){if(Be.length===0)return"";var lt=`
`+ze.prev+ze.base;return lt+L.call(Be,","+lt)+`
`+ze.prev}function Ne(Be,ze){var lt=se(Be),et=[];if(lt){et.length=Be.length;for(var Ae=0;Ae<Be.length;Ae++)et[Ae]=ke(Be,Ae)?ze(Be[Ae],Be):""}var H=typeof q=="function"?q(Be):[],Q;if(F){Q={};for(var ce=0;ce<H.length;ce++)Q["$"+H[ce]]=H[ce]}for(var Pe in Be)ke(Be,Pe)&&(lt&&String(Number(Pe))===Pe&&Pe<Be.length||F&&Q["$"+Pe]instanceof Symbol||(A.call(/[^\w$]/,Pe)?et.push(ze(Pe,Be)+": "+ze(Be[Pe],Be)):et.push(Pe+": "+ze(Be[Pe],Be))));if(typeof q=="function")for(var Me=0;Me<H.length;Me++)ie.call(Be,H[Me])&&et.push("["+ze(H[Me])+"]: "+ze(Be[H[Me]],Be));return et}},79430:function(z,l){var e,o,f;(function(u,c){o=[],e=c,f=typeof e=="function"?e.apply(l,o):e,f!==void 0&&(z.exports=f)})(this,function(){return function(u){function c(C){return C===" "||C==="	"||C===`
`||C==="\f"||C==="\r"}function g(C){var A,k=C.exec(u.substring(P));if(k)return A=k[0],P+=A.length,A}for(var v=u.length,E=/^[ \t\n\r\u000c]+/,y=/^[, \t\n\r\u000c]+/,p=/^[^ \t\n\r\u000c]+/,T=/[,]+$/,O=/^\d+$/,I=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,S,_,d,s,w,P=0,x=[];;){if(g(y),P>=v)return x;S=g(p),_=[],S.slice(-1)===","?(S=S.replace(T,""),N()):M()}function M(){for(g(E),d="",s="in descriptor";;){if(w=u.charAt(P),s==="in descriptor")if(c(w))d&&(_.push(d),d="",s="after descriptor");else if(w===","){P+=1,d&&_.push(d),N();return}else if(w==="(")d=d+w,s="in parens";else if(w===""){d&&_.push(d),N();return}else d=d+w;else if(s==="in parens")if(w===")")d=d+w,s="in descriptor";else if(w===""){_.push(d),N();return}else d=d+w;else if(s==="after descriptor"&&!c(w))if(w===""){N();return}else s="in descriptor",P-=1;P+=1}}function N(){var C=!1,A,k,L,K,Z={},J,q,ne,F,W;for(K=0;K<_.length;K++)J=_[K],q=J[J.length-1],ne=J.substring(0,J.length-1),F=parseInt(ne,10),W=parseFloat(ne),O.test(ne)&&q==="w"?((A||k)&&(C=!0),F===0?C=!0:A=F):I.test(ne)&&q==="x"?((A||k||L)&&(C=!0),W<0?C=!0:k=W):O.test(ne)&&q==="h"?((L||k)&&(C=!0),F===0?C=!0:L=F):C=!0;C?console&&console.log&&console.log("Invalid srcset descriptor found in '"+u+"' at '"+J+"'."):(Z.url=S,A&&(Z.w=A),k&&(Z.d=k),L&&(Z.h=L),x.push(Z))}}})},74241:z=>{var l=String,e=function(){return{isColorSupported:!1,reset:l,bold:l,dim:l,italic:l,underline:l,inverse:l,hidden:l,strikethrough:l,black:l,red:l,green:l,yellow:l,blue:l,magenta:l,cyan:l,white:l,gray:l,bgBlack:l,bgRed:l,bgGreen:l,bgYellow:l,bgBlue:l,bgMagenta:l,bgCyan:l,bgWhite:l}};z.exports=e(),z.exports.createColors=e},41353:(z,l,e)=>{"use strict";let o=e(21019);class f extends o{constructor(c){super(c),this.type="atrule"}append(...c){return this.proxyOf.nodes||(this.nodes=[]),super.append(...c)}prepend(...c){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...c)}}z.exports=f,f.default=f,o.registerAtRule(f)},69932:(z,l,e)=>{"use strict";let o=e(65631);class f extends o{constructor(c){super(c),this.type="comment"}}z.exports=f,f.default=f},21019:(z,l,e)=>{"use strict";let{isClean:o,my:f}=e(65513),u=e(94258),c=e(69932),g=e(65631),v,E,y,p;function T(S){return S.map(_=>(_.nodes&&(_.nodes=T(_.nodes)),delete _.source,_))}function O(S){if(S[o]=!1,S.proxyOf.nodes)for(let _ of S.proxyOf.nodes)O(_)}class I extends g{push(_){return _.parent=this,this.proxyOf.nodes.push(_),this}each(_){if(!this.proxyOf.nodes)return;let d=this.getIterator(),s,w;for(;this.indexes[d]<this.proxyOf.nodes.length&&(s=this.indexes[d],w=_(this.proxyOf.nodes[s],s),w!==!1);)this.indexes[d]+=1;return delete this.indexes[d],w}walk(_){return this.each((d,s)=>{let w;try{w=_(d,s)}catch(P){throw d.addToError(P)}return w!==!1&&d.walk&&(w=d.walk(_)),w})}walkDecls(_,d){return d?_ instanceof RegExp?this.walk((s,w)=>{if(s.type==="decl"&&_.test(s.prop))return d(s,w)}):this.walk((s,w)=>{if(s.type==="decl"&&s.prop===_)return d(s,w)}):(d=_,this.walk((s,w)=>{if(s.type==="decl")return d(s,w)}))}walkRules(_,d){return d?_ instanceof RegExp?this.walk((s,w)=>{if(s.type==="rule"&&_.test(s.selector))return d(s,w)}):this.walk((s,w)=>{if(s.type==="rule"&&s.selector===_)return d(s,w)}):(d=_,this.walk((s,w)=>{if(s.type==="rule")return d(s,w)}))}walkAtRules(_,d){return d?_ instanceof RegExp?this.walk((s,w)=>{if(s.type==="atrule"&&_.test(s.name))return d(s,w)}):this.walk((s,w)=>{if(s.type==="atrule"&&s.name===_)return d(s,w)}):(d=_,this.walk((s,w)=>{if(s.type==="atrule")return d(s,w)}))}walkComments(_){return this.walk((d,s)=>{if(d.type==="comment")return _(d,s)})}append(..._){for(let d of _){let s=this.normalize(d,this.last);for(let w of s)this.proxyOf.nodes.push(w)}return this.markDirty(),this}prepend(..._){_=_.reverse();for(let d of _){let s=this.normalize(d,this.first,"prepend").reverse();for(let w of s)this.proxyOf.nodes.unshift(w);for(let w in this.indexes)this.indexes[w]=this.indexes[w]+s.length}return this.markDirty(),this}cleanRaws(_){if(super.cleanRaws(_),this.nodes)for(let d of this.nodes)d.cleanRaws(_)}insertBefore(_,d){let s=this.index(_),w=s===0?"prepend":!1,P=this.normalize(d,this.proxyOf.nodes[s],w).reverse();s=this.index(_);for(let M of P)this.proxyOf.nodes.splice(s,0,M);let x;for(let M in this.indexes)x=this.indexes[M],s<=x&&(this.indexes[M]=x+P.length);return this.markDirty(),this}insertAfter(_,d){let s=this.index(_),w=this.normalize(d,this.proxyOf.nodes[s]).reverse();s=this.index(_);for(let x of w)this.proxyOf.nodes.splice(s+1,0,x);let P;for(let x in this.indexes)P=this.indexes[x],s<P&&(this.indexes[x]=P+w.length);return this.markDirty(),this}removeChild(_){_=this.index(_),this.proxyOf.nodes[_].parent=void 0,this.proxyOf.nodes.splice(_,1);let d;for(let s in this.indexes)d=this.indexes[s],d>=_&&(this.indexes[s]=d-1);return this.markDirty(),this}removeAll(){for(let _ of this.proxyOf.nodes)_.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(_,d,s){return s||(s=d,d={}),this.walkDecls(w=>{d.props&&!d.props.includes(w.prop)||d.fast&&!w.value.includes(d.fast)||(w.value=w.value.replace(_,s))}),this.markDirty(),this}every(_){return this.nodes.every(_)}some(_){return this.nodes.some(_)}index(_){return typeof _=="number"?_:(_.proxyOf&&(_=_.proxyOf),this.proxyOf.nodes.indexOf(_))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(_,d){if(typeof _=="string")_=T(v(_).nodes);else if(Array.isArray(_)){_=_.slice(0);for(let w of _)w.parent&&w.parent.removeChild(w,"ignore")}else if(_.type==="root"&&this.type!=="document"){_=_.nodes.slice(0);for(let w of _)w.parent&&w.parent.removeChild(w,"ignore")}else if(_.type)_=[_];else if(_.prop){if(typeof _.value=="undefined")throw new Error("Value field is missed in node creation");typeof _.value!="string"&&(_.value=String(_.value)),_=[new u(_)]}else if(_.selector)_=[new E(_)];else if(_.name)_=[new y(_)];else if(_.text)_=[new c(_)];else throw new Error("Unknown node type in node creation");return _.map(w=>(w[f]||I.rebuild(w),w=w.proxyOf,w.parent&&w.parent.removeChild(w),w[o]&&O(w),typeof w.raws.before=="undefined"&&d&&typeof d.raws.before!="undefined"&&(w.raws.before=d.raws.before.replace(/\S/g,"")),w.parent=this.proxyOf,w))}getProxyProcessor(){return{set(_,d,s){return _[d]===s||(_[d]=s,(d==="name"||d==="params"||d==="selector")&&_.markDirty()),!0},get(_,d){return d==="proxyOf"?_:_[d]?d==="each"||typeof d=="string"&&d.startsWith("walk")?(...s)=>_[d](...s.map(w=>typeof w=="function"?(P,x)=>w(P.toProxy(),x):w)):d==="every"||d==="some"?s=>_[d]((w,...P)=>s(w.toProxy(),...P)):d==="root"?()=>_.root().toProxy():d==="nodes"?_.nodes.map(s=>s.toProxy()):d==="first"||d==="last"?_[d].toProxy():_[d]:_[d]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let _=this.lastEach;return this.indexes[_]=0,_}}I.registerParse=S=>{v=S},I.registerRule=S=>{E=S},I.registerAtRule=S=>{y=S},I.registerRoot=S=>{p=S},z.exports=I,I.default=I,I.rebuild=S=>{S.type==="atrule"?Object.setPrototypeOf(S,y.prototype):S.type==="rule"?Object.setPrototypeOf(S,E.prototype):S.type==="decl"?Object.setPrototypeOf(S,u.prototype):S.type==="comment"?Object.setPrototypeOf(S,c.prototype):S.type==="root"&&Object.setPrototypeOf(S,p.prototype),S[f]=!0,S.nodes&&S.nodes.forEach(_=>{I.rebuild(_)})}},42671:(z,l,e)=>{"use strict";let o=e(74241),f=e(22868);class u extends Error{constructor(g,v,E,y,p,T){super(g),this.name="CssSyntaxError",this.reason=g,p&&(this.file=p),y&&(this.source=y),T&&(this.plugin=T),typeof v!="undefined"&&typeof E!="undefined"&&(typeof v=="number"?(this.line=v,this.column=E):(this.line=v.line,this.column=v.column,this.endLine=E.line,this.endColumn=E.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,u)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(g){if(!this.source)return"";let v=this.source;g==null&&(g=o.isColorSupported),f&&g&&(v=f(v));let E=v.split(/\r?\n/),y=Math.max(this.line-3,0),p=Math.min(this.line+2,E.length),T=String(p).length,O,I;if(g){let{bold:S,red:_,gray:d}=o.createColors(!0);O=s=>S(_(s)),I=s=>d(s)}else O=I=S=>S;return E.slice(y,p).map((S,_)=>{let d=y+1+_,s=" "+(" "+d).slice(-T)+" | ";if(d===this.line){let w=I(s.replace(/\d/g," "))+S.slice(0,this.column-1).replace(/[^\t]/g," ");return O(">")+I(s)+S+`
 `+w+O("^")}return" "+I(s)+S}).join(`
`)}toString(){let g=this.showSourceCode();return g&&(g=`

`+g+`
`),this.name+": "+this.message+g}}z.exports=u,u.default=u},94258:(z,l,e)=>{"use strict";let o=e(65631);class f extends o{constructor(c){c&&typeof c.value!="undefined"&&typeof c.value!="string"&&(c=Ro(ir({},c),{value:String(c.value)})),super(c),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}z.exports=f,f.default=f},26461:(z,l,e)=>{"use strict";let o=e(21019),f,u;class c extends o{constructor(v){super(ir({type:"document"},v)),this.nodes||(this.nodes=[])}toResult(v={}){return new f(new u,this,v).stringify()}}c.registerLazyResult=g=>{f=g},c.registerProcessor=g=>{u=g},z.exports=c,c.default=c},50250:(z,l,e)=>{"use strict";let o=e(94258),f=e(47981),u=e(69932),c=e(41353),g=e(5995),v=e(41025),E=e(31675);function y(p,T){if(Array.isArray(p))return p.map(d=>y(d));let S=p,{inputs:O}=S,I=gi(S,["inputs"]);if(O){T=[];for(let d of O){let s=Ro(ir({},d),{__proto__:g.prototype});s.map&&(s.map=Ro(ir({},s.map),{__proto__:f.prototype})),T.push(s)}}if(I.nodes&&(I.nodes=p.nodes.map(d=>y(d,T))),I.source){let _=I.source,{inputId:d}=_,s=gi(_,["inputId"]);I.source=s,d!=null&&(I.source.input=T[d])}if(I.type==="root")return new v(I);if(I.type==="decl")return new o(I);if(I.type==="rule")return new E(I);if(I.type==="comment")return new u(I);if(I.type==="atrule")return new c(I);throw new Error("Unknown node type: "+p.type)}z.exports=y,y.default=y},5995:(z,l,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{fileURLToPath:u,pathToFileURL:c}=e(87414),{resolve:g,isAbsolute:v}=e(99830),{nanoid:E}=e(62961),y=e(22868),p=e(42671),T=e(47981),O=Symbol("fromOffsetCache"),I=!!(o&&f),S=!!(g&&v);class _{constructor(s,w={}){if(s===null||typeof s=="undefined"||typeof s=="object"&&!s.toString)throw new Error(`PostCSS received ${s} instead of CSS string`);if(this.css=s.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,w.from&&(!S||/^\w+:\/\//.test(w.from)||v(w.from)?this.file=w.from:this.file=g(w.from)),S&&I){let P=new T(this.css,w);if(P.text){this.map=P;let x=P.consumer().file;!this.file&&x&&(this.file=this.mapResolve(x))}}this.file||(this.id="<input css "+E(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(s){let w,P;if(this[O])P=this[O];else{let M=this.css.split(`
`);P=new Array(M.length);let N=0;for(let C=0,A=M.length;C<A;C++)P[C]=N,N+=M[C].length+1;this[O]=P}w=P[P.length-1];let x=0;if(s>=w)x=P.length-1;else{let M=P.length-2,N;for(;x<M;)if(N=x+(M-x>>1),s<P[N])M=N-1;else if(s>=P[N+1])x=N+1;else{x=N;break}}return{line:x+1,col:s-P[x]+1}}error(s,w,P,x={}){let M,N,C;if(w&&typeof w=="object"){let k=w,L=P;if(typeof k.offset=="number"){let K=this.fromOffset(k.offset);w=K.line,P=K.col}else w=k.line,P=k.column;if(typeof L.offset=="number"){let K=this.fromOffset(L.offset);N=K.line,C=K.col}else N=L.line,C=L.column}else if(!P){let k=this.fromOffset(w);w=k.line,P=k.col}let A=this.origin(w,P,N,C);return A?M=new p(s,A.endLine===void 0?A.line:{line:A.line,column:A.column},A.endLine===void 0?A.column:{line:A.endLine,column:A.endColumn},A.source,A.file,x.plugin):M=new p(s,N===void 0?w:{line:w,column:P},N===void 0?P:{line:N,column:C},this.css,this.file,x.plugin),M.input={line:w,column:P,endLine:N,endColumn:C,source:this.css},this.file&&(c&&(M.input.url=c(this.file).toString()),M.input.file=this.file),M}origin(s,w,P,x){if(!this.map)return!1;let M=this.map.consumer(),N=M.originalPositionFor({line:s,column:w});if(!N.source)return!1;let C;typeof P=="number"&&(C=M.originalPositionFor({line:P,column:x}));let A;v(N.source)?A=c(N.source):A=new URL(N.source,this.map.consumer().sourceRoot||c(this.map.mapFile));let k={url:A.toString(),line:N.line,column:N.column,endLine:C&&C.line,endColumn:C&&C.column};if(A.protocol==="file:")if(u)k.file=u(A);else throw new Error("file: protocol is not available in this PostCSS build");let L=M.sourceContentFor(N.source);return L&&(k.source=L),k}mapResolve(s){return/^\w+:\/\//.test(s)?s:g(this.map.consumer().sourceRoot||this.map.root||".",s)}get from(){return this.file||this.id}toJSON(){let s={};for(let w of["hasBOM","css","file","id"])this[w]!=null&&(s[w]=this[w]);return this.map&&(s.map=ir({},this.map),s.map.consumerCache&&(s.map.consumerCache=void 0)),s}}z.exports=_,_.default=_,y&&y.registerInput&&y.registerInput(_)},21939:(z,l,e)=>{"use strict";let{isClean:o,my:f}=e(65513),u=e(48505),c=e(67088),g=e(21019),v=e(26461),E=e(72448),y=e(83632),p=e(66939),T=e(41025);const O={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},I={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},S={postcssPlugin:!0,prepare:!0,Once:!0},_=0;function d(N){return typeof N=="object"&&typeof N.then=="function"}function s(N){let C=!1,A=O[N.type];return N.type==="decl"?C=N.prop.toLowerCase():N.type==="atrule"&&(C=N.name.toLowerCase()),C&&N.append?[A,A+"-"+C,_,A+"Exit",A+"Exit-"+C]:C?[A,A+"-"+C,A+"Exit",A+"Exit-"+C]:N.append?[A,_,A+"Exit"]:[A,A+"Exit"]}function w(N){let C;return N.type==="document"?C=["Document",_,"DocumentExit"]:N.type==="root"?C=["Root",_,"RootExit"]:C=s(N),{node:N,events:C,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function P(N){return N[o]=!1,N.nodes&&N.nodes.forEach(C=>P(C)),N}let x={};class M{constructor(C,A,k){this.stringified=!1,this.processed=!1;let L;if(typeof A=="object"&&A!==null&&(A.type==="root"||A.type==="document"))L=P(A);else if(A instanceof M||A instanceof y)L=P(A.root),A.map&&(typeof k.map=="undefined"&&(k.map={}),k.map.inline||(k.map.inline=!1),k.map.prev=A.map);else{let K=p;k.syntax&&(K=k.syntax.parse),k.parser&&(K=k.parser),K.parse&&(K=K.parse);try{L=K(A,k)}catch(Z){this.processed=!0,this.error=Z}L&&!L[f]&&g.rebuild(L)}this.result=new y(C,L,k),this.helpers=Ro(ir({},x),{result:this.result,postcss:x}),this.plugins=this.processor.plugins.map(K=>typeof K=="object"&&K.prepare?ir(ir({},K),K.prepare(this.result)):K)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(C,A){return this.async().then(C,A)}catch(C){return this.async().catch(C)}finally(C){return this.async().then(C,C)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let C of this.plugins){let A=this.runOnRoot(C);if(d(A))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let C=this.result.root;for(;!C[o];)C[o]=!0,this.walkSync(C);if(this.listeners.OnceExit)if(C.type==="document")for(let A of C.nodes)this.visitSync(this.listeners.OnceExit,A);else this.visitSync(this.listeners.OnceExit,C)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let C=this.result.opts,A=c;C.syntax&&(A=C.syntax.stringify),C.stringifier&&(A=C.stringifier),A.stringify&&(A=A.stringify);let L=new u(A,this.result.root,this.result.opts).generate();return this.result.css=L[0],this.result.map=L[1],this.result}walkSync(C){C[o]=!0;let A=s(C);for(let k of A)if(k===_)C.nodes&&C.each(L=>{L[o]||this.walkSync(L)});else{let L=this.listeners[k];if(L&&this.visitSync(L,C.toProxy()))return}}visitSync(C,A){for(let[k,L]of C){this.result.lastPlugin=k;let K;try{K=L(A,this.helpers)}catch(Z){throw this.handleError(Z,A.proxyOf)}if(A.type!=="root"&&A.type!=="document"&&!A.parent)return!0;if(d(K))throw this.getAsyncError()}}runOnRoot(C){this.result.lastPlugin=C;try{if(typeof C=="object"&&C.Once){if(this.result.root.type==="document"){let A=this.result.root.nodes.map(k=>C.Once(k,this.helpers));return d(A[0])?Promise.all(A):A}return C.Once(this.result.root,this.helpers)}else if(typeof C=="function")return C(this.result.root,this.result)}catch(A){throw this.handleError(A)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(C,A){let k=this.result.lastPlugin;try{A&&A.addToError(C),this.error=C,C.name==="CssSyntaxError"&&!C.plugin?(C.plugin=k.postcssPlugin,C.setMessage()):k.postcssVersion}catch(L){console&&console.error&&console.error(L)}return C}runAsync(){return Tu(this,null,function*(){this.plugin=0;for(let C=0;C<this.plugins.length;C++){let A=this.plugins[C],k=this.runOnRoot(A);if(d(k))try{yield k}catch(L){throw this.handleError(L)}}if(this.prepareVisitors(),this.hasListener){let C=this.result.root;for(;!C[o];){C[o]=!0;let A=[w(C)];for(;A.length>0;){let k=this.visitTick(A);if(d(k))try{yield k}catch(L){let K=A[A.length-1].node;throw this.handleError(L,K)}}}if(this.listeners.OnceExit)for(let[A,k]of this.listeners.OnceExit){this.result.lastPlugin=A;try{if(C.type==="document"){let L=C.nodes.map(K=>k(K,this.helpers));yield Promise.all(L)}else yield k(C,this.helpers)}catch(L){throw this.handleError(L)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let C=(A,k,L)=>{this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push([A,L])};for(let A of this.plugins)if(typeof A=="object")for(let k in A){if(!I[k]&&/^[A-Z]/.test(k))throw new Error(`Unknown event ${k} in ${A.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!S[k])if(typeof A[k]=="object")for(let L in A[k])L==="*"?C(A,k,A[k][L]):C(A,k+"-"+L.toLowerCase(),A[k][L]);else typeof A[k]=="function"&&C(A,k,A[k])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(C){let A=C[C.length-1],{node:k,visitors:L}=A;if(k.type!=="root"&&k.type!=="document"&&!k.parent){C.pop();return}if(L.length>0&&A.visitorIndex<L.length){let[Z,J]=L[A.visitorIndex];A.visitorIndex+=1,A.visitorIndex===L.length&&(A.visitors=[],A.visitorIndex=0),this.result.lastPlugin=Z;try{return J(k.toProxy(),this.helpers)}catch(q){throw this.handleError(q,k)}}if(A.iterator!==0){let Z=A.iterator,J;for(;J=k.nodes[k.indexes[Z]];)if(k.indexes[Z]+=1,!J[o]){J[o]=!0,C.push(w(J));return}A.iterator=0,delete k.indexes[Z]}let K=A.events;for(;A.eventIndex<K.length;){let Z=K[A.eventIndex];if(A.eventIndex+=1,Z===_){k.nodes&&k.nodes.length&&(k[o]=!0,A.iterator=k.getIterator());return}else if(this.listeners[Z]){A.visitors=this.listeners[Z];return}}C.pop()}}M.registerPostcss=N=>{x=N},z.exports=M,M.default=M,T.registerLazyResult(M),v.registerLazyResult(M)},54715:z=>{"use strict";let l={split(e,o,f){let u=[],c="",g=!1,v=0,E=!1,y="",p=!1;for(let T of e)p?p=!1:T==="\\"?p=!0:E?T===y&&(E=!1):T==='"'||T==="'"?(E=!0,y=T):T==="("?v+=1:T===")"?v>0&&(v-=1):v===0&&o.includes(T)&&(g=!0),g?(c!==""&&u.push(c.trim()),c="",g=!1):c+=T;return(f||c!=="")&&u.push(c.trim()),u},space(e){let o=[" ",`
`,"	"];return l.split(e,o)},comma(e){return l.split(e,[","],!0)}};z.exports=l,l.default=l},48505:(z,l,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{dirname:u,resolve:c,relative:g,sep:v}=e(99830),{pathToFileURL:E}=e(87414),y=e(5995),p=!!(o&&f),T=!!(u&&c&&g&&v);class O{constructor(S,_,d,s){this.stringify=S,this.mapOpts=d.map||{},this.root=_,this.opts=d,this.css=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(S=>{if(S.source&&S.source.input.map){let _=S.source.input.map;this.previousMaps.includes(_)||this.previousMaps.push(_)}});else{let S=new y(this.css,this.opts);S.map&&this.previousMaps.push(S.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let S=this.mapOpts.annotation;return typeof S!="undefined"&&S!==!0?!1:this.previous().length?this.previous().some(_=>_.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(S=>S.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let S;for(let _=this.root.nodes.length-1;_>=0;_--)S=this.root.nodes[_],S.type==="comment"&&S.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(_)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let S={};if(this.root)this.root.walk(_=>{if(_.source){let d=_.source.input.from;if(d&&!S[d]){S[d]=!0;let s=this.usesFileUrls?this.toFileUrl(d):this.toUrl(this.path(d));this.map.setSourceContent(s,_.source.input.css)}}});else if(this.css){let _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}applyPrevMaps(){for(let S of this.previous()){let _=this.toUrl(this.path(S.file)),d=S.root||u(S.file),s;this.mapOpts.sourcesContent===!1?(s=new o(S.text),s.sourcesContent&&(s.sourcesContent=s.sourcesContent.map(()=>null))):s=S.consumer(),this.map.applySourceMap(s,_,this.toUrl(this.path(d)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(S=>S.annotation):!0}toBase64(S){return Buffer?Buffer.from(S).toString("base64"):window.btoa(unescape(encodeURIComponent(S)))}addAnnotation(){let S;this.isInline()?S="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?S=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?S=this.mapOpts.annotation(this.opts.to,this.root):S=this.outputFile()+".map";let _=`
`;this.css.includes(`\r
`)&&(_=`\r
`),this.css+=_+"/*# sourceMappingURL="+S+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let S=this.previous()[0].consumer();S.file=this.outputFile(),this.map=f.fromSourceMap(S)}else this.map=new f({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(S){if(S.indexOf("<")===0||/^\w+:\/\//.test(S)||this.mapOpts.absolute)return S;let _=this.opts.to?u(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(_=u(c(_,this.mapOpts.annotation))),S=g(_,S),S}toUrl(S){return v==="\\"&&(S=S.replace(/\\/g,"/")),encodeURI(S).replace(/[#?]/g,encodeURIComponent)}toFileUrl(S){if(E)return E(S).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(S){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(S.source.input.from):this.toUrl(this.path(S.source.input.from))}generateString(){this.css="",this.map=new f({file:this.outputFile()});let S=1,_=1,d="<no source>",s={source:"",generated:{line:0,column:0},original:{line:0,column:0}},w,P;this.stringify(this.root,(x,M,N)=>{if(this.css+=x,M&&N!=="end"&&(s.generated.line=S,s.generated.column=_-1,M.source&&M.source.start?(s.source=this.sourcePath(M),s.original.line=M.source.start.line,s.original.column=M.source.start.column-1,this.map.addMapping(s)):(s.source=d,s.original.line=1,s.original.column=0,this.map.addMapping(s))),w=x.match(/\n/g),w?(S+=w.length,P=x.lastIndexOf(`
`),_=x.length-P):_+=x.length,M&&N!=="start"){let C=M.parent||{raws:{}};(!(M.type==="decl"||M.type==="atrule"&&!M.nodes)||M!==C.last||C.raws.semicolon)&&(M.source&&M.source.end?(s.source=this.sourcePath(M),s.original.line=M.source.end.line,s.original.column=M.source.end.column-1,s.generated.line=S,s.generated.column=_-2,this.map.addMapping(s)):(s.source=d,s.original.line=1,s.original.column=0,s.generated.line=S,s.generated.column=_-1,this.map.addMapping(s)))}})}generate(){if(this.clearAnnotation(),T&&p&&this.isMap())return this.generateMap();{let S="";return this.stringify(this.root,_=>{S+=_}),[S]}}}z.exports=O},47647:(z,l,e)=>{"use strict";let o=e(48505),f=e(67088),u=e(72448),c=e(66939);const g=e(83632);class v{constructor(y,p,T){p=p.toString(),this.stringified=!1,this._processor=y,this._css=p,this._opts=T,this._map=void 0;let O,I=f;this.result=new g(this._processor,O,this._opts),this.result.css=p;let S=this;Object.defineProperty(this.result,"root",{get(){return S.root}});let _=new o(I,O,this._opts,p);if(_.isMap()){let[d,s]=_.generate();d&&(this.result.css=d),s&&(this.result.map=s)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let y,p=c;try{y=p(this._css,this._opts)}catch(T){this.error=T}if(this.error)throw this.error;return this._root=y,y}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(y,p){return this.async().then(y,p)}catch(y){return this.async().catch(y)}finally(y){return this.async().then(y,y)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}z.exports=v,v.default=v},65631:(z,l,e)=>{"use strict";let{isClean:o,my:f}=e(65513),u=e(42671),c=e(1062),g=e(67088);function v(y,p){let T=new y.constructor;for(let O in y){if(!Object.prototype.hasOwnProperty.call(y,O)||O==="proxyCache")continue;let I=y[O],S=typeof I;O==="parent"&&S==="object"?p&&(T[O]=p):O==="source"?T[O]=I:Array.isArray(I)?T[O]=I.map(_=>v(_,T)):(S==="object"&&I!==null&&(I=v(I)),T[O]=I)}return T}class E{constructor(p={}){this.raws={},this[o]=!1,this[f]=!0;for(let T in p)if(T==="nodes"){this.nodes=[];for(let O of p[T])typeof O.clone=="function"?this.append(O.clone()):this.append(O)}else this[T]=p[T]}error(p,T={}){if(this.source){let{start:O,end:I}=this.rangeBy(T);return this.source.input.error(p,{line:O.line,column:O.column},{line:I.line,column:I.column},T)}return new u(p)}warn(p,T,O){let I={node:this};for(let S in O)I[S]=O[S];return p.warn(T,I)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(p=g){p.stringify&&(p=p.stringify);let T="";return p(this,O=>{T+=O}),T}assign(p={}){for(let T in p)this[T]=p[T];return this}clone(p={}){let T=v(this);for(let O in p)T[O]=p[O];return T}cloneBefore(p={}){let T=this.clone(p);return this.parent.insertBefore(this,T),T}cloneAfter(p={}){let T=this.clone(p);return this.parent.insertAfter(this,T),T}replaceWith(...p){if(this.parent){let T=this,O=!1;for(let I of p)I===this?O=!0:O?(this.parent.insertAfter(T,I),T=I):this.parent.insertBefore(T,I);O||this.remove()}return this}next(){if(!this.parent)return;let p=this.parent.index(this);return this.parent.nodes[p+1]}prev(){if(!this.parent)return;let p=this.parent.index(this);return this.parent.nodes[p-1]}before(p){return this.parent.insertBefore(this,p),this}after(p){return this.parent.insertAfter(this,p),this}root(){let p=this;for(;p.parent&&p.parent.type!=="document";)p=p.parent;return p}raw(p,T){return new c().raw(this,p,T)}cleanRaws(p){delete this.raws.before,delete this.raws.after,p||delete this.raws.between}toJSON(p,T){let O={},I=T==null;T=T||new Map;let S=0;for(let _ in this){if(!Object.prototype.hasOwnProperty.call(this,_)||_==="parent"||_==="proxyCache")continue;let d=this[_];if(Array.isArray(d))O[_]=d.map(s=>typeof s=="object"&&s.toJSON?s.toJSON(null,T):s);else if(typeof d=="object"&&d.toJSON)O[_]=d.toJSON(null,T);else if(_==="source"){let s=T.get(d.input);s==null&&(s=S,T.set(d.input,S),S++),O[_]={inputId:s,start:d.start,end:d.end}}else O[_]=d}return I&&(O.inputs=[...T.keys()].map(_=>_.toJSON())),O}positionInside(p){let T=this.toString(),O=this.source.start.column,I=this.source.start.line;for(let S=0;S<p;S++)T[S]===`
`?(O=1,I+=1):O+=1;return{line:I,column:O}}positionBy(p){let T=this.source.start;if(p.index)T=this.positionInside(p.index);else if(p.word){let O=this.toString().indexOf(p.word);O!==-1&&(T=this.positionInside(O))}return T}rangeBy(p){let T={line:this.source.start.line,column:this.source.start.column},O=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:T.line,column:T.column+1};if(p.word){let I=this.toString().indexOf(p.word);I!==-1&&(T=this.positionInside(I),O=this.positionInside(I+p.word.length))}else p.start?T={line:p.start.line,column:p.start.column}:p.index&&(T=this.positionInside(p.index)),p.end?O={line:p.end.line,column:p.end.column}:p.endIndex?O=this.positionInside(p.endIndex):p.index&&(O=this.positionInside(p.index+1));return(O.line<T.line||O.line===T.line&&O.column<=T.column)&&(O={line:T.line,column:T.column+1}),{start:T,end:O}}getProxyProcessor(){return{set(p,T,O){return p[T]===O||(p[T]=O,(T==="prop"||T==="value"||T==="name"||T==="params"||T==="important"||T==="text")&&p.markDirty()),!0},get(p,T){return T==="proxyOf"?p:T==="root"?()=>p.root().toProxy():p[T]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(p){if(p.postcssNode=this,p.stack&&this.source&&/\n\s{4}at /.test(p.stack)){let T=this.source;p.stack=p.stack.replace(/\n\s{4}at /,`$&${T.input.from}:${T.start.line}:${T.start.column}$&`)}return p}markDirty(){if(this[o]){this[o]=!1;let p=this;for(;p=p.parent;)p[o]=!1}}get proxyOf(){return this}}z.exports=E,E.default=E},66939:(z,l,e)=>{"use strict";let o=e(21019),f=e(68867),u=e(5995);function c(g,v){let E=new u(g,v),y=new f(E);try{y.parse()}catch(p){throw p}return y.root}z.exports=c,c.default=c,o.registerParse(c)},68867:(z,l,e)=>{"use strict";let o=e(94258),f=e(83852),u=e(69932),c=e(41353),g=e(41025),v=e(31675);const E={empty:!0,space:!0};function y(T){for(let O=T.length-1;O>=0;O--){let I=T[O],S=I[3]||I[2];if(S)return S}}class p{constructor(O){this.input=O,this.root=new g,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:O,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=f(this.input)}parse(){let O;for(;!this.tokenizer.endOfFile();)switch(O=this.tokenizer.nextToken(),O[0]){case"space":this.spaces+=O[1];break;case";":this.freeSemicolon(O);break;case"}":this.end(O);break;case"comment":this.comment(O);break;case"at-word":this.atrule(O);break;case"{":this.emptyRule(O);break;default:this.other(O);break}this.endFile()}comment(O){let I=new u;this.init(I,O[2]),I.source.end=this.getPosition(O[3]||O[2]);let S=O[1].slice(2,-2);if(/^\s*$/.test(S))I.text="",I.raws.left=S,I.raws.right="";else{let _=S.match(/^(\s*)([^]*\S)(\s*)$/);I.text=_[2],I.raws.left=_[1],I.raws.right=_[3]}}emptyRule(O){let I=new v;this.init(I,O[2]),I.selector="",I.raws.between="",this.current=I}other(O){let I=!1,S=null,_=!1,d=null,s=[],w=O[1].startsWith("--"),P=[],x=O;for(;x;){if(S=x[0],P.push(x),S==="("||S==="[")d||(d=x),s.push(S==="("?")":"]");else if(w&&_&&S==="{")d||(d=x),s.push("}");else if(s.length===0)if(S===";")if(_){this.decl(P,w);return}else break;else if(S==="{"){this.rule(P);return}else if(S==="}"){this.tokenizer.back(P.pop()),I=!0;break}else S===":"&&(_=!0);else S===s[s.length-1]&&(s.pop(),s.length===0&&(d=null));x=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(I=!0),s.length>0&&this.unclosedBracket(d),I&&_){if(!w)for(;P.length&&(x=P[P.length-1][0],!(x!=="space"&&x!=="comment"));)this.tokenizer.back(P.pop());this.decl(P,w)}else this.unknownWord(P)}rule(O){O.pop();let I=new v;this.init(I,O[0][2]),I.raws.between=this.spacesAndCommentsFromEnd(O),this.raw(I,"selector",O),this.current=I}decl(O,I){let S=new o;this.init(S,O[0][2]);let _=O[O.length-1];for(_[0]===";"&&(this.semicolon=!0,O.pop()),S.source.end=this.getPosition(_[3]||_[2]||y(O));O[0][0]!=="word";)O.length===1&&this.unknownWord(O),S.raws.before+=O.shift()[1];for(S.source.start=this.getPosition(O[0][2]),S.prop="";O.length;){let x=O[0][0];if(x===":"||x==="space"||x==="comment")break;S.prop+=O.shift()[1]}S.raws.between="";let d;for(;O.length;)if(d=O.shift(),d[0]===":"){S.raws.between+=d[1];break}else d[0]==="word"&&/\w/.test(d[1])&&this.unknownWord([d]),S.raws.between+=d[1];(S.prop[0]==="_"||S.prop[0]==="*")&&(S.raws.before+=S.prop[0],S.prop=S.prop.slice(1));let s=[],w;for(;O.length&&(w=O[0][0],!(w!=="space"&&w!=="comment"));)s.push(O.shift());this.precheckMissedSemicolon(O);for(let x=O.length-1;x>=0;x--){if(d=O[x],d[1].toLowerCase()==="!important"){S.important=!0;let M=this.stringFrom(O,x);M=this.spacesFromEnd(O)+M,M!==" !important"&&(S.raws.important=M);break}else if(d[1].toLowerCase()==="important"){let M=O.slice(0),N="";for(let C=x;C>0;C--){let A=M[C][0];if(N.trim().indexOf("!")===0&&A!=="space")break;N=M.pop()[1]+N}N.trim().indexOf("!")===0&&(S.important=!0,S.raws.important=N,O=M)}if(d[0]!=="space"&&d[0]!=="comment")break}O.some(x=>x[0]!=="space"&&x[0]!=="comment")&&(S.raws.between+=s.map(x=>x[1]).join(""),s=[]),this.raw(S,"value",s.concat(O),I),S.value.includes(":")&&!I&&this.checkMissedSemicolon(O)}atrule(O){let I=new c;I.name=O[1].slice(1),I.name===""&&this.unnamedAtrule(I,O),this.init(I,O[2]);let S,_,d,s=!1,w=!1,P=[],x=[];for(;!this.tokenizer.endOfFile();){if(O=this.tokenizer.nextToken(),S=O[0],S==="("||S==="["?x.push(S==="("?")":"]"):S==="{"&&x.length>0?x.push("}"):S===x[x.length-1]&&x.pop(),x.length===0)if(S===";"){I.source.end=this.getPosition(O[2]),this.semicolon=!0;break}else if(S==="{"){w=!0;break}else if(S==="}"){if(P.length>0){for(d=P.length-1,_=P[d];_&&_[0]==="space";)_=P[--d];_&&(I.source.end=this.getPosition(_[3]||_[2]))}this.end(O);break}else P.push(O);else P.push(O);if(this.tokenizer.endOfFile()){s=!0;break}}I.raws.between=this.spacesAndCommentsFromEnd(P),P.length?(I.raws.afterName=this.spacesAndCommentsFromStart(P),this.raw(I,"params",P),s&&(O=P[P.length-1],I.source.end=this.getPosition(O[3]||O[2]),this.spaces=I.raws.between,I.raws.between="")):(I.raws.afterName="",I.params=""),w&&(I.nodes=[],this.current=I)}end(O){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(O[2]),this.current=this.current.parent):this.unexpectedClose(O)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(O){if(this.spaces+=O[1],this.current.nodes){let I=this.current.nodes[this.current.nodes.length-1];I&&I.type==="rule"&&!I.raws.ownSemicolon&&(I.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(O){let I=this.input.fromOffset(O);return{offset:O,line:I.line,column:I.col}}init(O,I){this.current.push(O),O.source={start:this.getPosition(I),input:this.input},O.raws.before=this.spaces,this.spaces="",O.type!=="comment"&&(this.semicolon=!1)}raw(O,I,S,_){let d,s,w=S.length,P="",x=!0,M,N;for(let C=0;C<w;C+=1)d=S[C],s=d[0],s==="space"&&C===w-1&&!_?x=!1:s==="comment"?(N=S[C-1]?S[C-1][0]:"empty",M=S[C+1]?S[C+1][0]:"empty",!E[N]&&!E[M]?P.slice(-1)===","?x=!1:P+=d[1]:x=!1):P+=d[1];if(!x){let C=S.reduce((A,k)=>A+k[1],"");O.raws[I]={value:P,raw:C}}O[I]=P}spacesAndCommentsFromEnd(O){let I,S="";for(;O.length&&(I=O[O.length-1][0],!(I!=="space"&&I!=="comment"));)S=O.pop()[1]+S;return S}spacesAndCommentsFromStart(O){let I,S="";for(;O.length&&(I=O[0][0],!(I!=="space"&&I!=="comment"));)S+=O.shift()[1];return S}spacesFromEnd(O){let I,S="";for(;O.length&&(I=O[O.length-1][0],I==="space");)S=O.pop()[1]+S;return S}stringFrom(O,I){let S="";for(let _=I;_<O.length;_++)S+=O[_][1];return O.splice(I,O.length-I),S}colon(O){let I=0,S,_,d;for(let[s,w]of O.entries()){if(S=w,_=S[0],_==="("&&(I+=1),_===")"&&(I-=1),I===0&&_===":")if(!d)this.doubleColon(S);else{if(d[0]==="word"&&d[1]==="progid")continue;return s}d=S}return!1}unclosedBracket(O){throw this.input.error("Unclosed bracket",{offset:O[2]},{offset:O[2]+1})}unknownWord(O){throw this.input.error("Unknown word",{offset:O[0][2]},{offset:O[0][2]+O[0][1].length})}unexpectedClose(O){throw this.input.error("Unexpected }",{offset:O[2]},{offset:O[2]+1})}unclosedBlock(){let O=this.current.source.start;throw this.input.error("Unclosed block",O.line,O.column)}doubleColon(O){throw this.input.error("Double colon",{offset:O[2]},{offset:O[2]+O[1].length})}unnamedAtrule(O,I){throw this.input.error("At-rule without name",{offset:I[2]},{offset:I[2]+I[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(O){let I=this.colon(O);if(I===!1)return;let S=0,_;for(let d=I-1;d>=0&&(_=O[d],!(_[0]!=="space"&&(S+=1,S===2)));d--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}}z.exports=p},50020:(z,l,e)=>{"use strict";let o=e(42671),f=e(94258),u=e(21939),c=e(21019),g=e(71723),v=e(67088),E=e(50250),y=e(26461),p=e(11728),T=e(69932),O=e(41353),I=e(83632),S=e(5995),_=e(66939),d=e(54715),s=e(31675),w=e(41025),P=e(65631);function x(...M){return M.length===1&&Array.isArray(M[0])&&(M=M[0]),new g(M)}x.plugin=function(N,C){let A=!1;function k(...K){console&&console.warn&&!A&&(A=!0,console.warn(N+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(N+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let Z=C(...K);return Z.postcssPlugin=N,Z.postcssVersion=new g().version,Z}let L;return Object.defineProperty(k,"postcss",{get(){return L||(L=k()),L}}),k.process=function(K,Z,J){return x([k(J)]).process(K,Z)},k},x.stringify=v,x.parse=_,x.fromJSON=E,x.list=d,x.comment=M=>new T(M),x.atRule=M=>new O(M),x.decl=M=>new f(M),x.rule=M=>new s(M),x.root=M=>new w(M),x.document=M=>new y(M),x.CssSyntaxError=o,x.Declaration=f,x.Container=c,x.Processor=g,x.Document=y,x.Comment=T,x.Warning=p,x.AtRule=O,x.Result=I,x.Input=S,x.Rule=s,x.Root=w,x.Node=P,u.registerPostcss(x),z.exports=x,x.default=x},47981:(z,l,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{existsSync:u,readFileSync:c}=e(14777),{dirname:g,join:v}=e(99830);function E(p){return Buffer?Buffer.from(p,"base64").toString():window.atob(p)}class y{constructor(T,O){if(O.map===!1)return;this.loadAnnotation(T),this.inline=this.startWith(this.annotation,"data:");let I=O.map?O.map.prev:void 0,S=this.loadMap(O.from,I);!this.mapFile&&O.from&&(this.mapFile=O.from),this.mapFile&&(this.root=g(this.mapFile)),S&&(this.text=S)}consumer(){return this.consumerCache||(this.consumerCache=new o(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(T,O){return T?T.substr(0,O.length)===O:!1}getAnnotationURL(T){return T.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(T){let O=T.match(/\/\*\s*# sourceMappingURL=/gm);if(!O)return;let I=T.lastIndexOf(O.pop()),S=T.indexOf("*/",I);I>-1&&S>-1&&(this.annotation=this.getAnnotationURL(T.substring(I,S)))}decodeInline(T){let O=/^data:application\/json;charset=utf-?8;base64,/,I=/^data:application\/json;base64,/,S=/^data:application\/json;charset=utf-?8,/,_=/^data:application\/json,/;if(S.test(T)||_.test(T))return decodeURIComponent(T.substr(RegExp.lastMatch.length));if(O.test(T)||I.test(T))return E(T.substr(RegExp.lastMatch.length));let d=T.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+d)}loadFile(T){if(this.root=g(T),u(T))return this.mapFile=T,c(T,"utf-8").toString().trim()}loadMap(T,O){if(O===!1)return!1;if(O){if(typeof O=="string")return O;if(typeof O=="function"){let I=O(T);if(I){let S=this.loadFile(I);if(!S)throw new Error("Unable to load previous source map: "+I.toString());return S}}else{if(O instanceof o)return f.fromSourceMap(O).toString();if(O instanceof f)return O.toString();if(this.isMap(O))return JSON.stringify(O);throw new Error("Unsupported previous source map format: "+O.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let I=this.annotation;return T&&(I=v(g(T),I)),this.loadFile(I)}}}isMap(T){return typeof T!="object"?!1:typeof T.mappings=="string"||typeof T._mappings=="string"||Array.isArray(T.sections)}}z.exports=y,y.default=y},71723:(z,l,e)=>{"use strict";let o=e(47647),f=e(21939),u=e(26461),c=e(41025);class g{constructor(E=[]){this.version="8.4.24",this.plugins=this.normalize(E)}use(E){return this.plugins=this.plugins.concat(this.normalize([E])),this}process(E,y={}){return this.plugins.length===0&&typeof y.parser=="undefined"&&typeof y.stringifier=="undefined"&&typeof y.syntax=="undefined"?new o(this,E,y):new f(this,E,y)}normalize(E){let y=[];for(let p of E)if(p.postcss===!0?p=p():p.postcss&&(p=p.postcss),typeof p=="object"&&Array.isArray(p.plugins))y=y.concat(p.plugins);else if(typeof p=="object"&&p.postcssPlugin)y.push(p);else if(typeof p=="function")y.push(p);else if(!(typeof p=="object"&&(p.parse||p.stringify)))throw new Error(p+" is not a PostCSS plugin");return y}}z.exports=g,g.default=g,c.registerProcessor(g),u.registerProcessor(g)},83632:(z,l,e)=>{"use strict";let o=e(11728);class f{constructor(c,g,v){this.processor=c,this.messages=[],this.root=g,this.opts=v,this.css=void 0,this.map=void 0}toString(){return this.css}warn(c,g={}){g.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(g.plugin=this.lastPlugin.postcssPlugin);let v=new o(c,g);return this.messages.push(v),v}warnings(){return this.messages.filter(c=>c.type==="warning")}get content(){return this.css}}z.exports=f,f.default=f},41025:(z,l,e)=>{"use strict";let o=e(21019),f,u;class c extends o{constructor(v){super(v),this.type="root",this.nodes||(this.nodes=[])}removeChild(v,E){let y=this.index(v);return!E&&y===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[y].raws.before),super.removeChild(v)}normalize(v,E,y){let p=super.normalize(v);if(E){if(y==="prepend")this.nodes.length>1?E.raws.before=this.nodes[1].raws.before:delete E.raws.before;else if(this.first!==E)for(let T of p)T.raws.before=E.raws.before}return p}toResult(v={}){return new f(new u,this,v).stringify()}}c.registerLazyResult=g=>{f=g},c.registerProcessor=g=>{u=g},z.exports=c,c.default=c,o.registerRoot(c)},31675:(z,l,e)=>{"use strict";let o=e(21019),f=e(54715);class u extends o{constructor(g){super(g),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return f.comma(this.selector)}set selectors(g){let v=this.selector?this.selector.match(/,\s*/):null,E=v?v[0]:","+this.raw("between","beforeOpen");this.selector=g.join(E)}}z.exports=u,u.default=u,o.registerRule(u)},1062:z=>{"use strict";const l={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(f){return f[0].toUpperCase()+f.slice(1)}class o{constructor(u){this.builder=u}stringify(u,c){if(!this[u.type])throw new Error("Unknown AST node type "+u.type+". Maybe you need to change PostCSS stringifier.");this[u.type](u,c)}document(u){this.body(u)}root(u){this.body(u),u.raws.after&&this.builder(u.raws.after)}comment(u){let c=this.raw(u,"left","commentLeft"),g=this.raw(u,"right","commentRight");this.builder("/*"+c+u.text+g+"*/",u)}decl(u,c){let g=this.raw(u,"between","colon"),v=u.prop+g+this.rawValue(u,"value");u.important&&(v+=u.raws.important||" !important"),c&&(v+=";"),this.builder(v,u)}rule(u){this.block(u,this.rawValue(u,"selector")),u.raws.ownSemicolon&&this.builder(u.raws.ownSemicolon,u,"end")}atrule(u,c){let g="@"+u.name,v=u.params?this.rawValue(u,"params"):"";if(typeof u.raws.afterName!="undefined"?g+=u.raws.afterName:v&&(g+=" "),u.nodes)this.block(u,g+v);else{let E=(u.raws.between||"")+(c?";":"");this.builder(g+v+E,u)}}body(u){let c=u.nodes.length-1;for(;c>0&&u.nodes[c].type==="comment";)c-=1;let g=this.raw(u,"semicolon");for(let v=0;v<u.nodes.length;v++){let E=u.nodes[v],y=this.raw(E,"before");y&&this.builder(y),this.stringify(E,c!==v||g)}}block(u,c){let g=this.raw(u,"between","beforeOpen");this.builder(c+g+"{",u,"start");let v;u.nodes&&u.nodes.length?(this.body(u),v=this.raw(u,"after")):v=this.raw(u,"after","emptyBody"),v&&this.builder(v),this.builder("}",u,"end")}raw(u,c,g){let v;if(g||(g=c),c&&(v=u.raws[c],typeof v!="undefined"))return v;let E=u.parent;if(g==="before"&&(!E||E.type==="root"&&E.first===u||E&&E.type==="document"))return"";if(!E)return l[g];let y=u.root();if(y.rawCache||(y.rawCache={}),typeof y.rawCache[g]!="undefined")return y.rawCache[g];if(g==="before"||g==="after")return this.beforeAfter(u,g);{let p="raw"+e(g);this[p]?v=this[p](y,u):y.walk(T=>{if(v=T.raws[c],typeof v!="undefined")return!1})}return typeof v=="undefined"&&(v=l[g]),y.rawCache[g]=v,v}rawSemicolon(u){let c;return u.walk(g=>{if(g.nodes&&g.nodes.length&&g.last.type==="decl"&&(c=g.raws.semicolon,typeof c!="undefined"))return!1}),c}rawEmptyBody(u){let c;return u.walk(g=>{if(g.nodes&&g.nodes.length===0&&(c=g.raws.after,typeof c!="undefined"))return!1}),c}rawIndent(u){if(u.raws.indent)return u.raws.indent;let c;return u.walk(g=>{let v=g.parent;if(v&&v!==u&&v.parent&&v.parent===u&&typeof g.raws.before!="undefined"){let E=g.raws.before.split(`
`);return c=E[E.length-1],c=c.replace(/\S/g,""),!1}}),c}rawBeforeComment(u,c){let g;return u.walkComments(v=>{if(typeof v.raws.before!="undefined")return g=v.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(c,null,"beforeDecl"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeDecl(u,c){let g;return u.walkDecls(v=>{if(typeof v.raws.before!="undefined")return g=v.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(c,null,"beforeRule"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeRule(u){let c;return u.walk(g=>{if(g.nodes&&(g.parent!==u||u.first!==g)&&typeof g.raws.before!="undefined")return c=g.raws.before,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeClose(u){let c;return u.walk(g=>{if(g.nodes&&g.nodes.length>0&&typeof g.raws.after!="undefined")return c=g.raws.after,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeOpen(u){let c;return u.walk(g=>{if(g.type!=="decl"&&(c=g.raws.between,typeof c!="undefined"))return!1}),c}rawColon(u){let c;return u.walkDecls(g=>{if(typeof g.raws.between!="undefined")return c=g.raws.between.replace(/[^\s:]/g,""),!1}),c}beforeAfter(u,c){let g;u.type==="decl"?g=this.raw(u,null,"beforeDecl"):u.type==="comment"?g=this.raw(u,null,"beforeComment"):c==="before"?g=this.raw(u,null,"beforeRule"):g=this.raw(u,null,"beforeClose");let v=u.parent,E=0;for(;v&&v.type!=="root";)E+=1,v=v.parent;if(g.includes(`
`)){let y=this.raw(u,null,"indent");if(y.length)for(let p=0;p<E;p++)g+=y}return g}rawValue(u,c){let g=u[c],v=u.raws[c];return v&&v.value===g?v.raw:g}}z.exports=o,o.default=o},67088:(z,l,e)=>{"use strict";let o=e(1062);function f(u,c){new o(c).stringify(u)}z.exports=f,f.default=f},65513:z=>{"use strict";z.exports.isClean=Symbol("isClean"),z.exports.my=Symbol("my")},83852:z=>{"use strict";const l="'".charCodeAt(0),e='"'.charCodeAt(0),o="\\".charCodeAt(0),f="/".charCodeAt(0),u=`
`.charCodeAt(0),c=" ".charCodeAt(0),g="\f".charCodeAt(0),v="	".charCodeAt(0),E="\r".charCodeAt(0),y="[".charCodeAt(0),p="]".charCodeAt(0),T="(".charCodeAt(0),O=")".charCodeAt(0),I="{".charCodeAt(0),S="}".charCodeAt(0),_=";".charCodeAt(0),d="*".charCodeAt(0),s=":".charCodeAt(0),w="@".charCodeAt(0),P=/[\t\n\f\r "#'()/;[\\\]{}]/g,x=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,M=/.[\n"'(/\\]/,N=/[\da-f]/i;z.exports=function(A,k={}){let L=A.css.valueOf(),K=k.ignoreErrors,Z,J,q,ne,F,W,ie,he,ye,fe,ae=L.length,oe=0,G=[],re=[];function se(){return oe}function le(me){throw A.error("Unclosed "+me,oe)}function Ee(){return re.length===0&&oe>=ae}function ve(me){if(re.length)return re.pop();if(oe>=ae)return;let Ie=me?me.ignoreUnclosed:!1;switch(Z=L.charCodeAt(oe),Z){case u:case c:case v:case E:case g:{J=oe;do J+=1,Z=L.charCodeAt(J);while(Z===c||Z===u||Z===v||Z===E||Z===g);fe=["space",L.slice(oe,J)],oe=J-1;break}case y:case p:case I:case S:case s:case _:case O:{let _e=String.fromCharCode(Z);fe=[_e,_e,oe];break}case T:{if(he=G.length?G.pop()[1]:"",ye=L.charCodeAt(oe+1),he==="url"&&ye!==l&&ye!==e&&ye!==c&&ye!==u&&ye!==v&&ye!==g&&ye!==E){J=oe;do{if(W=!1,J=L.indexOf(")",J+1),J===-1)if(K||Ie){J=oe;break}else le("bracket");for(ie=J;L.charCodeAt(ie-1)===o;)ie-=1,W=!W}while(W);fe=["brackets",L.slice(oe,J+1),oe,J],oe=J}else J=L.indexOf(")",oe+1),ne=L.slice(oe,J+1),J===-1||M.test(ne)?fe=["(","(",oe]:(fe=["brackets",ne,oe,J],oe=J);break}case l:case e:{q=Z===l?"'":'"',J=oe;do{if(W=!1,J=L.indexOf(q,J+1),J===-1)if(K||Ie){J=oe+1;break}else le("string");for(ie=J;L.charCodeAt(ie-1)===o;)ie-=1,W=!W}while(W);fe=["string",L.slice(oe,J+1),oe,J],oe=J;break}case w:{P.lastIndex=oe+1,P.test(L),P.lastIndex===0?J=L.length-1:J=P.lastIndex-2,fe=["at-word",L.slice(oe,J+1),oe,J],oe=J;break}case o:{for(J=oe,F=!0;L.charCodeAt(J+1)===o;)J+=1,F=!F;if(Z=L.charCodeAt(J+1),F&&Z!==f&&Z!==c&&Z!==u&&Z!==v&&Z!==E&&Z!==g&&(J+=1,N.test(L.charAt(J)))){for(;N.test(L.charAt(J+1));)J+=1;L.charCodeAt(J+1)===c&&(J+=1)}fe=["word",L.slice(oe,J+1),oe,J],oe=J;break}default:{Z===f&&L.charCodeAt(oe+1)===d?(J=L.indexOf("*/",oe+2)+1,J===0&&(K||Ie?J=L.length:le("comment")),fe=["comment",L.slice(oe,J+1),oe,J],oe=J):(x.lastIndex=oe+1,x.test(L),x.lastIndex===0?J=L.length-1:J=x.lastIndex-2,fe=["word",L.slice(oe,J+1),oe,J],G.push(fe),oe=J);break}}return oe++,fe}function pe(me){re.push(me)}return{back:pe,nextToken:ve,endOfFile:Ee,position:se}}},72448:z=>{"use strict";let l={};z.exports=function(o){l[o]||(l[o]=!0,typeof console!="undefined"&&console.warn&&console.warn(o))}},11728:z=>{"use strict";class l{constructor(o,f={}){if(this.type="warning",this.text=o,f.node&&f.node.source){let u=f.node.rangeBy(f);this.line=u.start.line,this.column=u.start.column,this.endLine=u.end.line,this.endColumn=u.end.column}for(let u in f)this[u]=f[u]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}z.exports=l,l.default=l},53836:(z,l,e)=>{l.__esModule=!0;var o=function(){function G(re,se){for(var le=0;le<se.length;le++){var Ee=se[le];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(re,Ee.key,Ee)}}return function(re,se,le){return se&&G(re.prototype,se),le&&G(re,le),re}}(),f=Object.assign||function(G){for(var re=1;re<arguments.length;re++){var se=arguments[re];for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&(G[le]=se[le])}return G},u=e(6400),c=e(98278),g=O(c),v=e(10251),E=O(v),y=e(27418),p=O(y),T=e(7937);function O(G){return G&&G.__esModule?G:{default:G}}function I(G,re){if(!(G instanceof re))throw new TypeError("Cannot call a class as a function")}function S(G,re){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:G}function _(G,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);G.prototype=Object.create(re&&re.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(G,re):G.__proto__=re)}function d(G,re,se){return re in G?Object.defineProperty(G,re,{value:se,enumerable:!0,configurable:!0,writable:!0}):G[re]=se,G}var s="data-preact-helmet",w=function(re){return String(re).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},P=function(re,se){for(var le=re.length-1;le>=0;le--){var Ee=re[le];if(Ee[se])return Ee[se]}return null},x=function(re){var se=P(re,"title"),le=P(re,"titleTemplate");if(le&&se)return le.replace(/%s/g,function(){return se});var Ee=P(re,"defaultTitle");return se||Ee||""},M=function(re){return P(re,"onChangeClientState")||function(){}},N=function(re,se){return se.filter(function(le){return typeof le[re]!="undefined"}).map(function(le){return le[re]}).reduce(function(le,Ee){return f({},le,Ee)},{})},C=function(re,se){return se.filter(function(le){return typeof le[T.TAG_NAMES.BASE]!="undefined"}).map(function(le){return le[T.TAG_NAMES.BASE]}).reverse().reduce(function(le,Ee){if(!le.length)for(var ve=Object.keys(Ee),pe=0;pe<ve.length;pe++){var me=ve[pe],Ie=me.toLowerCase();if(re.indexOf(Ie)!==-1&&Ee[Ie])return le.concat(Ee)}return le},[])},A=function(re,se,le){var Ee={};return le.filter(function(ve){return typeof ve[re]!="undefined"}).map(function(ve){return ve[re]}).reverse().reduce(function(ve,pe){var me={};pe.filter(function(ke){for(var Ve=void 0,Ge=Object.keys(ke),Qe=0;Qe<Ge.length;Qe++){var bt=Ge[Qe],Ce=bt.toLowerCase();se.indexOf(Ce)!==-1&&!(Ve===T.TAG_PROPERTIES.REL&&ke[Ve].toLowerCase()==="canonical")&&!(Ce===T.TAG_PROPERTIES.REL&&ke[Ce].toLowerCase()==="stylesheet")&&(Ve=Ce),se.indexOf(bt)!==-1&&(bt===T.TAG_PROPERTIES.INNER_HTML||bt===T.TAG_PROPERTIES.CSS_TEXT||bt===T.TAG_PROPERTIES.ITEM_PROP)&&(Ve=bt)}if(!Ve||!ke[Ve])return!1;var We=ke[Ve].toLowerCase();return Ee[Ve]||(Ee[Ve]={}),me[Ve]||(me[Ve]={}),Ee[Ve][We]?!1:(me[Ve][We]=!0,!0)}).reverse().forEach(function(ke){return ve.push(ke)});for(var Ie=Object.keys(me),_e=0;_e<Ie.length;_e++){var de=Ie[_e],Re=(0,p.default)({},Ee[de],me[de]);Ee[de]=Re}return ve},[]).reverse()},k=function(re,se){document.title=re||document.title,L(T.TAG_NAMES.TITLE,se)},L=function(re,se){for(var le=document.getElementsByTagName(re)[0],Ee=le.getAttribute(s),ve=Ee?Ee.split(","):[],pe=[].concat(ve),me=Object.keys(se),Ie=0;Ie<me.length;Ie++){var _e=me[Ie],de=se[_e]||"";le.setAttribute(_e,de),ve.indexOf(_e)===-1&&ve.push(_e);var Re=pe.indexOf(_e);Re!==-1&&pe.splice(Re,1)}for(var ke=pe.length-1;ke>=0;ke--)le.removeAttribute(pe[ke]);ve.length===pe.length?le.removeAttribute(s):le.setAttribute(s,ve.join(","))},K=function(re,se){var le=document.head||document.querySelector("head"),Ee=le.querySelectorAll(re+"["+s+"]"),ve=Array.prototype.slice.call(Ee),pe=[],me=void 0;return se&&se.length&&se.forEach(function(Ie){var _e=document.createElement(re);for(var de in Ie)if(Ie.hasOwnProperty(de))if(de==="innerHTML")_e.innerHTML=Ie.innerHTML;else if(de==="cssText")_e.styleSheet?_e.styleSheet.cssText=Ie.cssText:_e.appendChild(document.createTextNode(Ie.cssText));else{var Re=typeof Ie[de]=="undefined"?"":Ie[de];_e.setAttribute(de,Re)}_e.setAttribute(s,"true"),ve.some(function(ke,Ve){return me=Ve,_e.isEqualNode(ke)})?ve.splice(me,1):pe.push(_e)}),ve.forEach(function(Ie){return Ie.parentNode.removeChild(Ie)}),pe.forEach(function(Ie){return le.appendChild(Ie)}),{oldTags:ve,newTags:pe}},Z=function(re){return Object.keys(re).reduce(function(se,le){var Ee=typeof re[le]!="undefined"?le+'="'+re[le]+'"':""+le;return se?se+" "+Ee:Ee},"")},J=function(re,se,le){var Ee=Z(le);return Ee?"<"+re+" "+s+" "+Ee+">"+w(se)+"</"+re+">":"<"+re+" "+s+">"+w(se)+"</"+re+">"},q=function(re,se){return se.reduce(function(le,Ee){var ve=Object.keys(Ee).filter(function(Ie){return!(Ie==="innerHTML"||Ie==="cssText")}).reduce(function(Ie,_e){var de=typeof Ee[_e]=="undefined"?_e:_e+'="'+w(Ee[_e])+'"';return Ie?Ie+" "+de:de},""),pe=Ee.innerHTML||Ee.cssText||"",me=[T.TAG_NAMES.NOSCRIPT,T.TAG_NAMES.SCRIPT,T.TAG_NAMES.STYLE].indexOf(re)===-1;return le+"<"+re+" "+s+" "+ve+(me?">":">"+pe+"</"+re+">")},"")},ne=function(re,se,le){var Ee=d({key:se},s,!0),ve=Object.keys(le).reduce(function(pe,me){return pe[me]=le[me],pe},Ee);return[(0,u.h)(T.TAG_NAMES.TITLE,ve,se)]},F=function(re,se){return se.map(function(le,Ee){var ve=d({key:Ee},s,!0);return Object.keys(le).forEach(function(pe){var me=pe;if(me==="innerHTML"||me==="cssText"){var Ie=le.innerHTML||le.cssText;ve.dangerouslySetInnerHTML={__html:Ie}}else ve[me]=le[pe]}),(0,u.h)(re,ve)})},W=function(re,se){switch(re){case T.TAG_NAMES.TITLE:return{toComponent:function(){return ne(re,se.title,se.titleAttributes)},toString:function(){return J(re,se.title,se.titleAttributes)}};case T.TAG_NAMES.HTML:return{toComponent:function(){return se},toString:function(){return Z(se)}};default:return{toComponent:function(){return F(re,se)},toString:function(){return q(re,se)}}}},ie=function(re){var se=re.htmlAttributes,le=re.title,Ee=re.titleAttributes,ve=re.baseTag,pe=re.metaTags,me=re.linkTags,Ie=re.scriptTags,_e=re.noscriptTags,de=re.styleTags;return{htmlAttributes:W(T.TAG_NAMES.HTML,se),title:W(T.TAG_NAMES.TITLE,{title:le,titleAttributes:Ee}),base:W(T.TAG_NAMES.BASE,ve),meta:W(T.TAG_NAMES.META,pe),link:W(T.TAG_NAMES.LINK,me),script:W(T.TAG_NAMES.SCRIPT,Ie),noscript:W(T.TAG_NAMES.NOSCRIPT,_e),style:W(T.TAG_NAMES.STYLE,de)}},he=function(re){var se,le;return le=se=function(Ee){_(ve,Ee);function ve(){return I(this,ve),S(this,(ve.__proto__||Object.getPrototypeOf(ve)).apply(this,arguments))}return o(ve,[{key:"shouldComponentUpdate",value:function(me){var Ie=f({},me);return(!Ie.children||!Ie.children.length)&&delete Ie.children,!(0,E.default)(this.props,Ie)}},{key:"render",value:function(){return(0,u.h)(re,this.props)}}],[{key:"canUseDOM",set:function(me){re.canUseDOM=me}}]),ve}(u.Component),se.peek=re.peek,se.rewind=function(){var Ee=re.rewind();return Ee||(Ee=ie({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),Ee},le},ye=function(re){return{htmlAttributes:N(T.TAG_NAMES.HTML,re),title:x(re),titleAttributes:N("titleAttributes",re),baseTag:C([T.TAG_PROPERTIES.HREF],re),metaTags:A(T.TAG_NAMES.META,[T.TAG_PROPERTIES.NAME,T.TAG_PROPERTIES.CHARSET,T.TAG_PROPERTIES.HTTPEQUIV,T.TAG_PROPERTIES.PROPERTY,T.TAG_PROPERTIES.ITEM_PROP],re),linkTags:A(T.TAG_NAMES.LINK,[T.TAG_PROPERTIES.REL,T.TAG_PROPERTIES.HREF],re),scriptTags:A(T.TAG_NAMES.SCRIPT,[T.TAG_PROPERTIES.SRC,T.TAG_PROPERTIES.INNER_HTML],re),noscriptTags:A(T.TAG_NAMES.NOSCRIPT,[T.TAG_PROPERTIES.INNER_HTML],re),styleTags:A(T.TAG_NAMES.STYLE,[T.TAG_PROPERTIES.CSS_TEXT],re),onChangeClientState:M(re)}},fe=function(re){var se=re.htmlAttributes,le=re.title,Ee=re.titleAttributes,ve=re.baseTag,pe=re.metaTags,me=re.linkTags,Ie=re.scriptTags,_e=re.noscriptTags,de=re.styleTags,Re=re.onChangeClientState;L("html",se),k(le,Ee);var ke={baseTag:K(T.TAG_NAMES.BASE,ve),metaTags:K(T.TAG_NAMES.META,pe),linkTags:K(T.TAG_NAMES.LINK,me),scriptTags:K(T.TAG_NAMES.SCRIPT,Ie),noscriptTags:K(T.TAG_NAMES.NOSCRIPT,_e),styleTags:K(T.TAG_NAMES.STYLE,de)},Ve={},Ge={};Object.keys(ke).forEach(function(Qe){var bt=ke[Qe],Ce=bt.newTags,We=bt.oldTags;Ce.length&&(Ve[Qe]=Ce),We.length&&(Ge[Qe]=ke[Qe].oldTags)}),Re(re,Ve,Ge)},ae=function(){return null},oe=(0,g.default)(ye,fe,ie)(ae);l.default=he(oe),z.exports=l.default},7937:(z,l)=>{l.__esModule=!0;var e=l.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},o=l.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},f=l.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Link:()=>Z,Route:()=>J,Router:()=>K,default:()=>q,exec:()=>c,getCurrentUrl:()=>s,route:()=>w,subscribers:()=>S});var o=e(6400),f={};function u(ne,F){for(var W in F)ne[W]=F[W];return ne}function c(ne,F,W){var ie=/(?:\?([^#]*))?(#.*)?$/,he=ne.match(ie),ye={},fe;if(he&&he[1])for(var ae=he[1].split("&"),oe=0;oe<ae.length;oe++){var G=ae[oe].split("=");ye[decodeURIComponent(G[0])]=decodeURIComponent(G.slice(1).join("="))}ne=E(ne.replace(ie,"")),F=E(F||"");for(var re=Math.max(ne.length,F.length),se=0;se<re;se++)if(F[se]&&F[se].charAt(0)===":"){var le=F[se].replace(/(^:|[+*?]+$)/g,""),Ee=(F[se].match(/[+*?]+$/)||f)[0]||"",ve=~Ee.indexOf("+"),pe=~Ee.indexOf("*"),me=ne[se]||"";if(!me&&!pe&&(Ee.indexOf("?")<0||ve)){fe=!1;break}if(ye[le]=decodeURIComponent(me),ve||pe){ye[le]=ne.slice(se).map(decodeURIComponent).join("/");break}}else if(F[se]!==ne[se]){fe=!1;break}return W.default!==!0&&fe===!1?!1:ye}function g(ne,F){return ne.rank<F.rank?1:ne.rank>F.rank?-1:ne.index-F.index}function v(ne,F){return ne.index=F,ne.rank=T(ne),ne.props}function E(ne){return ne.replace(/(^\/+|\/+$)/g,"").split("/")}function y(ne){return ne.charAt(0)==":"?1+"*+?".indexOf(ne.charAt(ne.length-1))||4:5}function p(ne){return E(ne).map(y).join("")}function T(ne){return ne.props.default?0:p(ne.props.path)}var O=null,I=[],S=[],_={};function d(ne,F){F===void 0&&(F="push"),O&&O[F]?O[F](ne):typeof history!="undefined"&&history[F+"State"]&&history[F+"State"](null,null,ne)}function s(){var ne;return O&&O.location?ne=O.location:O&&O.getCurrentLocation?ne=O.getCurrentLocation():ne=typeof location!="undefined"?location:_,""+(ne.pathname||"")+(ne.search||"")}function w(ne,F){return F===void 0&&(F=!1),typeof ne!="string"&&ne.url&&(F=ne.replace,ne=ne.url),P(ne)&&d(ne,F?"replace":"push"),x(ne)}function P(ne){for(var F=I.length;F--;)if(I[F].canRoute(ne))return!0;return!1}function x(ne){for(var F=!1,W=0;W<I.length;W++)I[W].routeTo(ne)===!0&&(F=!0);for(var ie=S.length;ie--;)S[ie](ne);return F}function M(ne){if(!(!ne||!ne.getAttribute)){var F=ne.getAttribute("href"),W=ne.getAttribute("target");if(!(!F||!F.match(/^\//g)||W&&!W.match(/^_?self$/i)))return w(F)}}function N(ne){if(!(ne.ctrlKey||ne.metaKey||ne.altKey||ne.shiftKey||ne.button!==0))return M(ne.currentTarget||ne.target||this),C(ne)}function C(ne){return ne&&(ne.stopImmediatePropagation&&ne.stopImmediatePropagation(),ne.stopPropagation&&ne.stopPropagation(),ne.preventDefault()),!1}function A(ne){if(!(ne.ctrlKey||ne.metaKey||ne.altKey||ne.shiftKey||ne.button!==0)){var F=ne.target;do if(String(F.nodeName).toUpperCase()==="A"&&F.getAttribute("href")){if(F.hasAttribute("native"))return;if(M(F))return C(ne)}while(F=F.parentNode)}}var k=!1;function L(){k||(typeof addEventListener=="function"&&(O||addEventListener("popstate",function(){x(s())}),addEventListener("click",A)),k=!0)}var K=function(ne){function F(W){ne.call(this,W),W.history&&(O=W.history),this.state={url:W.url||s()},L()}return ne&&(F.__proto__=ne),F.prototype=Object.create(ne&&ne.prototype),F.prototype.constructor=F,F.prototype.shouldComponentUpdate=function(ie){return ie.static!==!0?!0:ie.url!==this.props.url||ie.onChange!==this.props.onChange},F.prototype.canRoute=function(ie){var he=(0,o.toChildArray)(this.props.children);return this.getMatchingChildren(he,ie,!1).length>0},F.prototype.routeTo=function(ie){this.setState({url:ie});var he=this.canRoute(ie);return this.updating||this.forceUpdate(),he},F.prototype.componentWillMount=function(){I.push(this),this.updating=!0},F.prototype.componentDidMount=function(){var ie=this;O&&(this.unlisten=O.listen(function(he){ie.routeTo(""+(he.pathname||"")+(he.search||""))})),this.updating=!1},F.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),I.splice(I.indexOf(this),1)},F.prototype.componentWillUpdate=function(){this.updating=!0},F.prototype.componentDidUpdate=function(){this.updating=!1},F.prototype.getMatchingChildren=function(ie,he,ye){return ie.filter(v).sort(g).map(function(fe){var ae=c(he,fe.props.path,fe.props);if(ae){if(ye!==!1){var oe={url:he,matches:ae};return u(oe,ae),delete oe.ref,delete oe.key,(0,o.cloneElement)(fe,oe)}return fe}}).filter(Boolean)},F.prototype.render=function(ie,he){var ye=ie.children,fe=ie.onChange,ae=he.url,oe=this.getMatchingChildren((0,o.toChildArray)(ye),ae,!0),G=oe[0]||null,re=this.previousUrl;return ae!==re&&(this.previousUrl=ae,typeof fe=="function"&&fe({router:this,url:ae,previous:re,active:oe,current:G})),G},F}(o.Component),Z=function(ne){return(0,o.createElement)("a",u({onClick:N},ne))},J=function(ne){return(0,o.createElement)(ne.component,ne)};K.subscribers=S,K.getCurrentUrl=s,K.route=w,K.Router=K,K.Route=J,K.Link=Z,K.exec=c;const q=K},56232:(z,l,e)=>{"use strict";var o;o={value:!0},o=l.qE=void 0;var f=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var S=arguments[I];for(var _ in S)Object.prototype.hasOwnProperty.call(S,_)&&(O[_]=S[_])}return O},u=e(6400),c=e(20042);function g(O,I){var S={};for(var _ in O)I.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(O,_)&&(S[_]=O[_]);return S}function v(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function E(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function y(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var p=l.qE=function(O){y(I,O);function I(){var S,_,d;v(this,I);for(var s=arguments.length,w=Array(s),P=0;P<s;P++)w[P]=arguments[P];return d=(S=(_=E(this,O.call.apply(O,[this].concat(w))),_),_.update=function(x){_.nextUrl=x,_.setState({})},S),E(_,d)}return I.prototype.componentDidMount=function(){c.subscribers.push(this.update)},I.prototype.componentWillUnmount=function(){c.subscribers.splice(c.subscribers.indexOf(this.update)>>>0,1)},I.prototype.render=function(_){var d=this.nextUrl||(0,c.getCurrentUrl)(),s=d.replace(/\?.+$/,"");return this.nextUrl=null,_.children({url:d,path:s,matches:(0,c.exec)(s,_.path,{})!==!1})},I}(u.Component),T=function(I){var S=I.activeClassName,_=I.path,d=g(I,["activeClassName","path"]);return(0,u.h)(p,{path:_||d.href},function(s){var w=s.matches;return(0,u.h)(c.Link,f({},d,{class:[d.class||d.className,w&&S].filter(Boolean).join(" ")}))})};o=T,o=p,p.Link=T},98278:(z,l,e)=>{"use strict";var o=e(6400);function f(v,E){var y={};for(var p in v)E.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(v,p)&&(y[p]=v[p]);return y}function u(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function c(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function g(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}z.exports=function(E,y,p){if(typeof E!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof y!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p!="undefined"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function T(I){return I.displayName||I.name||"Component"}return function(S){if(typeof S!="function")throw new Error("Expected WrappedComponent to be a React component.");var _=[],d=void 0;function s(){d=E(_.map(function(P){return P.props})),w.canUseDOM?y(d):p&&(d=p(d))}var w=function(P){g(x,P);function x(){return u(this,x),c(this,P.apply(this,arguments))}return x.peek=function(){return d},x.rewind=function(){if(x.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var N=d;return d=void 0,_=[],N},x.prototype.shouldComponentUpdate=function(N){var C=N.children,A=f(N,["children"]);return C&&C.length&&(A.children=C),O(A,this.props)},x.prototype.componentWillMount=function(){_.push(this),s()},x.prototype.componentDidUpdate=function(){s()},x.prototype.componentWillUnmount=function(){var N=_.indexOf(this);_.splice(N,1),s()},x.prototype.render=function(){return(0,o.h)(S,this.props)},x}(o.Component);return w.displayName="SideEffect("+T(S)+")",w.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),w};function O(I,S){for(var _ in I)if(!(_ in S))return!0;for(var d in S)if(I[d]!==S[d])return!0;return!1}}},98661:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Children:()=>I,Component:()=>o.Component,Fragment:()=>o.Fragment,PureComponent:()=>v,StrictMode:()=>ke,Suspense:()=>w,SuspenseList:()=>M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>le,cloneElement:()=>me,createContext:()=>o.createContext,createElement:()=>o.createElement,createFactory:()=>ve,createPortal:()=>k,createRef:()=>o.createRef,default:()=>We,findDOMNode:()=>_e,flushSync:()=>Re,forwardRef:()=>T,hydrate:()=>W,isValidElement:()=>pe,lazy:()=>x,memo:()=>E,render:()=>F,startTransition:()=>Ve,unmountComponentAtNode:()=>Ie,unstable_batchedUpdates:()=>de,useCallback:()=>f.I4,useContext:()=>f.qp,useDebugValue:()=>f.Qb,useDeferredValue:()=>Ge,useEffect:()=>f.d4,useErrorBoundary:()=>f.cO,useId:()=>f.Me,useImperativeHandle:()=>f.aP,useInsertionEffect:()=>bt,useLayoutEffect:()=>f.bt,useMemo:()=>f.Ye,useReducer:()=>f._Y,useRef:()=>f.sO,useState:()=>f.eJ,useSyncExternalStore:()=>Ce,useTransition:()=>Qe,version:()=>Ee});var o=e(6400),f=e(30396);function u(xe,rt){for(var Je in rt)xe[Je]=rt[Je];return xe}function c(xe,rt){for(var Je in xe)if(Je!=="__source"&&!(Je in rt))return!0;for(var ft in rt)if(ft!=="__source"&&xe[ft]!==rt[ft])return!0;return!1}function g(xe,rt){return xe===rt&&(xe!==0||1/xe==1/rt)||xe!=xe&&rt!=rt}function v(xe){this.props=xe}function E(xe,rt){function Je(je){var Rt=this.props.ref,Jt=Rt==je.ref;return!Jt&&Rt&&(Rt.call?Rt(null):Rt.current=null),rt?!rt(this.props,je)||!Jt:c(this.props,je)}function ft(je){return this.shouldComponentUpdate=Je,(0,o.createElement)(xe,je)}return ft.displayName="Memo("+(xe.displayName||xe.name)+")",ft.prototype.isReactComponent=!0,ft.__f=!0,ft}(v.prototype=new o.Component).isPureReactComponent=!0,v.prototype.shouldComponentUpdate=function(xe,rt){return c(this.props,xe)||c(this.state,rt)};var y=o.options.__b;o.options.__b=function(xe){xe.type&&xe.type.__f&&xe.ref&&(xe.props.ref=xe.ref,xe.ref=null),y&&y(xe)};var p=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function T(xe){function rt(Je){var ft=u({},Je);return delete ft.ref,xe(ft,Je.ref||null)}return rt.$$typeof=p,rt.render=rt,rt.prototype.isReactComponent=rt.__f=!0,rt.displayName="ForwardRef("+(xe.displayName||xe.name)+")",rt}var O=function(xe,rt){return xe==null?null:(0,o.toChildArray)((0,o.toChildArray)(xe).map(rt))},I={map:O,forEach:O,count:function(xe){return xe?(0,o.toChildArray)(xe).length:0},only:function(xe){var rt=(0,o.toChildArray)(xe);if(rt.length!==1)throw"Children.only";return rt[0]},toArray:o.toChildArray},S=o.options.__e;o.options.__e=function(xe,rt,Je,ft){if(xe.then){for(var je,Rt=rt;Rt=Rt.__;)if((je=Rt.__c)&&je.__c)return rt.__e==null&&(rt.__e=Je.__e,rt.__k=Je.__k),je.__c(xe,rt)}S(xe,rt,Je,ft)};var _=o.options.unmount;function d(xe,rt,Je){return xe&&(xe.__c&&xe.__c.__H&&(xe.__c.__H.__.forEach(function(ft){typeof ft.__c=="function"&&ft.__c()}),xe.__c.__H=null),(xe=u({},xe)).__c!=null&&(xe.__c.__P===Je&&(xe.__c.__P=rt),xe.__c=null),xe.__k=xe.__k&&xe.__k.map(function(ft){return d(ft,rt,Je)})),xe}function s(xe,rt,Je){return xe&&(xe.__v=null,xe.__k=xe.__k&&xe.__k.map(function(ft){return s(ft,rt,Je)}),xe.__c&&xe.__c.__P===rt&&(xe.__e&&Je.insertBefore(xe.__e,xe.__d),xe.__c.__e=!0,xe.__c.__P=Je)),xe}function w(){this.__u=0,this.t=null,this.__b=null}function P(xe){var rt=xe.__.__c;return rt&&rt.__a&&rt.__a(xe)}function x(xe){var rt,Je,ft;function je(Rt){if(rt||(rt=xe()).then(function(Jt){Je=Jt.default||Jt},function(Jt){ft=Jt}),ft)throw ft;if(!Je)throw rt;return(0,o.createElement)(Je,Rt)}return je.displayName="Lazy",je.__f=!0,je}function M(){this.u=null,this.o=null}o.options.unmount=function(xe){var rt=xe.__c;rt&&rt.__R&&rt.__R(),rt&&xe.__h===!0&&(xe.type=null),_&&_(xe)},(w.prototype=new o.Component).__c=function(xe,rt){var Je=rt.__c,ft=this;ft.t==null&&(ft.t=[]),ft.t.push(Je);var je=P(ft.__v),Rt=!1,Jt=function(){Rt||(Rt=!0,Je.__R=null,je?je(Ct):Ct())};Je.__R=Jt;var Ct=function(){if(!--ft.__u){if(ft.state.__a){var He=ft.state.__a;ft.__v.__k[0]=s(He,He.__c.__P,He.__c.__O)}var it;for(ft.setState({__a:ft.__b=null});it=ft.t.pop();)it.forceUpdate()}},Le=rt.__h===!0;ft.__u++||Le||ft.setState({__a:ft.__b=ft.__v.__k[0]}),xe.then(Jt,Jt)},w.prototype.componentWillUnmount=function(){this.t=[]},w.prototype.render=function(xe,rt){if(this.__b){if(this.__v.__k){var Je=document.createElement("div"),ft=this.__v.__k[0].__c;this.__v.__k[0]=d(this.__b,Je,ft.__O=ft.__P)}this.__b=null}var je=rt.__a&&(0,o.createElement)(o.Fragment,null,xe.fallback);return je&&(je.__h=null),[(0,o.createElement)(o.Fragment,null,rt.__a?null:xe.children),je]};var N=function(xe,rt,Je){if(++Je[1]===Je[0]&&xe.o.delete(rt),xe.props.revealOrder&&(xe.props.revealOrder[0]!=="t"||!xe.o.size))for(Je=xe.u;Je;){for(;Je.length>3;)Je.pop()();if(Je[1]<Je[0])break;xe.u=Je=Je[2]}};function C(xe){return this.getChildContext=function(){return xe.context},xe.children}function A(xe){var rt=this,Je=xe.i;rt.componentWillUnmount=function(){(0,o.render)(null,rt.l),rt.l=null,rt.i=null},rt.i&&rt.i!==Je&&rt.componentWillUnmount(),xe.__v?(rt.l||(rt.i=Je,rt.l={nodeType:1,parentNode:Je,childNodes:[],appendChild:function(ft){this.childNodes.push(ft),rt.i.appendChild(ft)},insertBefore:function(ft,je){this.childNodes.push(ft),rt.i.appendChild(ft)},removeChild:function(ft){this.childNodes.splice(this.childNodes.indexOf(ft)>>>1,1),rt.i.removeChild(ft)}}),(0,o.render)((0,o.createElement)(C,{context:rt.context},xe.__v),rt.l)):rt.l&&rt.componentWillUnmount()}function k(xe,rt){var Je=(0,o.createElement)(A,{__v:xe,i:rt});return Je.containerInfo=rt,Je}(M.prototype=new o.Component).__a=function(xe){var rt=this,Je=P(rt.__v),ft=rt.o.get(xe);return ft[0]++,function(je){var Rt=function(){rt.props.revealOrder?(ft.push(je),N(rt,xe,ft)):je()};Je?Je(Rt):Rt()}},M.prototype.render=function(xe){this.u=null,this.o=new Map;var rt=(0,o.toChildArray)(xe.children);xe.revealOrder&&xe.revealOrder[0]==="b"&&rt.reverse();for(var Je=rt.length;Je--;)this.o.set(rt[Je],this.u=[1,0,this.u]);return xe.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var xe=this;this.o.forEach(function(rt,Je){N(xe,Je,rt)})};var L=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,K=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,J=/[A-Z0-9]/g,q=typeof document!="undefined",ne=function(xe){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(xe)};function F(xe,rt,Je){return rt.__k==null&&(rt.textContent=""),(0,o.render)(xe,rt),typeof Je=="function"&&Je(),xe?xe.__c:null}function W(xe,rt,Je){return(0,o.hydrate)(xe,rt),typeof Je=="function"&&Je(),xe?xe.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(xe){Object.defineProperty(o.Component.prototype,xe,{configurable:!0,get:function(){return this["UNSAFE_"+xe]},set:function(rt){Object.defineProperty(this,xe,{configurable:!0,writable:!0,value:rt})}})});var ie=o.options.event;function he(){}function ye(){return this.cancelBubble}function fe(){return this.defaultPrevented}o.options.event=function(xe){return ie&&(xe=ie(xe)),xe.persist=he,xe.isPropagationStopped=ye,xe.isDefaultPrevented=fe,xe.nativeEvent=xe};var ae,oe={configurable:!0,get:function(){return this.class}},G=o.options.vnode;o.options.vnode=function(xe){var rt=xe.type,Je=xe.props,ft=Je;if(typeof rt=="string"){for(var je in ft={},Je){var Rt=Je[je];if(!(je==="value"&&"defaultValue"in Je&&Rt==null||q&&je==="children"&&rt==="noscript")){var Jt=je.toLowerCase();je==="defaultValue"&&"value"in Je&&Je.value==null?je="value":je==="download"&&Rt===!0?Rt="":Jt==="ondoubleclick"?je="ondblclick":Jt!=="onchange"||rt!=="input"&&rt!=="textarea"||ne(Je.type)?Jt==="onfocus"?je="onfocusin":Jt==="onblur"?je="onfocusout":Z.test(je)?je=Jt:rt.indexOf("-")===-1&&K.test(je)?je=je.replace(J,"-$&").toLowerCase():Rt===null&&(Rt=void 0):Jt=je="oninput",Jt==="oninput"&&ft[je=Jt]&&(je="oninputCapture"),ft[je]=Rt}}rt=="select"&&ft.multiple&&Array.isArray(ft.value)&&(ft.value=(0,o.toChildArray)(Je.children).forEach(function(Ct){Ct.props.selected=ft.value.indexOf(Ct.props.value)!=-1})),rt=="select"&&ft.defaultValue!=null&&(ft.value=(0,o.toChildArray)(Je.children).forEach(function(Ct){Ct.props.selected=ft.multiple?ft.defaultValue.indexOf(Ct.props.value)!=-1:ft.defaultValue==Ct.props.value})),xe.props=ft,Je.class!=Je.className&&(oe.enumerable="className"in Je,Je.className!=null&&(ft.class=Je.className),Object.defineProperty(ft,"className",oe))}xe.$$typeof=L,G&&G(xe)};var re=o.options.__r;o.options.__r=function(xe){re&&re(xe),ae=xe.__c};var se=o.options.diffed;o.options.diffed=function(xe){se&&se(xe);var rt=xe.props,Je=xe.__e;Je!=null&&xe.type==="textarea"&&"value"in rt&&rt.value!==Je.value&&(Je.value=rt.value==null?"":rt.value),ae=null};var le={ReactCurrentDispatcher:{current:{readContext:function(xe){return ae.__n[xe.__c].props.value}}}},Ee="17.0.2";function ve(xe){return o.createElement.bind(null,xe)}function pe(xe){return!!xe&&xe.$$typeof===L}function me(xe){return pe(xe)?o.cloneElement.apply(null,arguments):xe}function Ie(xe){return!!xe.__k&&((0,o.render)(null,xe),!0)}function _e(xe){return xe&&(xe.base||xe.nodeType===1&&xe)||null}var de=function(xe,rt){return xe(rt)},Re=function(xe,rt){return xe(rt)},ke=o.Fragment;function Ve(xe){xe()}function Ge(xe){return xe}function Qe(){return[!1,Ve]}var bt=f.bt;function Ce(xe,rt){var Je=rt(),ft=(0,f.eJ)({h:{__:Je,v:rt}}),je=ft[0].h,Rt=ft[1];return(0,f.bt)(function(){je.__=Je,je.v=rt,g(je.__,rt())||Rt({h:je})},[xe,Je,rt]),(0,f.d4)(function(){return g(je.__,je.v())||Rt({h:je}),xe(function(){g(je.__,je.v())||Rt({h:je})})},[xe]),Je}var We={useState:f.eJ,useId:f.Me,useReducer:f._Y,useEffect:f.d4,useLayoutEffect:f.bt,useInsertionEffect:bt,useTransition:Qe,useDeferredValue:Ge,useSyncExternalStore:Ce,startTransition:Ve,useRef:f.sO,useImperativeHandle:f.aP,useMemo:f.Ye,useCallback:f.I4,useContext:f.qp,useDebugValue:f.Qb,version:"17.0.2",Children:I,render:F,hydrate:W,unmountComponentAtNode:Ie,createPortal:k,createElement:o.createElement,createContext:o.createContext,createFactory:ve,cloneElement:me,createRef:o.createRef,Fragment:o.Fragment,isValidElement:pe,findDOMNode:_e,Component:o.Component,PureComponent:v,memo:E,forwardRef:T,flushSync:Re,unstable_batchedUpdates:de,StrictMode:ke,Suspense:w,SuspenseList:M,lazy:x,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:le}},14369:(z,l,e)=>{"use strict";e.r(l),e.d(l,{addHookName:()=>f});var o=e(6400);function f(u,c){return o.options.__a&&o.options.__a(c),u}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",o.options,{Fragment:o.Fragment,Component:o.Component})},6400:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Component:()=>x,Fragment:()=>P,cloneElement:()=>le,createContext:()=>Ee,createElement:()=>d,createRef:()=>w,h:()=>d,hydrate:()=>se,isValidElement:()=>c,options:()=>f,render:()=>re,toChildArray:()=>K});var o,f,u,c,g,v,E,y,p,T={},O=[],I=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(ve,pe){for(var me in pe)ve[me]=pe[me];return ve}function _(ve){var pe=ve.parentNode;pe&&pe.removeChild(ve)}function d(ve,pe,me){var Ie,_e,de,Re={};for(de in pe)de=="key"?Ie=pe[de]:de=="ref"?_e=pe[de]:Re[de]=pe[de];if(arguments.length>2&&(Re.children=arguments.length>3?o.call(arguments,2):me),typeof ve=="function"&&ve.defaultProps!=null)for(de in ve.defaultProps)Re[de]===void 0&&(Re[de]=ve.defaultProps[de]);return s(ve,Re,Ie,_e,null)}function s(ve,pe,me,Ie,_e){var de={type:ve,props:pe,key:me,ref:Ie,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_e==null?++u:_e};return _e==null&&f.vnode!=null&&f.vnode(de),de}function w(){return{current:null}}function P(ve){return ve.children}function x(ve,pe){this.props=ve,this.context=pe}function M(ve,pe){if(pe==null)return ve.__?M(ve.__,ve.__.__k.indexOf(ve)+1):null;for(var me;pe<ve.__k.length;pe++)if((me=ve.__k[pe])!=null&&me.__e!=null)return me.__e;return typeof ve.type=="function"?M(ve):null}function N(ve){var pe,me;if((ve=ve.__)!=null&&ve.__c!=null){for(ve.__e=ve.__c.base=null,pe=0;pe<ve.__k.length;pe++)if((me=ve.__k[pe])!=null&&me.__e!=null){ve.__e=ve.__c.base=me.__e;break}return N(ve)}}function C(ve){(!ve.__d&&(ve.__d=!0)&&g.push(ve)&&!A.__r++||v!==f.debounceRendering)&&((v=f.debounceRendering)||E)(A)}function A(){var ve,pe,me,Ie,_e,de,Re,ke;for(g.sort(y);ve=g.shift();)ve.__d&&(pe=g.length,Ie=void 0,_e=void 0,Re=(de=(me=ve).__v).__e,(ke=me.__P)&&(Ie=[],(_e=S({},de)).__v=de.__v+1,he(ke,de,_e,me.__n,ke.ownerSVGElement!==void 0,de.__h!=null?[Re]:null,Ie,Re==null?M(de):Re,de.__h),ye(Ie,de),de.__e!=Re&&N(de)),g.length>pe&&g.sort(y));A.__r=0}function k(ve,pe,me,Ie,_e,de,Re,ke,Ve,Ge){var Qe,bt,Ce,We,xe,rt,Je,ft=Ie&&Ie.__k||O,je=ft.length;for(me.__k=[],Qe=0;Qe<pe.length;Qe++)if((We=me.__k[Qe]=(We=pe[Qe])==null||typeof We=="boolean"||typeof We=="function"?null:typeof We=="string"||typeof We=="number"||typeof We=="bigint"?s(null,We,null,null,We):Array.isArray(We)?s(P,{children:We},null,null,null):We.__b>0?s(We.type,We.props,We.key,We.ref?We.ref:null,We.__v):We)!=null){if(We.__=me,We.__b=me.__b+1,(Ce=ft[Qe])===null||Ce&&We.key==Ce.key&&We.type===Ce.type)ft[Qe]=void 0;else for(bt=0;bt<je;bt++){if((Ce=ft[bt])&&We.key==Ce.key&&We.type===Ce.type){ft[bt]=void 0;break}Ce=null}he(ve,We,Ce=Ce||T,_e,de,Re,ke,Ve,Ge),xe=We.__e,(bt=We.ref)&&Ce.ref!=bt&&(Je||(Je=[]),Ce.ref&&Je.push(Ce.ref,null,We),Je.push(bt,We.__c||xe,We)),xe!=null?(rt==null&&(rt=xe),typeof We.type=="function"&&We.__k===Ce.__k?We.__d=Ve=L(We,Ve,ve):Ve=Z(ve,We,Ce,ft,xe,Ve),typeof me.type=="function"&&(me.__d=Ve)):Ve&&Ce.__e==Ve&&Ve.parentNode!=ve&&(Ve=M(Ce))}for(me.__e=rt,Qe=je;Qe--;)ft[Qe]!=null&&(typeof me.type=="function"&&ft[Qe].__e!=null&&ft[Qe].__e==me.__d&&(me.__d=J(Ie).nextSibling),oe(ft[Qe],ft[Qe]));if(Je)for(Qe=0;Qe<Je.length;Qe++)ae(Je[Qe],Je[++Qe],Je[++Qe])}function L(ve,pe,me){for(var Ie,_e=ve.__k,de=0;_e&&de<_e.length;de++)(Ie=_e[de])&&(Ie.__=ve,pe=typeof Ie.type=="function"?L(Ie,pe,me):Z(me,Ie,Ie,_e,Ie.__e,pe));return pe}function K(ve,pe){return pe=pe||[],ve==null||typeof ve=="boolean"||(Array.isArray(ve)?ve.some(function(me){K(me,pe)}):pe.push(ve)),pe}function Z(ve,pe,me,Ie,_e,de){var Re,ke,Ve;if(pe.__d!==void 0)Re=pe.__d,pe.__d=void 0;else if(me==null||_e!=de||_e.parentNode==null)e:if(de==null||de.parentNode!==ve)ve.appendChild(_e),Re=null;else{for(ke=de,Ve=0;(ke=ke.nextSibling)&&Ve<Ie.length;Ve+=1)if(ke==_e)break e;ve.insertBefore(_e,de),Re=de}return Re!==void 0?Re:_e.nextSibling}function J(ve){var pe,me,Ie;if(ve.type==null||typeof ve.type=="string")return ve.__e;if(ve.__k){for(pe=ve.__k.length-1;pe>=0;pe--)if((me=ve.__k[pe])&&(Ie=J(me)))return Ie}return null}function q(ve,pe,me,Ie,_e){var de;for(de in me)de==="children"||de==="key"||de in pe||F(ve,de,null,me[de],Ie);for(de in pe)_e&&typeof pe[de]!="function"||de==="children"||de==="key"||de==="value"||de==="checked"||me[de]===pe[de]||F(ve,de,pe[de],me[de],Ie)}function ne(ve,pe,me){pe[0]==="-"?ve.setProperty(pe,me==null?"":me):ve[pe]=me==null?"":typeof me!="number"||I.test(pe)?me:me+"px"}function F(ve,pe,me,Ie,_e){var de;e:if(pe==="style")if(typeof me=="string")ve.style.cssText=me;else{if(typeof Ie=="string"&&(ve.style.cssText=Ie=""),Ie)for(pe in Ie)me&&pe in me||ne(ve.style,pe,"");if(me)for(pe in me)Ie&&me[pe]===Ie[pe]||ne(ve.style,pe,me[pe])}else if(pe[0]==="o"&&pe[1]==="n")de=pe!==(pe=pe.replace(/Capture$/,"")),pe=pe.toLowerCase()in ve?pe.toLowerCase().slice(2):pe.slice(2),ve.l||(ve.l={}),ve.l[pe+de]=me,me?Ie||ve.addEventListener(pe,de?ie:W,de):ve.removeEventListener(pe,de?ie:W,de);else if(pe!=="dangerouslySetInnerHTML"){if(_e)pe=pe.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(pe!=="width"&&pe!=="height"&&pe!=="href"&&pe!=="list"&&pe!=="form"&&pe!=="tabIndex"&&pe!=="download"&&pe in ve)try{ve[pe]=me==null?"":me;break e}catch(Re){}typeof me=="function"||(me==null||me===!1&&pe.indexOf("-")==-1?ve.removeAttribute(pe):ve.setAttribute(pe,me))}}function W(ve){return this.l[ve.type+!1](f.event?f.event(ve):ve)}function ie(ve){return this.l[ve.type+!0](f.event?f.event(ve):ve)}function he(ve,pe,me,Ie,_e,de,Re,ke,Ve){var Ge,Qe,bt,Ce,We,xe,rt,Je,ft,je,Rt,Jt,Ct,Le,He,it=pe.type;if(pe.constructor!==void 0)return null;me.__h!=null&&(Ve=me.__h,ke=pe.__e=me.__e,pe.__h=null,de=[ke]),(Ge=f.__b)&&Ge(pe);try{e:if(typeof it=="function"){if(Je=pe.props,ft=(Ge=it.contextType)&&Ie[Ge.__c],je=Ge?ft?ft.props.value:Ge.__:Ie,me.__c?rt=(Qe=pe.__c=me.__c).__=Qe.__E:("prototype"in it&&it.prototype.render?pe.__c=Qe=new it(Je,je):(pe.__c=Qe=new x(Je,je),Qe.constructor=it,Qe.render=G),ft&&ft.sub(Qe),Qe.props=Je,Qe.state||(Qe.state={}),Qe.context=je,Qe.__n=Ie,bt=Qe.__d=!0,Qe.__h=[],Qe._sb=[]),Qe.__s==null&&(Qe.__s=Qe.state),it.getDerivedStateFromProps!=null&&(Qe.__s==Qe.state&&(Qe.__s=S({},Qe.__s)),S(Qe.__s,it.getDerivedStateFromProps(Je,Qe.__s))),Ce=Qe.props,We=Qe.state,Qe.__v=pe,bt)it.getDerivedStateFromProps==null&&Qe.componentWillMount!=null&&Qe.componentWillMount(),Qe.componentDidMount!=null&&Qe.__h.push(Qe.componentDidMount);else{if(it.getDerivedStateFromProps==null&&Je!==Ce&&Qe.componentWillReceiveProps!=null&&Qe.componentWillReceiveProps(Je,je),!Qe.__e&&Qe.shouldComponentUpdate!=null&&Qe.shouldComponentUpdate(Je,Qe.__s,je)===!1||pe.__v===me.__v){for(pe.__v!==me.__v&&(Qe.props=Je,Qe.state=Qe.__s,Qe.__d=!1),Qe.__e=!1,pe.__e=me.__e,pe.__k=me.__k,pe.__k.forEach(function(Ne){Ne&&(Ne.__=pe)}),Rt=0;Rt<Qe._sb.length;Rt++)Qe.__h.push(Qe._sb[Rt]);Qe._sb=[],Qe.__h.length&&Re.push(Qe);break e}Qe.componentWillUpdate!=null&&Qe.componentWillUpdate(Je,Qe.__s,je),Qe.componentDidUpdate!=null&&Qe.__h.push(function(){Qe.componentDidUpdate(Ce,We,xe)})}if(Qe.context=je,Qe.props=Je,Qe.__P=ve,Jt=f.__r,Ct=0,"prototype"in it&&it.prototype.render){for(Qe.state=Qe.__s,Qe.__d=!1,Jt&&Jt(pe),Ge=Qe.render(Qe.props,Qe.state,Qe.context),Le=0;Le<Qe._sb.length;Le++)Qe.__h.push(Qe._sb[Le]);Qe._sb=[]}else do Qe.__d=!1,Jt&&Jt(pe),Ge=Qe.render(Qe.props,Qe.state,Qe.context),Qe.state=Qe.__s;while(Qe.__d&&++Ct<25);Qe.state=Qe.__s,Qe.getChildContext!=null&&(Ie=S(S({},Ie),Qe.getChildContext())),bt||Qe.getSnapshotBeforeUpdate==null||(xe=Qe.getSnapshotBeforeUpdate(Ce,We)),He=Ge!=null&&Ge.type===P&&Ge.key==null?Ge.props.children:Ge,k(ve,Array.isArray(He)?He:[He],pe,me,Ie,_e,de,Re,ke,Ve),Qe.base=pe.__e,pe.__h=null,Qe.__h.length&&Re.push(Qe),rt&&(Qe.__E=Qe.__=null),Qe.__e=!1}else de==null&&pe.__v===me.__v?(pe.__k=me.__k,pe.__e=me.__e):pe.__e=fe(me.__e,pe,me,Ie,_e,de,Re,Ve);(Ge=f.diffed)&&Ge(pe)}catch(Ne){pe.__v=null,(Ve||de!=null)&&(pe.__e=ke,pe.__h=!!Ve,de[de.indexOf(ke)]=null),f.__e(Ne,pe,me)}}function ye(ve,pe){f.__c&&f.__c(pe,ve),ve.some(function(me){try{ve=me.__h,me.__h=[],ve.some(function(Ie){Ie.call(me)})}catch(Ie){f.__e(Ie,me.__v)}})}function fe(ve,pe,me,Ie,_e,de,Re,ke){var Ve,Ge,Qe,bt=me.props,Ce=pe.props,We=pe.type,xe=0;if(We==="svg"&&(_e=!0),de!=null){for(;xe<de.length;xe++)if((Ve=de[xe])&&"setAttribute"in Ve==!!We&&(We?Ve.localName===We:Ve.nodeType===3)){ve=Ve,de[xe]=null;break}}if(ve==null){if(We===null)return document.createTextNode(Ce);ve=_e?document.createElementNS("http://www.w3.org/2000/svg",We):document.createElement(We,Ce.is&&Ce),de=null,ke=!1}if(We===null)bt===Ce||ke&&ve.data===Ce||(ve.data=Ce);else{if(de=de&&o.call(ve.childNodes),Ge=(bt=me.props||T).dangerouslySetInnerHTML,Qe=Ce.dangerouslySetInnerHTML,!ke){if(de!=null)for(bt={},xe=0;xe<ve.attributes.length;xe++)bt[ve.attributes[xe].name]=ve.attributes[xe].value;(Qe||Ge)&&(Qe&&(Ge&&Qe.__html==Ge.__html||Qe.__html===ve.innerHTML)||(ve.innerHTML=Qe&&Qe.__html||""))}if(q(ve,Ce,bt,_e,ke),Qe)pe.__k=[];else if(xe=pe.props.children,k(ve,Array.isArray(xe)?xe:[xe],pe,me,Ie,_e&&We!=="foreignObject",de,Re,de?de[0]:me.__k&&M(me,0),ke),de!=null)for(xe=de.length;xe--;)de[xe]!=null&&_(de[xe]);ke||("value"in Ce&&(xe=Ce.value)!==void 0&&(xe!==ve.value||We==="progress"&&!xe||We==="option"&&xe!==bt.value)&&F(ve,"value",xe,bt.value,!1),"checked"in Ce&&(xe=Ce.checked)!==void 0&&xe!==ve.checked&&F(ve,"checked",xe,bt.checked,!1))}return ve}function ae(ve,pe,me){try{typeof ve=="function"?ve(pe):ve.current=pe}catch(Ie){f.__e(Ie,me)}}function oe(ve,pe,me){var Ie,_e;if(f.unmount&&f.unmount(ve),(Ie=ve.ref)&&(Ie.current&&Ie.current!==ve.__e||ae(Ie,null,pe)),(Ie=ve.__c)!=null){if(Ie.componentWillUnmount)try{Ie.componentWillUnmount()}catch(de){f.__e(de,pe)}Ie.base=Ie.__P=null,ve.__c=void 0}if(Ie=ve.__k)for(_e=0;_e<Ie.length;_e++)Ie[_e]&&oe(Ie[_e],pe,me||typeof ve.type!="function");me||ve.__e==null||_(ve.__e),ve.__=ve.__e=ve.__d=void 0}function G(ve,pe,me){return this.constructor(ve,me)}function re(ve,pe,me){var Ie,_e,de;f.__&&f.__(ve,pe),_e=(Ie=typeof me=="function")?null:me&&me.__k||pe.__k,de=[],he(pe,ve=(!Ie&&me||pe).__k=d(P,null,[ve]),_e||T,T,pe.ownerSVGElement!==void 0,!Ie&&me?[me]:_e?null:pe.firstChild?o.call(pe.childNodes):null,de,!Ie&&me?me:_e?_e.__e:pe.firstChild,Ie),ye(de,ve)}function se(ve,pe){re(ve,pe,se)}function le(ve,pe,me){var Ie,_e,de,Re=S({},ve.props);for(de in pe)de=="key"?Ie=pe[de]:de=="ref"?_e=pe[de]:Re[de]=pe[de];return arguments.length>2&&(Re.children=arguments.length>3?o.call(arguments,2):me),s(ve.type,Re,Ie||ve.key,_e||ve.ref,null)}function Ee(ve,pe){var me={__c:pe="__cC"+p++,__:ve,Consumer:function(Ie,_e){return Ie.children(_e)},Provider:function(Ie){var _e,de;return this.getChildContext||(_e=[],(de={})[pe]=this,this.getChildContext=function(){return de},this.shouldComponentUpdate=function(Re){this.props.value!==Re.value&&_e.some(function(ke){ke.__e=!0,C(ke)})},this.sub=function(Re){_e.push(Re);var ke=Re.componentWillUnmount;Re.componentWillUnmount=function(){_e.splice(_e.indexOf(Re),1),ke&&ke.call(Re)}}),Ie.children}};return me.Provider.__=me.Consumer.contextType=me}o=O.slice,f={__e:function(ve,pe,me,Ie){for(var _e,de,Re;pe=pe.__;)if((_e=pe.__c)&&!_e.__)try{if((de=_e.constructor)&&de.getDerivedStateFromError!=null&&(_e.setState(de.getDerivedStateFromError(ve)),Re=_e.__d),_e.componentDidCatch!=null&&(_e.componentDidCatch(ve,Ie||{}),Re=_e.__d),Re)return _e.__E=_e}catch(ke){ve=ke}throw ve}},u=0,c=function(ve){return ve!=null&&ve.constructor===void 0},x.prototype.setState=function(ve,pe){var me;me=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof ve=="function"&&(ve=ve(S({},me),this.props)),ve&&S(me,ve),ve!=null&&this.__v&&(pe&&this._sb.push(pe),C(this))},x.prototype.forceUpdate=function(ve){this.__v&&(this.__e=!0,ve&&this.__h.push(ve),C(this))},x.prototype.render=P,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y=function(ve,pe){return ve.__v.__b-pe.__v.__b},A.__r=0,p=0},30396:(z,l,e)=>{"use strict";e.d(l,{I4:()=>C,Me:()=>K,Qb:()=>k,Ye:()=>N,_Y:()=>s,aP:()=>M,bt:()=>P,cO:()=>L,d4:()=>w,eJ:()=>d,qp:()=>A,sO:()=>x});var o=e(6400),f,u,c,g,v=0,E=[],y=[],p=o.options.__b,T=o.options.__r,O=o.options.diffed,I=o.options.__c,S=o.options.unmount;function _(he,ye){o.options.__h&&o.options.__h(u,he,v||ye),v=0;var fe=u.__H||(u.__H={__:[],__h:[]});return he>=fe.__.length&&fe.__.push({__V:y}),fe.__[he]}function d(he){return v=1,s(ie,he)}function s(he,ye,fe){var ae=_(f++,2);if(ae.t=he,!ae.__c&&(ae.__=[fe?fe(ye):ie(void 0,ye),function(se){var le=ae.__N?ae.__N[0]:ae.__[0],Ee=ae.t(le,se);le!==Ee&&(ae.__N=[Ee,ae.__[1]],ae.__c.setState({}))}],ae.__c=u,!u.u)){var oe=function(se,le,Ee){if(!ae.__c.__H)return!0;var ve=ae.__c.__H.__.filter(function(me){return me.__c});if(ve.every(function(me){return!me.__N}))return!G||G.call(this,se,le,Ee);var pe=!1;return ve.forEach(function(me){if(me.__N){var Ie=me.__[0];me.__=me.__N,me.__N=void 0,Ie!==me.__[0]&&(pe=!0)}}),!(!pe&&ae.__c.props===se)&&(!G||G.call(this,se,le,Ee))};u.u=!0;var G=u.shouldComponentUpdate,re=u.componentWillUpdate;u.componentWillUpdate=function(se,le,Ee){if(this.__e){var ve=G;G=void 0,oe(se,le,Ee),G=ve}re&&re.call(this,se,le,Ee)},u.shouldComponentUpdate=oe}return ae.__N||ae.__}function w(he,ye){var fe=_(f++,3);!o.options.__s&&W(fe.__H,ye)&&(fe.__=he,fe.i=ye,u.__H.__h.push(fe))}function P(he,ye){var fe=_(f++,4);!o.options.__s&&W(fe.__H,ye)&&(fe.__=he,fe.i=ye,u.__h.push(fe))}function x(he){return v=5,N(function(){return{current:he}},[])}function M(he,ye,fe){v=6,P(function(){return typeof he=="function"?(he(ye()),function(){return he(null)}):he?(he.current=ye(),function(){return he.current=null}):void 0},fe==null?fe:fe.concat(he))}function N(he,ye){var fe=_(f++,7);return W(fe.__H,ye)?(fe.__V=he(),fe.i=ye,fe.__h=he,fe.__V):fe.__}function C(he,ye){return v=8,N(function(){return he},ye)}function A(he){var ye=u.context[he.__c],fe=_(f++,9);return fe.c=he,ye?(fe.__==null&&(fe.__=!0,ye.sub(u)),ye.props.value):he.__}function k(he,ye){o.options.useDebugValue&&o.options.useDebugValue(ye?ye(he):he)}function L(he){var ye=_(f++,10),fe=d();return ye.__=he,u.componentDidCatch||(u.componentDidCatch=function(ae,oe){ye.__&&ye.__(ae,oe),fe[1](ae)}),[fe[0],function(){fe[1](void 0)}]}function K(){var he=_(f++,11);if(!he.__){for(var ye=u.__v;ye!==null&&!ye.__m&&ye.__!==null;)ye=ye.__;var fe=ye.__m||(ye.__m=[0,0]);he.__="P"+fe[0]+"-"+fe[1]++}return he.__}function Z(){for(var he;he=E.shift();)if(he.__P&&he.__H)try{he.__H.__h.forEach(ne),he.__H.__h.forEach(F),he.__H.__h=[]}catch(ye){he.__H.__h=[],o.options.__e(ye,he.__v)}}o.options.__b=function(he){u=null,p&&p(he)},o.options.__r=function(he){T&&T(he),f=0;var ye=(u=he.__c).__H;ye&&(c===u?(ye.__h=[],u.__h=[],ye.__.forEach(function(fe){fe.__N&&(fe.__=fe.__N),fe.__V=y,fe.__N=fe.i=void 0})):(ye.__h.forEach(ne),ye.__h.forEach(F),ye.__h=[])),c=u},o.options.diffed=function(he){O&&O(he);var ye=he.__c;ye&&ye.__H&&(ye.__H.__h.length&&(E.push(ye)!==1&&g===o.options.requestAnimationFrame||((g=o.options.requestAnimationFrame)||q)(Z)),ye.__H.__.forEach(function(fe){fe.i&&(fe.__H=fe.i),fe.__V!==y&&(fe.__=fe.__V),fe.i=void 0,fe.__V=y})),c=u=null},o.options.__c=function(he,ye){ye.some(function(fe){try{fe.__h.forEach(ne),fe.__h=fe.__h.filter(function(ae){return!ae.__||F(ae)})}catch(ae){ye.some(function(oe){oe.__h&&(oe.__h=[])}),ye=[],o.options.__e(ae,fe.__v)}}),I&&I(he,ye)},o.options.unmount=function(he){S&&S(he);var ye,fe=he.__c;fe&&fe.__H&&(fe.__H.__.forEach(function(ae){try{ne(ae)}catch(oe){ye=oe}}),fe.__H=void 0,ye&&o.options.__e(ye,fe.__v))};var J=typeof requestAnimationFrame=="function";function q(he){var ye,fe=function(){clearTimeout(ae),J&&cancelAnimationFrame(ye),setTimeout(he)},ae=setTimeout(fe,100);J&&(ye=requestAnimationFrame(fe))}function ne(he){var ye=u,fe=he.__c;typeof fe=="function"&&(he.__c=void 0,fe()),u=ye}function F(he){var ye=u;he.__c=he.__(),u=ye}function W(he,ye){return!he||he.length!==ye.length||ye.some(function(fe,ae){return fe!==he[ae]})}function ie(he,ye){return typeof ye=="function"?ye(he):ye}},92703:(z,l,e)=>{"use strict";var o=e(50414);function f(){}function u(){}u.resetWarningCache=f,z.exports=function(){function c(E,y,p,T,O,I){if(I!==o){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}c.isRequired=c;function g(){return c}var v={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:g,element:c,elementType:c,instanceOf:g,node:c,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:u,resetWarningCache:f};return v.PropTypes=v,v}},45697:(z,l,e)=>{if(!1)var o,f;else z.exports=e(92703)()},50414:z=>{"use strict";var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";z.exports=l},74971:function(z,l,e){z=e.nmd(z);var o;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(f){var u=l&&!l.nodeType&&l,c=z&&!z.nodeType&&z,g=typeof e.g=="object"&&e.g;(g.global===g||g.window===g||g.self===g)&&(f=g);var v,E=2147483647,y=36,p=1,T=26,O=38,I=700,S=72,_=128,d="-",s=/^xn--/,w=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=y-p,N=Math.floor,C=String.fromCharCode,A;function k(fe){throw RangeError(x[fe])}function L(fe,ae){for(var oe=fe.length,G=[];oe--;)G[oe]=ae(fe[oe]);return G}function K(fe,ae){var oe=fe.split("@"),G="";oe.length>1&&(G=oe[0]+"@",fe=oe[1]),fe=fe.replace(P,".");var re=fe.split("."),se=L(re,ae).join(".");return G+se}function Z(fe){for(var ae=[],oe=0,G=fe.length,re,se;oe<G;)re=fe.charCodeAt(oe++),re>=55296&&re<=56319&&oe<G?(se=fe.charCodeAt(oe++),(se&64512)==56320?ae.push(((re&1023)<<10)+(se&1023)+65536):(ae.push(re),oe--)):ae.push(re);return ae}function J(fe){return L(fe,function(ae){var oe="";return ae>65535&&(ae-=65536,oe+=C(ae>>>10&1023|55296),ae=56320|ae&1023),oe+=C(ae),oe}).join("")}function q(fe){return fe-48<10?fe-22:fe-65<26?fe-65:fe-97<26?fe-97:y}function ne(fe,ae){return fe+22+75*(fe<26)-((ae!=0)<<5)}function F(fe,ae,oe){var G=0;for(fe=oe?N(fe/I):fe>>1,fe+=N(fe/ae);fe>M*T>>1;G+=y)fe=N(fe/M);return N(G+(M+1)*fe/(fe+O))}function W(fe){var ae=[],oe=fe.length,G,re=0,se=_,le=S,Ee,ve,pe,me,Ie,_e,de,Re,ke;for(Ee=fe.lastIndexOf(d),Ee<0&&(Ee=0),ve=0;ve<Ee;++ve)fe.charCodeAt(ve)>=128&&k("not-basic"),ae.push(fe.charCodeAt(ve));for(pe=Ee>0?Ee+1:0;pe<oe;){for(me=re,Ie=1,_e=y;pe>=oe&&k("invalid-input"),de=q(fe.charCodeAt(pe++)),(de>=y||de>N((E-re)/Ie))&&k("overflow"),re+=de*Ie,Re=_e<=le?p:_e>=le+T?T:_e-le,!(de<Re);_e+=y)ke=y-Re,Ie>N(E/ke)&&k("overflow"),Ie*=ke;G=ae.length+1,le=F(re-me,G,me==0),N(re/G)>E-se&&k("overflow"),se+=N(re/G),re%=G,ae.splice(re++,0,se)}return J(ae)}function ie(fe){var ae,oe,G,re,se,le,Ee,ve,pe,me,Ie,_e=[],de,Re,ke,Ve;for(fe=Z(fe),de=fe.length,ae=_,oe=0,se=S,le=0;le<de;++le)Ie=fe[le],Ie<128&&_e.push(C(Ie));for(G=re=_e.length,re&&_e.push(d);G<de;){for(Ee=E,le=0;le<de;++le)Ie=fe[le],Ie>=ae&&Ie<Ee&&(Ee=Ie);for(Re=G+1,Ee-ae>N((E-oe)/Re)&&k("overflow"),oe+=(Ee-ae)*Re,ae=Ee,le=0;le<de;++le)if(Ie=fe[le],Ie<ae&&++oe>E&&k("overflow"),Ie==ae){for(ve=oe,pe=y;me=pe<=se?p:pe>=se+T?T:pe-se,!(ve<me);pe+=y)Ve=ve-me,ke=y-me,_e.push(C(ne(me+Ve%ke,0))),ve=N(Ve/ke);_e.push(C(ne(ve,0))),se=F(oe,Re,G==re),oe=0,++G}++oe,++ae}return _e.join("")}function he(fe){return K(fe,function(ae){return s.test(ae)?W(ae.slice(4).toLowerCase()):ae})}function ye(fe){return K(fe,function(ae){return w.test(ae)?"xn--"+ie(ae):ae})}v={version:"1.3.2",ucs2:{decode:Z,encode:J},decode:W,encode:ie,toASCII:ye,toUnicode:he},o=function(){return v}.call(l,e,l,z),o!==void 0&&(z.exports=o)})(this)},92592:(z,l,e)=>{const o=e(47138),f=e(95115),u=e(6907),c=e(93776);function g(v,E,y,p,T){const O=[].slice.call(arguments,1),I=O.length,S=typeof O[I-1]=="function";if(!S&&!o())throw new Error("Callback required as last argument");if(S){if(I<2)throw new Error("Too few arguments provided");I===2?(T=y,y=E,E=p=void 0):I===3&&(E.getContext&&typeof T=="undefined"?(T=p,p=void 0):(T=p,p=y,y=E,E=void 0))}else{if(I<1)throw new Error("Too few arguments provided");return I===1?(y=E,E=p=void 0):I===2&&!E.getContext&&(p=y,y=E,E=void 0),new Promise(function(_,d){try{const s=f.create(y,p);_(v(s,E,p))}catch(s){d(s)}})}try{const _=f.create(y,p);T(null,v(_,E,p))}catch(_){T(_)}}l.create=f.create,l.toCanvas=g.bind(null,u.render),l.toDataURL=g.bind(null,u.renderToDataURL),l.toString=g.bind(null,function(v,E,y){return c.render(v,y)})},47138:z=>{z.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(z,l,e)=>{const o=e(10242).getSymbolSize;l.getRowColCoords=function(u){if(u===1)return[];const c=Math.floor(u/7)+2,g=o(u),v=g===145?26:Math.ceil((g-13)/(2*c-2))*2,E=[g-7];for(let y=1;y<c-1;y++)E[y]=E[y-1]-v;return E.push(6),E.reverse()},l.getPositions=function(u){const c=[],g=l.getRowColCoords(u),v=g.length;for(let E=0;E<v;E++)for(let y=0;y<v;y++)E===0&&y===0||E===0&&y===v-1||E===v-1&&y===0||c.push([g[E],g[y]]);return c}},8260:(z,l,e)=>{const o=e(76910),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(c){this.mode=o.ALPHANUMERIC,this.data=c}u.getBitsLength=function(g){return 11*Math.floor(g/2)+6*(g%2)},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(g){let v;for(v=0;v+2<=this.data.length;v+=2){let E=f.indexOf(this.data[v])*45;E+=f.indexOf(this.data[v+1]),g.put(E,11)}this.data.length%2&&g.put(f.indexOf(this.data[v]),6)},z.exports=u},97245:z=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(e){const o=Math.floor(e/8);return(this.buffer[o]>>>7-e%8&1)===1},put:function(e,o){for(let f=0;f<o;f++)this.putBit((e>>>o-f-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}},z.exports=l},73280:z=>{function l(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}l.prototype.set=function(e,o,f,u){const c=e*this.size+o;this.data[c]=f,u&&(this.reservedBit[c]=!0)},l.prototype.get=function(e,o){return this.data[e*this.size+o]},l.prototype.xor=function(e,o,f){this.data[e*this.size+o]^=f},l.prototype.isReserved=function(e,o){return this.reservedBit[e*this.size+o]},z.exports=l},43424:(z,l,e)=>{const o=e(62378),f=e(76910);function u(c){this.mode=f.BYTE,typeof c=="string"&&(c=o(c)),this.data=new Uint8Array(c)}u.getBitsLength=function(g){return g*8},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(c){for(let g=0,v=this.data.length;g<v;g++)c.put(this.data[g],8)},z.exports=u},35393:(z,l,e)=>{const o=e(64908),f=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],u=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(g,v){switch(v){case o.L:return f[(g-1)*4+0];case o.M:return f[(g-1)*4+1];case o.Q:return f[(g-1)*4+2];case o.H:return f[(g-1)*4+3];default:return}},l.getTotalCodewordsCount=function(g,v){switch(v){case o.L:return u[(g-1)*4+0];case o.M:return u[(g-1)*4+1];case o.Q:return u[(g-1)*4+2];case o.H:return u[(g-1)*4+3];default:return}}},64908:(z,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+o)}}l.isValid=function(f){return f&&typeof f.bit!="undefined"&&f.bit>=0&&f.bit<4},l.from=function(f,u){if(l.isValid(f))return f;try{return e(f)}catch(c){return u}}},76526:(z,l,e)=>{const o=e(10242).getSymbolSize,f=7;l.getPositions=function(c){const g=o(c);return[[0,0],[g-f,0],[0,g-f]]}},61642:(z,l,e)=>{const o=e(10242),f=1335,u=21522,c=o.getBCHDigit(f);l.getEncodedBits=function(v,E){const y=v.bit<<3|E;let p=y<<10;for(;o.getBCHDigit(p)-c>=0;)p^=f<<o.getBCHDigit(p)-c;return(y<<10|p)^u}},69729:(z,l)=>{const e=new Uint8Array(512),o=new Uint8Array(256);(function(){let u=1;for(let c=0;c<255;c++)e[c]=u,o[u]=c,u<<=1,u&256&&(u^=285);for(let c=255;c<512;c++)e[c]=e[c-255]})(),l.log=function(u){if(u<1)throw new Error("log("+u+")");return o[u]},l.exp=function(u){return e[u]},l.mul=function(u,c){return u===0||c===0?0:e[o[u]+o[c]]}},51018:(z,l,e)=>{const o=e(76910),f=e(10242);function u(c){this.mode=o.KANJI,this.data=c}u.getBitsLength=function(g){return g*13},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(c){let g;for(g=0;g<this.data.length;g++){let v=f.toSJIS(this.data[g]);if(v>=33088&&v<=40956)v-=33088;else if(v>=57408&&v<=60351)v-=49472;else throw new Error("Invalid SJIS character: "+this.data[g]+`
Make sure your charset is UTF-8`);v=(v>>>8&255)*192+(v&255),c.put(v,13)}},z.exports=u},27126:(z,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};l.isValid=function(u){return u!=null&&u!==""&&!isNaN(u)&&u>=0&&u<=7},l.from=function(u){return l.isValid(u)?parseInt(u,10):void 0},l.getPenaltyN1=function(u){const c=u.size;let g=0,v=0,E=0,y=null,p=null;for(let T=0;T<c;T++){v=E=0,y=p=null;for(let O=0;O<c;O++){let I=u.get(T,O);I===y?v++:(v>=5&&(g+=e.N1+(v-5)),y=I,v=1),I=u.get(O,T),I===p?E++:(E>=5&&(g+=e.N1+(E-5)),p=I,E=1)}v>=5&&(g+=e.N1+(v-5)),E>=5&&(g+=e.N1+(E-5))}return g},l.getPenaltyN2=function(u){const c=u.size;let g=0;for(let v=0;v<c-1;v++)for(let E=0;E<c-1;E++){const y=u.get(v,E)+u.get(v,E+1)+u.get(v+1,E)+u.get(v+1,E+1);(y===4||y===0)&&g++}return g*e.N2},l.getPenaltyN3=function(u){const c=u.size;let g=0,v=0,E=0;for(let y=0;y<c;y++){v=E=0;for(let p=0;p<c;p++)v=v<<1&2047|u.get(y,p),p>=10&&(v===1488||v===93)&&g++,E=E<<1&2047|u.get(p,y),p>=10&&(E===1488||E===93)&&g++}return g*e.N3},l.getPenaltyN4=function(u){let c=0;const g=u.data.length;for(let E=0;E<g;E++)c+=u.data[E];return Math.abs(Math.ceil(c*100/g/5)-10)*e.N4};function o(f,u,c){switch(f){case l.Patterns.PATTERN000:return(u+c)%2===0;case l.Patterns.PATTERN001:return u%2===0;case l.Patterns.PATTERN010:return c%3===0;case l.Patterns.PATTERN011:return(u+c)%3===0;case l.Patterns.PATTERN100:return(Math.floor(u/2)+Math.floor(c/3))%2===0;case l.Patterns.PATTERN101:return u*c%2+u*c%3===0;case l.Patterns.PATTERN110:return(u*c%2+u*c%3)%2===0;case l.Patterns.PATTERN111:return(u*c%3+(u+c)%2)%2===0;default:throw new Error("bad maskPattern:"+f)}}l.applyMask=function(u,c){const g=c.size;for(let v=0;v<g;v++)for(let E=0;E<g;E++)c.isReserved(E,v)||c.xor(E,v,o(u,E,v))},l.getBestMask=function(u,c){const g=Object.keys(l.Patterns).length;let v=0,E=1/0;for(let y=0;y<g;y++){c(y),l.applyMask(y,u);const p=l.getPenaltyN1(u)+l.getPenaltyN2(u)+l.getPenaltyN3(u)+l.getPenaltyN4(u);l.applyMask(y,u),p<E&&(E=p,v=y)}return v}},76910:(z,l,e)=>{const o=e(43114),f=e(7007);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(g,v){if(!g.ccBits)throw new Error("Invalid mode: "+g);if(!o.isValid(v))throw new Error("Invalid version: "+v);return v>=1&&v<10?g.ccBits[0]:v<27?g.ccBits[1]:g.ccBits[2]},l.getBestModeForData=function(g){return f.testNumeric(g)?l.NUMERIC:f.testAlphanumeric(g)?l.ALPHANUMERIC:f.testKanji(g)?l.KANJI:l.BYTE},l.toString=function(g){if(g&&g.id)return g.id;throw new Error("Invalid mode")},l.isValid=function(g){return g&&g.bit&&g.ccBits};function u(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+c)}}l.from=function(g,v){if(l.isValid(g))return g;try{return u(g)}catch(E){return v}}},41085:(z,l,e)=>{const o=e(76910);function f(u){this.mode=o.NUMERIC,this.data=u.toString()}f.getBitsLength=function(c){return 10*Math.floor(c/3)+(c%3?c%3*3+1:0)},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(c){let g,v,E;for(g=0;g+3<=this.data.length;g+=3)v=this.data.substr(g,3),E=parseInt(v,10),c.put(E,10);const y=this.data.length-g;y>0&&(v=this.data.substr(g),E=parseInt(v,10),c.put(E,y*3+1))},z.exports=f},26143:(z,l,e)=>{const o=e(69729);l.mul=function(u,c){const g=new Uint8Array(u.length+c.length-1);for(let v=0;v<u.length;v++)for(let E=0;E<c.length;E++)g[v+E]^=o.mul(u[v],c[E]);return g},l.mod=function(u,c){let g=new Uint8Array(u);for(;g.length-c.length>=0;){const v=g[0];for(let y=0;y<c.length;y++)g[y]^=o.mul(c[y],v);let E=0;for(;E<g.length&&g[E]===0;)E++;g=g.slice(E)}return g},l.generateECPolynomial=function(u){let c=new Uint8Array([1]);for(let g=0;g<u;g++)c=l.mul(c,new Uint8Array([1,o.exp(g)]));return c}},95115:(z,l,e)=>{const o=e(10242),f=e(64908),u=e(97245),c=e(73280),g=e(21845),v=e(76526),E=e(27126),y=e(35393),p=e(52882),T=e(23103),O=e(61642),I=e(76910),S=e(16130);function _(A,k){const L=A.size,K=v.getPositions(k);for(let Z=0;Z<K.length;Z++){const J=K[Z][0],q=K[Z][1];for(let ne=-1;ne<=7;ne++)if(!(J+ne<=-1||L<=J+ne))for(let F=-1;F<=7;F++)q+F<=-1||L<=q+F||(ne>=0&&ne<=6&&(F===0||F===6)||F>=0&&F<=6&&(ne===0||ne===6)||ne>=2&&ne<=4&&F>=2&&F<=4?A.set(J+ne,q+F,!0,!0):A.set(J+ne,q+F,!1,!0))}}function d(A){const k=A.size;for(let L=8;L<k-8;L++){const K=L%2===0;A.set(L,6,K,!0),A.set(6,L,K,!0)}}function s(A,k){const L=g.getPositions(k);for(let K=0;K<L.length;K++){const Z=L[K][0],J=L[K][1];for(let q=-2;q<=2;q++)for(let ne=-2;ne<=2;ne++)q===-2||q===2||ne===-2||ne===2||q===0&&ne===0?A.set(Z+q,J+ne,!0,!0):A.set(Z+q,J+ne,!1,!0)}}function w(A,k){const L=A.size,K=T.getEncodedBits(k);let Z,J,q;for(let ne=0;ne<18;ne++)Z=Math.floor(ne/3),J=ne%3+L-8-3,q=(K>>ne&1)===1,A.set(Z,J,q,!0),A.set(J,Z,q,!0)}function P(A,k,L){const K=A.size,Z=O.getEncodedBits(k,L);let J,q;for(J=0;J<15;J++)q=(Z>>J&1)===1,J<6?A.set(J,8,q,!0):J<8?A.set(J+1,8,q,!0):A.set(K-15+J,8,q,!0),J<8?A.set(8,K-J-1,q,!0):J<9?A.set(8,15-J-1+1,q,!0):A.set(8,15-J-1,q,!0);A.set(K-8,8,1,!0)}function x(A,k){const L=A.size;let K=-1,Z=L-1,J=7,q=0;for(let ne=L-1;ne>0;ne-=2)for(ne===6&&ne--;;){for(let F=0;F<2;F++)if(!A.isReserved(Z,ne-F)){let W=!1;q<k.length&&(W=(k[q]>>>J&1)===1),A.set(Z,ne-F,W),J--,J===-1&&(q++,J=7)}if(Z+=K,Z<0||L<=Z){Z-=K,K=-K;break}}}function M(A,k,L){const K=new u;L.forEach(function(F){K.put(F.mode.bit,4),K.put(F.getLength(),I.getCharCountIndicator(F.mode,A)),F.write(K)});const Z=o.getSymbolTotalCodewords(A),J=y.getTotalCodewordsCount(A,k),q=(Z-J)*8;for(K.getLengthInBits()+4<=q&&K.put(0,4);K.getLengthInBits()%8!==0;)K.putBit(0);const ne=(q-K.getLengthInBits())/8;for(let F=0;F<ne;F++)K.put(F%2?17:236,8);return N(K,A,k)}function N(A,k,L){const K=o.getSymbolTotalCodewords(k),Z=y.getTotalCodewordsCount(k,L),J=K-Z,q=y.getBlocksCount(k,L),ne=K%q,F=q-ne,W=Math.floor(K/q),ie=Math.floor(J/q),he=ie+1,ye=W-ie,fe=new p(ye);let ae=0;const oe=new Array(q),G=new Array(q);let re=0;const se=new Uint8Array(A.buffer);for(let me=0;me<q;me++){const Ie=me<F?ie:he;oe[me]=se.slice(ae,ae+Ie),G[me]=fe.encode(oe[me]),ae+=Ie,re=Math.max(re,Ie)}const le=new Uint8Array(K);let Ee=0,ve,pe;for(ve=0;ve<re;ve++)for(pe=0;pe<q;pe++)ve<oe[pe].length&&(le[Ee++]=oe[pe][ve]);for(ve=0;ve<ye;ve++)for(pe=0;pe<q;pe++)le[Ee++]=G[pe][ve];return le}function C(A,k,L,K){let Z;if(Array.isArray(A))Z=S.fromArray(A);else if(typeof A=="string"){let W=k;if(!W){const ie=S.rawSplit(A);W=T.getBestVersionForData(ie,L)}Z=S.fromString(A,W||40)}else throw new Error("Invalid data");const J=T.getBestVersionForData(Z,L);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=J;else if(k<J)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+J+`.
`);const q=M(k,L,Z),ne=o.getSymbolSize(k),F=new c(ne);return _(F,k),d(F),s(F,k),P(F,L,0),k>=7&&w(F,k),x(F,q),isNaN(K)&&(K=E.getBestMask(F,P.bind(null,F,L))),E.applyMask(K,F),P(F,L,K),{modules:F,version:k,errorCorrectionLevel:L,maskPattern:K,segments:Z}}l.create=function(k,L){if(typeof k=="undefined"||k==="")throw new Error("No input text");let K=f.M,Z,J;return typeof L!="undefined"&&(K=f.from(L.errorCorrectionLevel,f.M),Z=T.from(L.version),J=E.from(L.maskPattern),L.toSJISFunc&&o.setToSJISFunction(L.toSJISFunc)),C(k,Z,K,J)}},52882:(z,l,e)=>{const o=e(26143);function f(u){this.genPoly=void 0,this.degree=u,this.degree&&this.initialize(this.degree)}f.prototype.initialize=function(c){this.degree=c,this.genPoly=o.generateECPolynomial(this.degree)},f.prototype.encode=function(c){if(!this.genPoly)throw new Error("Encoder not initialized");const g=new Uint8Array(c.length+this.degree);g.set(c);const v=o.mod(g,this.genPoly),E=this.degree-v.length;if(E>0){const y=new Uint8Array(this.degree);return y.set(v,E),y}return v},z.exports=f},7007:(z,l)=>{const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let f="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";f=f.replace(/u/g,"\\u");const u="(?:(?![A-Z0-9 $%*+\\-./:]|"+f+`)(?:.|[\r
]))+`;l.KANJI=new RegExp(f,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(u,"g"),l.NUMERIC=new RegExp(e,"g"),l.ALPHANUMERIC=new RegExp(o,"g");const c=new RegExp("^"+f+"$"),g=new RegExp("^"+e+"$"),v=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(y){return c.test(y)},l.testNumeric=function(y){return g.test(y)},l.testAlphanumeric=function(y){return v.test(y)}},16130:(z,l,e)=>{const o=e(76910),f=e(41085),u=e(8260),c=e(43424),g=e(51018),v=e(7007),E=e(10242),y=e(65987);function p(w){return unescape(encodeURIComponent(w)).length}function T(w,P,x){const M=[];let N;for(;(N=w.exec(x))!==null;)M.push({data:N[0],index:N.index,mode:P,length:N[0].length});return M}function O(w){const P=T(v.NUMERIC,o.NUMERIC,w),x=T(v.ALPHANUMERIC,o.ALPHANUMERIC,w);let M,N;return E.isKanjiModeEnabled()?(M=T(v.BYTE,o.BYTE,w),N=T(v.KANJI,o.KANJI,w)):(M=T(v.BYTE_KANJI,o.BYTE,w),N=[]),P.concat(x,M,N).sort(function(A,k){return A.index-k.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function I(w,P){switch(P){case o.NUMERIC:return f.getBitsLength(w);case o.ALPHANUMERIC:return u.getBitsLength(w);case o.KANJI:return g.getBitsLength(w);case o.BYTE:return c.getBitsLength(w)}}function S(w){return w.reduce(function(P,x){const M=P.length-1>=0?P[P.length-1]:null;return M&&M.mode===x.mode?(P[P.length-1].data+=x.data,P):(P.push(x),P)},[])}function _(w){const P=[];for(let x=0;x<w.length;x++){const M=w[x];switch(M.mode){case o.NUMERIC:P.push([M,{data:M.data,mode:o.ALPHANUMERIC,length:M.length},{data:M.data,mode:o.BYTE,length:M.length}]);break;case o.ALPHANUMERIC:P.push([M,{data:M.data,mode:o.BYTE,length:M.length}]);break;case o.KANJI:P.push([M,{data:M.data,mode:o.BYTE,length:p(M.data)}]);break;case o.BYTE:P.push([{data:M.data,mode:o.BYTE,length:p(M.data)}])}}return P}function d(w,P){const x={},M={start:{}};let N=["start"];for(let C=0;C<w.length;C++){const A=w[C],k=[];for(let L=0;L<A.length;L++){const K=A[L],Z=""+C+L;k.push(Z),x[Z]={node:K,lastCount:0},M[Z]={};for(let J=0;J<N.length;J++){const q=N[J];x[q]&&x[q].node.mode===K.mode?(M[q][Z]=I(x[q].lastCount+K.length,K.mode)-I(x[q].lastCount,K.mode),x[q].lastCount+=K.length):(x[q]&&(x[q].lastCount=K.length),M[q][Z]=I(K.length,K.mode)+4+o.getCharCountIndicator(K.mode,P))}}N=k}for(let C=0;C<N.length;C++)M[N[C]].end=0;return{map:M,table:x}}function s(w,P){let x;const M=o.getBestModeForData(w);if(x=o.from(P,M),x!==o.BYTE&&x.bit<M.bit)throw new Error('"'+w+'" cannot be encoded with mode '+o.toString(x)+`.
 Suggested mode is: `+o.toString(M));switch(x===o.KANJI&&!E.isKanjiModeEnabled()&&(x=o.BYTE),x){case o.NUMERIC:return new f(w);case o.ALPHANUMERIC:return new u(w);case o.KANJI:return new g(w);case o.BYTE:return new c(w)}}l.fromArray=function(P){return P.reduce(function(x,M){return typeof M=="string"?x.push(s(M,null)):M.data&&x.push(s(M.data,M.mode)),x},[])},l.fromString=function(P,x){const M=O(P,E.isKanjiModeEnabled()),N=_(M),C=d(N,x),A=y.find_path(C.map,"start","end"),k=[];for(let L=1;L<A.length-1;L++)k.push(C.table[A[L]].node);return l.fromArray(S(k))},l.rawSplit=function(P){return l.fromArray(O(P,E.isKanjiModeEnabled()))}},10242:(z,l)=>{let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(u){if(!u)throw new Error('"version" cannot be null or undefined');if(u<1||u>40)throw new Error('"version" should be in range from 1 to 40');return u*4+17},l.getSymbolTotalCodewords=function(u){return o[u]},l.getBCHDigit=function(f){let u=0;for(;f!==0;)u++,f>>>=1;return u},l.setToSJISFunction=function(u){if(typeof u!="function")throw new Error('"toSJISFunc" is not a valid function.');e=u},l.isKanjiModeEnabled=function(){return typeof e!="undefined"},l.toSJIS=function(u){return e(u)}},43114:(z,l)=>{l.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},23103:(z,l,e)=>{const o=e(10242),f=e(35393),u=e(64908),c=e(76910),g=e(43114),v=7973,E=o.getBCHDigit(v);function y(I,S,_){for(let d=1;d<=40;d++)if(S<=l.getCapacity(d,_,I))return d}function p(I,S){return c.getCharCountIndicator(I,S)+4}function T(I,S){let _=0;return I.forEach(function(d){const s=p(d.mode,S);_+=s+d.getBitsLength()}),_}function O(I,S){for(let _=1;_<=40;_++)if(T(I,_)<=l.getCapacity(_,S,c.MIXED))return _}l.from=function(S,_){return g.isValid(S)?parseInt(S,10):_},l.getCapacity=function(S,_,d){if(!g.isValid(S))throw new Error("Invalid QR Code version");typeof d=="undefined"&&(d=c.BYTE);const s=o.getSymbolTotalCodewords(S),w=f.getTotalCodewordsCount(S,_),P=(s-w)*8;if(d===c.MIXED)return P;const x=P-p(d,S);switch(d){case c.NUMERIC:return Math.floor(x/10*3);case c.ALPHANUMERIC:return Math.floor(x/11*2);case c.KANJI:return Math.floor(x/13);case c.BYTE:default:return Math.floor(x/8)}},l.getBestVersionForData=function(S,_){let d;const s=u.from(_,u.M);if(Array.isArray(S)){if(S.length>1)return O(S,s);if(S.length===0)return 1;d=S[0]}else d=S;return y(d.mode,d.getLength(),s)},l.getEncodedBits=function(S){if(!g.isValid(S)||S<7)throw new Error("Invalid QR Code version");let _=S<<12;for(;o.getBCHDigit(_)-E>=0;)_^=v<<o.getBCHDigit(_)-E;return S<<12|_}},6907:(z,l,e)=>{const o=e(89653);function f(c,g,v){c.clearRect(0,0,g.width,g.height),g.style||(g.style={}),g.height=v,g.width=v,g.style.height=v+"px",g.style.width=v+"px"}function u(){try{return document.createElement("canvas")}catch(c){throw new Error("You need to specify a canvas element")}}l.render=function(g,v,E){let y=E,p=v;typeof y=="undefined"&&(!v||!v.getContext)&&(y=v,v=void 0),v||(p=u()),y=o.getOptions(y);const T=o.getImageWidth(g.modules.size,y),O=p.getContext("2d"),I=O.createImageData(T,T);return o.qrToImageData(I.data,g,y),f(O,p,T),O.putImageData(I,0,0),p},l.renderToDataURL=function(g,v,E){let y=E;typeof y=="undefined"&&(!v||!v.getContext)&&(y=v,v=void 0),y||(y={});const p=l.render(g,v,y),T=y.type||"image/png",O=y.rendererOpts||{};return p.toDataURL(T,O.quality)}},93776:(z,l,e)=>{const o=e(89653);function f(g,v){const E=g.a/255,y=v+'="'+g.hex+'"';return E<1?y+" "+v+'-opacity="'+E.toFixed(2).slice(1)+'"':y}function u(g,v,E){let y=g+v;return typeof E!="undefined"&&(y+=" "+E),y}function c(g,v,E){let y="",p=0,T=!1,O=0;for(let I=0;I<g.length;I++){const S=Math.floor(I%v),_=Math.floor(I/v);!S&&!T&&(T=!0),g[I]?(O++,I>0&&S>0&&g[I-1]||(y+=T?u("M",S+E,.5+_+E):u("m",p,0),p=0,T=!1),S+1<v&&g[I+1]||(y+=u("h",O),O=0)):p++}return y}l.render=function(v,E,y){const p=o.getOptions(E),T=v.modules.size,O=v.modules.data,I=T+p.margin*2,S=p.color.light.a?"<path "+f(p.color.light,"fill")+' d="M0 0h'+I+"v"+I+'H0z"/>':"",_="<path "+f(p.color.dark,"stroke")+' d="'+c(O,T,p.margin)+'"/>',d='viewBox="0 0 '+I+" "+I+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+d+' shape-rendering="crispEdges">'+S+_+`</svg>
`;return typeof y=="function"&&y(null,w),w}},89653:(z,l)=>{function e(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let f=o.slice().replace("#","").split("");if(f.length<3||f.length===5||f.length>8)throw new Error("Invalid hex color: "+o);(f.length===3||f.length===4)&&(f=Array.prototype.concat.apply([],f.map(function(c){return[c,c]}))),f.length===6&&f.push("F","F");const u=parseInt(f.join(""),16);return{r:u>>24&255,g:u>>16&255,b:u>>8&255,a:u&255,hex:"#"+f.slice(0,6).join("")}}l.getOptions=function(f){f||(f={}),f.color||(f.color={});const u=typeof f.margin=="undefined"||f.margin===null||f.margin<0?4:f.margin,c=f.width&&f.width>=21?f.width:void 0,g=f.scale||4;return{width:c,scale:c?4:g,margin:u,color:{dark:e(f.color.dark||"#000000ff"),light:e(f.color.light||"#ffffffff")},type:f.type,rendererOpts:f.rendererOpts||{}}},l.getScale=function(f,u){return u.width&&u.width>=f+u.margin*2?u.width/(f+u.margin*2):u.scale},l.getImageWidth=function(f,u){const c=l.getScale(f,u);return Math.floor((f+u.margin*2)*c)},l.qrToImageData=function(f,u,c){const g=u.modules.size,v=u.modules.data,E=l.getScale(g,c),y=Math.floor((g+c.margin*2)*E),p=c.margin*E,T=[c.color.light,c.color.dark];for(let O=0;O<y;O++)for(let I=0;I<y;I++){let S=(O*y+I)*4,_=c.color.light;if(O>=p&&I>=p&&O<y-p&&I<y-p){const d=Math.floor((O-p)/E),s=Math.floor((I-p)/E);_=T[v[d*g+s]?1:0]}f[S++]=_.r,f[S++]=_.g,f[S++]=_.b,f[S]=_.a}}},55798:z=>{"use strict";var l=String.prototype.replace,e=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};z.exports={default:o.RFC3986,formatters:{RFC1738:function(f){return l.call(f,e,"+")},RFC3986:function(f){return String(f)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},80129:(z,l,e)=>{"use strict";var o=e(58261),f=e(55235),u=e(55798);z.exports={formats:u,parse:f,stringify:o}},55235:(z,l,e)=>{"use strict";var o=e(12769),f=Object.prototype.hasOwnProperty,u=Array.isArray,c={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},g=function(S){return S.replace(/&#(\d+);/g,function(_,d){return String.fromCharCode(parseInt(d,10))})},v=function(S,_){return S&&typeof S=="string"&&_.comma&&S.indexOf(",")>-1?S.split(","):S},E="utf8=%26%2310003%3B",y="utf8=%E2%9C%93",p=function(_,d){var s={},w=d.ignoreQueryPrefix?_.replace(/^\?/,""):_,P=d.parameterLimit===1/0?void 0:d.parameterLimit,x=w.split(d.delimiter,P),M=-1,N,C=d.charset;if(d.charsetSentinel)for(N=0;N<x.length;++N)x[N].indexOf("utf8=")===0&&(x[N]===y?C="utf-8":x[N]===E&&(C="iso-8859-1"),M=N,N=x.length);for(N=0;N<x.length;++N)if(N!==M){var A=x[N],k=A.indexOf("]="),L=k===-1?A.indexOf("="):k+1,K,Z;L===-1?(K=d.decoder(A,c.decoder,C,"key"),Z=d.strictNullHandling?null:""):(K=d.decoder(A.slice(0,L),c.decoder,C,"key"),Z=o.maybeMap(v(A.slice(L+1),d),function(J){return d.decoder(J,c.decoder,C,"value")})),Z&&d.interpretNumericEntities&&C==="iso-8859-1"&&(Z=g(Z)),A.indexOf("[]=")>-1&&(Z=u(Z)?[Z]:Z),f.call(s,K)?s[K]=o.combine(s[K],Z):s[K]=Z}return s},T=function(S,_,d,s){for(var w=s?_:v(_,d),P=S.length-1;P>=0;--P){var x,M=S[P];if(M==="[]"&&d.parseArrays)x=[].concat(w);else{x=d.plainObjects?Object.create(null):{};var N=M.charAt(0)==="["&&M.charAt(M.length-1)==="]"?M.slice(1,-1):M,C=parseInt(N,10);!d.parseArrays&&N===""?x={0:w}:!isNaN(C)&&M!==N&&String(C)===N&&C>=0&&d.parseArrays&&C<=d.arrayLimit?(x=[],x[C]=w):N!=="__proto__"&&(x[N]=w)}w=x}return w},O=function(_,d,s,w){if(_){var P=s.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,x=/(\[[^[\]]*])/,M=/(\[[^[\]]*])/g,N=s.depth>0&&x.exec(P),C=N?P.slice(0,N.index):P,A=[];if(C){if(!s.plainObjects&&f.call(Object.prototype,C)&&!s.allowPrototypes)return;A.push(C)}for(var k=0;s.depth>0&&(N=M.exec(P))!==null&&k<s.depth;){if(k+=1,!s.plainObjects&&f.call(Object.prototype,N[1].slice(1,-1))&&!s.allowPrototypes)return;A.push(N[1])}return N&&A.push("["+P.slice(N.index)+"]"),T(A,d,s,w)}},I=function(_){if(!_)return c;if(_.decoder!==null&&_.decoder!==void 0&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset!="undefined"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=typeof _.charset=="undefined"?c.charset:_.charset;return{allowDots:typeof _.allowDots=="undefined"?c.allowDots:!!_.allowDots,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:c.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:c.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:c.arrayLimit,charset:d,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:c.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:c.comma,decoder:typeof _.decoder=="function"?_.decoder:c.decoder,delimiter:typeof _.delimiter=="string"||o.isRegExp(_.delimiter)?_.delimiter:c.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:c.depth,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:c.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:c.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:c.plainObjects,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:c.strictNullHandling}};z.exports=function(S,_){var d=I(_);if(S===""||S===null||typeof S=="undefined")return d.plainObjects?Object.create(null):{};for(var s=typeof S=="string"?p(S,d):S,w=d.plainObjects?Object.create(null):{},P=Object.keys(s),x=0;x<P.length;++x){var M=P[x],N=O(M,s[M],d,typeof S=="string");w=o.merge(w,N,d)}return d.allowSparse===!0?w:o.compact(w)}},58261:(z,l,e)=>{"use strict";var o=e(37478),f=e(12769),u=e(55798),c=Object.prototype.hasOwnProperty,g={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,x){return P+"["+x+"]"},repeat:function(P){return P}},v=Array.isArray,E=String.prototype.split,y=Array.prototype.push,p=function(w,P){y.apply(w,v(P)?P:[P])},T=Date.prototype.toISOString,O=u.default,I={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:f.encode,encodeValuesOnly:!1,format:O,formatter:u.formatters[O],indices:!1,serializeDate:function(P){return T.call(P)},skipNulls:!1,strictNullHandling:!1},S=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},_={},d=function w(P,x,M,N,C,A,k,L,K,Z,J,q,ne,F,W,ie){for(var he=P,ye=ie,fe=0,ae=!1;(ye=ye.get(_))!==void 0&&!ae;){var oe=ye.get(P);if(fe+=1,typeof oe!="undefined"){if(oe===fe)throw new RangeError("Cyclic object value");ae=!0}typeof ye.get(_)=="undefined"&&(fe=0)}if(typeof L=="function"?he=L(x,he):he instanceof Date?he=J(he):M==="comma"&&v(he)&&(he=f.maybeMap(he,function(Ve){return Ve instanceof Date?J(Ve):Ve})),he===null){if(C)return k&&!F?k(x,I.encoder,W,"key",q):x;he=""}if(S(he)||f.isBuffer(he)){if(k){var G=F?x:k(x,I.encoder,W,"key",q);if(M==="comma"&&F){for(var re=E.call(String(he),","),se="",le=0;le<re.length;++le)se+=(le===0?"":",")+ne(k(re[le],I.encoder,W,"value",q));return[ne(G)+(N&&v(he)&&re.length===1?"[]":"")+"="+se]}return[ne(G)+"="+ne(k(he,I.encoder,W,"value",q))]}return[ne(x)+"="+ne(String(he))]}var Ee=[];if(typeof he=="undefined")return Ee;var ve;if(M==="comma"&&v(he))ve=[{value:he.length>0?he.join(",")||null:void 0}];else if(v(L))ve=L;else{var pe=Object.keys(he);ve=K?pe.sort(K):pe}for(var me=N&&v(he)&&he.length===1?x+"[]":x,Ie=0;Ie<ve.length;++Ie){var _e=ve[Ie],de=typeof _e=="object"&&typeof _e.value!="undefined"?_e.value:he[_e];if(!(A&&de===null)){var Re=v(he)?typeof M=="function"?M(me,_e):me:me+(Z?"."+_e:"["+_e+"]");ie.set(P,fe);var ke=o();ke.set(_,ie),p(Ee,w(de,Re,M,N,C,A,k,L,K,Z,J,q,ne,F,W,ke))}}return Ee},s=function(P){if(!P)return I;if(P.encoder!==null&&typeof P.encoder!="undefined"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var x=P.charset||I.charset;if(typeof P.charset!="undefined"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var M=u.default;if(typeof P.format!="undefined"){if(!c.call(u.formatters,P.format))throw new TypeError("Unknown format option provided.");M=P.format}var N=u.formatters[M],C=I.filter;return(typeof P.filter=="function"||v(P.filter))&&(C=P.filter),{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:I.addQueryPrefix,allowDots:typeof P.allowDots=="undefined"?I.allowDots:!!P.allowDots,charset:x,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:I.charsetSentinel,delimiter:typeof P.delimiter=="undefined"?I.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:I.encode,encoder:typeof P.encoder=="function"?P.encoder:I.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:I.encodeValuesOnly,filter:C,format:M,formatter:N,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:I.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:I.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:I.strictNullHandling}};z.exports=function(w,P){var x=w,M=s(P),N,C;typeof M.filter=="function"?(C=M.filter,x=C("",x)):v(M.filter)&&(C=M.filter,N=C);var A=[];if(typeof x!="object"||x===null)return"";var k;P&&P.arrayFormat in g?k=P.arrayFormat:P&&"indices"in P?k=P.indices?"indices":"repeat":k="indices";var L=g[k];if(P&&"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var K=L==="comma"&&P&&P.commaRoundTrip;N||(N=Object.keys(x)),M.sort&&N.sort(M.sort);for(var Z=o(),J=0;J<N.length;++J){var q=N[J];M.skipNulls&&x[q]===null||p(A,d(x[q],q,L,K,M.strictNullHandling,M.skipNulls,M.encode?M.encoder:null,M.filter,M.sort,M.allowDots,M.serializeDate,M.format,M.formatter,M.encodeValuesOnly,M.charset,Z))}var ne=A.join(M.delimiter),F=M.addQueryPrefix===!0?"?":"";return M.charsetSentinel&&(M.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),ne.length>0?F+ne:""}},12769:(z,l,e)=>{"use strict";var o=e(55798),f=Object.prototype.hasOwnProperty,u=Array.isArray,c=function(){for(var s=[],w=0;w<256;++w)s.push("%"+((w<16?"0":"")+w.toString(16)).toUpperCase());return s}(),g=function(w){for(;w.length>1;){var P=w.pop(),x=P.obj[P.prop];if(u(x)){for(var M=[],N=0;N<x.length;++N)typeof x[N]!="undefined"&&M.push(x[N]);P.obj[P.prop]=M}}},v=function(w,P){for(var x=P&&P.plainObjects?Object.create(null):{},M=0;M<w.length;++M)typeof w[M]!="undefined"&&(x[M]=w[M]);return x},E=function s(w,P,x){if(!P)return w;if(typeof P!="object"){if(u(w))w.push(P);else if(w&&typeof w=="object")(x&&(x.plainObjects||x.allowPrototypes)||!f.call(Object.prototype,P))&&(w[P]=!0);else return[w,P];return w}if(!w||typeof w!="object")return[w].concat(P);var M=w;return u(w)&&!u(P)&&(M=v(w,x)),u(w)&&u(P)?(P.forEach(function(N,C){if(f.call(w,C)){var A=w[C];A&&typeof A=="object"&&N&&typeof N=="object"?w[C]=s(A,N,x):w.push(N)}else w[C]=N}),w):Object.keys(P).reduce(function(N,C){var A=P[C];return f.call(N,C)?N[C]=s(N[C],A,x):N[C]=A,N},M)},y=function(w,P){return Object.keys(P).reduce(function(x,M){return x[M]=P[M],x},w)},p=function(s,w,P){var x=s.replace(/\+/g," ");if(P==="iso-8859-1")return x.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(x)}catch(M){return x}},T=function(w,P,x,M,N){if(w.length===0)return w;var C=w;if(typeof w=="symbol"?C=Symbol.prototype.toString.call(w):typeof w!="string"&&(C=String(w)),x==="iso-8859-1")return escape(C).replace(/%u[0-9a-f]{4}/gi,function(K){return"%26%23"+parseInt(K.slice(2),16)+"%3B"});for(var A="",k=0;k<C.length;++k){var L=C.charCodeAt(k);if(L===45||L===46||L===95||L===126||L>=48&&L<=57||L>=65&&L<=90||L>=97&&L<=122||N===o.RFC1738&&(L===40||L===41)){A+=C.charAt(k);continue}if(L<128){A=A+c[L];continue}if(L<2048){A=A+(c[192|L>>6]+c[128|L&63]);continue}if(L<55296||L>=57344){A=A+(c[224|L>>12]+c[128|L>>6&63]+c[128|L&63]);continue}k+=1,L=65536+((L&1023)<<10|C.charCodeAt(k)&1023),A+=c[240|L>>18]+c[128|L>>12&63]+c[128|L>>6&63]+c[128|L&63]}return A},O=function(w){for(var P=[{obj:{o:w},prop:"o"}],x=[],M=0;M<P.length;++M)for(var N=P[M],C=N.obj[N.prop],A=Object.keys(C),k=0;k<A.length;++k){var L=A[k],K=C[L];typeof K=="object"&&K!==null&&x.indexOf(K)===-1&&(P.push({obj:C,prop:L}),x.push(K))}return g(P),w},I=function(w){return Object.prototype.toString.call(w)==="[object RegExp]"},S=function(w){return!w||typeof w!="object"?!1:!!(w.constructor&&w.constructor.isBuffer&&w.constructor.isBuffer(w))},_=function(w,P){return[].concat(w,P)},d=function(w,P){if(u(w)){for(var x=[],M=0;M<w.length;M+=1)x.push(P(w[M]));return x}return P(w)};z.exports={arrayToObject:v,assign:y,combine:_,compact:O,decode:p,encode:T,isBuffer:S,isRegExp:I,maybeMap:d,merge:E}},62587:z=>{"use strict";function l(e,o){return Object.prototype.hasOwnProperty.call(e,o)}z.exports=function(e,o,f,u){o=o||"&",f=f||"=";var c={};if(typeof e!="string"||e.length===0)return c;var g=/\+/g;e=e.split(o);var v=1e3;u&&typeof u.maxKeys=="number"&&(v=u.maxKeys);var E=e.length;v>0&&E>v&&(E=v);for(var y=0;y<E;++y){var p=e[y].replace(g,"%20"),T=p.indexOf(f),O,I,S,_;T>=0?(O=p.substr(0,T),I=p.substr(T+1)):(O=p,I=""),S=decodeURIComponent(O),_=decodeURIComponent(I),l(c,S)?Array.isArray(c[S])?c[S].push(_):c[S]=[c[S],_]:c[S]=_}return c}},12361:z=>{"use strict";var l=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};z.exports=function(e,o,f,u){return o=o||"&",f=f||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(c){var g=encodeURIComponent(l(c))+f;return Array.isArray(e[c])?e[c].map(function(v){return g+encodeURIComponent(l(v))}).join(o):g+encodeURIComponent(l(e[c]))}).join(o):u?encodeURIComponent(l(u))+f+encodeURIComponent(l(e)):""}},17673:(z,l,e)=>{"use strict";l.decode=l.parse=e(62587),l.encode=l.stringify=e(12361)},35639:(z,l,e)=>{"use strict";var o;o={value:!0};var f=Object.assign||function(M){for(var N=1;N<arguments.length;N++){var C=arguments[N];for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(M[A]=C[A])}return M},u=function(){function M(N,C){for(var A=0;A<C.length;A++){var k=C[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,C,A){return C&&M(N.prototype,C),A&&M(N,A),N}}(),c=e(98661),g=y(c),v=e(45697),E=y(v);function y(M){return M&&M.__esModule?M:{default:M}}function p(M,N){var C={};for(var A in M)N.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(M,A)&&(C[A]=M[A]);return C}function T(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}function O(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:M}function I(M,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);M.prototype=Object.create(N&&N.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(M,N):M.__proto__=N)}var S={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},_=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(N){return _.forEach(function(C){return delete N[C]}),N},s=function(N,C){C.style.fontSize=N.fontSize,C.style.fontFamily=N.fontFamily,C.style.fontWeight=N.fontWeight,C.style.fontStyle=N.fontStyle,C.style.letterSpacing=N.letterSpacing,C.style.textTransform=N.textTransform},w=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,P=function(){return w?"_"+Math.random().toString(36).substr(2,12):void 0},x=function(M){I(N,M),u(N,null,[{key:"getDerivedStateFromProps",value:function(A,k){var L=A.id;return L!==k.prevId?{inputId:L||P(),prevId:L}:null}}]);function N(C){T(this,N);var A=O(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C));return A.inputRef=function(k){A.input=k,typeof A.props.inputRef=="function"&&A.props.inputRef(k)},A.placeHolderSizerRef=function(k){A.placeHolderSizer=k},A.sizerRef=function(k){A.sizer=k},A.state={inputWidth:C.minWidth,inputId:C.id||P(),prevId:C.id},A}return u(N,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(A,k){k.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var A=this.input&&window.getComputedStyle(this.input);A&&(s(A,this.sizer),this.placeHolderSizer&&s(A,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var A=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?A=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:A=this.sizer.scrollWidth+2;var k=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;A+=k,A<this.props.minWidth&&(A=this.props.minWidth),A!==this.state.inputWidth&&this.setState({inputWidth:A})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var A=this.props.injectStyles;return w&&A?g.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var A=[this.props.defaultValue,this.props.value,""].reduce(function(Z,J){return Z!=null?Z:J}),k=f({},this.props.style);k.display||(k.display="inline-block");var L=f({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),K=p(this.props,[]);return d(K),K.className=this.props.inputClassName,K.id=this.state.inputId,K.style=L,g.default.createElement("div",{className:this.props.className,style:k},this.renderStyles(),g.default.createElement("input",f({},K,{ref:this.inputRef})),g.default.createElement("div",{ref:this.sizerRef,style:S},A),this.props.placeholder?g.default.createElement("div",{ref:this.placeHolderSizerRef,style:S},this.props.placeholder):null)}}]),N}(c.Component);x.propTypes={className:E.default.string,defaultValue:E.default.any,extraWidth:E.default.oneOfType([E.default.number,E.default.string]),id:E.default.string,injectStyles:E.default.bool,inputClassName:E.default.string,inputRef:E.default.func,inputStyle:E.default.object,minWidth:E.default.oneOfType([E.default.number,E.default.string]),onAutosize:E.default.func,onChange:E.default.func,placeholder:E.default.string,placeholderIsMinWidth:E.default.bool,style:E.default.object,value:E.default.any},x.defaultProps={minWidth:1,injectStyles:!0},l.Z=x},62372:(z,l,e)=>{"use strict";e.d(l,{XI:()=>He,sJ:()=>Ve});var o=e(98661);function f(Ne,Be){for(var ze=0;ze<Be.length;ze++){var lt=Be[ze];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Ne,lt.key,lt)}}function u(Ne,Be,ze){return Be&&f(Ne.prototype,Be),ze&&f(Ne,ze),Ne}function c(){return c=Object.assign||function(Ne){for(var Be=1;Be<arguments.length;Be++){var ze=arguments[Be];for(var lt in ze)Object.prototype.hasOwnProperty.call(ze,lt)&&(Ne[lt]=ze[lt])}return Ne},c.apply(this,arguments)}function g(Ne,Be){Ne.prototype=Object.create(Be.prototype),Ne.prototype.constructor=Ne,v(Ne,Be)}function v(Ne,Be){return v=Object.setPrototypeOf||function(lt,et){return lt.__proto__=et,lt},v(Ne,Be)}function E(Ne,Be){if(Ne==null)return{};var ze={},lt=Object.keys(Ne),et,Ae;for(Ae=0;Ae<lt.length;Ae++)et=lt[Ae],!(Be.indexOf(et)>=0)&&(ze[et]=Ne[et]);return ze}function y(Ne,Be){if(Ne){if(typeof Ne=="string")return p(Ne,Be);var ze=Object.prototype.toString.call(Ne).slice(8,-1);if(ze==="Object"&&Ne.constructor&&(ze=Ne.constructor.name),ze==="Map"||ze==="Set")return Array.from(Ne);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return p(Ne,Be)}}function p(Ne,Be){(Be==null||Be>Ne.length)&&(Be=Ne.length);for(var ze=0,lt=new Array(Be);ze<Be;ze++)lt[ze]=Ne[ze];return lt}function T(Ne,Be){var ze=typeof Symbol!="undefined"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(ze)return(ze=ze.call(Ne)).next.bind(ze);if(Array.isArray(Ne)||(ze=y(Ne))||Be&&Ne&&typeof Ne.length=="number"){ze&&(Ne=ze);var lt=0;return function(){return lt>=Ne.length?{done:!0}:{done:!1,value:Ne[lt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(Ne){var Be=(0,o.useRef)(null);function ze(lt){!lt||lt===Be.current||(Be.current=lt,Ne(lt))}return ze}function I(Ne){var Be=(0,o.useRef)(Ne);return(0,o.useMemo)(function(){function ze(et){typeof et=="function"?Be.current=et(Be.current):Be.current=et}function lt(){return Be.current}return[lt,ze]},[])}function S(){var Ne=(0,o.useRef)([]);return(0,o.useMemo)(function(){function Be(){return Ne.current.length>0}function ze(){for(var et=T(Ne.current),Ae;!(Ae=et()).done;){var H=Ae.value;H()}Ne.current=[]}function lt(et){Ne.current.push(et)}return{hasEventSubscriptions:Be,removeAllEventSubscriptions:ze,addEventSubscription:lt}},[])}var _=typeof window!="undefined"?o.useLayoutEffect:o.useEffect;function d(Ne,Be){var ze=(0,o.useRef)(Ne);return Be?(ze.current=Ne,ze):(ze.current=null,ze)}var s={top:0,left:0,right:1,bottom:1,width:1,height:1};function w(Ne){var Be=Ne===void 0?{}:Ne,ze=Be.enabled,lt=ze===void 0?!0:ze,et=Be.preventDefault,Ae=et===void 0?!0:et,H=useRef(null),Q=useState(s),ce=Q[0],Pe=Q[1];function Me(){Pe(s)}var $e=ce!==s;function ct(ut){if(lt){Ae&&ut.preventDefault();var Et=ut.clientX,Nt=ut.clientY;Pe({top:Nt,left:Et,width:1,height:1,right:Et+1,bottom:Nt+1})}}return{hasMousePosition:$e,resetMousePosition:Me,handleMouseEvent:ct,trigger:{getBounds:function(){return ce},getParent:H.current?function(){return H.current}:void 0},parentRef:H}}function P(Ne){return parseFloat(Ne.replace("px",""))}function x(Ne,Be,ze){return Ne<Be?Be:Ne>ze?ze:Ne}function M(Ne){return Ne!=null}function N(){for(var Ne=arguments.length,Be=new Array(Ne),ze=0;ze<Ne;ze++)Be[ze]=arguments[ze];return function(lt){for(var et=T(Be),Ae;!(Ae=et()).done;){var H=Ae.value;H&&(typeof H=="function"?H(lt):H.current=lt)}}}function C(Ne,Be){if(typeof Ne!="undefined")return Be||Ne.ResizeObserver}function A(Ne,Be){var ze=[];if(!Ne||!Be||Ne===document.body)return ze;var lt=Be.getComputedStyle(Ne),et=lt.overflow,Ae=lt.overflowX,H=lt.overflowY;return[et,Ae,H].some(function(Q){return["auto","scroll"].includes(Q)})&&ze.push(Ne),[].concat(ze,A(Ne.parentElement,Be))}function k(Ne){return"react-laag: Could not find a valid reference for the "+Ne+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+Ne+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+Ne+" when the isOpen prop is set to true"}function L(Ne){var Be=Ne.enabled,ze=Ne.onChange,lt=Ne.environment,et=Ne.ResizeObserverPolyfill,Ae=Ne.overflowContainer,H=Ne.triggerOption,Q=C(lt,et);(0,o.useEffect)(function(){},[Q]);var ce=(0,o.useRef)(null),Pe=!!H,Me=I({scrollContainers:[],trigger:null,layer:null}),$e=Me[0],ct=Me[1],ut=S(),Et=ut.hasEventSubscriptions,Nt=ut.addEventSubscription,$t=ut.removeAllEventSubscriptions,Nn=(0,o.useCallback)(function(){var Dt=$e(),Ft=Dt.layer,zt=Dt.trigger,sn=Dt.scrollContainers,Un=sn[0];if(!Ft)throw new Error(k("layer"));if(!zt&&!Pe)throw new Error(k("trigger"));var gr={top:0,left:0};if(Un){var Dr=Un.scrollLeft,Fr=Un.scrollTop;gr={top:Fr,left:Dr}}else{var jr=lt.scrollX,kr=lt.scrollY;gr={top:kr,left:jr}}var uo={left:0,top:0};if(Un){var to=lt.getComputedStyle(Un),ao=to.borderLeftWidth,Ur=to.borderTopWidth;uo={left:P(ao)||0,top:P(Ur)||0}}ze({layer:Ft,trigger:zt,scrollContainers:sn,arrow:ce.current},gr,uo)},[$e,ze,lt,ce,Pe]),Vt=(0,o.useCallback)(function(){var Dt=$e(),Ft=Dt.trigger,zt=Dt.layer,sn=Dt.scrollContainers;if(!zt)throw new Error(k("layer"));if(!Ft&&!Pe)throw new Error(k("trigger"));if(Q){for(var Un=!1,gr=function(){if(!Un){Un=!0;return}Nn()},Dr=new Q(gr),Fr=0,jr=[Ft,zt,document.body];Fr<jr.length;Fr++){var kr=jr[Fr];kr&&Dr.observe(kr)}Nt(function(){for(var _o=0,fo=[Ft,zt,document.body];_o<fo.length;_o++){var no=fo[_o];no&&Dr.unobserve(no)}Dr.disconnect()})}for(var uo=[lt].concat(sn),to=function(){var fo=Ur.value;fo.addEventListener("scroll",Nn),Nt(function(){return fo.removeEventListener("scroll",Nn)})},ao=T(uo),Ur;!(Ur=ao()).done;)to()},[$e,Nt,Nn,lt,Q,Pe]),rr=(0,o.useCallback)(function(Cr,Dt){Be&&Cr&&Cr!==Dt&&($t(),Vt(),Nn())},[$t,Vt,Nn,Be]),Tr=O((0,o.useCallback)(function(Cr){var Dt=$e(),Ft=Dt.layer;ct(function(zt){return c({},zt,{layer:Cr})}),rr(Ft,Cr)},[$e,ct,rr])),cr=(0,o.useCallback)(function(Dt){var Ft=A(Dt,lt),zt=Ft[0];if(zt){var sn=lt.getComputedStyle(zt).position,Un=["relative","absolute","fixed"].includes(sn)||Ae;Un||(zt.style.position="relative")}return Ft},[lt,Ae]),Lr=O((0,o.useCallback)(function(Cr){var Dt=cr(Cr),Ft=$e(),zt=Ft.trigger;ct(function(sn){return c({},sn,{trigger:Cr,scrollContainers:Dt})}),rr(zt,Cr)},[$e,ct,rr,cr])),Br=H==null||H.getParent==null?void 0:H.getParent();return _(function(){Br&&ct(function(Cr){return c({},Cr,{scrollContainers:cr(Br)})})},[Br,ct,cr]),_(function(){return Be&&(Et()||Vt()),function(){Et()&&$t()}},[Be,Et,Vt,$t]),_(function(){Be&&Nn()}),{triggerRef:Lr,layerRef:Tr,arrowRef:ce,closestScrollContainer:$e().scrollContainers[0]||null}}var K=(0,o.createContext)({});function Z(Ne){var Be=Ne.children,ze=Ne.registrations,lt=(0,o.useCallback)(function(Ae){return ze.current.add(Ae),function(){return ze.current.delete(Ae)}},[ze]);return(0,o.createElement)(K.Provider,{value:lt},Be)}function J(Ne,Be){for(var ze=T(Ne),lt;!(lt=ze()).done;){var et=lt.value.shouldCloseWhenClickedOutside;if(!et(Be))return!1}return!0}function q(Ne){var Be=Ne.isOpen,ze=Ne.onOutsideClick,lt=Ne.onParentClose,et=(0,o.useRef)(null),Ae=(0,o.useRef)(null),H=(0,o.useRef)(new Set),Q=(0,o.useContext)(K),ce=(0,o.useCallback)(function(Me){var $e=Me.target,ct=et.current&&et.current.contains($e),ut=Ae.current&&Ae.current.contains($e),Et=J(H.current,Me);return ut&&Et&&H.current.forEach(function(Nt){var $t=Nt.closeChild;return $t()}),!ct&&!ut&&Et},[et,Ae,H]);return(0,o.useEffect)(function(){if(typeof Q=="function")return Q({shouldCloseWhenClickedOutside:ce,closeChild:function(){lt&&lt()}})},[Q,ce,lt,H]),(0,o.useEffect)(function(){var Pe=typeof Q=="function",Me=!Be||!ze||Pe;if(Me)return;function $e(ct){ce(ct)&&ze()}return document.addEventListener("click",$e,!0),function(){return document.removeEventListener("click",$e,!0)}},[Be,ze,ce,Q]),(0,o.useEffect)(function(){Be||H.current.forEach(function(Pe){var Me=Pe.closeChild;return Me()})},[Be]),{closeOnOutsideClickRefs:{trigger:et,layer:Ae},registrations:H}}var ne=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],F={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},W=function(){function Ne(ze,lt,et,Ae,H,Q,ce,Pe,Me){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=ze,this.opposite=lt,this.isHorizontal=et,this.sizeProp=Ae,this.oppositeSizeProp=H,this.cssProp=Q,this.oppositeCssProp=ce,this.isCenter=Pe,this.isPush=Me}var Be=Ne.prototype;return Be.factor=function(lt){return lt*(this.isPush?1:-1)},Be.isOppositeDirection=function(lt){return this.isHorizontal!==lt.isHorizontal},Ne}();function ie(Ne,Be){Be===void 0&&(Be=!0);var ze=["left","right"].includes(Ne);return new W(Ne,Be?ie(F[Ne],!1):null,ze,ze?"width":"height",ze?"height":"width",ze?"left":"top",ze?"top":"left",Ne==="center",!["right","bottom"].includes(Ne))}var he={top:ie("top"),bottom:ie("bottom"),left:ie("left"),right:ie("right")},ye=c({},he,{center:ie("center")}),fe=["top","left","bottom","right"],ae=function(){function Ne(Be){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,Be)}return Ne.mergeSmallestSides=function(ze){var lt=ze[0],et=ze.slice(1);if(!lt)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Ae=Object.fromEntries(fe.map(function(ct){return[ct,lt[ct]]})),H=T(et),Q;!(Q=H()).done;)for(var ce=Q.value,Pe=T(fe),Me;!(Me=Pe()).done;){var $e=Me.value;Ae[$e]=Math.min(Ae[$e],ce[$e])}return new Ne(Ae)},u(Ne,[{key:"allSidesArePositive",get:function(){var ze=this;return fe.every(function(lt){return ze[lt]>=0})}},{key:"negativeSides",get:function(){var ze=this;return Object.fromEntries(fe.filter(function(lt){return ze[lt]<0}).map(function(lt){return[lt,ze[lt]]}))}}]),Ne}();function oe(){for(var Ne=arguments.length,Be=new Array(Ne),ze=0;ze<Ne;ze++)Be[ze]=arguments[ze];return Be.reduce(function(lt,et){return lt+(et?P(et):0)},0)}function G(Ne){var Be=Ne.top,ze=Ne.left,lt=Ne.right,et=Ne.bottom,Ae=Ne.width,H=Ne.height;return{top:Be,left:ze,right:lt,bottom:et,width:Ae,height:H}}var re={top:0,left:0,right:0,bottom:0,width:0,height:0},se=function(){Ne.create=function(lt){return new Ne(lt)},Ne.fromElement=function(lt,et){et===void 0&&(et={});var Ae=et,H=Ae.withTransform,Q=H===void 0?!0:H,ce=Ae.environment,Pe=ce===void 0?window:ce,Me=Ae.withScrollbars,$e=Me===void 0?!0:Me,ct=G(lt.getBoundingClientRect()),ut=new Ne(ct);if(!Q){var Et=Pe.getComputedStyle(lt),Nt=Et.width,$t=Et.height,Nn=Et.boxSizing,Vt=Et.borderLeft,rr=Et.borderRight,Tr=Et.borderTop,cr=Et.borderBottom,Lr=Et.paddingLeft,Br=Et.paddingRight,Cr=Et.paddingTop,Dt=Et.paddingBottom,Ft=Nn==="border-box"?P(Nt):oe(Nt,Vt,rr,Lr,Br),zt=Nn==="border-box"?P($t):oe($t,Tr,cr,Cr,Dt);ut=new Ne(c({},ut,{width:Ft,height:zt}))}if(!$e){var sn=ut.width-lt.clientWidth,Un=ut.height-lt.clientHeight;return ut.substract({right:sn,bottom:Un})}return ut},Ne.empty=function(){return new Ne},Ne.fromWindow=function(lt){var et,Ae=(et=lt==null?void 0:lt.document.scrollingElement)!=null?et:lt==null?void 0:lt.document.documentElement,H=Ae!=null?Ae:{},Q=H.clientWidth,ce=Q===void 0?0:Q,Pe=H.clientHeight,Me=Pe===void 0?0:Pe;return new Ne({width:ce,height:Me,right:ce,bottom:Me})};function Ne(ze){return ze===void 0&&(ze={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,re,ze)}var Be=Ne.prototype;return Be.toObject=function(){return G(this)},Be.merge=function(lt){var et=this.toObject();return new Ne(c({},et,typeof lt=="function"?lt(et):lt))},Be.substract=function(lt){for(var et=this.toObject(),Ae=Object.entries(lt),H=0,Q=Ae;H<Q.length;H++){var ce=Q[H],Pe=ce[0],Me=ce[1];if(Pe in he){var $e=he[Pe];et[Pe]+=$e.factor(Me),et[$e.isHorizontal?"width":"height"]-=Me}else et[Pe]-=Me||0}return new Ne(et)},Be.offsetsTo=function(lt){return new ae({top:lt.top-this.top,bottom:this.bottom-lt.bottom,left:lt.left-this.left,right:this.right-lt.right})},Be.mapSides=function(lt){for(var et=this.toObject(),Ae=Object.values(he),H=0,Q=Ae;H<Q.length;H++){var ce=Q[H];et[ce.prop]=lt(ce,et[ce.prop])}return new Ne(et)},u(Ne,[{key:"surface",get:function(){return this.width*this.height}}]),Ne}(),le=function(){function Ne(ze,lt,et,Ae,H){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=ze,this.secondary=lt,this.offsets=H,this.setSubjectsBounds(et,Ae)}var Be=Ne.prototype;return Be.setSubjectsBounds=function(lt,et){if(!et){this.subjectsBounds=lt;return}var Ae=typeof et=="function"?et(this.primary.prop):et;this.subjectsBounds=lt.merge({layer:c({},lt.layer,Ae)})},Be.getLayerBounds=function(lt){if(lt===void 0&&(lt=0),this._cachedLayerBounds&&lt===0)return this._cachedLayerBounds;var et=this.primary,Ae=this.secondary,H=this.subjectsBounds,Q=H.trigger,ce=H.layer,Pe=H.arrow,Me=et.isHorizontal,$e=et.oppositeCssProp,ct=et.oppositeSizeProp,ut=et.prop,Et=et.opposite,Nt=se.empty();Nt[Et.prop]=Q[ut]-et.factor(this.offsets.trigger),Nt[ut]=Nt[Et.prop]-et.factor(ce[et.sizeProp]);var $t=this.offsets.arrow*2,Nn=Q[$e]-(ce[ct]-Pe[ct])+$t,Vt=Q[$e]+(Q[ct]-Pe[ct])-$t;if(Ae.isPush||(Nn+=ce[ct],Vt+=ce[ct]),Ae.isCenter){var rr=(Me?he.top:he.left).prop,Tr=(Me?he.bottom:he.right).prop;Nt[rr]=x(Q[rr]+Q[ct]/2-ce[ct]/2+lt,Nn,Vt),Nt[Tr]=Nt[rr]+ce[ct]}else{var cr=Ae,Lr=Q[cr.prop],Br=Lr<Nn?Nn-Lr:Lr>Vt?Vt-Lr:0;Nt[cr.prop]=x(Lr+lt+Br,Nn,Vt),Nt[cr.opposite.prop]=Nt[cr.prop]+Ae.factor(ce[ct])}Nt.width=Nt.right-Nt.left,Nt.height=Nt.bottom-Nt.top;var Cr=se.create(Nt);return lt===0&&(this._cachedLayerBounds=Cr),Cr},Be.getLayerCollisionBounds=function(){var lt=this.offsets.container;return this.getLayerBounds().mapSides(function(et,Ae){return Ae-=et.factor(lt)}).merge(function(et){var Ae=et.width,H=et.height;return{width:Ae+lt*2,height:H+lt*2}})},Be.getContainerOffsets=function(lt){if(this._cachedContainerOffsets&&!lt)return this._cachedContainerOffsets;var et=this.subjectsBounds.merge({layer:lt||this.getLayerCollisionBounds()}),Ae=ae.mergeSmallestSides(et.layerOffsetsToScrollContainers);return lt||(this._cachedContainerOffsets=Ae),Ae},u(Ne,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var lt=this.secondary.isHorizontal,et=this.subjectsBounds,Ae=et.triggerHasBiggerWidth,H=et.triggerHasBiggerHeight;return lt&&Ae||!lt&&H}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var lt=this.getLayerBounds(),et=this.getContainerOffsets(lt),Ae=et.negativeSides;for(var H in Ae)Ae[H]=-Ae[H];return lt.substract(Ae).surface}},{key:"secondaryOffsetSide",get:function(){var lt,et,Ae=this,H=this.getContainerOffsets(),Q=(lt=(et=Object.entries(H.negativeSides).map(function(Pe){var Me=Pe[0],$e=Pe[1];return[he[Me],$e]}).filter(function(Pe){var Me=Pe[0];return Ae.primary.isOppositeDirection(Me)}).sort(function(Pe,Me){var $e=Pe[1],ct=Me[1];return ct-$e}))==null?void 0:et[0])!=null?lt:[],ce=Q[0];return ce||null}}]),Ne}(),Ee=function(Ne){g(Be,Ne);function Be(){return Ne.apply(this,arguments)||this}var ze=Be.prototype;return ze.getLayerBounds=function(){var et=this.subjectsBounds,Ae=et.trigger,H=et.layer,Q=se.empty();return Q.top=Ae.top+Ae.height/2-H.height/2,Q.bottom=Q.top+H.height,Q.left=Ae.left+Ae.width/2-H.width/2,Q.right=Q.left+H.width,Q.width=Q.right-Q.left,Q.height=Q.bottom-Q.top,Q},Be}(le);function ve(Ne,Be,ze){var lt=Ne.layer,et=Ne.trigger,Ae=Ne.arrow,H=Be.primary.oppositeSizeProp,Q=Be.primary.isHorizontal?["top","bottom"]:["left","right"],ce=Q[0],Pe=Q[1],Me=lt[ce]+lt[H]/2-et[ce]-Ae[H]/2-ze,$e=lt[Pe]-lt[H]/2-et[Pe]+Ae[H]/2+ze;return(Me<0?-Me:0)+($e>0?-$e:0)}var pe={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function me(Ne,Be,ze){var lt;if(Be.primary.isCenter)return pe;var et=Ne.layer,Ae=Ne.trigger,H=Ne.arrow,Q=Be.primary.oppositeSizeProp,ce=Ae[Q]>et[Q],Pe=ze+H[Q]/2,Me=et[Q]-H[Q]/2-ze,$e=ve(Ne,Be,ze),ct=Be.primary.prop,ut=Be.primary.oppositeCssProp,Et=ce?et[Q]/2+$e:Ae[ut]+Ae[Q]/2-et[ut];return c({},pe,(lt={},lt[ct]="100%",lt[ut]=x(Et,Pe,Me),lt))}var Ie=function(){function Ne(ze,lt,et){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=ze,this.config=lt,this.subjectsBounds=et}Ne.getSidesFromPlacementType=function(lt){var et=lt.split("-"),Ae=et[0],H=et[1],Q=he[Ae],ce;return H==="center"?ce=ye.center:Q.isHorizontal?ce=H==="start"?ye.top:ye.bottom:ce=H==="start"?ye.left:ye.right,[Q,ce]},Ne.create=function(lt,et){var Ae={arrow:et.arrowOffset,container:et.containerOffset,trigger:et.triggerOffset};function H(Q){Q===void 0&&(Q=et.placement);var ce=Ne.getSidesFromPlacementType(Q),Pe=ce[0],Me=ce[1],$e=he[Pe.isHorizontal?et.preferY:et.preferX],ct=!Pe.isHorizontal&&lt.triggerHasBiggerWidth||Pe.isHorizontal&&lt.triggerHasBiggerHeight;function ut(Nt,$t){return new le(Nt,$t,lt,et.layerDimensions,Ae)}var Et=[];return Et[0]=ut(Pe,Me),Et[1]=ut(Pe,Me.isCenter?$e:ye.center),Et[2]=ut(Pe,ye[(Me.opposite.isCenter?$e.opposite:Me.opposite).prop]),Et[3]=ut($e,ct?Pe:ye[Pe.opposite.prop]),Et[4]=ut($e,ye.center),Et[5]=ut($e,ct?ye[Pe.opposite.prop]:Pe),Et[6]=ut(he[$e.opposite.prop],ct?Pe:ye[Pe.opposite.prop]),Et[7]=ut(he[$e.opposite.prop],ye.center),Et[8]=ut(he[$e.opposite.prop],ct?ye[Pe.opposite.prop]:Pe),Et[9]=ut(he[Pe.opposite.prop],Me),Et[10]=ut(he[Pe.opposite.prop],Me.isCenter?$e:ye.center),Et[11]=ut(he[Pe.opposite.prop],ye[(Me.opposite.isCenter?$e.opposite:Me.opposite).prop]),Et=Et.filter(function(Nt){return Nt.type===et.placement||et.possiblePlacements.includes(Nt.type)}),Et}return et.placement==="center"?new Ne([new Ee(ye.center,ye.center,lt,et.layerDimensions,Ae)].concat(H(et.preferY+"-"+et.preferX)),et,lt):new Ne(H(),et,lt)};var Be=Ne.prototype;return Be.filterPlacementsBySide=function(lt){return this.placements.filter(function(et){return et.primary===lt})},Be.findFirstPlacementThatFits=function(){return this.placements.find(function(lt){return lt.fitsContainer})},Be.placementWithBiggestVisibleSurface=function(){var lt=this.placements.map(function(Ae){return{placement:Ae,surface:Ae.visibleSurface}}).sort(function(Ae,H){return H.surface-Ae.surface}),et=lt[0].placement;return et},Be.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},Be.getSecondaryOffset=function(lt){var et=this.config,Ae=et.auto,H=et.snap;if(!Ae||H||lt instanceof Ee)return 0;var Q=this.filterPlacementsBySide(lt.primary),ce=Q.indexOf(lt)===0;if(ce&&lt.fitsContainer)return 0;var Pe=Q.find(function(Nt){return!Nt.fitsContainer});if(!Pe)return 0;var Me=Pe.secondaryOffsetSide;if(!Me)return 0;var $e=lt.getContainerOffsets(),ct=lt.secondary,ut;lt.triggerIsBigger||Pe===lt?ut=Me.isPush?-1:1:ut=ct===ye.left||[ye.top,ye.center].includes(ct)&&Me.isPush?-1:1;var Et=$e[Me.prop];return Et*ut},Be.getStyles=function(lt,et,Ae,H){var Q={willChange:"top, left, width, height"},ce=me(this.subjectsBounds.merge({layer:lt}),et,this.config.arrowOffset),Pe=this.config.overflowContainer?c({},Q,{position:"fixed",top:lt.top,left:lt.left}):c({},Q,{position:"absolute",top:lt.top-this.subjectsBounds.parent.top+Ae.top-H.top,left:lt.left-this.subjectsBounds.parent.left+Ae.left-H.left});return{arrow:ce,layer:Pe}},Be.getHasDisappeared=function(lt){var et=this.config.overflowContainer?this.subjectsBounds.trigger:lt,Ae=ae.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(et,!0)),H=Object.entries(Ae.negativeSides),Q=H.some(function(ce){var Pe=ce[0],Me=ce[1],$e=he[Pe];return Me<=-et[$e.sizeProp]});return Q?"full":Ae.allSidesArePositive?null:"partial"},Be.result=function(lt,et){var Ae=this.findSuitablePlacement(),H=this.getSecondaryOffset(Ae),Q=Ae.getLayerBounds(H),ce=this.getStyles(Q,Ae,lt,et),Pe=Ae.primary.prop;return{styles:ce,layerSide:Pe,placement:Ae,layerBounds:Q,hasDisappeared:this.getHasDisappeared(Q)}},Ne}(),_e=function(){function Ne(ze,lt){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=lt,Object.assign(this,ze)}Ne.create=function(lt,et,Ae,H,Q,ce,Pe,Me){var $e=se.fromWindow(lt);return new Ne({layer:se.fromElement(et,{environment:lt,withTransform:!1}),trigger:Me?se.create(G(Me())):se.fromElement(Ae),arrow:Q?se.fromElement(Q):se.empty(),parent:H?se.fromElement(H):$e,window:$e,scrollContainers:[$e].concat(ce.map(function(ct){return se.fromElement(ct,{withScrollbars:!1})}))},Pe)};var Be=Ne.prototype;return Be.merge=function(lt){return new Ne(c({},this,lt),this.overflowContainer)},Be.offsetsToScrollContainers=function(lt,et){et===void 0&&(et=!1);var Ae=this.overflowContainer&&!et?[this.window]:this.scrollContainers;return Ae.map(function(H){return H.offsetsTo(lt)})},u(Ne,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),Ne}(),de=null;function Re(Ne){typeof document!="undefined"&&(typeof Ne=="function"?de=Ne():typeof Ne=="string"?de=document.getElementById(Ne):de=Ne)}var ke={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:ne,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function Ve(Ne){var Be,ze=Ne.isOpen,lt=ze===void 0?!1:ze,et=Ne.overflowContainer,Ae=et===void 0?ke.overflowContainer:et,H=Ne.environment,Q=H===void 0?typeof window!="undefined"?window:void 0:H,ce=Ne.ResizeObserver,Pe=Ne.placement,Me=Pe===void 0?ke.placement:Pe,$e=Ne.possiblePlacements,ct=$e===void 0?ke.possiblePlacements:$e,ut=Ne.preferX,Et=ut===void 0?ke.preferX:ut,Nt=Ne.preferY,$t=Nt===void 0?ke.preferY:Nt,Nn=Ne.auto,Vt=Nn===void 0?ke.auto:Nn,rr=Ne.snap,Tr=rr===void 0?ke.snap:rr,cr=Ne.triggerOffset,Lr=cr===void 0?ke.triggerOffset:cr,Br=Ne.containerOffset,Cr=Br===void 0?ke.containerOffset:Br,Dt=Ne.arrowOffset,Ft=Dt===void 0?ke.arrowOffset:Dt,zt=Ne.container,sn=zt===void 0?ke.container:zt,Un=Ne.layerDimensions,gr=Un===void 0?null:Un,Dr=Ne.onDisappear,Fr=Ne.onOutsideClick,jr=Ne.onParentClose,kr=Ne.trigger,uo=(0,o.useState)(function(){return{layerSide:Me==="center"?"center":Ie.getSidesFromPlacementType(Me)[0].prop,styles:{layer:{position:Ae?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),to=uo[0],ao=uo[1],Ur=(0,o.useRef)(null),_o=d(to,lt),fo=(0,o.useRef)({cancelled:!1});(0,o.useEffect)(function(){return function(){fo.current.cancelled=!0}},[]);var no=(0,o.useCallback)(function(Tt,Lt,Yt){var ln=Tt.arrow,hn=Tt.layer,Dn=Tt.scrollContainers,an=Tt.trigger,Mn=Dn[0],Jn=_e.create(Q,hn,an,Mn,ln,Dn,Ae,kr==null?void 0:kr.getBounds),pt={placement:Me,possiblePlacements:ct,auto:Vt,layerDimensions:gr,arrowOffset:Ft,containerOffset:Cr,triggerOffset:Lr,preferX:Et,preferY:$t,snap:Tr,overflowContainer:Ae},Mt=Ie.create(Jn,pt).result(Lt,Yt),Kt=Mt.hasDisappeared,qt=Mt.layerSide,mn=Mt.styles,En={layerSide:qt,styles:mn};if(!_o.current||Ge(_o.current,En)){_o.current=En,fo.current.cancelled=!0;var wn={cancelled:!1};fo.current=wn,Promise.resolve().then(function(){wn.cancelled||ao(En)})}M(Kt)&&M(Dr)&&Dr(Kt)},[Ft,Vt,Cr,Q,gr,Dr,Ae,Me,ct,Et,$t,Tr,Lr,_o,kr]),so=L({ResizeObserverPolyfill:ce,environment:Q,enabled:lt,overflowContainer:Ae,onChange:no,triggerOption:kr}),go=so.triggerRef,Zo=so.layerRef,Co=so.arrowRef,Oo=so.closestScrollContainer,vo=q({isOpen:lt,onOutsideClick:Fr,onParentClose:jr}),on=vo.closeOnOutsideClickRefs,On=vo.registrations,Tn={triggerProps:kr?{}:{ref:N(go,on.trigger,Ur)},layerProps:{ref:N(Zo,on.layer),style:to.styles.layer},arrowProps:{ref:Co,style:to.styles.arrow,layerSide:to.layerSide},layerSide:to.layerSide,triggerBounds:lt?kr?kr.getBounds():(Be=Ur.current)==null?void 0:Be.getBoundingClientRect():null,renderLayer:function(Tt){return typeof document!="undefined"?(0,o.createPortal)((0,o.createElement)(Z,{registrations:On,children:Tt}),Ae||!Oo?bt(sn):Oo):null}};return Tn}function Ge(Ne,Be){if(Ne.layerSide!==Be.layerSide)return!0;for(var ze=["position","top","left","right","bottom"],lt=0,et=ze;lt<et.length;lt++){var Ae=et[lt];if(Ne.styles.layer[Ae]!==Be.styles.layer[Ae]||Ne.styles.arrow[Ae]!==Be.styles.arrow[Ae])return!0}return!1}var Qe="layers";function bt(Ne){var Be;if(typeof Ne=="function"){if(Be=Ne(),!Be||!(Be instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(Ne instanceof HTMLElement)Be=Ne;else if(typeof Ne=="string"){if(Be=document.getElementById(Ne),!Be)throw new Error("react-laag: You've passed element with id '"+Ne+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(de instanceof HTMLElement)return de;Be=document.getElementById(Qe),Be||(Be=document.createElement("div"),Be.id=Qe,Be.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Be))}return Be}var Ce=null,We="left",xe="top",rt="bottom",Je="right";function ft(Ne,Be){return Math.tan(Ne*(Math.PI/180))*Be}function je(Ne,Be,ze,lt){var et,Ae=(et={},et[rt]="0 "+-lt+" "+Be+" "+Ne,et[xe]="0 0 "+Be+" "+(Ne+lt),et[Je]=-lt+" 0 "+Ne+" "+Be,et[We]="0 0 "+(Ne+lt)+" "+Be,et);return Ae[ze.prop]}function Rt(Ne,Be,ze,lt,et){var Ae,H,Q,ce=lt/10*Ne*2,Pe=(Ae={},Ae[rt]=[0,Ne],Ae[xe]=[0,0],Ae[Je]=[Ne,Be],Ae[We]=[0,Be],Ae)[ze.prop].join(" "),Me=ze.isHorizontal?"V 0":"H "+Be,$e=Be/2,ct=Be/2+ft(et,Ne/8),ut=Ne/8,Et=(H={},H[rt]=["C",ct,ut,$e+ce,0,$e,0],H[xe]=["C",ct,Ne-ut,$e+ce,Ne,$e,Ne],H[Je]=["C",ut,Be-ct,0,$e-ce,0,$e],H[We]=["C",Ne-ut,Be-ct,Ne,$e-ce,Ne,$e],H)[ze.prop].join(" "),Nt=Be/2-ft(et,Ne/8),$t=Ne/8,Nn=(Q={},Q[rt]=["C",$e-ce,0,Nt,$t,Pe],Q[xe]=["C",$e-ce,Ne,Nt,Ne-$t,Pe],Q[Je]=["C",0,$e+ce,$t,Be-Nt,Pe],Q[We]=["C",Ne,$e+ce,Ne-$t,Be-Nt,Pe],Q)[ze.prop].join(" ");return["M",Pe,Me,Et,Nn].join(" ")}function Jt(Ne,Be,ze,lt,et){var Ae=ft(et,ze),H=lt.isPush?[0,ze]:[Ne,Ne-ze],Q=H[0],ce=H[1];return lt.isHorizontal?["M",Q,ze,"V",Be-ze,"L",ce,Be-ze-Ae,"V",Ae+ze,"Z"].join(" "):["M",ze,Q,"H",Be-ze,"L",Be-ze-Ae,ce,"H",Ae+ze,"Z"].join(" ")}var Ct=null,Le;(function(Ne){Ne[Ne.ENTERING=0]="ENTERING",Ne[Ne.LEAVING=1]="LEAVING",Ne[Ne.IDLE=2]="IDLE"})(Le||(Le={}));function He(Ne){var Be=Ne===void 0?{}:Ne,ze=Be.delayEnter,lt=ze===void 0?0:ze,et=Be.delayLeave,Ae=et===void 0?0:et,H=Be.hideOnScroll,Q=H===void 0?!0:H,ce=(0,o.useState)(!1),Pe=ce[0],Me=ce[1],$e=(0,o.useRef)(null),ct=(0,o.useRef)(Le.IDLE),ut=(0,o.useRef)(!1),Et=(0,o.useCallback)(function(){clearTimeout($e.current),$e.current=null,ct.current=Le.IDLE},[]);function Nt(){ct.current===Le.LEAVING&&$e.current&&Et(),!Pe&&(ct.current=Le.ENTERING,$e.current=window.setTimeout(function(){Me(!0),$e.current=null,ct.current=Le.IDLE},lt))}function $t(Vt,rr){if(ct.current===Le.ENTERING&&$e.current&&Et(),!!Pe){if(rr){Me(!1),$e.current=null,ct.current=Le.IDLE;return}ct.current=Le.LEAVING,$e.current=window.setTimeout(function(){Me(!1),$e.current=null,ct.current=Le.IDLE},Ae)}}(0,o.useEffect)(function(){function Vt(){Pe&&Q&&(Et(),Me(!1))}return window.addEventListener("scroll",Vt,!0),function(){window.removeEventListener("scroll",Vt,!0),$e.current&&clearTimeout($e.current)}},[Pe,Q,Et]);var Nn={onMouseEnter:Nt,onMouseLeave:$t,onTouchStart:function(){ut.current=!1},onTouchMove:function(){ut.current=!0},onTouchEnd:function(){!ut.current&&!Pe&&Me(!0),ut.current=!1}};return[Pe,Nn,function(){return $t(null,!0)}]}function it(Ne){var Be=Ne.isOpen,ze=Ne.children,lt=useState({isOpenInternal:Be,isLeaving:!1}),et=lt[0],Ae=lt[1],H=useRef(!1);return useEffect(function(){Be?Ae({isOpenInternal:!0,isLeaving:!1}):H.current&&Ae({isOpenInternal:!1,isLeaving:!0})},[Be,Ae]),useEffect(function(){},[ze]),useEffect(function(){H.current=!0},[]),!Be&&!et.isOpenInternal&&!et.isLeaving?null:ze(et.isOpenInternal,function(){et.isOpenInternal||Ae(function(Q){return c({},Q,{isLeaving:!1})})},et.isLeaving)}},1852:function(z,l,e){(function(o,f){z.exports=f(e(98661))})(typeof self!="undefined"?self:this,function(o){return function(f){function u(g){if(c[g])return c[g].exports;var v=c[g]={i:g,l:!1,exports:{}};return f[g].call(v.exports,v,v.exports,u),v.l=!0,v.exports}var c={};return u.m=f,u.c=c,u.d=function(g,v,E){u.o(g,v)||Object.defineProperty(g,v,{configurable:!1,enumerable:!0,get:E})},u.n=function(g){var v=g&&g.__esModule?function(){return g.default}:function(){return g};return u.d(v,"a",v),v},u.o=function(g,v){return Object.prototype.hasOwnProperty.call(g,v)},u.p="",u(u.s=7)}([function(f,u,c){"use strict";function g(J,q){return T(J)||p(J,q)||E(J,q)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(J,q){if(J){if(typeof J=="string")return y(J,q);var ne=Object.prototype.toString.call(J).slice(8,-1);return ne==="Object"&&J.constructor&&(ne=J.constructor.name),ne==="Map"||ne==="Set"?Array.from(J):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?y(J,q):void 0}}function y(J,q){(q==null||q>J.length)&&(q=J.length);for(var ne=0,F=new Array(q);ne<q;ne++)F[ne]=J[ne];return F}function p(J,q){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(J)){var ne=[],F=!0,W=!1,ie=void 0;try{for(var he,ye=J[Symbol.iterator]();!(F=(he=ye.next()).done)&&(ne.push(he.value),!q||ne.length!==q);F=!0);}catch(fe){W=!0,ie=fe}finally{try{F||ye.return==null||ye.return()}finally{if(W)throw ie}}return ne}}function T(J){if(Array.isArray(J))return J}var O=c(1),I=c.n(O),S=c(8),_=c.n(S),d=c(2),s=c(10),w=c.n(s),P=c(3),x=c(6),M=function(J){return J.query||Object(P.a)(J)},N=function(J){if(!J)return null;var q=Object.keys(J);return q.length===0?null:q.reduce(function(ne,F){return ne[Object(d.a)(F)]=J[F],ne},{})},C=function(){var J=I.a.useRef(!1);return I.a.useEffect(function(){J.current=!0},[]),J.current},A=function(J){var q=I.a.useContext(x.a),ne=function(){return N(J)||N(q)},F=I.a.useState(ne),W=g(F,2),ie=W[0],he=W[1];return I.a.useEffect(function(){var ye=ne();w()(ie,ye)||he(ye)},[J,q]),ie},k=function(J){var q=function(){return M(J)},ne=I.a.useState(q),F=g(ne,2),W=F[0],ie=F[1];return I.a.useEffect(function(){var he=q();W!==he&&ie(he)},[J]),W},L=function(J,q){var ne=function(){return _()(J,q||{},!!q)},F=I.a.useState(ne),W=g(F,2),ie=W[0],he=W[1],ye=C();return I.a.useEffect(function(){return ye&&he(ne()),function(){ie.dispose()}},[J,q]),ie},K=function(J){var q=I.a.useState(J.matches),ne=g(q,2),F=ne[0],W=ne[1];return I.a.useEffect(function(){var ie=function(){W(J.matches)};return J.addListener(ie),ie(),function(){J.removeListener(ie)}},[J]),F},Z=function(J,q,ne){var F=A(q),W=k(J);if(!W)throw new Error("Invalid or missing MediaQuery!");var ie=L(W,F),he=K(ie),ye=C();return I.a.useEffect(function(){ye&&ne&&ne(he)},[he]),he};u.a=Z},function(f,u){f.exports=o},function(f,u,c){"use strict";function g(T){return"-"+T.toLowerCase()}function v(T){if(p.hasOwnProperty(T))return p[T];var O=T.replace(E,g);return p[T]=y.test(O)?"-"+O:O}var E=/[A-Z]/g,y=/^ms-/,p={};u.a=v},function(f,u,c){"use strict";var g=c(2),v=c(11),E=function(O){return"not ".concat(O)},y=function(O,I){var S=Object(g.a)(O);return typeof I=="number"&&(I="".concat(I,"px")),I===!0?S:I===!1?E(S):"(".concat(S,": ").concat(I,")")},p=function(O){return O.join(" and ")},T=function(O){var I=[];return Object.keys(v.a.all).forEach(function(S){var _=O[S];_!=null&&I.push(y(S,_))}),p(I)};u.a=T},function(f,u,c){"use strict";f.exports=c(13)},function(f,u,c){"use strict";f.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(f,u,c){"use strict";var g=c(1),v=c.n(g),E=v.a.createContext();u.a=E},function(f,u,c){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var g=c(0),v=c(17),E=c(3),y=c(6);c.d(u,"default",function(){return v.a}),c.d(u,"useMediaQuery",function(){return g.a}),c.d(u,"toQuery",function(){return E.a}),c.d(u,"Context",function(){return y.a})},function(f,u,c){"use strict";function g(p,T,O){function I(P){w&&w.addListener(P)}function S(P){w&&w.removeListener(P)}function _(P){s.matches=P.matches,s.media=P.media}function d(){w&&w.removeListener(_)}var s=this;if(y&&!O){var w=y.call(window,p);this.matches=w.matches,this.media=w.media,w.addListener(_)}else this.matches=E(p,T),this.media=p;this.addListener=I,this.removeListener=S,this.dispose=d}function v(p,T,O){return new g(p,T,O)}var E=c(9).match,y=typeof window!="undefined"?window.matchMedia:null;f.exports=v},function(f,u,c){"use strict";function g(d,s){return v(d).some(function(w){var P=w.inverse,x=w.type==="all"||s.type===w.type;if(x&&P||!x&&!P)return!1;var M=w.expressions.every(function(N){var C=N.feature,A=N.modifier,k=N.value,L=s[C];if(!L)return!1;switch(C){case"orientation":case"scan":return L.toLowerCase()===k.toLowerCase();case"width":case"height":case"device-width":case"device-height":k=p(k),L=p(L);break;case"resolution":k=y(k),L=y(L);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":k=E(k),L=E(L);break;case"grid":case"color":case"color-index":case"monochrome":k=parseInt(k,10)||1,L=parseInt(L,10)||0}switch(A){case"min":return L>=k;case"max":return L<=k;default:return L===k}});return M&&!P||!M&&P})}function v(d){return d.split(",").map(function(s){s=s.trim();var w=s.match(T),P=w[1],x=w[2],M=w[3]||"",N={};return N.inverse=!!P&&P.toLowerCase()==="not",N.type=x?x.toLowerCase():"all",M=M.match(/\([^\)]+\)/g)||[],N.expressions=M.map(function(C){var A=C.match(O),k=A[1].toLowerCase().match(I);return{modifier:k[1],feature:k[2],value:A[2]}}),N})}function E(d){var s,w=Number(d);return w||(s=d.match(/^(\d+)\s*\/\s*(\d+)$/),w=s[1]/s[2]),w}function y(d){var s=parseFloat(d);switch(String(d).match(_)[1]){case"dpcm":return s/2.54;case"dppx":return 96*s;default:return s}}function p(d){var s=parseFloat(d);switch(String(d).match(S)[1]){case"em":case"rem":return 16*s;case"cm":return 96*s/2.54;case"mm":return 96*s/2.54/10;case"in":return 96*s;case"pt":return 72*s;case"pc":return 72*s/12;default:return s}}u.match=g,u.parse=v;var T=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,O=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,I=/^(?:(min|max)-)?(.+)/,S=/(em|rem|px|cm|mm|in|pt|pc)?$/,_=/(dpi|dpcm|dppx)?$/},function(f,u,c){"use strict";function g(v,E){if(v===E)return!0;if(!v||!E)return!1;var y=Object.keys(v),p=Object.keys(E),T=y.length;if(p.length!==T)return!1;for(var O=0;O<T;O++){var I=y[O];if(v[I]!==E[I]||!Object.prototype.hasOwnProperty.call(E,I))return!1}return!0}f.exports=g},function(f,u,c){"use strict";function g(d,s){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);s&&(P=P.filter(function(x){return Object.getOwnPropertyDescriptor(d,x).enumerable})),w.push.apply(w,P)}return w}function v(d){for(var s=1;s<arguments.length;s++){var w=arguments[s]!=null?arguments[s]:{};s%2?g(Object(w),!0).forEach(function(P){E(d,P,w[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):g(Object(w)).forEach(function(P){Object.defineProperty(d,P,Object.getOwnPropertyDescriptor(w,P))})}return d}function E(d,s,w){return s in d?Object.defineProperty(d,s,{value:w,enumerable:!0,configurable:!0,writable:!0}):d[s]=w,d}var y=c(12),p=c.n(y),T=p.a.oneOfType([p.a.string,p.a.number]),O={orientation:p.a.oneOf(["portrait","landscape"]),scan:p.a.oneOf(["progressive","interlace"]),aspectRatio:p.a.string,deviceAspectRatio:p.a.string,height:T,deviceHeight:T,width:T,deviceWidth:T,color:p.a.bool,colorIndex:p.a.bool,monochrome:p.a.bool,resolution:T},I=v({minAspectRatio:p.a.string,maxAspectRatio:p.a.string,minDeviceAspectRatio:p.a.string,maxDeviceAspectRatio:p.a.string,minHeight:T,maxHeight:T,minDeviceHeight:T,maxDeviceHeight:T,minWidth:T,maxWidth:T,minDeviceWidth:T,maxDeviceWidth:T,minColor:p.a.number,maxColor:p.a.number,minColorIndex:p.a.number,maxColorIndex:p.a.number,minMonochrome:p.a.number,maxMonochrome:p.a.number,minResolution:T,maxResolution:T},O),S={all:p.a.bool,grid:p.a.bool,aural:p.a.bool,braille:p.a.bool,handheld:p.a.bool,print:p.a.bool,projection:p.a.bool,screen:p.a.bool,tty:p.a.bool,tv:p.a.bool,embossed:p.a.bool},_=v(v({},S),I);O.type=Object.keys(S),u.a={all:_,types:S,matchers:O,features:I}},function(f,u,c){var g=c(4);f.exports=c(14)(g.isElement,!0)},function(f,u,c){"use strict";(function(){function g(Ge){return typeof Ge=="string"||typeof Ge=="function"||Ge===A||Ge===q||Ge===L||Ge===k||Ge===F||Ge===W||typeof Ge=="object"&&Ge!==null&&(Ge.$$typeof===he||Ge.$$typeof===ie||Ge.$$typeof===K||Ge.$$typeof===Z||Ge.$$typeof===ne||Ge.$$typeof===fe||Ge.$$typeof===ae||Ge.$$typeof===oe||Ge.$$typeof===ye)}function v(Ge){if(typeof Ge=="object"&&Ge!==null){var Qe=Ge.$$typeof;switch(Qe){case N:var bt=Ge.type;switch(bt){case J:case q:case A:case L:case k:case F:return bt;default:var Ce=bt&&bt.$$typeof;switch(Ce){case Z:case ne:case he:case ie:case K:return Ce;default:return Qe}}case C:return Qe}}}function E(Ge){return Ve||(Ve=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),y(Ge)||v(Ge)===J}function y(Ge){return v(Ge)===q}function p(Ge){return v(Ge)===Z}function T(Ge){return v(Ge)===K}function O(Ge){return typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===N}function I(Ge){return v(Ge)===ne}function S(Ge){return v(Ge)===A}function _(Ge){return v(Ge)===he}function d(Ge){return v(Ge)===ie}function s(Ge){return v(Ge)===C}function w(Ge){return v(Ge)===L}function P(Ge){return v(Ge)===k}function x(Ge){return v(Ge)===F}var M=typeof Symbol=="function"&&Symbol.for,N=M?Symbol.for("react.element"):60103,C=M?Symbol.for("react.portal"):60106,A=M?Symbol.for("react.fragment"):60107,k=M?Symbol.for("react.strict_mode"):60108,L=M?Symbol.for("react.profiler"):60114,K=M?Symbol.for("react.provider"):60109,Z=M?Symbol.for("react.context"):60110,J=M?Symbol.for("react.async_mode"):60111,q=M?Symbol.for("react.concurrent_mode"):60111,ne=M?Symbol.for("react.forward_ref"):60112,F=M?Symbol.for("react.suspense"):60113,W=M?Symbol.for("react.suspense_list"):60120,ie=M?Symbol.for("react.memo"):60115,he=M?Symbol.for("react.lazy"):60116,ye=M?Symbol.for("react.block"):60121,fe=M?Symbol.for("react.fundamental"):60117,ae=M?Symbol.for("react.responder"):60118,oe=M?Symbol.for("react.scope"):60119,G=J,re=q,se=Z,le=K,Ee=N,ve=ne,pe=A,me=he,Ie=ie,_e=C,de=L,Re=k,ke=F,Ve=!1;u.AsyncMode=G,u.ConcurrentMode=re,u.ContextConsumer=se,u.ContextProvider=le,u.Element=Ee,u.ForwardRef=ve,u.Fragment=pe,u.Lazy=me,u.Memo=Ie,u.Portal=_e,u.Profiler=de,u.StrictMode=Re,u.Suspense=ke,u.isAsyncMode=E,u.isConcurrentMode=y,u.isContextConsumer=p,u.isContextProvider=T,u.isElement=O,u.isForwardRef=I,u.isFragment=S,u.isLazy=_,u.isMemo=d,u.isPortal=s,u.isProfiler=w,u.isStrictMode=P,u.isSuspense=x,u.isValidElementType=g,u.typeOf=v})()},function(f,u,c){"use strict";function g(){return null}var v=c(4),E=c(15),y=c(5),p=c(16),T=Function.call.bind(Object.prototype.hasOwnProperty),O=function(){};O=function(I){var S="Warning: "+I;typeof console!="undefined"&&console.error(S);try{throw new Error(S)}catch(_){}},f.exports=function(I,S){function _(fe){var ae=fe&&(W&&fe[W]||fe[ie]);if(typeof ae=="function")return ae}function d(fe,ae){return fe===ae?fe!==0||1/fe==1/ae:fe!==fe&&ae!==ae}function s(fe){this.message=fe,this.stack=""}function w(fe){function ae(se,le,Ee,ve,pe,me,Ie){if(ve=ve||he,me=me||Ee,Ie!==y){if(S){var _e=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw _e.name="Invariant Violation",_e}if(typeof console!="undefined"){var de=ve+":"+Ee;!oe[de]&&G<3&&(O("You are manually calling a React.PropTypes validation function for the `"+me+"` prop on `"+ve+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),oe[de]=!0,G++)}}return le[Ee]==null?se?new s(le[Ee]===null?"The "+pe+" `"+me+"` is marked as required in `"+ve+"`, but its value is `null`.":"The "+pe+" `"+me+"` is marked as required in `"+ve+"`, but its value is `undefined`."):null:fe(le,Ee,ve,pe,me)}var oe={},G=0,re=ae.bind(null,!1);return re.isRequired=ae.bind(null,!0),re}function P(fe){function ae(oe,G,re,se,le,Ee){var ve=oe[G];return J(ve)!==fe?new s("Invalid "+se+" `"+le+"` of type `"+q(ve)+"` supplied to `"+re+"`, expected `"+fe+"`."):null}return w(ae)}function x(fe){function ae(oe,G,re,se,le){if(typeof fe!="function")return new s("Property `"+le+"` of component `"+re+"` has invalid PropType notation inside arrayOf.");var Ee=oe[G];if(!Array.isArray(Ee))return new s("Invalid "+se+" `"+le+"` of type `"+J(Ee)+"` supplied to `"+re+"`, expected an array.");for(var ve=0;ve<Ee.length;ve++){var pe=fe(Ee,ve,re,se,le+"["+ve+"]",y);if(pe instanceof Error)return pe}return null}return w(ae)}function M(fe){function ae(oe,G,re,se,le){if(!(oe[G]instanceof fe)){var Ee=fe.name||he;return new s("Invalid "+se+" `"+le+"` of type `"+F(oe[G])+"` supplied to `"+re+"`, expected instance of `"+Ee+"`.")}return null}return w(ae)}function N(fe){function ae(oe,G,re,se,le){for(var Ee=oe[G],ve=0;ve<fe.length;ve++)if(d(Ee,fe[ve]))return null;var pe=JSON.stringify(fe,function(me,Ie){return q(Ie)==="symbol"?String(Ie):Ie});return new s("Invalid "+se+" `"+le+"` of value `"+String(Ee)+"` supplied to `"+re+"`, expected one of "+pe+".")}return Array.isArray(fe)?w(ae):(O(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),g)}function C(fe){function ae(oe,G,re,se,le){if(typeof fe!="function")return new s("Property `"+le+"` of component `"+re+"` has invalid PropType notation inside objectOf.");var Ee=oe[G],ve=J(Ee);if(ve!=="object")return new s("Invalid "+se+" `"+le+"` of type `"+ve+"` supplied to `"+re+"`, expected an object.");for(var pe in Ee)if(T(Ee,pe)){var me=fe(Ee,pe,re,se,le+"."+pe,y);if(me instanceof Error)return me}return null}return w(ae)}function A(fe){function ae(re,se,le,Ee,ve){for(var pe=0;pe<fe.length;pe++)if((0,fe[pe])(re,se,le,Ee,ve,y)==null)return null;return new s("Invalid "+Ee+" `"+ve+"` supplied to `"+le+"`.")}if(!Array.isArray(fe))return O("Invalid argument supplied to oneOfType, expected an instance of array."),g;for(var oe=0;oe<fe.length;oe++){var G=fe[oe];if(typeof G!="function")return O("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ne(G)+" at index "+oe+"."),g}return w(ae)}function k(fe){function ae(oe,G,re,se,le){var Ee=oe[G],ve=J(Ee);if(ve!=="object")return new s("Invalid "+se+" `"+le+"` of type `"+ve+"` supplied to `"+re+"`, expected `object`.");for(var pe in fe){var me=fe[pe];if(me){var Ie=me(Ee,pe,re,se,le+"."+pe,y);if(Ie)return Ie}}return null}return w(ae)}function L(fe){function ae(oe,G,re,se,le){var Ee=oe[G],ve=J(Ee);if(ve!=="object")return new s("Invalid "+se+" `"+le+"` of type `"+ve+"` supplied to `"+re+"`, expected `object`.");var pe=E({},oe[G],fe);for(var me in pe){var Ie=fe[me];if(!Ie)return new s("Invalid "+se+" `"+le+"` key `"+me+"` supplied to `"+re+"`.\nBad object: "+JSON.stringify(oe[G],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(fe),null,"  "));var _e=Ie(Ee,me,re,se,le+"."+me,y);if(_e)return _e}return null}return w(ae)}function K(fe){switch(typeof fe){case"number":case"string":case"undefined":return!0;case"boolean":return!fe;case"object":if(Array.isArray(fe))return fe.every(K);if(fe===null||I(fe))return!0;var ae=_(fe);if(!ae)return!1;var oe,G=ae.call(fe);if(ae!==fe.entries){for(;!(oe=G.next()).done;)if(!K(oe.value))return!1}else for(;!(oe=G.next()).done;){var re=oe.value;if(re&&!K(re[1]))return!1}return!0;default:return!1}}function Z(fe,ae){return fe==="symbol"||!!ae&&(ae["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ae instanceof Symbol)}function J(fe){var ae=typeof fe;return Array.isArray(fe)?"array":fe instanceof RegExp?"object":Z(ae,fe)?"symbol":ae}function q(fe){if(fe==null)return""+fe;var ae=J(fe);if(ae==="object"){if(fe instanceof Date)return"date";if(fe instanceof RegExp)return"regexp"}return ae}function ne(fe){var ae=q(fe);switch(ae){case"array":case"object":return"an "+ae;case"boolean":case"date":case"regexp":return"a "+ae;default:return ae}}function F(fe){return fe.constructor&&fe.constructor.name?fe.constructor.name:he}var W=typeof Symbol=="function"&&Symbol.iterator,ie="@@iterator",he="<<anonymous>>",ye={array:P("array"),bool:P("boolean"),func:P("function"),number:P("number"),object:P("object"),string:P("string"),symbol:P("symbol"),any:function(){return w(g)}(),arrayOf:x,element:function(){function fe(ae,oe,G,re,se){var le=ae[oe];return I(le)?null:new s("Invalid "+re+" `"+se+"` of type `"+J(le)+"` supplied to `"+G+"`, expected a single ReactElement.")}return w(fe)}(),elementType:function(){function fe(ae,oe,G,re,se){var le=ae[oe];return v.isValidElementType(le)?null:new s("Invalid "+re+" `"+se+"` of type `"+J(le)+"` supplied to `"+G+"`, expected a single ReactElement type.")}return w(fe)}(),instanceOf:M,node:function(){function fe(ae,oe,G,re,se){return K(ae[oe])?null:new s("Invalid "+re+" `"+se+"` supplied to `"+G+"`, expected a ReactNode.")}return w(fe)}(),objectOf:C,oneOf:N,oneOfType:A,shape:k,exact:L};return s.prototype=Error.prototype,ye.checkPropTypes=p,ye.resetWarningCache=p.resetWarningCache,ye.PropTypes=ye,ye}},function(f,u,c){"use strict";function g(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;f.exports=function(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var T={},O=0;O<10;O++)T["_"+String.fromCharCode(O)]=O;if(Object.getOwnPropertyNames(T).map(function(S){return T[S]}).join("")!=="0123456789")return!1;var I={};return"abcdefghijklmnopqrst".split("").forEach(function(S){I[S]=S}),Object.keys(Object.assign({},I)).join("")==="abcdefghijklmnopqrst"}catch(S){return!1}}()?Object.assign:function(p,T){for(var O,I,S=g(p),_=1;_<arguments.length;_++){O=Object(arguments[_]);for(var d in O)E.call(O,d)&&(S[d]=O[d]);if(v){I=v(O);for(var s=0;s<I.length;s++)y.call(O,I[s])&&(S[I[s]]=O[I[s]])}}return S}},function(f,u,c){"use strict";function g(T,O,I,S,_){for(var d in T)if(p(T,d)){var s;try{if(typeof T[d]!="function"){var w=Error((S||"React class")+": "+I+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof T[d]+"`.");throw w.name="Invariant Violation",w}s=T[d](O,d,S,I,null,E)}catch(x){s=x}if(!s||s instanceof Error||v((S||"React class")+": type specification of "+I+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof s+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),s instanceof Error&&!(s.message in y)){y[s.message]=!0;var P=_?_():"";v("Failed "+I+" type: "+s.message+(P!=null?P:""))}}}var v=function(){},E=c(5),y={},p=Function.call.bind(Object.prototype.hasOwnProperty);v=function(T){var O="Warning: "+T;typeof console!="undefined"&&console.error(O);try{throw new Error(O)}catch(I){}},g.resetWarningCache=function(){y={}},f.exports=g},function(f,u,c){"use strict";function g(p,T){if(p==null)return{};var O,I,S=v(p,T);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);for(I=0;I<_.length;I++)O=_[I],T.indexOf(O)>=0||Object.prototype.propertyIsEnumerable.call(p,O)&&(S[O]=p[O])}return S}function v(p,T){if(p==null)return{};var O,I,S={},_=Object.keys(p);for(I=0;I<_.length;I++)O=_[I],T.indexOf(O)>=0||(S[O]=p[O]);return S}function E(p){var T=p.children,O=p.device,I=p.onChange,S=g(p,["children","device","onChange"]),_=Object(y.a)(S,O,I);return typeof T=="function"?T(_):_?T:null}u.a=E;var y=c(0)}])})},91036:(z,l,e)=>{const o=e(35106),f=e(22997),{klona:u}=e(23059),{isPlainObject:c}=e(10977),g=e(9996),v=e(79430),{parse:E}=e(50020),y=e(8575),p=["img","audio","video","picture","svg","object","map","iframe","embed"],T=["script","style"];function O(x,M){x&&Object.keys(x).forEach(function(N){M(x[N],N)})}function I(x,M){return{}.hasOwnProperty.call(x,M)}function S(x,M){const N=[];return O(x,function(C){M(C)&&N.push(C)}),N}function _(x){for(const M in x)if(I(x,M))return!1;return!0}function d(x){return x.map(function(M){if(!M.url)throw new Error("URL missing");return M.url+(M.w?` ${M.w}w`:"")+(M.h?` ${M.h}h`:"")+(M.d?` ${M.d}x`:"")}).join(", ")}z.exports=w;const s=/^[^\0\t\n\f\r /<=>]+$/;function w(x,M,N){let C="",A="";function k(me,Ie){const _e=this;this.tag=me,this.attribs=Ie||{},this.tagPosition=C.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(W.length){const de=W[W.length-1];de.text+=_e.text}},this.updateParentNodeMediaChildren=function(){W.length&&p.includes(this.tag)&&W[W.length-1].mediaChildren.push(this.tag)}}M?(M=Object.assign({},w.defaults,M),M.parser?M.parser=Object.assign({},P,M.parser):M.parser=P):(M=w.defaults,M.parser=P),T.forEach(function(me){M.allowedTags&&M.allowedTags.indexOf(me)>-1&&!M.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${me}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const L=M.nonTextTags||["script","style","textarea","option"];let K,Z;M.allowedAttributes&&(K={},Z={},O(M.allowedAttributes,function(me,Ie){K[Ie]=[];const _e=[];me.forEach(function(de){typeof de=="string"&&de.indexOf("*")>=0?_e.push(f(de).replace(/\\\*/g,".*")):K[Ie].push(de)}),Z[Ie]=new RegExp("^("+_e.join("|")+")$")}));const J={};O(M.allowedClasses,function(me,Ie){K&&(I(K,Ie)||(K[Ie]=[]),K[Ie].push("class")),J[Ie]=me});const q={};let ne;O(M.transformTags,function(me,Ie){let _e;typeof me=="function"?_e=me:typeof me=="string"&&(_e=w.simpleTransform(me)),Ie==="*"?ne=_e:q[Ie]=_e});let F,W,ie,he,ye,fe,ae=!1;G();const oe=new o.Parser({onopentag:function(me,Ie){if(M.enforceHtmlBoundary&&me==="html"&&G(),ye){fe++;return}const _e=new k(me,Ie);W.push(_e);let de=!1;const Re=!!_e.text;let ke;if(I(q,me)&&(ke=q[me](me,Ie),_e.attribs=Ie=ke.attribs,ke.text!==void 0&&(_e.innerText=ke.text),me!==ke.tagName&&(_e.name=me=ke.tagName,he[F]=ke.tagName)),ne&&(ke=ne(me,Ie),_e.attribs=Ie=ke.attribs,me!==ke.tagName&&(_e.name=me=ke.tagName,he[F]=ke.tagName)),(M.allowedTags&&M.allowedTags.indexOf(me)===-1||M.disallowedTagsMode==="recursiveEscape"&&!_(ie)||M.nestingLimit!=null&&F>=M.nestingLimit)&&(de=!0,ie[F]=!0,M.disallowedTagsMode==="discard"&&L.indexOf(me)!==-1&&(ye=!0,fe=1),ie[F]=!0),F++,de){if(M.disallowedTagsMode==="discard")return;A=C,C=""}C+="<"+me,(!K||I(K,me)||K["*"])&&O(Ie,function(Ve,Ge){if(!s.test(Ge)){delete _e.attribs[Ge];return}let Qe,bt=!1;if(!K||I(K,me)&&K[me].indexOf(Ge)!==-1||K["*"]&&K["*"].indexOf(Ge)!==-1||I(Z,me)&&Z[me].test(Ge)||Z["*"]&&Z["*"].test(Ge))bt=!0;else if(K&&K[me]){for(const Ce of K[me])if(c(Ce)&&Ce.name&&Ce.name===Ge){bt=!0;let We="";if(Ce.multiple===!0){const xe=Ve.split(" ");for(const rt of xe)Ce.values.indexOf(rt)!==-1&&(We===""?We=rt:We+=" "+rt)}else Ce.values.indexOf(Ve)>=0&&(We=Ve);Ve=We}}if(bt){if(M.allowedSchemesAppliedToAttributes.indexOf(Ge)!==-1&&se(me,Ve)){delete _e.attribs[Ge];return}if(me==="iframe"&&Ge==="src"){let Ce=!0;try{if(Qe=y.parse(Ve,!1,!0),Qe&&Qe.host===null&&Qe.protocol===null)Ce=I(M,"allowIframeRelativeUrls")?M.allowIframeRelativeUrls:!M.allowedIframeHostnames&&!M.allowedIframeDomains;else if(M.allowedIframeHostnames||M.allowedIframeDomains){const xe=(M.allowedIframeHostnames||[]).find(function(Je){return Je===Qe.hostname}),rt=(M.allowedIframeDomains||[]).find(function(Je){return Qe.hostname===Je||Qe.hostname.endsWith(`.${Je}`)});Ce=xe||rt}}catch(We){Ce=!1}if(!Ce){delete _e.attribs[Ge];return}}if(Ge==="srcset")try{if(Qe=v(Ve),Qe.forEach(function(Ce){se("srcset",Ce.url)&&(Ce.evil=!0)}),Qe=S(Qe,function(Ce){return!Ce.evil}),Qe.length)Ve=d(S(Qe,function(Ce){return!Ce.evil})),_e.attribs[Ge]=Ve;else{delete _e.attribs[Ge];return}}catch(Ce){delete _e.attribs[Ge];return}if(Ge==="class"){const Ce=J[me],We=J["*"];if(Ce&&We?Ve=pe(Ve,g(Ce,We)):Ve=pe(Ve,Ce||We),!Ve.length){delete _e.attribs[Ge];return}}if(Ge==="style")try{const Ce=E(me+" {"+Ve+"}"),We=le(Ce,M.allowedStyles);if(Ve=Ee(We),Ve.length===0){delete _e.attribs[Ge];return}}catch(Ce){delete _e.attribs[Ge];return}C+=" "+Ge,Ve&&Ve.length&&(C+='="'+re(Ve,!0)+'"')}else delete _e.attribs[Ge]}),M.selfClosing.indexOf(me)!==-1?C+=" />":(C+=">",_e.innerText&&!Re&&!M.textFilter&&(C+=re(_e.innerText),ae=!0)),de&&(C=A+re(C),A="")},ontext:function(me){if(ye)return;const Ie=W[W.length-1];let _e;if(Ie&&(_e=Ie.tag,me=Ie.innerText!==void 0?Ie.innerText:me),M.disallowedTagsMode==="discard"&&(_e==="script"||_e==="style"))C+=me;else{const de=re(me,!1);M.textFilter&&!ae?C+=M.textFilter(de,_e):ae||(C+=de)}if(W.length){const de=W[W.length-1];de.text+=me}},onclosetag:function(me){if(ye)if(fe--,!fe)ye=!1;else return;const Ie=W.pop();if(!Ie)return;ye=M.enforceHtmlBoundary?me==="html":!1,F--;const _e=ie[F];if(_e){if(delete ie[F],M.disallowedTagsMode==="discard"){Ie.updateParentNodeText();return}A=C,C=""}if(he[F]&&(me=he[F],delete he[F]),M.exclusiveFilter&&M.exclusiveFilter(Ie)){C=C.substr(0,Ie.tagPosition);return}if(Ie.updateParentNodeMediaChildren(),Ie.updateParentNodeText(),M.selfClosing.indexOf(me)!==-1){_e&&(C=A,A="");return}C+="</"+me+">",_e&&(C=A+re(C),A="")}},M.parser);return oe.write(x),oe.end(),C;function G(){C="",F=0,W=[],ie={},he={},ye=!1,fe=0}function re(me,Ie){return typeof me!="string"&&(me=me+""),M.parser.decodeEntities&&(me=me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ie&&(me=me.replace(/"/g,"&quot;"))),me=me.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ie&&(me=me.replace(/"/g,"&quot;")),me}function se(me,Ie){Ie=Ie.replace(/[\x00-\x20]+/g,""),Ie=Ie.replace(/<!--.*?-->/g,"");const _e=Ie.match(/^([a-zA-Z]+):/);if(!_e)return Ie.match(/^[/\\]{2}/)?!M.allowProtocolRelative:!1;const de=_e[1].toLowerCase();return I(M.allowedSchemesByTag,me)?M.allowedSchemesByTag[me].indexOf(de)===-1:!M.allowedSchemes||M.allowedSchemes.indexOf(de)===-1}function le(me,Ie){if(!Ie)return me;const _e=u(me),de=me.nodes[0];let Re;return Ie[de.selector]&&Ie["*"]?Re=g(Ie[de.selector],Ie["*"]):Re=Ie[de.selector]||Ie["*"],Re&&(_e.nodes[0].nodes=de.nodes.reduce(ve(Re),[])),_e}function Ee(me){return me.nodes[0].nodes.reduce(function(Ie,_e){return Ie.push(_e.prop+":"+_e.value),Ie},[]).join(";")}function ve(me){return function(Ie,_e){return I(me,_e.prop)&&me[_e.prop].some(function(Re){return Re.test(_e.value)})&&Ie.push(_e),Ie}}function pe(me,Ie){return Ie?(me=me.split(/\s+/),me.filter(function(_e){return Ie.indexOf(_e)!==-1}).join(" ")):me}}const P={decodeEntities:!0};w.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},w.simpleTransform=function(x,M,N){return N=N===void 0?!0:N,M=M||{},function(C,A){let k;if(N)for(k in M)A[k]=M[k];else A=M;return{tagName:x,attribs:A}}}},22997:z=>{"use strict";z.exports=l=>{if(typeof l!="string")throw new TypeError("Expected a string");return l.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var g=function(v,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var T in p)p.hasOwnProperty(T)&&(y[T]=p[T])},g(v,E)};return function(v,E){g(v,E);function y(){this.constructor=v}v.prototype=E===null?Object.create(E):(y.prototype=E.prototype,new y)}}(),f=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var u=f(e(90819)),c=function(g){o(v,g);function v(E){E===void 0&&(E={});var y=g.call(this,function(p){for(var T,O=[],I=1;I<arguments.length;I++)O[I-1]=arguments[I];y.events.push([p].concat(O)),y._cbs[p]&&(T=y._cbs)[p].apply(T,O)})||this;return y._cbs=E,y.events=[],y}return v.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},v.prototype.restart=function(){var E;this._cbs.onreset&&this._cbs.onreset();for(var y=0;y<this.events.length;y++){var p=this.events[y],T=p[0],O=p.slice(1);this._cbs[T]&&(E=this._cbs)[T].apply(E,O)}},v}(u.default);l.CollectingHandler=c},57613:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var s=function(w,P){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,M){x.__proto__=M}||function(x,M){for(var N in M)M.hasOwnProperty(N)&&(x[N]=M[N])},s(w,P)};return function(w,P){s(w,P);function x(){this.constructor=w}w.prototype=P===null?Object.create(P):(x.prototype=P.prototype,new x)}}(),f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},u=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var w={};if(s!=null)for(var P in s)Object.hasOwnProperty.call(s,P)&&(w[P]=s[P]);return w.default=s,w};Object.defineProperty(l,"__esModule",{value:!0});var c=f(e(47915)),g=u(e(89432)),v=e(16666),E=function(s){o(w,s);function w(P,x){var M=this;return typeof P=="object"&&P!==null&&(P=void 0,x=P),M=s.call(this,P,x)||this,M}return w.prototype.onend=function(){var P={},x=p(S,this.dom);if(x)if(x.name==="feed"){var M=x.children;P.type="atom",I(P,"id","id",M),I(P,"title","title",M);var N=O("href",p("link",M));N&&(P.link=N),I(P,"description","subtitle",M);var C=T("updated",M);C&&(P.updated=new Date(C)),I(P,"author","email",M,!0),P.items=y("entry",M).map(function(A){var k={},L=A.children;I(k,"id","id",L),I(k,"title","title",L);var K=O("href",p("link",L));K&&(k.link=K);var Z=T("summary",L)||T("content",L);Z&&(k.description=Z);var J=T("updated",L);return J&&(k.pubDate=new Date(J)),k})}else{var M=p("channel",x.children).children;P.type=x.name.substr(0,3),P.id="",I(P,"title","title",M),I(P,"link","link",M),I(P,"description","description",M);var C=T("lastBuildDate",M);C&&(P.updated=new Date(C)),I(P,"author","managingEditor",M,!0),P.items=y("item",x.children).map(function(L){var K={},Z=L.children;I(K,"id","guid",Z),I(K,"title","title",Z),I(K,"link","link",Z),I(K,"description","description",Z);var J=T("pubDate",Z);return J&&(K.pubDate=new Date(J)),K})}this.feed=P,this.handleCallback(x?null:Error("couldn't find root of feed"))},w}(c.default);l.FeedHandler=E;function y(s,w){return g.getElementsByTagName(s,w,!0)}function p(s,w){return g.getElementsByTagName(s,w,!0,1)[0]}function T(s,w,P){return P===void 0&&(P=!1),g.getText(g.getElementsByTagName(s,w,P,1)).trim()}function O(s,w){if(!w)return null;var P=w.attribs;return P[s]}function I(s,w,P,x,M){M===void 0&&(M=!1);var N=T(P,x,M);N&&(s[w]=N)}function S(s){return s==="rss"||s==="feed"||s==="rdf:RDF"}var _={xmlMode:!0};function d(s,w){w===void 0&&(w=_);var P=new E(w);return new v.Parser(P,w).end(s),P.feed}l.parseFeed=d},90819:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=function(){function o(f){this._func=f}return o.prototype.onattribute=function(f,u){this._func("onattribute",f,u)},o.prototype.oncdatastart=function(){this._func("oncdatastart")},o.prototype.oncdataend=function(){this._func("oncdataend")},o.prototype.ontext=function(f){this._func("ontext",f)},o.prototype.onprocessinginstruction=function(f,u){this._func("onprocessinginstruction",f,u)},o.prototype.oncomment=function(f){this._func("oncomment",f)},o.prototype.oncommentend=function(){this._func("oncommentend")},o.prototype.onclosetag=function(f){this._func("onclosetag",f)},o.prototype.onopentag=function(f,u){this._func("onopentag",f,u)},o.prototype.onopentagname=function(f){this._func("onopentagname",f)},o.prototype.onerror=function(f){this._func("onerror",f)},o.prototype.onend=function(){this._func("onend")},o.prototype.onparserinit=function(f){this._func("onparserinit",f)},o.prototype.onreset=function(){this._func("onreset")},o}();l.default=e},16666:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var S=function(_,d){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,w){s.__proto__=w}||function(s,w){for(var P in w)w.hasOwnProperty(P)&&(s[P]=w[P])},S(_,d)};return function(_,d){S(_,d);function s(){this.constructor=_}_.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}(),f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0});var u=f(e(10034)),c=e(17187),g=new Set(["input","option","optgroup","select","button","datalist","textarea"]),v=new Set(["p"]),E={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:v,h1:v,h2:v,h3:v,h4:v,h5:v,h6:v,select:g,input:g,output:g,button:g,datalist:g,textarea:g,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:v,article:v,aside:v,blockquote:v,details:v,div:v,dl:v,fieldset:v,figcaption:v,figure:v,footer:v,form:v,header:v,hr:v,main:v,nav:v,ol:v,pre:v,section:v,table:v,ul:v,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},y=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),T=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),O=/\s|\//,I=function(S){o(_,S);function _(d,s){var w=S.call(this)||this;return w._tagname="",w._attribname="",w._attribvalue="",w._attribs=null,w._stack=[],w._foreignContext=[],w.startIndex=0,w.endIndex=null,w.parseChunk=_.prototype.write,w.done=_.prototype.end,w._options=s||{},w._cbs=d||{},w._tagname="",w._attribname="",w._attribvalue="",w._attribs=null,w._stack=[],w._foreignContext=[],w.startIndex=0,w.endIndex=null,w._lowerCaseTagNames="lowerCaseTags"in w._options?!!w._options.lowerCaseTags:!w._options.xmlMode,w._lowerCaseAttributeNames="lowerCaseAttributeNames"in w._options?!!w._options.lowerCaseAttributeNames:!w._options.xmlMode,w._tokenizer=new(w._options.Tokenizer||u.default)(w._options,w),w._cbs.onparserinit&&w._cbs.onparserinit(w),w}return _.prototype._updatePosition=function(d){this.endIndex===null?this._tokenizer._sectionStart<=d?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-d:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},_.prototype.ontext=function(d){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(d)},_.prototype.onopentagname=function(d){if(this._lowerCaseTagNames&&(d=d.toLowerCase()),this._tagname=d,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(E,d))for(var s=void 0;E[d].has(s=this._stack[this._stack.length-1]);this.onclosetag(s));(this._options.xmlMode||!y.has(d))&&(this._stack.push(d),p.has(d)?this._foreignContext.push(!0):T.has(d)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(d),this._cbs.onopentag&&(this._attribs={})},_.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&y.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},_.prototype.onclosetag=function(d){if(this._updatePosition(1),this._lowerCaseTagNames&&(d=d.toLowerCase()),(p.has(d)||T.has(d))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!y.has(d))){var s=this._stack.lastIndexOf(d);if(s!==-1)if(this._cbs.onclosetag)for(s=this._stack.length-s;s--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=s;else d==="p"&&!this._options.xmlMode&&(this.onopentagname(d),this._closeCurrentTag())}else!this._options.xmlMode&&(d==="br"||d==="p")&&(this.onopentagname(d),this._closeCurrentTag())},_.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},_.prototype._closeCurrentTag=function(){var d=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===d&&(this._cbs.onclosetag&&this._cbs.onclosetag(d),this._stack.pop())},_.prototype.onattribname=function(d){this._lowerCaseAttributeNames&&(d=d.toLowerCase()),this._attribname=d},_.prototype.onattribdata=function(d){this._attribvalue+=d},_.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},_.prototype._getInstructionName=function(d){var s=d.search(O),w=s<0?d:d.substr(0,s);return this._lowerCaseTagNames&&(w=w.toLowerCase()),w},_.prototype.ondeclaration=function(d){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(d);this._cbs.onprocessinginstruction("!"+s,"!"+d)}},_.prototype.onprocessinginstruction=function(d){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(d);this._cbs.onprocessinginstruction("?"+s,"?"+d)}},_.prototype.oncomment=function(d){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(d),this._cbs.oncommentend&&this._cbs.oncommentend()},_.prototype.oncdata=function(d){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(d),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+d+"]]")},_.prototype.onerror=function(d){this._cbs.onerror&&this._cbs.onerror(d)},_.prototype.onend=function(){if(this._cbs.onclosetag)for(var d=this._stack.length;d>0;this._cbs.onclosetag(this._stack[--d]));this._cbs.onend&&this._cbs.onend()},_.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},_.prototype.parseComplete=function(d){this.reset(),this.end(d)},_.prototype.write=function(d){this._tokenizer.write(d)},_.prototype.end=function(d){this._tokenizer.end(d)},_.prototype.pause=function(){this._tokenizer.pause()},_.prototype.resume=function(){this._tokenizer.resume()},_}(c.EventEmitter);l.Parser=I},10034:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(l,"__esModule",{value:!0});var f=o(e(26)),u=o(e(59323)),c=o(e(29591)),g=o(e(2586));function v(F){return F===" "||F===`
`||F==="	"||F==="\f"||F==="\r"}function E(F,W,ie){var he=F.toLowerCase();return F===he?function(ye,fe){fe===he?ye._state=W:(ye._state=ie,ye._index--)}:function(ye,fe){fe===he||fe===F?ye._state=W:(ye._state=ie,ye._index--)}}function y(F,W){var ie=F.toLowerCase();return function(he,ye){ye===ie||ye===F?he._state=W:(he._state=3,he._index--)}}var p=E("C",23,16),T=E("D",24,16),O=E("A",25,16),I=E("T",26,16),S=E("A",27,16),_=y("R",34),d=y("I",35),s=y("P",36),w=y("T",37),P=E("R",39,1),x=E("I",40,1),M=E("P",41,1),N=E("T",42,1),C=y("Y",44),A=y("L",45),k=y("E",46),L=E("Y",48,1),K=E("L",49,1),Z=E("E",50,1),J=E("#",52,53),q=E("X",55,54),ne=function(){function F(W,ie){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=ie,this._xmlMode=!!(W&&W.xmlMode),this._decodeEntities=!!(W&&W.decodeEntities)}return F.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},F.prototype._stateText=function(W){W==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&W==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},F.prototype._stateBeforeTagName=function(W){W==="/"?this._state=5:W==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):W===">"||this._special!==1||v(W)?this._state=1:W==="!"?(this._state=15,this._sectionStart=this._index+1):W==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(W==="s"||W==="S")?31:3,this._sectionStart=this._index)},F.prototype._stateInTagName=function(W){(W==="/"||W===">"||v(W))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},F.prototype._stateBeforeClosingTagName=function(W){v(W)||(W===">"?this._state=1:this._special!==1?W==="s"||W==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},F.prototype._stateInClosingTagName=function(W){(W===">"||v(W))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},F.prototype._stateAfterClosingTagName=function(W){W===">"&&(this._state=1,this._sectionStart=this._index+1)},F.prototype._stateBeforeAttributeName=function(W){W===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):W==="/"?this._state=4:v(W)||(this._state=9,this._sectionStart=this._index)},F.prototype._stateInSelfClosingTag=function(W){W===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):v(W)||(this._state=8,this._index--)},F.prototype._stateInAttributeName=function(W){(W==="="||W==="/"||W===">"||v(W))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},F.prototype._stateAfterAttributeName=function(W){W==="="?this._state=11:W==="/"||W===">"?(this._cbs.onattribend(),this._state=8,this._index--):v(W)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},F.prototype._stateBeforeAttributeValue=function(W){W==='"'?(this._state=12,this._sectionStart=this._index+1):W==="'"?(this._state=13,this._sectionStart=this._index+1):v(W)||(this._state=14,this._sectionStart=this._index,this._index--)},F.prototype._stateInAttributeValueDoubleQuotes=function(W){W==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&W==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},F.prototype._stateInAttributeValueSingleQuotes=function(W){W==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&W==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},F.prototype._stateInAttributeValueNoQuotes=function(W){v(W)||W===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&W==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},F.prototype._stateBeforeDeclaration=function(W){this._state=W==="["?22:W==="-"?18:16},F.prototype._stateInDeclaration=function(W){W===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},F.prototype._stateInProcessingInstruction=function(W){W===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},F.prototype._stateBeforeComment=function(W){W==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},F.prototype._stateInComment=function(W){W==="-"&&(this._state=20)},F.prototype._stateAfterComment1=function(W){W==="-"?this._state=21:this._state=19},F.prototype._stateAfterComment2=function(W){W===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):W!=="-"&&(this._state=19)},F.prototype._stateBeforeCdata6=function(W){W==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},F.prototype._stateInCdata=function(W){W==="]"&&(this._state=29)},F.prototype._stateAfterCdata1=function(W){W==="]"?this._state=30:this._state=28},F.prototype._stateAfterCdata2=function(W){W===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):W!=="]"&&(this._state=28)},F.prototype._stateBeforeSpecial=function(W){W==="c"||W==="C"?this._state=33:W==="t"||W==="T"?this._state=43:(this._state=3,this._index--)},F.prototype._stateBeforeSpecialEnd=function(W){this._special===2&&(W==="c"||W==="C")?this._state=38:this._special===3&&(W==="t"||W==="T")?this._state=47:this._state=1},F.prototype._stateBeforeScript5=function(W){(W==="/"||W===">"||v(W))&&(this._special=2),this._state=3,this._index--},F.prototype._stateAfterScript5=function(W){W===">"||v(W)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},F.prototype._stateBeforeStyle4=function(W){(W==="/"||W===">"||v(W))&&(this._special=3),this._state=3,this._index--},F.prototype._stateAfterStyle4=function(W){W===">"||v(W)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},F.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var W=this._buffer.substring(this._sectionStart+1,this._index),ie=this._xmlMode?g.default:u.default;Object.prototype.hasOwnProperty.call(ie,W)&&(this._emitPartial(ie[W]),this._sectionStart=this._index+1)}},F.prototype._parseLegacyEntity=function(){var W=this._sectionStart+1,ie=this._index-W;for(ie>6&&(ie=6);ie>=2;){var he=this._buffer.substr(W,ie);if(Object.prototype.hasOwnProperty.call(c.default,he)){this._emitPartial(c.default[he]),this._sectionStart+=ie+1;return}else ie--}},F.prototype._stateInNamedEntity=function(W){W===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(W<"a"||W>"z")&&(W<"A"||W>"Z")&&(W<"0"||W>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?W!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},F.prototype._decodeNumericEntity=function(W,ie){var he=this._sectionStart+W;if(he!==this._index){var ye=this._buffer.substring(he,this._index),fe=parseInt(ye,ie);this._emitPartial(f.default(fe)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},F.prototype._stateInNumericEntity=function(W){W===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(W<"0"||W>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},F.prototype._stateInHexEntity=function(W){W===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(W<"a"||W>"f")&&(W<"A"||W>"F")&&(W<"0"||W>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},F.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},F.prototype.write=function(W){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=W,this._parse()},F.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var W=this._buffer.charAt(this._index);this._state===1?this._stateText(W):this._state===12?this._stateInAttributeValueDoubleQuotes(W):this._state===9?this._stateInAttributeName(W):this._state===19?this._stateInComment(W):this._state===8?this._stateBeforeAttributeName(W):this._state===3?this._stateInTagName(W):this._state===6?this._stateInClosingTagName(W):this._state===2?this._stateBeforeTagName(W):this._state===10?this._stateAfterAttributeName(W):this._state===13?this._stateInAttributeValueSingleQuotes(W):this._state===11?this._stateBeforeAttributeValue(W):this._state===5?this._stateBeforeClosingTagName(W):this._state===7?this._stateAfterClosingTagName(W):this._state===31?this._stateBeforeSpecial(W):this._state===20?this._stateAfterComment1(W):this._state===14?this._stateInAttributeValueNoQuotes(W):this._state===4?this._stateInSelfClosingTag(W):this._state===16?this._stateInDeclaration(W):this._state===15?this._stateBeforeDeclaration(W):this._state===21?this._stateAfterComment2(W):this._state===18?this._stateBeforeComment(W):this._state===32?this._stateBeforeSpecialEnd(W):this._state===38?P(this,W):this._state===39?x(this,W):this._state===40?M(this,W):this._state===33?_(this,W):this._state===34?d(this,W):this._state===35?s(this,W):this._state===36?w(this,W):this._state===37?this._stateBeforeScript5(W):this._state===41?N(this,W):this._state===42?this._stateAfterScript5(W):this._state===43?C(this,W):this._state===28?this._stateInCdata(W):this._state===44?A(this,W):this._state===45?k(this,W):this._state===46?this._stateBeforeStyle4(W):this._state===47?L(this,W):this._state===48?K(this,W):this._state===49?Z(this,W):this._state===50?this._stateAfterStyle4(W):this._state===17?this._stateInProcessingInstruction(W):this._state===53?this._stateInNamedEntity(W):this._state===22?p(this,W):this._state===51?J(this,W):this._state===23?T(this,W):this._state===24?O(this,W):this._state===29?this._stateAfterCdata1(W):this._state===30?this._stateAfterCdata2(W):this._state===25?I(this,W):this._state===26?S(this,W):this._state===27?this._stateBeforeCdata6(W):this._state===55?this._stateInHexEntity(W):this._state===54?this._stateInNumericEntity(W):this._state===52?q(this,W):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},F.prototype.pause=function(){this._running=!1},F.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},F.prototype.end=function(W){this._ended&&this._cbs.onerror(Error(".end() after done!")),W&&this.write(W),this._ended=!0,this._running&&this._finish()},F.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},F.prototype._handleTrailingData=function(){var W=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(W):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(W):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(W)},F.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},F.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},F.prototype._emitToken=function(W){this._cbs[W](this._getSection()),this._sectionStart=-1},F.prototype._emitPartial=function(W){this._baseState!==1?this._cbs.onattribdata(W):this._cbs.ontext(W)},F}();l.default=ne},35106:function(z,l,e){"use strict";function o(O){for(var I in O)l.hasOwnProperty(I)||(l[I]=O[I])}var f=this&&this.__importStar||function(O){if(O&&O.__esModule)return O;var I={};if(O!=null)for(var S in O)Object.hasOwnProperty.call(O,S)&&(I[S]=O[S]);return I.default=O,I};Object.defineProperty(l,"__esModule",{value:!0});var u=e(16666);l.Parser=u.Parser;var c=e(47915);l.DomHandler=c.DomHandler,l.DefaultHandler=c.DomHandler;function g(O,I){var S=new c.DomHandler(void 0,I);return new u.Parser(S,I).end(O),S.dom}l.parseDOM=g;function v(O,I,S){var _=new c.DomHandler(O,I,S);return new u.Parser(_,I)}l.createDomStream=v;var E=e(10034);l.Tokenizer=E.default;var y=f(e(99960));l.ElementType=y,l.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},o(e(57613)),o(e(18036)),o(e(16691));var p=f(e(89432));l.DomUtils=p;var T=e(57613);l.RssHandler=T.FeedHandler},10977:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(f){return Object.prototype.toString.call(f)==="[object Object]"}function o(f){var u,c;return e(f)===!1?!1:(u=f.constructor,u===void 0?!0:(c=u.prototype,!(e(c)===!1||c.hasOwnProperty("isPrototypeOf")===!1)))}l.isPlainObject=o},37478:(z,l,e)=>{"use strict";var o=e(40210),f=e(21924),u=e(70631),c=o("%TypeError%"),g=o("%WeakMap%",!0),v=o("%Map%",!0),E=f("WeakMap.prototype.get",!0),y=f("WeakMap.prototype.set",!0),p=f("WeakMap.prototype.has",!0),T=f("Map.prototype.get",!0),O=f("Map.prototype.set",!0),I=f("Map.prototype.has",!0),S=function(w,P){for(var x=w,M;(M=x.next)!==null;x=M)if(M.key===P)return x.next=M.next,M.next=w.next,w.next=M,M},_=function(w,P){var x=S(w,P);return x&&x.value},d=function(w,P,x){var M=S(w,P);M?M.value=x:w.next={key:P,next:w.next,value:x}},s=function(w,P){return!!S(w,P)};z.exports=function(){var P,x,M,N={assert:function(C){if(!N.has(C))throw new c("Side channel does not contain "+u(C))},get:function(C){if(g&&C&&(typeof C=="object"||typeof C=="function")){if(P)return E(P,C)}else if(v){if(x)return T(x,C)}else if(M)return _(M,C)},has:function(C){if(g&&C&&(typeof C=="object"||typeof C=="function")){if(P)return p(P,C)}else if(v){if(x)return I(x,C)}else if(M)return s(M,C);return!1},set:function(C,A){g&&C&&(typeof C=="object"||typeof C=="function")?(P||(P=new g),y(P,C,A)):v?(x||(x=new v),O(x,C,A)):(M||(M={key:{},next:null}),d(M,C,A))}};return N}},79546:(z,l,e)=>{var o=e(62195),f=[e(39627),e(58855),e(45580),e(8728)],u=[];z.exports=o.createStore(f,u)},62195:(z,l,e)=>{var o=e(69078),f=o.slice,u=o.pluck,c=o.each,g=o.bind,v=o.create,E=o.isList,y=o.isFunction,p=o.isObject;z.exports={createStore:I};var T={version:"2.0.12",enabled:!1,get:function(S,_){var d=this.storage.read(this._namespacePrefix+S);return this._deserialize(d,_)},set:function(S,_){return _===void 0?this.remove(S):(this.storage.write(this._namespacePrefix+S,this._serialize(_)),_)},remove:function(S){this.storage.remove(this._namespacePrefix+S)},each:function(S){var _=this;this.storage.each(function(d,s){S.call(_,_._deserialize(d),(s||"").replace(_._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(S){return this._namespacePrefix=="__storejs_"+S+"_"},createStore:function(){return I.apply(this,arguments)},addPlugin:function(S){this._addPlugin(S)},namespace:function(S){return I(this.storage,this.plugins,S)}};function O(){var S=typeof console=="undefined"?null:console;if(S){var _=S.warn?S.warn:S.log;_.apply(S,arguments)}}function I(S,_,d){d||(d=""),S&&!E(S)&&(S=[S]),_&&!E(_)&&(_=[_]);var s=d?"__storejs_"+d+"_":"",w=d?new RegExp("^"+s):null,P=/^[a-zA-Z0-9_\-]*$/;if(!P.test(d))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var x={_namespacePrefix:s,_namespaceRegexp:w,_testStorage:function(N){try{var C="__storejs__test__";N.write(C,C);var A=N.read(C)===C;return N.remove(C),A}catch(k){return!1}},_assignPluginFnProp:function(N,C){var A=this[C];this[C]=function(){var L=f(arguments,0),K=this;function Z(){if(A)return c(arguments,function(q,ne){L[ne]=q}),A.apply(K,L)}var J=[Z].concat(L);return N.apply(K,J)}},_serialize:function(N){return JSON.stringify(N)},_deserialize:function(N,C){if(!N)return C;var A="";try{A=JSON.parse(N)}catch(k){A=N}return A!==void 0?A:C},_addStorage:function(N){this.enabled||this._testStorage(N)&&(this.storage=N,this.enabled=!0)},_addPlugin:function(N){var C=this;if(E(N)){c(N,function(L){C._addPlugin(L)});return}var A=u(this.plugins,function(L){return N===L});if(!A){if(this.plugins.push(N),!y(N))throw new Error("Plugins must be function values that return objects");var k=N.call(this);if(!p(k))throw new Error("Plugins must return an object of function properties");c(k,function(L,K){if(!y(L))throw new Error("Bad plugin property: "+K+" from plugin "+N.name+". Plugins should only return functions.");C._assignPluginFnProp(L,K)})}},addStorage:function(N){O("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(N)}},M=v(x,T,{plugins:[]});return M.raw={},c(M,function(N,C){y(N)&&(M.raw[C]=g(M,N))}),c(S,function(N){M._addStorage(N)}),c(_,function(N){M._addPlugin(N)}),M}},69078:(z,l,e)=>{var o=g(),f=v(),u=E(),c=typeof window!="undefined"?window:e.g;z.exports={assign:o,create:f,trim:u,bind:y,slice:p,each:T,map:O,pluck:I,isList:S,isFunction:_,isObject:d,Global:c};function g(){return Object.assign?Object.assign:function(w,P,x,M){for(var N=1;N<arguments.length;N++)T(Object(arguments[N]),function(C,A){w[A]=C});return w}}function v(){if(Object.create)return function(P,x,M,N){var C=p(arguments,1);return o.apply(this,[Object.create(P)].concat(C))};{let w=function(){};var s=w;return function(x,M,N,C){var A=p(arguments,1);return w.prototype=x,o.apply(this,[new w].concat(A))}}}function E(){return String.prototype.trim?function(w){return String.prototype.trim.call(w)}:function(w){return w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function y(s,w){return function(){return w.apply(s,Array.prototype.slice.call(arguments,0))}}function p(s,w){return Array.prototype.slice.call(s,w||0)}function T(s,w){I(s,function(P,x){return w(P,x),!1})}function O(s,w){var P=S(s)?[]:{};return I(s,function(x,M){return P[M]=w(x,M),!1}),P}function I(s,w){if(S(s)){for(var P=0;P<s.length;P++)if(w(s[P],P))return s[P]}else for(var x in s)if(s.hasOwnProperty(x)&&w(s[x],x))return s[x]}function S(s){return s!=null&&typeof s!="function"&&typeof s.length=="number"}function _(s){return s&&{}.toString.call(s)==="[object Function]"}function d(s){return s&&{}.toString.call(s)==="[object Object]"}},45580:(z,l,e)=>{var o=e(69078),f=o.Global,u=o.trim;z.exports={name:"cookieStorage",read:g,write:E,each:v,remove:y,clearAll:p};var c=f.document;function g(O){if(!O||!T(O))return null;var I="(?:^|.*;\\s*)"+escape(O).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(c.cookie.replace(new RegExp(I),"$1"))}function v(O){for(var I=c.cookie.split(/; ?/g),S=I.length-1;S>=0;S--)if(u(I[S])){var _=I[S].split("="),d=unescape(_[0]),s=unescape(_[1]);O(s,d)}}function E(O,I){O&&(c.cookie=escape(O)+"="+escape(I)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function y(O){!O||!T(O)||(c.cookie=escape(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function p(){v(function(O,I){y(I)})}function T(O){return new RegExp("(?:^|;\\s*)"+escape(O).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}},39627:(z,l,e)=>{var o=e(69078),f=o.Global;z.exports={name:"localStorage",read:c,write:g,each:v,remove:E,clearAll:y};function u(){return f.localStorage}function c(p){return u().getItem(p)}function g(p,T){return u().setItem(p,T)}function v(p){for(var T=u().length-1;T>=0;T--){var O=u().key(T);p(c(O),O)}}function E(p){return u().removeItem(p)}function y(){return u().clear()}},8728:z=>{z.exports={name:"memoryStorage",read:e,write:o,each:f,remove:u,clearAll:c};var l={};function e(g){return l[g]}function o(g,v){l[g]=v}function f(g){for(var v in l)l.hasOwnProperty(v)&&g(l[v],v)}function u(g){delete l[g]}function c(g){l={}}},58855:(z,l,e)=>{var o=e(69078),f=o.Global;z.exports={name:"sessionStorage",read:c,write:g,each:v,remove:E,clearAll:y};function u(){return f.sessionStorage}function c(p){return u().getItem(p)}function g(p,T){return u().setItem(p,T)}function v(p){for(var T=u().length-1;T>=0;T--){var O=u().key(T);p(c(O),O)}}function E(p){return u().removeItem(p)}function y(){return u().clear()}},37903:z=>{"use strict";function l(v){return u(v)||f(v)||o(v)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(v,E){if(v){if(typeof v=="string")return c(v,E);var y=Object.prototype.toString.call(v).slice(8,-1);if(y==="Object"&&v.constructor&&(y=v.constructor.name),y==="Map"||y==="Set")return Array.from(v);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return c(v,E)}}function f(v){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(v))return Array.from(v)}function u(v){if(Array.isArray(v))return c(v)}function c(v,E){(E==null||E>v.length)&&(E=v.length);for(var y=0,p=new Array(E);y<E;y++)p[y]=v[y];return p}function g(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(v){g.prototype[v]=function(){for(var E=arguments.length,y=new Array(E),p=0;p<E;p++)y[p]=arguments[p];return this._defaults.push({fn:v,args:y}),this}}),g.prototype._setDefaults=function(v){this._defaults.forEach(function(E){v[E.fn].apply(v,l(E.args))})},z.exports=g},80569:(z,l,e)=>{"use strict";function o(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(A){return typeof A}:o=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},o(N)}var f;typeof window!="undefined"?f=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),f=void 0):f=self;var u=e(98767),c=e(4445),g=e(80129),v=e(28899),E=e(54960),y=e(81097),p=e(37903);function T(){}z.exports=function(N,C){return typeof C=="function"?new l.Request("GET",N).end(C):arguments.length===1?new l.Request("GET",N):new l.Request(N,C)},l=z.exports;var O=l;l.Request=x,O.getXHR=function(){if(f.XMLHttpRequest&&(!f.location||f.location.protocol!=="file:"||!f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(N){}throw new Error("Browser-only version of superagent could not find XHR")};var I="".trim?function(N){return N.trim()}:function(N){return N.replace(/(^\s*|\s*$)/g,"")};function S(N){if(!E(N))return N;var C=[];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&_(C,A,N[A]);return C.join("&")}function _(N,C,A){if(A!==void 0){if(A===null){N.push(encodeURI(C));return}if(Array.isArray(A))A.forEach(function(L){_(N,C,L)});else if(E(A))for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&_(N,"".concat(C,"[").concat(k,"]"),A[k]);else N.push(encodeURI(C)+"="+encodeURIComponent(A))}}O.serializeObject=S;function d(N){for(var C={},A=N.split("&"),k,L,K=0,Z=A.length;K<Z;++K)k=A[K],L=k.indexOf("="),L===-1?C[decodeURIComponent(k)]="":C[decodeURIComponent(k.slice(0,L))]=decodeURIComponent(k.slice(L+1));return C}O.parseString=d,O.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},O.serialize={"application/x-www-form-urlencoded":g.stringify,"application/json":c},O.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse};function s(N){for(var C=N.split(/\r?\n/),A={},k,L,K,Z,J=0,q=C.length;J<q;++J)L=C[J],k=L.indexOf(":"),k!==-1&&(K=L.slice(0,k).toLowerCase(),Z=I(L.slice(k+1)),A[K]=Z);return A}function w(N){return/[/+]json($|[^-\w])/i.test(N)}function P(N){this.req=N,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var C=this.xhr.status;C===1223&&(C=204),this._setStatusProperties(C),this.headers=s(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&N._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}y(P.prototype),P.prototype._parseBody=function(N){var C=O.parse[this.type];return this.req._parser?this.req._parser(this,N):(!C&&w(this.type)&&(C=O.parse["application/json"]),C&&N&&(N.length>0||N instanceof Object)?C(N):null)},P.prototype.toError=function(){var N=this.req,C=N.method,A=N.url,k="cannot ".concat(C," ").concat(A," (").concat(this.status,")"),L=new Error(k);return L.status=this.status,L.method=C,L.url=A,L},O.Response=P;function x(N,C){var A=this;this._query=this._query||[],this.method=N,this.url=C,this.header={},this._header={},this.on("end",function(){var k=null,L=null;try{L=new P(A)}catch(Z){return k=new Error("Parser is unable to parse the response"),k.parse=!0,k.original=Z,A.xhr?(k.rawResponse=typeof A.xhr.responseType=="undefined"?A.xhr.responseText:A.xhr.response,k.status=A.xhr.status?A.xhr.status:null,k.statusCode=k.status):(k.rawResponse=null,k.status=null),A.callback(k)}A.emit("response",L);var K;try{A._isResponseOK(L)||(K=new Error(L.statusText||L.text||"Unsuccessful HTTP response"))}catch(Z){K=Z}K?(K.original=k,K.response=L,K.status=L.status,A.callback(K,L)):A.callback(null,L)})}u(x.prototype),v(x.prototype),x.prototype.type=function(N){return this.set("Content-Type",O.types[N]||N),this},x.prototype.accept=function(N){return this.set("Accept",O.types[N]||N),this},x.prototype.auth=function(N,C,A){arguments.length===1&&(C=""),o(C)==="object"&&C!==null&&(A=C,C=""),A||(A={type:typeof btoa=="function"?"basic":"auto"});var k=function(K){if(typeof btoa=="function")return btoa(K);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(N,C,A,k)},x.prototype.query=function(N){return typeof N!="string"&&(N=S(N)),N&&this._query.push(N),this},x.prototype.attach=function(N,C,A){if(C){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(N,C,A||C.name)}return this},x.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},x.prototype.callback=function(N,C){if(this._shouldRetry(N,C))return this._retry();var A=this._callback;this.clearTimeout(),N&&(this._maxRetries&&(N.retries=this._retries-1),this.emit("error",N)),A(N,C)},x.prototype.crossDomainError=function(){var N=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);N.crossDomain=!0,N.status=this.status,N.method=this.method,N.url=this.url,this.callback(N)},x.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},x.prototype.ca=x.prototype.agent,x.prototype.buffer=x.prototype.ca,x.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},x.prototype.pipe=x.prototype.write,x.prototype._isHost=function(N){return N&&o(N)==="object"&&!Array.isArray(N)&&Object.prototype.toString.call(N)!=="[object Object]"},x.prototype.end=function(N){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=N||T,this._finalizeQueryString(),this._end()},x.prototype._setUploadTimeout=function(){var N=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){N._timeoutError("Upload timeout of ",N._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},x.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var N=this;this.xhr=O.getXHR();var C=this.xhr,A=this._formData||this._data;this._setTimeouts(),C.onreadystatechange=function(){var J=C.readyState;if(J>=2&&N._responseTimeoutTimer&&clearTimeout(N._responseTimeoutTimer),J===4){var q;try{q=C.status}catch(ne){q=0}if(!q)return N.timedout||N._aborted?void 0:N.crossDomainError();N.emit("end")}};var k=function(q,ne){ne.total>0&&(ne.percent=ne.loaded/ne.total*100,ne.percent===100&&clearTimeout(N._uploadTimeoutTimer)),ne.direction=q,N.emit("progress",ne)};if(this.hasListeners("progress"))try{C.addEventListener("progress",k.bind(null,"download")),C.upload&&C.upload.addEventListener("progress",k.bind(null,"upload"))}catch(J){}C.upload&&this._setUploadTimeout();try{this.username&&this.password?C.open(this.method,this.url,!0,this.username,this.password):C.open(this.method,this.url,!0)}catch(J){return this.callback(J)}if(this._withCredentials&&(C.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof A!="string"&&!this._isHost(A)){var L=this._header["content-type"],K=this._serializer||O.serialize[L?L.split(";")[0]:""];!K&&w(L)&&(K=O.serialize["application/json"]),K&&(A=K(A))}for(var Z in this.header)this.header[Z]!==null&&Object.prototype.hasOwnProperty.call(this.header,Z)&&C.setRequestHeader(Z,this.header[Z]);this._responseType&&(C.responseType=this._responseType),this.emit("request",this),C.send(typeof A=="undefined"?null:A)},O.agent=function(){return new p},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(N){p.prototype[N.toLowerCase()]=function(C,A){var k=new O.Request(N,C);return this._setDefaults(k),A&&k.end(A),k}}),p.prototype.del=p.prototype.delete,O.get=function(N,C,A){var k=O("GET",N);return typeof C=="function"&&(A=C,C=null),C&&k.query(C),A&&k.end(A),k},O.head=function(N,C,A){var k=O("HEAD",N);return typeof C=="function"&&(A=C,C=null),C&&k.query(C),A&&k.end(A),k},O.options=function(N,C,A){var k=O("OPTIONS",N);return typeof C=="function"&&(A=C,C=null),C&&k.send(C),A&&k.end(A),k};function M(N,C,A){var k=O("DELETE",N);return typeof C=="function"&&(A=C,C=null),C&&k.send(C),A&&k.end(A),k}O.del=M,O.delete=M,O.patch=function(N,C,A){var k=O("PATCH",N);return typeof C=="function"&&(A=C,C=null),C&&k.send(C),A&&k.end(A),k},O.post=function(N,C,A){var k=O("POST",N);return typeof C=="function"&&(A=C,C=null),C&&k.send(C),A&&k.end(A),k},O.put=function(N,C,A){var k=O("PUT",N);return typeof C=="function"&&(A=C,C=null),C&&k.send(C),A&&k.end(A),k}},54960:z=>{"use strict";function l(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(u){return typeof u}:l=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(o)}function e(o){return o!==null&&l(o)==="object"}z.exports=e},28899:(z,l,e)=>{"use strict";function o(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(p){return typeof p}:o=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},o(E)}var f=e(54960);z.exports=u;function u(E){if(E)return c(E)}function c(E){for(var y in u.prototype)Object.prototype.hasOwnProperty.call(u.prototype,y)&&(E[y]=u.prototype[y]);return E}u.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},u.prototype.parse=function(E){return this._parser=E,this},u.prototype.responseType=function(E){return this._responseType=E,this},u.prototype.serialize=function(E){return this._serializer=E,this},u.prototype.timeout=function(E){if(!E||o(E)!=="object")return this._timeout=E,this._responseTimeout=0,this._uploadTimeout=0,this;for(var y in E)if(Object.prototype.hasOwnProperty.call(E,y))switch(y){case"deadline":this._timeout=E.deadline;break;case"response":this._responseTimeout=E.response;break;case"upload":this._uploadTimeout=E.upload;break;default:console.warn("Unknown timeout option",y)}return this},u.prototype.retry=function(E,y){return(arguments.length===0||E===!0)&&(E=1),E<=0&&(E=0),this._maxRetries=E,this._retries=0,this._retryCallback=y,this};var g=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),v=new Set([408,413,429,500,502,503,504,521,522,524]);u.prototype._shouldRetry=function(E,y){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var p=this._retryCallback(E,y);if(p===!0)return!0;if(p===!1)return!1}catch(T){console.error(T)}return!!(y&&y.status&&v.has(y.status)||E&&(E.code&&g.has(E.code)||E.timeout&&E.code==="ECONNABORTED"||E.crossDomain))},u.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},u.prototype.then=function(E,y){var p=this;if(!this._fullfilledPromise){var T=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(O,I){T.on("abort",function(){if(!(p._maxRetries&&p._maxRetries>p._retries)){if(p.timedout&&p.timedoutError){I(p.timedoutError);return}var S=new Error("Aborted");S.code="ABORTED",S.status=p.status,S.method=p.method,S.url=p.url,I(S)}}),T.end(function(S,_){S?I(S):O(_)})})}return this._fullfilledPromise.then(E,y)},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.use=function(E){return E(this),this},u.prototype.ok=function(E){if(typeof E!="function")throw new Error("Callback required");return this._okCallback=E,this},u.prototype._isResponseOK=function(E){return E?this._okCallback?this._okCallback(E):E.status>=200&&E.status<300:!1},u.prototype.get=function(E){return this._header[E.toLowerCase()]},u.prototype.getHeader=u.prototype.get,u.prototype.set=function(E,y){if(f(E)){for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&this.set(p,E[p]);return this}return this._header[E.toLowerCase()]=y,this.header[E]=y,this},u.prototype.unset=function(E){return delete this._header[E.toLowerCase()],delete this.header[E],this},u.prototype.field=function(E,y){if(E==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(f(E)){for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&this.field(p,E[p]);return this}if(Array.isArray(y)){for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&this.field(E,y[T]);return this}if(y==null)throw new Error(".field(name, val) val can not be empty");return typeof y=="boolean"&&(y=String(y)),this._getFormData().append(E,y),this},u.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},u.prototype._auth=function(E,y,p,T){switch(p.type){case"basic":this.set("Authorization","Basic ".concat(T("".concat(E,":").concat(y))));break;case"auto":this.username=E,this.password=y;break;case"bearer":this.set("Authorization","Bearer ".concat(E));break;default:break}return this},u.prototype.withCredentials=function(E){return E===void 0&&(E=!0),this._withCredentials=E,this},u.prototype.redirects=function(E){return this._maxRedirects=E,this},u.prototype.maxResponseSize=function(E){if(typeof E!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=E,this},u.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},u.prototype.send=function(E){var y=f(E),p=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(y&&!this._data)Array.isArray(E)?this._data=[]:this._isHost(E)||(this._data={});else if(E&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(y&&f(this._data))for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(this._data[T]=E[T]);else typeof E=="string"?(p||this.type("form"),p=this._header["content-type"],p&&(p=p.toLowerCase().trim()),p==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(E):E:this._data=(this._data||"")+E):this._data=E;return!y||this._isHost(E)?this:(p||this.type("json"),this)},u.prototype.sortQuery=function(E){return this._sort=typeof E=="undefined"?!0:E,this},u.prototype._finalizeQueryString=function(){var E=this._query.join("&");if(E&&(this.url+=(this.url.includes("?")?"&":"?")+E),this._query.length=0,this._sort){var y=this.url.indexOf("?");if(y>=0){var p=this.url.slice(y+1).split("&");typeof this._sort=="function"?p.sort(this._sort):p.sort(),this.url=this.url.slice(0,y)+"?"+p.join("&")}}},u.prototype._appendQueryString=function(){console.warn("Unsupported")},u.prototype._timeoutError=function(E,y,p){if(!this._aborted){var T=new Error("".concat(E+y,"ms exceeded"));T.timeout=y,T.code="ECONNABORTED",T.errno=p,this.timedout=!0,this.timedoutError=T,this.abort(),this.callback(T)}},u.prototype._setTimeouts=function(){var E=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){E._timeoutError("Timeout of ",E._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){E._timeoutError("Response timeout of ",E._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(z,l,e)=>{"use strict";var o=e(64506);z.exports=f;function f(c){if(c)return u(c)}function u(c){for(var g in f.prototype)Object.prototype.hasOwnProperty.call(f.prototype,g)&&(c[g]=f.prototype[g]);return c}f.prototype.get=function(c){return this.header[c.toLowerCase()]},f.prototype._setHeaderProperties=function(c){var g=c["content-type"]||"";this.type=o.type(g);var v=o.params(g);for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(this[E]=v[E]);this.links={};try{c.link&&(this.links=o.parseLinks(c.link))}catch(y){}},f.prototype._setStatusProperties=function(c){var g=c/100|0;this.statusCode=c,this.status=this.statusCode,this.statusType=g,this.info=g===1,this.ok=g===2,this.redirect=g===3,this.clientError=g===4,this.serverError=g===5,this.error=g===4||g===5?this.toError():!1,this.created=c===201,this.accepted=c===202,this.noContent=c===204,this.badRequest=c===400,this.unauthorized=c===401,this.notAcceptable=c===406,this.forbidden=c===403,this.notFound=c===404,this.unprocessableEntity=c===422}},64506:(z,l)=>{"use strict";function e(u,c){var g;if(typeof Symbol=="undefined"||u[Symbol.iterator]==null){if(Array.isArray(u)||(g=o(u))||c&&u&&typeof u.length=="number"){g&&(u=g);var v=0,E=function(){};return{s:E,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(I){throw I},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,p=!1,T;return{s:function(){g=u[Symbol.iterator]()},n:function(){var I=g.next();return y=I.done,I},e:function(I){p=!0,T=I},f:function(){try{!y&&g.return!=null&&g.return()}finally{if(p)throw T}}}}function o(u,c){if(u){if(typeof u=="string")return f(u,c);var g=Object.prototype.toString.call(u).slice(8,-1);if(g==="Object"&&u.constructor&&(g=u.constructor.name),g==="Map"||g==="Set")return Array.from(u);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return f(u,c)}}function f(u,c){(c==null||c>u.length)&&(c=u.length);for(var g=0,v=new Array(c);g<c;g++)v[g]=u[g];return v}l.type=function(u){return u.split(/ *; */).shift()},l.params=function(u){var c={},g=e(u.split(/ *; */)),v;try{for(g.s();!(v=g.n()).done;){var E=v.value,y=E.split(/ *= */),p=y.shift(),T=y.shift();p&&T&&(c[p]=T)}}catch(O){g.e(O)}finally{g.f()}return c},l.parseLinks=function(u){var c={},g=e(u.split(/ *, */)),v;try{for(g.s();!(v=g.n()).done;){var E=v.value,y=E.split(/ *; */),p=y[0].slice(1,-1),T=y[1].split(/ *= */)[1].slice(1,-1);c[T]=p}}catch(O){g.e(O)}finally{g.f()}return c},l.cleanHeader=function(u,c){return delete u["content-type"],delete u["content-length"],delete u["transfer-encoding"],delete u.host,c&&(delete u.authorization,delete u.cookie),u}},79253:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>Fo});function o(ot){if(ot==null)return window;if(ot.toString()!=="[object Window]"){var at=ot.ownerDocument;return at&&at.defaultView||window}return ot}function f(ot){var at=o(ot).Element;return ot instanceof at||ot instanceof Element}function u(ot){var at=o(ot).HTMLElement;return ot instanceof at||ot instanceof HTMLElement}function c(ot){if(typeof ShadowRoot=="undefined")return!1;var at=o(ot).ShadowRoot;return ot instanceof at||ot instanceof ShadowRoot}var g=Math.max,v=Math.min,E=Math.round;function y(ot,at){at===void 0&&(at=!1);var St=ot.getBoundingClientRect(),Qt=1,rn=1;if(u(ot)&&at){var vn=ot.offsetHeight,Cn=ot.offsetWidth;Cn>0&&(Qt=E(St.width)/Cn||1),vn>0&&(rn=E(St.height)/vn||1)}return{width:St.width/Qt,height:St.height/rn,top:St.top/rn,right:St.right/Qt,bottom:St.bottom/rn,left:St.left/Qt,x:St.left/Qt,y:St.top/rn}}function p(ot){var at=o(ot),St=at.pageXOffset,Qt=at.pageYOffset;return{scrollLeft:St,scrollTop:Qt}}function T(ot){return{scrollLeft:ot.scrollLeft,scrollTop:ot.scrollTop}}function O(ot){return ot===o(ot)||!u(ot)?p(ot):T(ot)}function I(ot){return ot?(ot.nodeName||"").toLowerCase():null}function S(ot){return((f(ot)?ot.ownerDocument:ot.document)||window.document).documentElement}function _(ot){return y(S(ot)).left+p(ot).scrollLeft}function d(ot){return o(ot).getComputedStyle(ot)}function s(ot){var at=d(ot),St=at.overflow,Qt=at.overflowX,rn=at.overflowY;return/auto|scroll|overlay|hidden/.test(St+rn+Qt)}function w(ot){var at=ot.getBoundingClientRect(),St=E(at.width)/ot.offsetWidth||1,Qt=E(at.height)/ot.offsetHeight||1;return St!==1||Qt!==1}function P(ot,at,St){St===void 0&&(St=!1);var Qt=u(at),rn=u(at)&&w(at),vn=S(at),Cn=y(ot,rn),Ln={scrollLeft:0,scrollTop:0},$n={x:0,y:0};return(Qt||!Qt&&!St)&&((I(at)!=="body"||s(vn))&&(Ln=O(at)),u(at)?($n=y(at,!0),$n.x+=at.clientLeft,$n.y+=at.clientTop):vn&&($n.x=_(vn))),{x:Cn.left+Ln.scrollLeft-$n.x,y:Cn.top+Ln.scrollTop-$n.y,width:Cn.width,height:Cn.height}}function x(ot){var at=y(ot),St=ot.offsetWidth,Qt=ot.offsetHeight;return Math.abs(at.width-St)<=1&&(St=at.width),Math.abs(at.height-Qt)<=1&&(Qt=at.height),{x:ot.offsetLeft,y:ot.offsetTop,width:St,height:Qt}}function M(ot){return I(ot)==="html"?ot:ot.assignedSlot||ot.parentNode||(c(ot)?ot.host:null)||S(ot)}function N(ot){return["html","body","#document"].indexOf(I(ot))>=0?ot.ownerDocument.body:u(ot)&&s(ot)?ot:N(M(ot))}function C(ot,at){var St;at===void 0&&(at=[]);var Qt=N(ot),rn=Qt===((St=ot.ownerDocument)==null?void 0:St.body),vn=o(Qt),Cn=rn?[vn].concat(vn.visualViewport||[],s(Qt)?Qt:[]):Qt,Ln=at.concat(Cn);return rn?Ln:Ln.concat(C(M(Cn)))}function A(ot){return["table","td","th"].indexOf(I(ot))>=0}function k(ot){return!u(ot)||d(ot).position==="fixed"?null:ot.offsetParent}function L(ot){var at=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,St=navigator.userAgent.indexOf("Trident")!==-1;if(St&&u(ot)){var Qt=d(ot);if(Qt.position==="fixed")return null}for(var rn=M(ot);u(rn)&&["html","body"].indexOf(I(rn))<0;){var vn=d(rn);if(vn.transform!=="none"||vn.perspective!=="none"||vn.contain==="paint"||["transform","perspective"].indexOf(vn.willChange)!==-1||at&&vn.willChange==="filter"||at&&vn.filter&&vn.filter!=="none")return rn;rn=rn.parentNode}return null}function K(ot){for(var at=o(ot),St=k(ot);St&&A(St)&&d(St).position==="static";)St=k(St);return St&&(I(St)==="html"||I(St)==="body"&&d(St).position==="static")?at:St||L(ot)||at}var Z="top",J="bottom",q="right",ne="left",F="auto",W=[Z,J,q,ne],ie="start",he="end",ye="clippingParents",fe="viewport",ae="popper",oe="reference",G=W.reduce(function(ot,at){return ot.concat([at+"-"+ie,at+"-"+he])},[]),re=[].concat(W,[F]).reduce(function(ot,at){return ot.concat([at,at+"-"+ie,at+"-"+he])},[]),se="beforeRead",le="read",Ee="afterRead",ve="beforeMain",pe="main",me="afterMain",Ie="beforeWrite",_e="write",de="afterWrite",Re=[se,le,Ee,ve,pe,me,Ie,_e,de];function ke(ot){var at=new Map,St=new Set,Qt=[];ot.forEach(function(vn){at.set(vn.name,vn)});function rn(vn){St.add(vn.name);var Cn=[].concat(vn.requires||[],vn.requiresIfExists||[]);Cn.forEach(function(Ln){if(!St.has(Ln)){var $n=at.get(Ln);$n&&rn($n)}}),Qt.push(vn)}return ot.forEach(function(vn){St.has(vn.name)||rn(vn)}),Qt}function Ve(ot){var at=ke(ot);return Re.reduce(function(St,Qt){return St.concat(at.filter(function(rn){return rn.phase===Qt}))},[])}function Ge(ot){var at;return function(){return at||(at=new Promise(function(St){Promise.resolve().then(function(){at=void 0,St(ot())})})),at}}function Qe(ot){var at=ot.reduce(function(St,Qt){var rn=St[Qt.name];return St[Qt.name]=rn?Object.assign({},rn,Qt,{options:Object.assign({},rn.options,Qt.options),data:Object.assign({},rn.data,Qt.data)}):Qt,St},{});return Object.keys(at).map(function(St){return at[St]})}var bt="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Ce="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",We={placement:"bottom",modifiers:[],strategy:"absolute"};function xe(){for(var ot=arguments.length,at=new Array(ot),St=0;St<ot;St++)at[St]=arguments[St];return!at.some(function(Qt){return!(Qt&&typeof Qt.getBoundingClientRect=="function")})}function rt(ot){ot===void 0&&(ot={});var at=ot,St=at.defaultModifiers,Qt=St===void 0?[]:St,rn=at.defaultOptions,vn=rn===void 0?We:rn;return function(Ln,$n,sr){sr===void 0&&(sr=vn);var er={placement:"bottom",orderedModifiers:[],options:Object.assign({},We,vn),modifiersData:{},elements:{reference:Ln,popper:$n},attributes:{},styles:{}},Wr=[],Hr=!1,xr={state:er,setOptions:function(pr){var Rr=typeof pr=="function"?pr(er.options):pr;Pr(),er.options=Object.assign({},vn,er.options,Rr),er.scrollParents={reference:f(Ln)?C(Ln):Ln.contextElement?C(Ln.contextElement):[],popper:C($n)};var Vr=Ve(Qe([].concat(Qt,er.options.modifiers)));if(er.orderedModifiers=Vr.filter(function(Ue){return Ue.enabled}),!1)var V,$,ee,R,te,ue,Te;return Mr(),xr.update()},forceUpdate:function(){if(!Hr){var pr=er.elements,Rr=pr.reference,Vr=pr.popper;if(xe(Rr,Vr)){er.rects={reference:P(Rr,K(Vr),er.options.strategy==="fixed"),popper:x(Vr)},er.reset=!1,er.placement=er.options.placement,er.orderedModifiers.forEach(function(Ue){return er.modifiersData[Ue.name]=Object.assign({},Ue.data)});for(var V=0,$=0;$<er.orderedModifiers.length;$++){if(er.reset===!0){er.reset=!1,$=-1;continue}var ee=er.orderedModifiers[$],R=ee.fn,te=ee.options,ue=te===void 0?{}:te,Te=ee.name;typeof R=="function"&&(er=R({state:er,options:ue,name:Te,instance:xr})||er)}}}},update:Ge(function(){return new Promise(function(Er){xr.forceUpdate(),Er(er)})}),destroy:function(){Pr(),Hr=!0}};if(!xe(Ln,$n))return xr;xr.setOptions(sr).then(function(Er){!Hr&&sr.onFirstUpdate&&sr.onFirstUpdate(Er)});function Mr(){er.orderedModifiers.forEach(function(Er){var pr=Er.name,Rr=Er.options,Vr=Rr===void 0?{}:Rr,V=Er.effect;if(typeof V=="function"){var $=V({state:er,name:pr,instance:xr,options:Vr}),ee=function(){};Wr.push($||ee)}})}function Pr(){Wr.forEach(function(Er){return Er()}),Wr=[]}return xr}}var Je=null,ft={passive:!0};function je(ot){var at=ot.state,St=ot.instance,Qt=ot.options,rn=Qt.scroll,vn=rn===void 0?!0:rn,Cn=Qt.resize,Ln=Cn===void 0?!0:Cn,$n=o(at.elements.popper),sr=[].concat(at.scrollParents.reference,at.scrollParents.popper);return vn&&sr.forEach(function(er){er.addEventListener("scroll",St.update,ft)}),Ln&&$n.addEventListener("resize",St.update,ft),function(){vn&&sr.forEach(function(er){er.removeEventListener("scroll",St.update,ft)}),Ln&&$n.removeEventListener("resize",St.update,ft)}}const Rt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:je,data:{}};function Jt(ot){return ot.split("-")[0]}function Ct(ot){return ot.split("-")[1]}function Le(ot){return["top","bottom"].indexOf(ot)>=0?"x":"y"}function He(ot){var at=ot.reference,St=ot.element,Qt=ot.placement,rn=Qt?Jt(Qt):null,vn=Qt?Ct(Qt):null,Cn=at.x+at.width/2-St.width/2,Ln=at.y+at.height/2-St.height/2,$n;switch(rn){case Z:$n={x:Cn,y:at.y-St.height};break;case J:$n={x:Cn,y:at.y+at.height};break;case q:$n={x:at.x+at.width,y:Ln};break;case ne:$n={x:at.x-St.width,y:Ln};break;default:$n={x:at.x,y:at.y}}var sr=rn?Le(rn):null;if(sr!=null){var er=sr==="y"?"height":"width";switch(vn){case ie:$n[sr]=$n[sr]-(at[er]/2-St[er]/2);break;case he:$n[sr]=$n[sr]+(at[er]/2-St[er]/2);break;default:}}return $n}function it(ot){var at=ot.state,St=ot.name;at.modifiersData[St]=He({reference:at.rects.reference,element:at.rects.popper,strategy:"absolute",placement:at.placement})}const Ne={name:"popperOffsets",enabled:!0,phase:"read",fn:it,data:{}};var Be={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ze(ot){var at=ot.x,St=ot.y,Qt=window,rn=Qt.devicePixelRatio||1;return{x:E(at*rn)/rn||0,y:E(St*rn)/rn||0}}function lt(ot){var at,St=ot.popper,Qt=ot.popperRect,rn=ot.placement,vn=ot.variation,Cn=ot.offsets,Ln=ot.position,$n=ot.gpuAcceleration,sr=ot.adaptive,er=ot.roundOffsets,Wr=ot.isFixed,Hr=Cn.x,xr=Hr===void 0?0:Hr,Mr=Cn.y,Pr=Mr===void 0?0:Mr,Er=typeof er=="function"?er({x:xr,y:Pr}):{x:xr,y:Pr};xr=Er.x,Pr=Er.y;var pr=Cn.hasOwnProperty("x"),Rr=Cn.hasOwnProperty("y"),Vr=ne,V=Z,$=window;if(sr){var ee=K(St),R="clientHeight",te="clientWidth";if(ee===o(St)&&(ee=S(St),d(ee).position!=="static"&&Ln==="absolute"&&(R="scrollHeight",te="scrollWidth")),ee=ee,rn===Z||(rn===ne||rn===q)&&vn===he){V=J;var ue=Wr&&$.visualViewport?$.visualViewport.height:ee[R];Pr-=ue-Qt.height,Pr*=$n?1:-1}if(rn===ne||(rn===Z||rn===J)&&vn===he){Vr=q;var Te=Wr&&$.visualViewport?$.visualViewport.width:ee[te];xr-=Te-Qt.width,xr*=$n?1:-1}}var Ue=Object.assign({position:Ln},sr&&Be),tt=er===!0?ze({x:xr,y:Pr}):{x:xr,y:Pr};if(xr=tt.x,Pr=tt.y,$n){var _t;return Object.assign({},Ue,(_t={},_t[V]=Rr?"0":"",_t[Vr]=pr?"0":"",_t.transform=($.devicePixelRatio||1)<=1?"translate("+xr+"px, "+Pr+"px)":"translate3d("+xr+"px, "+Pr+"px, 0)",_t))}return Object.assign({},Ue,(at={},at[V]=Rr?Pr+"px":"",at[Vr]=pr?xr+"px":"",at.transform="",at))}function et(ot){var at=ot.state,St=ot.options,Qt=St.gpuAcceleration,rn=Qt===void 0?!0:Qt,vn=St.adaptive,Cn=vn===void 0?!0:vn,Ln=St.roundOffsets,$n=Ln===void 0?!0:Ln;if(!1)var sr;var er={placement:Jt(at.placement),variation:Ct(at.placement),popper:at.elements.popper,popperRect:at.rects.popper,gpuAcceleration:rn,isFixed:at.options.strategy==="fixed"};at.modifiersData.popperOffsets!=null&&(at.styles.popper=Object.assign({},at.styles.popper,lt(Object.assign({},er,{offsets:at.modifiersData.popperOffsets,position:at.options.strategy,adaptive:Cn,roundOffsets:$n})))),at.modifiersData.arrow!=null&&(at.styles.arrow=Object.assign({},at.styles.arrow,lt(Object.assign({},er,{offsets:at.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:$n})))),at.attributes.popper=Object.assign({},at.attributes.popper,{"data-popper-placement":at.placement})}const Ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:et,data:{}};function H(ot){var at=ot.state;Object.keys(at.elements).forEach(function(St){var Qt=at.styles[St]||{},rn=at.attributes[St]||{},vn=at.elements[St];!u(vn)||!I(vn)||(Object.assign(vn.style,Qt),Object.keys(rn).forEach(function(Cn){var Ln=rn[Cn];Ln===!1?vn.removeAttribute(Cn):vn.setAttribute(Cn,Ln===!0?"":Ln)}))})}function Q(ot){var at=ot.state,St={popper:{position:at.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(at.elements.popper.style,St.popper),at.styles=St,at.elements.arrow&&Object.assign(at.elements.arrow.style,St.arrow),function(){Object.keys(at.elements).forEach(function(Qt){var rn=at.elements[Qt],vn=at.attributes[Qt]||{},Cn=Object.keys(at.styles.hasOwnProperty(Qt)?at.styles[Qt]:St[Qt]),Ln=Cn.reduce(function($n,sr){return $n[sr]="",$n},{});!u(rn)||!I(rn)||(Object.assign(rn.style,Ln),Object.keys(vn).forEach(function($n){rn.removeAttribute($n)}))})}}const ce={name:"applyStyles",enabled:!0,phase:"write",fn:H,effect:Q,requires:["computeStyles"]};function Pe(ot,at,St){var Qt=Jt(ot),rn=[ne,Z].indexOf(Qt)>=0?-1:1,vn=typeof St=="function"?St(Object.assign({},at,{placement:ot})):St,Cn=vn[0],Ln=vn[1];return Cn=Cn||0,Ln=(Ln||0)*rn,[ne,q].indexOf(Qt)>=0?{x:Ln,y:Cn}:{x:Cn,y:Ln}}function Me(ot){var at=ot.state,St=ot.options,Qt=ot.name,rn=St.offset,vn=rn===void 0?[0,0]:rn,Cn=re.reduce(function(er,Wr){return er[Wr]=Pe(Wr,at.rects,vn),er},{}),Ln=Cn[at.placement],$n=Ln.x,sr=Ln.y;at.modifiersData.popperOffsets!=null&&(at.modifiersData.popperOffsets.x+=$n,at.modifiersData.popperOffsets.y+=sr),at.modifiersData[Qt]=Cn}const $e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Me};var ct={left:"right",right:"left",bottom:"top",top:"bottom"};function ut(ot){return ot.replace(/left|right|bottom|top/g,function(at){return ct[at]})}var Et={start:"end",end:"start"};function Nt(ot){return ot.replace(/start|end/g,function(at){return Et[at]})}function $t(ot){var at=o(ot),St=S(ot),Qt=at.visualViewport,rn=St.clientWidth,vn=St.clientHeight,Cn=0,Ln=0;return Qt&&(rn=Qt.width,vn=Qt.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Cn=Qt.offsetLeft,Ln=Qt.offsetTop)),{width:rn,height:vn,x:Cn+_(ot),y:Ln}}function Nn(ot){var at,St=S(ot),Qt=p(ot),rn=(at=ot.ownerDocument)==null?void 0:at.body,vn=g(St.scrollWidth,St.clientWidth,rn?rn.scrollWidth:0,rn?rn.clientWidth:0),Cn=g(St.scrollHeight,St.clientHeight,rn?rn.scrollHeight:0,rn?rn.clientHeight:0),Ln=-Qt.scrollLeft+_(ot),$n=-Qt.scrollTop;return d(rn||St).direction==="rtl"&&(Ln+=g(St.clientWidth,rn?rn.clientWidth:0)-vn),{width:vn,height:Cn,x:Ln,y:$n}}function Vt(ot,at){var St=at.getRootNode&&at.getRootNode();if(ot.contains(at))return!0;if(St&&c(St)){var Qt=at;do{if(Qt&&ot.isSameNode(Qt))return!0;Qt=Qt.parentNode||Qt.host}while(Qt)}return!1}function rr(ot){return Object.assign({},ot,{left:ot.x,top:ot.y,right:ot.x+ot.width,bottom:ot.y+ot.height})}function Tr(ot){var at=y(ot);return at.top=at.top+ot.clientTop,at.left=at.left+ot.clientLeft,at.bottom=at.top+ot.clientHeight,at.right=at.left+ot.clientWidth,at.width=ot.clientWidth,at.height=ot.clientHeight,at.x=at.left,at.y=at.top,at}function cr(ot,at){return at===fe?rr($t(ot)):f(at)?Tr(at):rr(Nn(S(ot)))}function Lr(ot){var at=C(M(ot)),St=["absolute","fixed"].indexOf(d(ot).position)>=0,Qt=St&&u(ot)?K(ot):ot;return f(Qt)?at.filter(function(rn){return f(rn)&&Vt(rn,Qt)&&I(rn)!=="body"}):[]}function Br(ot,at,St){var Qt=at==="clippingParents"?Lr(ot):[].concat(at),rn=[].concat(Qt,[St]),vn=rn[0],Cn=rn.reduce(function(Ln,$n){var sr=cr(ot,$n);return Ln.top=g(sr.top,Ln.top),Ln.right=v(sr.right,Ln.right),Ln.bottom=v(sr.bottom,Ln.bottom),Ln.left=g(sr.left,Ln.left),Ln},cr(ot,vn));return Cn.width=Cn.right-Cn.left,Cn.height=Cn.bottom-Cn.top,Cn.x=Cn.left,Cn.y=Cn.top,Cn}function Cr(){return{top:0,right:0,bottom:0,left:0}}function Dt(ot){return Object.assign({},Cr(),ot)}function Ft(ot,at){return at.reduce(function(St,Qt){return St[Qt]=ot,St},{})}function zt(ot,at){at===void 0&&(at={});var St=at,Qt=St.placement,rn=Qt===void 0?ot.placement:Qt,vn=St.boundary,Cn=vn===void 0?ye:vn,Ln=St.rootBoundary,$n=Ln===void 0?fe:Ln,sr=St.elementContext,er=sr===void 0?ae:sr,Wr=St.altBoundary,Hr=Wr===void 0?!1:Wr,xr=St.padding,Mr=xr===void 0?0:xr,Pr=Dt(typeof Mr!="number"?Mr:Ft(Mr,W)),Er=er===ae?oe:ae,pr=ot.rects.popper,Rr=ot.elements[Hr?Er:er],Vr=Br(f(Rr)?Rr:Rr.contextElement||S(ot.elements.popper),Cn,$n),V=y(ot.elements.reference),$=He({reference:V,element:pr,strategy:"absolute",placement:rn}),ee=rr(Object.assign({},pr,$)),R=er===ae?ee:V,te={top:Vr.top-R.top+Pr.top,bottom:R.bottom-Vr.bottom+Pr.bottom,left:Vr.left-R.left+Pr.left,right:R.right-Vr.right+Pr.right},ue=ot.modifiersData.offset;if(er===ae&&ue){var Te=ue[rn];Object.keys(te).forEach(function(Ue){var tt=[q,J].indexOf(Ue)>=0?1:-1,_t=[Z,J].indexOf(Ue)>=0?"y":"x";te[Ue]+=Te[_t]*tt})}return te}function sn(ot,at){at===void 0&&(at={});var St=at,Qt=St.placement,rn=St.boundary,vn=St.rootBoundary,Cn=St.padding,Ln=St.flipVariations,$n=St.allowedAutoPlacements,sr=$n===void 0?re:$n,er=Ct(Qt),Wr=er?Ln?G:G.filter(function(Mr){return Ct(Mr)===er}):W,Hr=Wr.filter(function(Mr){return sr.indexOf(Mr)>=0});Hr.length===0&&(Hr=Wr);var xr=Hr.reduce(function(Mr,Pr){return Mr[Pr]=zt(ot,{placement:Pr,boundary:rn,rootBoundary:vn,padding:Cn})[Jt(Pr)],Mr},{});return Object.keys(xr).sort(function(Mr,Pr){return xr[Mr]-xr[Pr]})}function Un(ot){if(Jt(ot)===F)return[];var at=ut(ot);return[Nt(ot),at,Nt(at)]}function gr(ot){var at=ot.state,St=ot.options,Qt=ot.name;if(!at.modifiersData[Qt]._skip){for(var rn=St.mainAxis,vn=rn===void 0?!0:rn,Cn=St.altAxis,Ln=Cn===void 0?!0:Cn,$n=St.fallbackPlacements,sr=St.padding,er=St.boundary,Wr=St.rootBoundary,Hr=St.altBoundary,xr=St.flipVariations,Mr=xr===void 0?!0:xr,Pr=St.allowedAutoPlacements,Er=at.options.placement,pr=Jt(Er),Rr=pr===Er,Vr=$n||(Rr||!Mr?[ut(Er)]:Un(Er)),V=[Er].concat(Vr).reduce(function(_i,jo){return _i.concat(Jt(jo)===F?sn(at,{placement:jo,boundary:er,rootBoundary:Wr,padding:sr,flipVariations:Mr,allowedAutoPlacements:Pr}):jo)},[]),$=at.rects.reference,ee=at.rects.popper,R=new Map,te=!0,ue=V[0],Te=0;Te<V.length;Te++){var Ue=V[Te],tt=Jt(Ue),_t=Ct(Ue)===ie,dt=[Z,J].indexOf(tt)>=0,Zt=dt?"width":"height",bn=zt(at,{placement:Ue,boundary:er,rootBoundary:Wr,altBoundary:Hr,padding:sr}),Pn=dt?_t?q:ne:_t?J:Z;$[Zt]>ee[Zt]&&(Pn=ut(Pn));var Fn=ut(Pn),qn=[];if(vn&&qn.push(bn[tt]<=0),Ln&&qn.push(bn[Pn]<=0,bn[Fn]<=0),qn.every(function(_i){return _i})){ue=Ue,te=!1;break}R.set(Ue,qn)}if(te)for(var nr=Mr?3:1,mo=function(jo){var Ai=V.find(function(ta){var Zr=R.get(ta);if(Zr)return Zr.slice(0,jo).every(function(yi){return yi})});if(Ai)return ue=Ai,"break"},zo=nr;zo>0;zo--){var Qo=mo(zo);if(Qo==="break")break}at.placement!==ue&&(at.modifiersData[Qt]._skip=!0,at.placement=ue,at.reset=!0)}}const Dr={name:"flip",enabled:!0,phase:"main",fn:gr,requiresIfExists:["offset"],data:{_skip:!1}};function Fr(ot){return ot==="x"?"y":"x"}function jr(ot,at,St){return g(ot,v(at,St))}function kr(ot,at,St){var Qt=jr(ot,at,St);return Qt>St?St:Qt}function uo(ot){var at=ot.state,St=ot.options,Qt=ot.name,rn=St.mainAxis,vn=rn===void 0?!0:rn,Cn=St.altAxis,Ln=Cn===void 0?!1:Cn,$n=St.boundary,sr=St.rootBoundary,er=St.altBoundary,Wr=St.padding,Hr=St.tether,xr=Hr===void 0?!0:Hr,Mr=St.tetherOffset,Pr=Mr===void 0?0:Mr,Er=zt(at,{boundary:$n,rootBoundary:sr,padding:Wr,altBoundary:er}),pr=Jt(at.placement),Rr=Ct(at.placement),Vr=!Rr,V=Le(pr),$=Fr(V),ee=at.modifiersData.popperOffsets,R=at.rects.reference,te=at.rects.popper,ue=typeof Pr=="function"?Pr(Object.assign({},at.rects,{placement:at.placement})):Pr,Te=typeof ue=="number"?{mainAxis:ue,altAxis:ue}:Object.assign({mainAxis:0,altAxis:0},ue),Ue=at.modifiersData.offset?at.modifiersData.offset[at.placement]:null,tt={x:0,y:0};if(ee){if(vn){var _t,dt=V==="y"?Z:ne,Zt=V==="y"?J:q,bn=V==="y"?"height":"width",Pn=ee[V],Fn=Pn+Er[dt],qn=Pn-Er[Zt],nr=xr?-te[bn]/2:0,mo=Rr===ie?R[bn]:te[bn],zo=Rr===ie?-te[bn]:-R[bn],Qo=at.elements.arrow,_i=xr&&Qo?x(Qo):{width:0,height:0},jo=at.modifiersData["arrow#persistent"]?at.modifiersData["arrow#persistent"].padding:Cr(),Ai=jo[dt],ta=jo[Zt],Zr=jr(0,R[bn],_i[bn]),yi=Vr?R[bn]/2-nr-Zr-Ai-Te.mainAxis:mo-Zr-Ai-Te.mainAxis,Ki=Vr?-R[bn]/2+nr+Zr+ta+Te.mainAxis:zo+Zr+ta+Te.mainAxis,Pa=at.elements.arrow&&K(at.elements.arrow),fl=Pa?V==="y"?Pa.clientTop||0:Pa.clientLeft||0:0,Ni=(_t=Ue==null?void 0:Ue[V])!=null?_t:0,$i=Pn+yi-Ni-fl,Po=Pn+Ki-Ni,Ua=jr(xr?v(Fn,$i):Fn,Pn,xr?g(qn,Po):qn);ee[V]=Ua,tt[V]=Ua-Pn}if(Ln){var as,Ns=V==="x"?Z:ne,Rs=V==="x"?J:q,ma=ee[$],Ea=$==="y"?"height":"width",Fa=ma+Er[Ns],xa=ma-Er[Rs],ss=[Z,ne].indexOf(pr)!==-1,ls=(as=Ue==null?void 0:Ue[$])!=null?as:0,Ls=ss?Fa:ma-R[Ea]-te[Ea]-ls+Te.altAxis,Bs=ss?ma+R[Ea]+te[Ea]-ls-Te.altAxis:xa,pl=xr&&ss?kr(Ls,ma,Bs):jr(xr?Ls:Fa,ma,xr?Bs:xa);ee[$]=pl,tt[$]=pl-ma}at.modifiersData[Qt]=tt}}const to={name:"preventOverflow",enabled:!0,phase:"main",fn:uo,requiresIfExists:["offset"]};var ao=function(at,St){return at=typeof at=="function"?at(Object.assign({},St.rects,{placement:St.placement})):at,Dt(typeof at!="number"?at:Ft(at,W))};function Ur(ot){var at,St=ot.state,Qt=ot.name,rn=ot.options,vn=St.elements.arrow,Cn=St.modifiersData.popperOffsets,Ln=Jt(St.placement),$n=Le(Ln),sr=[ne,q].indexOf(Ln)>=0,er=sr?"height":"width";if(!(!vn||!Cn)){var Wr=ao(rn.padding,St),Hr=x(vn),xr=$n==="y"?Z:ne,Mr=$n==="y"?J:q,Pr=St.rects.reference[er]+St.rects.reference[$n]-Cn[$n]-St.rects.popper[er],Er=Cn[$n]-St.rects.reference[$n],pr=K(vn),Rr=pr?$n==="y"?pr.clientHeight||0:pr.clientWidth||0:0,Vr=Pr/2-Er/2,V=Wr[xr],$=Rr-Hr[er]-Wr[Mr],ee=Rr/2-Hr[er]/2+Vr,R=jr(V,ee,$),te=$n;St.modifiersData[Qt]=(at={},at[te]=R,at.centerOffset=R-ee,at)}}function _o(ot){var at=ot.state,St=ot.options,Qt=St.element,rn=Qt===void 0?"[data-popper-arrow]":Qt;rn!=null&&(typeof rn=="string"&&(rn=at.elements.popper.querySelector(rn),!rn)||Vt(at.elements.popper,rn)&&(at.elements.arrow=rn))}const fo={name:"arrow",enabled:!0,phase:"main",fn:Ur,effect:_o,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function no(ot,at,St){return St===void 0&&(St={x:0,y:0}),{top:ot.top-at.height-St.y,right:ot.right-at.width+St.x,bottom:ot.bottom-at.height+St.y,left:ot.left-at.width-St.x}}function so(ot){return[Z,q,J,ne].some(function(at){return ot[at]>=0})}function go(ot){var at=ot.state,St=ot.name,Qt=at.rects.reference,rn=at.rects.popper,vn=at.modifiersData.preventOverflow,Cn=zt(at,{elementContext:"reference"}),Ln=zt(at,{altBoundary:!0}),$n=no(Cn,Qt),sr=no(Ln,rn,vn),er=so($n),Wr=so(sr);at.modifiersData[St]={referenceClippingOffsets:$n,popperEscapeOffsets:sr,isReferenceHidden:er,hasPopperEscaped:Wr},at.attributes.popper=Object.assign({},at.attributes.popper,{"data-popper-reference-hidden":er,"data-popper-escaped":Wr})}var Co=[Rt,Ne,Ae,ce,$e,Dr,to,fo,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:go}],Oo=rt({defaultModifiers:Co}),vo='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',on="tippy-box",On="tippy-content",Tn="tippy-backdrop",Bn="tippy-arrow",Tt="tippy-svg-arrow",Lt={passive:!0,capture:!0},Yt=function(){return document.body};function ln(ot,at){return{}.hasOwnProperty.call(ot,at)}function hn(ot,at,St){if(Array.isArray(ot)){var Qt=ot[at];return Qt==null?Array.isArray(St)?St[at]:St:Qt}return ot}function Dn(ot,at){var St={}.toString.call(ot);return St.indexOf("[object")===0&&St.indexOf(at+"]")>-1}function an(ot,at){return typeof ot=="function"?ot.apply(void 0,at):ot}function Mn(ot,at){if(at===0)return ot;var St;return function(Qt){clearTimeout(St),St=setTimeout(function(){ot(Qt)},at)}}function Jn(ot,at){var St=Object.assign({},ot);return at.forEach(function(Qt){delete St[Qt]}),St}function pt(ot){return ot.split(/\s+/).filter(Boolean)}function Mt(ot){return[].concat(ot)}function Kt(ot,at){ot.indexOf(at)===-1&&ot.push(at)}function qt(ot){return ot.filter(function(at,St){return ot.indexOf(at)===St})}function mn(ot){return ot.split("-")[0]}function En(ot){return[].slice.call(ot)}function wn(ot){return Object.keys(ot).reduce(function(at,St){return ot[St]!==void 0&&(at[St]=ot[St]),at},{})}function Hn(){return document.createElement("div")}function wr(ot){return["Element","Fragment"].some(function(at){return Dn(ot,at)})}function zr(ot){return Dn(ot,"NodeList")}function $r(ot){return Dn(ot,"MouseEvent")}function Or(ot){return!!(ot&&ot._tippy&&ot._tippy.reference===ot)}function Gr(ot){return wr(ot)?[ot]:zr(ot)?En(ot):Array.isArray(ot)?ot:En(document.querySelectorAll(ot))}function yo(ot,at){ot.forEach(function(St){St&&(St.style.transitionDuration=at+"ms")})}function Yo(ot,at){ot.forEach(function(St){St&&St.setAttribute("data-state",at)})}function Mo(ot){var at,St=Mt(ot),Qt=St[0];return Qt!=null&&(at=Qt.ownerDocument)!=null&&at.body?Qt.ownerDocument:document}function po(ot,at){var St=at.clientX,Qt=at.clientY;return ot.every(function(rn){var vn=rn.popperRect,Cn=rn.popperState,Ln=rn.props,$n=Ln.interactiveBorder,sr=mn(Cn.placement),er=Cn.modifiersData.offset;if(!er)return!0;var Wr=sr==="bottom"?er.top.y:0,Hr=sr==="top"?er.bottom.y:0,xr=sr==="right"?er.left.x:0,Mr=sr==="left"?er.right.x:0,Pr=vn.top-Qt+Wr>$n,Er=Qt-vn.bottom-Hr>$n,pr=vn.left-St+xr>$n,Rr=St-vn.right-Mr>$n;return Pr||Er||pr||Rr})}function Jo(ot,at,St){var Qt=at+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(rn){ot[Qt](rn,St)})}function ho(ot,at){for(var St=at;St;){var Qt;if(ot.contains(St))return!0;St=St.getRootNode==null||(Qt=St.getRootNode())==null?void 0:Qt.host}return!1}var Eo={isTouch:!1},Si=0;function ni(){Eo.isTouch||(Eo.isTouch=!0,window.performance&&document.addEventListener("mousemove",si))}function si(){var ot=performance.now();ot-Si<20&&(Eo.isTouch=!1,document.removeEventListener("mousemove",si)),Si=ot}function fi(){var ot=document.activeElement;if(Or(ot)){var at=ot._tippy;ot.blur&&!at.state.isVisible&&ot.blur()}}function oi(){document.addEventListener("touchstart",ni,Lt),window.addEventListener("blur",fi)}var ii=typeof window!="undefined"&&typeof document!="undefined",Di=ii?!!window.msCrypto:!1;function Mi(ot){var at=ot==="destroy"?"n already-":" ";return[ot+"() was called on a"+at+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function pi(ot){var at=/[ \t]{2,}/g,St=/^[ \t]*/gm;return ot.replace(at," ").replace(St,"").trim()}function hi(ot){return pi(`
  %ctippy.js

  %c`+pi(ot)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function mi(ot){return[hi(ot),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Xo;function Ao(){Xo=new Set}function li(ot,at){if(ot&&!Xo.has(at)){var St;Xo.add(at),(St=console).warn.apply(St,mi(at))}}function ui(ot,at){if(ot&&!Xo.has(at)){var St;Xo.add(at),(St=console).error.apply(St,mi(at))}}function ci(ot){var at=!ot,St=Object.prototype.toString.call(ot)==="[object Object]"&&!ot.addEventListener;ui(at,["tippy() was passed","`"+String(ot)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),ui(St,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var nt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ze={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Xe=Object.assign({appendTo:Yt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},nt,Ze),mt=Object.keys(Xe),Pt=function(at){var St=Object.keys(at);St.forEach(function(Qt){Xe[Qt]=at[Qt]})};function jt(ot){var at=ot.plugins||[],St=at.reduce(function(Qt,rn){var vn=rn.name,Cn=rn.defaultValue;if(vn){var Ln;Qt[vn]=ot[vn]!==void 0?ot[vn]:(Ln=Xe[vn])!=null?Ln:Cn}return Qt},{});return Object.assign({},ot,St)}function kt(ot,at){var St=at?Object.keys(jt(Object.assign({},Xe,{plugins:at}))):mt,Qt=St.reduce(function(rn,vn){var Cn=(ot.getAttribute("data-tippy-"+vn)||"").trim();if(!Cn)return rn;if(vn==="content")rn[vn]=Cn;else try{rn[vn]=JSON.parse(Cn)}catch(Ln){rn[vn]=Cn}return rn},{});return Qt}function Oe(ot,at){var St=Object.assign({},at,{content:an(at.content,[ot])},at.ignoreAttributes?{}:kt(ot,at.plugins));return St.aria=Object.assign({},Xe.aria,St.aria),St.aria={expanded:St.aria.expanded==="auto"?at.interactive:St.aria.expanded,content:St.aria.content==="auto"?at.interactive?null:"describedby":St.aria.content},St}function be(ot,at){ot===void 0&&(ot={}),at===void 0&&(at=[]);var St=Object.keys(ot);St.forEach(function(Qt){var rn=Jn(Xe,Object.keys(nt)),vn=!ln(rn,Qt);vn&&(vn=at.filter(function(Cn){return Cn.name===Qt}).length===0),li(vn,["`"+Qt+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var we=function(){return"innerHTML"};function Ke(ot,at){ot[we()]=at}function ht(ot){var at=Hn();return ot===!0?at.className=Bn:(at.className=Tt,wr(ot)?at.appendChild(ot):Ke(at,ot)),at}function vt(ot,at){wr(at.content)?(Ke(ot,""),ot.appendChild(at.content)):typeof at.content!="function"&&(at.allowHTML?Ke(ot,at.content):ot.textContent=at.content)}function Ot(ot){var at=ot.firstElementChild,St=En(at.children);return{box:at,content:St.find(function(Qt){return Qt.classList.contains(On)}),arrow:St.find(function(Qt){return Qt.classList.contains(Bn)||Qt.classList.contains(Tt)}),backdrop:St.find(function(Qt){return Qt.classList.contains(Tn)})}}function It(ot){var at=Hn(),St=Hn();St.className=on,St.setAttribute("data-state","hidden"),St.setAttribute("tabindex","-1");var Qt=Hn();Qt.className=On,Qt.setAttribute("data-state","hidden"),vt(Qt,ot.props),at.appendChild(St),St.appendChild(Qt),rn(ot.props,ot.props);function rn(vn,Cn){var Ln=Ot(at),$n=Ln.box,sr=Ln.content,er=Ln.arrow;Cn.theme?$n.setAttribute("data-theme",Cn.theme):$n.removeAttribute("data-theme"),typeof Cn.animation=="string"?$n.setAttribute("data-animation",Cn.animation):$n.removeAttribute("data-animation"),Cn.inertia?$n.setAttribute("data-inertia",""):$n.removeAttribute("data-inertia"),$n.style.maxWidth=typeof Cn.maxWidth=="number"?Cn.maxWidth+"px":Cn.maxWidth,Cn.role?$n.setAttribute("role",Cn.role):$n.removeAttribute("role"),(vn.content!==Cn.content||vn.allowHTML!==Cn.allowHTML)&&vt(sr,ot.props),Cn.arrow?er?vn.arrow!==Cn.arrow&&($n.removeChild(er),$n.appendChild(ht(Cn.arrow))):$n.appendChild(ht(Cn.arrow)):er&&$n.removeChild(er)}return{popper:at,onUpdate:rn}}It.$$tippy=!0;var Wt=1,Ut=[],un=[];function nn(ot,at){var St=Oe(ot,Object.assign({},Xe,jt(wn(at)))),Qt,rn,vn,Cn=!1,Ln=!1,$n=!1,sr=!1,er,Wr,Hr,xr=[],Mr=Mn($i,St.interactiveDebounce),Pr,Er=Wt++,pr=null,Rr=qt(St.plugins),Vr={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},V={id:Er,reference:ot,popper:Hn(),popperInstance:pr,props:St,state:Vr,plugins:Rr,clearDelayTimeouts:Ls,setProps:Bs,setContent:pl,show:bd,hide:Pd,hideWithInteractivity:Ed,enable:ss,disable:ls,unmount:wd,destroy:Iu};if(!St.render)return V;var $=St.render(V),ee=$.popper,R=$.onUpdate;ee.setAttribute("data-tippy-root",""),ee.id="tippy-"+V.id,V.popper=ee,ot._tippy=V,ee._tippy=V;var te=Rr.map(function(Vn){return Vn.fn(V)}),ue=ot.hasAttribute("aria-expanded");return Pa(),nr(),Pn(),Fn("onCreate",[V]),St.showOnCreate&&Fa(),ee.addEventListener("mouseenter",function(){V.props.interactive&&V.state.isVisible&&V.clearDelayTimeouts()}),ee.addEventListener("mouseleave",function(){V.props.interactive&&V.props.trigger.indexOf("mouseenter")>=0&&dt().addEventListener("mousemove",Mr)}),V;function Te(){var Vn=V.props.touch;return Array.isArray(Vn)?Vn:[Vn,0]}function Ue(){return Te()[0]==="hold"}function tt(){var Vn;return!!((Vn=V.props.render)!=null&&Vn.$$tippy)}function _t(){return Pr||ot}function dt(){var Vn=_t().parentNode;return Vn?Mo(Vn):document}function Zt(){return Ot(ee)}function bn(Vn){return V.state.isMounted&&!V.state.isVisible||Eo.isTouch||er&&er.type==="focus"?0:hn(V.props.delay,Vn?0:1,Xe.delay)}function Pn(Vn){Vn===void 0&&(Vn=!1),ee.style.pointerEvents=V.props.interactive&&!Vn?"":"none",ee.style.zIndex=""+V.props.zIndex}function Fn(Vn,Nr,Yr){if(Yr===void 0&&(Yr=!0),te.forEach(function(bo){bo[Vn]&&bo[Vn].apply(bo,Nr)}),Yr){var To;(To=V.props)[Vn].apply(To,Nr)}}function qn(){var Vn=V.props.aria;if(Vn.content){var Nr="aria-"+Vn.content,Yr=ee.id,To=Mt(V.props.triggerTarget||ot);To.forEach(function(bo){var Ri=bo.getAttribute(Nr);if(V.state.isVisible)bo.setAttribute(Nr,Ri?Ri+" "+Yr:Yr);else{var zi=Ri&&Ri.replace(Yr,"").trim();zi?bo.setAttribute(Nr,zi):bo.removeAttribute(Nr)}})}}function nr(){if(!(ue||!V.props.aria.expanded)){var Vn=Mt(V.props.triggerTarget||ot);Vn.forEach(function(Nr){V.props.interactive?Nr.setAttribute("aria-expanded",V.state.isVisible&&Nr===_t()?"true":"false"):Nr.removeAttribute("aria-expanded")})}}function mo(){dt().removeEventListener("mousemove",Mr),Ut=Ut.filter(function(Vn){return Vn!==Mr})}function zo(Vn){if(!(Eo.isTouch&&($n||Vn.type==="mousedown"))){var Nr=Vn.composedPath&&Vn.composedPath()[0]||Vn.target;if(!(V.props.interactive&&ho(ee,Nr))){if(Mt(V.props.triggerTarget||ot).some(function(Yr){return ho(Yr,Nr)})){if(Eo.isTouch||V.state.isVisible&&V.props.trigger.indexOf("click")>=0)return}else Fn("onClickOutside",[V,Vn]);V.props.hideOnClick===!0&&(V.clearDelayTimeouts(),V.hide(),Ln=!0,setTimeout(function(){Ln=!1}),V.state.isMounted||Ai())}}}function Qo(){$n=!0}function _i(){$n=!1}function jo(){var Vn=dt();Vn.addEventListener("mousedown",zo,!0),Vn.addEventListener("touchend",zo,Lt),Vn.addEventListener("touchstart",_i,Lt),Vn.addEventListener("touchmove",Qo,Lt)}function Ai(){var Vn=dt();Vn.removeEventListener("mousedown",zo,!0),Vn.removeEventListener("touchend",zo,Lt),Vn.removeEventListener("touchstart",_i,Lt),Vn.removeEventListener("touchmove",Qo,Lt)}function ta(Vn,Nr){yi(Vn,function(){!V.state.isVisible&&ee.parentNode&&ee.parentNode.contains(ee)&&Nr()})}function Zr(Vn,Nr){yi(Vn,Nr)}function yi(Vn,Nr){var Yr=Zt().box;function To(bo){bo.target===Yr&&(Jo(Yr,"remove",To),Nr())}if(Vn===0)return Nr();Jo(Yr,"remove",Wr),Jo(Yr,"add",To),Wr=To}function Ki(Vn,Nr,Yr){Yr===void 0&&(Yr=!1);var To=Mt(V.props.triggerTarget||ot);To.forEach(function(bo){bo.addEventListener(Vn,Nr,Yr),xr.push({node:bo,eventType:Vn,handler:Nr,options:Yr})})}function Pa(){Ue()&&(Ki("touchstart",Ni,{passive:!0}),Ki("touchend",Po,{passive:!0})),pt(V.props.trigger).forEach(function(Vn){if(Vn!=="manual")switch(Ki(Vn,Ni),Vn){case"mouseenter":Ki("mouseleave",Po);break;case"focus":Ki(Di?"focusout":"blur",Ua);break;case"focusin":Ki("focusout",Ua);break}})}function fl(){xr.forEach(function(Vn){var Nr=Vn.node,Yr=Vn.eventType,To=Vn.handler,bo=Vn.options;Nr.removeEventListener(Yr,To,bo)}),xr=[]}function Ni(Vn){var Nr,Yr=!1;if(!(!V.state.isEnabled||as(Vn)||Ln)){var To=((Nr=er)==null?void 0:Nr.type)==="focus";er=Vn,Pr=Vn.currentTarget,nr(),!V.state.isVisible&&$r(Vn)&&Ut.forEach(function(bo){return bo(Vn)}),Vn.type==="click"&&(V.props.trigger.indexOf("mouseenter")<0||Cn)&&V.props.hideOnClick!==!1&&V.state.isVisible?Yr=!0:Fa(Vn),Vn.type==="click"&&(Cn=!Yr),Yr&&!To&&xa(Vn)}}function $i(Vn){var Nr=Vn.target,Yr=_t().contains(Nr)||ee.contains(Nr);if(!(Vn.type==="mousemove"&&Yr)){var To=Ea().concat(ee).map(function(bo){var Ri,zi=bo._tippy,ja=(Ri=zi.popperInstance)==null?void 0:Ri.state;return ja?{popperRect:bo.getBoundingClientRect(),popperState:ja,props:St}:null}).filter(Boolean);po(To,Vn)&&(mo(),xa(Vn))}}function Po(Vn){var Nr=as(Vn)||V.props.trigger.indexOf("click")>=0&&Cn;if(!Nr){if(V.props.interactive){V.hideWithInteractivity(Vn);return}xa(Vn)}}function Ua(Vn){V.props.trigger.indexOf("focusin")<0&&Vn.target!==_t()||V.props.interactive&&Vn.relatedTarget&&ee.contains(Vn.relatedTarget)||xa(Vn)}function as(Vn){return Eo.isTouch?Ue()!==Vn.type.indexOf("touch")>=0:!1}function Ns(){Rs();var Vn=V.props,Nr=Vn.popperOptions,Yr=Vn.placement,To=Vn.offset,bo=Vn.getReferenceClientRect,Ri=Vn.moveTransition,zi=tt()?Ot(ee).arrow:null,ja=bo?{getBoundingClientRect:bo,contextElement:bo.contextElement||_t()}:ot,xu={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Us){var Wa=Us.state;if(tt()){var Du=Zt(),hl=Du.box;["placement","reference-hidden","escaped"].forEach(function(Fs){Fs==="placement"?hl.setAttribute("data-placement",Wa.placement):Wa.attributes.popper["data-popper-"+Fs]?hl.setAttribute("data-"+Fs,""):hl.removeAttribute("data-"+Fs)}),Wa.attributes.popper={}}}},Da=[{name:"offset",options:{offset:To}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ri}},xu];tt()&&zi&&Da.push({name:"arrow",options:{element:zi,padding:3}}),Da.push.apply(Da,(Nr==null?void 0:Nr.modifiers)||[]),V.popperInstance=Oo(ja,ee,Object.assign({},Nr,{placement:Yr,onFirstUpdate:Hr,modifiers:Da}))}function Rs(){V.popperInstance&&(V.popperInstance.destroy(),V.popperInstance=null)}function ma(){var Vn=V.props.appendTo,Nr,Yr=_t();V.props.interactive&&Vn===Yt||Vn==="parent"?Nr=Yr.parentNode:Nr=an(Vn,[Yr]),Nr.contains(ee)||Nr.appendChild(ee),V.state.isMounted=!0,Ns()}function Ea(){return En(ee.querySelectorAll("[data-tippy-root]"))}function Fa(Vn){V.clearDelayTimeouts(),Vn&&Fn("onTrigger",[V,Vn]),jo();var Nr=bn(!0),Yr=Te(),To=Yr[0],bo=Yr[1];Eo.isTouch&&To==="hold"&&bo&&(Nr=bo),Nr?Qt=setTimeout(function(){V.show()},Nr):V.show()}function xa(Vn){if(V.clearDelayTimeouts(),Fn("onUntrigger",[V,Vn]),!V.state.isVisible){Ai();return}if(!(V.props.trigger.indexOf("mouseenter")>=0&&V.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Vn.type)>=0&&Cn)){var Nr=bn(!1);Nr?rn=setTimeout(function(){V.state.isVisible&&V.hide()},Nr):vn=requestAnimationFrame(function(){V.hide()})}}function ss(){V.state.isEnabled=!0}function ls(){V.hide(),V.state.isEnabled=!1}function Ls(){clearTimeout(Qt),clearTimeout(rn),cancelAnimationFrame(vn)}function Bs(Vn){if(!V.state.isDestroyed){Fn("onBeforeUpdate",[V,Vn]),fl();var Nr=V.props,Yr=Oe(ot,Object.assign({},Nr,wn(Vn),{ignoreAttributes:!0}));V.props=Yr,Pa(),Nr.interactiveDebounce!==Yr.interactiveDebounce&&(mo(),Mr=Mn($i,Yr.interactiveDebounce)),Nr.triggerTarget&&!Yr.triggerTarget?Mt(Nr.triggerTarget).forEach(function(To){To.removeAttribute("aria-expanded")}):Yr.triggerTarget&&ot.removeAttribute("aria-expanded"),nr(),Pn(),R&&R(Nr,Yr),V.popperInstance&&(Ns(),Ea().forEach(function(To){requestAnimationFrame(To._tippy.popperInstance.forceUpdate)})),Fn("onAfterUpdate",[V,Vn])}}function pl(Vn){V.setProps({content:Vn})}function bd(){var Vn=V.state.isVisible,Nr=V.state.isDestroyed,Yr=!V.state.isEnabled,To=Eo.isTouch&&!V.props.touch,bo=hn(V.props.duration,0,Xe.duration);if(!(Vn||Nr||Yr||To)&&!_t().hasAttribute("disabled")&&(Fn("onShow",[V],!1),V.props.onShow(V)!==!1)){if(V.state.isVisible=!0,tt()&&(ee.style.visibility="visible"),Pn(),jo(),V.state.isMounted||(ee.style.transition="none"),tt()){var Ri=Zt(),zi=Ri.box,ja=Ri.content;yo([zi,ja],0)}Hr=function(){var Da;if(!(!V.state.isVisible||sr)){if(sr=!0,ee.offsetHeight,ee.style.transition=V.props.moveTransition,tt()&&V.props.animation){var ks=Zt(),Us=ks.box,Wa=ks.content;yo([Us,Wa],bo),Yo([Us,Wa],"visible")}qn(),nr(),Kt(un,V),(Da=V.popperInstance)==null||Da.forceUpdate(),Fn("onMount",[V]),V.props.animation&&tt()&&Zr(bo,function(){V.state.isShown=!0,Fn("onShown",[V])})}},ma()}}function Pd(){var Vn=!V.state.isVisible,Nr=V.state.isDestroyed,Yr=!V.state.isEnabled,To=hn(V.props.duration,1,Xe.duration);if(!(Vn||Nr||Yr)&&(Fn("onHide",[V],!1),V.props.onHide(V)!==!1)){if(V.state.isVisible=!1,V.state.isShown=!1,sr=!1,Cn=!1,tt()&&(ee.style.visibility="hidden"),mo(),Ai(),Pn(!0),tt()){var bo=Zt(),Ri=bo.box,zi=bo.content;V.props.animation&&(yo([Ri,zi],To),Yo([Ri,zi],"hidden"))}qn(),nr(),V.props.animation?tt()&&ta(To,V.unmount):V.unmount()}}function Ed(Vn){dt().addEventListener("mousemove",Mr),Kt(Ut,Mr),Mr(Vn)}function wd(){V.state.isVisible&&V.hide(),V.state.isMounted&&(Rs(),Ea().forEach(function(Vn){Vn._tippy.unmount()}),ee.parentNode&&ee.parentNode.removeChild(ee),un=un.filter(function(Vn){return Vn!==V}),V.state.isMounted=!1,Fn("onHidden",[V]))}function Iu(){V.state.isDestroyed||(V.clearDelayTimeouts(),V.unmount(),fl(),delete ot._tippy,V.state.isDestroyed=!0,Fn("onDestroy",[V]))}}function dn(ot,at){at===void 0&&(at={});var St=Xe.plugins.concat(at.plugins||[]);oi();var Qt=Object.assign({},at,{plugins:St}),rn=Gr(ot);if(!1)var vn,Cn;var Ln=rn.reduce(function($n,sr){var er=sr&&nn(sr,Qt);return er&&$n.push(er),$n},[]);return wr(ot)?Ln[0]:Ln}dn.defaultProps=Xe,dn.setDefaultProps=Pt,dn.currentInput=Eo;var An=function(at){var St=at===void 0?{}:at,Qt=St.exclude,rn=St.duration;un.forEach(function(vn){var Cn=!1;if(Qt&&(Cn=Or(Qt)?vn.reference===Qt:vn.popper===Qt.popper),!Cn){var Ln=vn.props.duration;vn.setProps({duration:rn}),vn.hide(),vn.state.isDestroyed||vn.setProps({duration:Ln})}})},zn=Object.assign({},ce,{effect:function(at){var St=at.state,Qt={popper:{position:St.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(St.elements.popper.style,Qt.popper),St.styles=Qt,St.elements.arrow&&Object.assign(St.elements.arrow.style,Qt.arrow)}}),_r=function(at,St){var Qt;St===void 0&&(St={});var rn=at,vn=[],Cn=[],Ln,$n=St.overrides,sr=[],er=!1;function Wr(){Cn=rn.map(function(V){return Mt(V.props.triggerTarget||V.reference)}).reduce(function(V,$){return V.concat($)},[])}function Hr(){vn=rn.map(function(V){return V.reference})}function xr(V){rn.forEach(function($){V?$.enable():$.disable()})}function Mr(V){return rn.map(function($){var ee=$.setProps;return $.setProps=function(R){ee(R),$.reference===Ln&&V.setProps(R)},function(){$.setProps=ee}})}function Pr(V,$){var ee=Cn.indexOf($);if($!==Ln){Ln=$;var R=($n||[]).concat("content").reduce(function(te,ue){return te[ue]=rn[ee].props[ue],te},{});V.setProps(Object.assign({},R,{getReferenceClientRect:typeof R.getReferenceClientRect=="function"?R.getReferenceClientRect:function(){var te;return(te=vn[ee])==null?void 0:te.getBoundingClientRect()}}))}}xr(!1),Hr(),Wr();var Er={fn:function(){return{onDestroy:function(){xr(!0)},onHidden:function(){Ln=null},onClickOutside:function(ee){ee.props.showOnCreate&&!er&&(er=!0,Ln=null)},onShow:function(ee){ee.props.showOnCreate&&!er&&(er=!0,Pr(ee,vn[0]))},onTrigger:function(ee,R){Pr(ee,R.currentTarget)}}}},pr=dn(Hn(),Object.assign({},Jn(St,["overrides"]),{plugins:[Er].concat(St.plugins||[]),triggerTarget:Cn,popperOptions:Object.assign({},St.popperOptions,{modifiers:[].concat(((Qt=St.popperOptions)==null?void 0:Qt.modifiers)||[],[zn])})})),Rr=pr.show;pr.show=function(V){if(Rr(),!Ln&&V==null)return Pr(pr,vn[0]);if(!(Ln&&V==null)){if(typeof V=="number")return vn[V]&&Pr(pr,vn[V]);if(rn.indexOf(V)>=0){var $=V.reference;return Pr(pr,$)}if(vn.indexOf(V)>=0)return Pr(pr,V)}},pr.showNext=function(){var V=vn[0];if(!Ln)return pr.show(0);var $=vn.indexOf(Ln);pr.show(vn[$+1]||V)},pr.showPrevious=function(){var V=vn[vn.length-1];if(!Ln)return pr.show(V);var $=vn.indexOf(Ln),ee=vn[$-1]||V;pr.show(ee)};var Vr=pr.setProps;return pr.setProps=function(V){$n=V.overrides||$n,Vr(V)},pr.setInstances=function(V){xr(!0),sr.forEach(function($){return $()}),rn=V,xr(!1),Hr(),Wr(),sr=Mr(pr),pr.setProps({triggerTarget:Cn})},sr=Mr(pr),pr},ar={mouseover:"mouseenter",focusin:"focus",click:"click"};function In(ot,at){var St=[],Qt=[],rn=!1,vn=at.target,Cn=Jn(at,["target"]),Ln=Object.assign({},Cn,{trigger:"manual",touch:!1}),$n=Object.assign({touch:Xe.touch},Cn,{showOnCreate:!0}),sr=dn(ot,Ln),er=Mt(sr);function Wr(Er){if(!(!Er.target||rn)){var pr=Er.target.closest(vn);if(pr){var Rr=pr.getAttribute("data-tippy-trigger")||at.trigger||Xe.trigger;if(!pr._tippy&&!(Er.type==="touchstart"&&typeof $n.touch=="boolean")&&!(Er.type!=="touchstart"&&Rr.indexOf(ar[Er.type])<0)){var Vr=dn(pr,$n);Vr&&(Qt=Qt.concat(Vr))}}}}function Hr(Er,pr,Rr,Vr){Vr===void 0&&(Vr=!1),Er.addEventListener(pr,Rr,Vr),St.push({node:Er,eventType:pr,handler:Rr,options:Vr})}function xr(Er){var pr=Er.reference;Hr(pr,"touchstart",Wr,Lt),Hr(pr,"mouseover",Wr),Hr(pr,"focusin",Wr),Hr(pr,"click",Wr)}function Mr(){St.forEach(function(Er){var pr=Er.node,Rr=Er.eventType,Vr=Er.handler,V=Er.options;pr.removeEventListener(Rr,Vr,V)}),St=[]}function Pr(Er){var pr=Er.destroy,Rr=Er.enable,Vr=Er.disable;Er.destroy=function(V){V===void 0&&(V=!0),V&&Qt.forEach(function($){$.destroy()}),Qt=[],Mr(),pr()},Er.enable=function(){Rr(),Qt.forEach(function(V){return V.enable()}),rn=!1},Er.disable=function(){Vr(),Qt.forEach(function(V){return V.disable()}),rn=!0},xr(Er)}return er.forEach(Pr),sr}var dr={name:"animateFill",defaultValue:!1,fn:function(at){var St;if(!((St=at.props.render)!=null&&St.$$tippy))return{};var Qt=Ot(at.popper),rn=Qt.box,vn=Qt.content,Cn=at.props.animateFill?lr():null;return{onCreate:function(){Cn&&(rn.insertBefore(Cn,rn.firstElementChild),rn.setAttribute("data-animatefill",""),rn.style.overflow="hidden",at.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(Cn){var $n=rn.style.transitionDuration,sr=Number($n.replace("ms",""));vn.style.transitionDelay=Math.round(sr/10)+"ms",Cn.style.transitionDuration=$n,Yo([Cn],"visible")}},onShow:function(){Cn&&(Cn.style.transitionDuration="0ms")},onHide:function(){Cn&&Yo([Cn],"hidden")}}}};function lr(){var ot=Hn();return ot.className=Tn,Yo([ot],"hidden"),ot}var Sr={clientX:0,clientY:0},Ir=[];function ro(ot){var at=ot.clientX,St=ot.clientY;Sr={clientX:at,clientY:St}}function co(ot){ot.addEventListener("mousemove",ro)}function So(ot){ot.removeEventListener("mousemove",ro)}var Bo={name:"followCursor",defaultValue:!1,fn:function(at){var St=at.reference,Qt=Mo(at.props.triggerTarget||St),rn=!1,vn=!1,Cn=!0,Ln=at.props;function $n(){return at.props.followCursor==="initial"&&at.state.isVisible}function sr(){Qt.addEventListener("mousemove",Hr)}function er(){Qt.removeEventListener("mousemove",Hr)}function Wr(){rn=!0,at.setProps({getReferenceClientRect:null}),rn=!1}function Hr(Pr){var Er=Pr.target?St.contains(Pr.target):!0,pr=at.props.followCursor,Rr=Pr.clientX,Vr=Pr.clientY,V=St.getBoundingClientRect(),$=Rr-V.left,ee=Vr-V.top;(Er||!at.props.interactive)&&at.setProps({getReferenceClientRect:function(){var te=St.getBoundingClientRect(),ue=Rr,Te=Vr;pr==="initial"&&(ue=te.left+$,Te=te.top+ee);var Ue=pr==="horizontal"?te.top:Te,tt=pr==="vertical"?te.right:ue,_t=pr==="horizontal"?te.bottom:Te,dt=pr==="vertical"?te.left:ue;return{width:tt-dt,height:_t-Ue,top:Ue,right:tt,bottom:_t,left:dt}}})}function xr(){at.props.followCursor&&(Ir.push({instance:at,doc:Qt}),co(Qt))}function Mr(){Ir=Ir.filter(function(Pr){return Pr.instance!==at}),Ir.filter(function(Pr){return Pr.doc===Qt}).length===0&&So(Qt)}return{onCreate:xr,onDestroy:Mr,onBeforeUpdate:function(){Ln=at.props},onAfterUpdate:function(Er,pr){var Rr=pr.followCursor;rn||Rr!==void 0&&Ln.followCursor!==Rr&&(Mr(),Rr?(xr(),at.state.isMounted&&!vn&&!$n()&&sr()):(er(),Wr()))},onMount:function(){at.props.followCursor&&!vn&&(Cn&&(Hr(Sr),Cn=!1),$n()||sr())},onTrigger:function(Er,pr){$r(pr)&&(Sr={clientX:pr.clientX,clientY:pr.clientY}),vn=pr.type==="focus"},onHidden:function(){at.props.followCursor&&(Wr(),er(),Cn=!0)}}}};function ko(ot,at){var St;return{popperOptions:Object.assign({},ot.popperOptions,{modifiers:[].concat((((St=ot.popperOptions)==null?void 0:St.modifiers)||[]).filter(function(Qt){var rn=Qt.name;return rn!==at.name}),[at])})}}var Vo={name:"inlinePositioning",defaultValue:!1,fn:function(at){var St=at.reference;function Qt(){return!!at.props.inlinePositioning}var rn,vn=-1,Cn=!1,Ln=[],$n={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(xr){var Mr=xr.state;Qt()&&(Ln.indexOf(Mr.placement)!==-1&&(Ln=[]),rn!==Mr.placement&&Ln.indexOf(Mr.placement)===-1&&(Ln.push(Mr.placement),at.setProps({getReferenceClientRect:function(){return sr(Mr.placement)}})),rn=Mr.placement)}};function sr(Hr){return vi(mn(Hr),St.getBoundingClientRect(),En(St.getClientRects()),vn)}function er(Hr){Cn=!0,at.setProps(Hr),Cn=!1}function Wr(){Cn||er(ko(at.props,$n))}return{onCreate:Wr,onAfterUpdate:Wr,onTrigger:function(xr,Mr){if($r(Mr)){var Pr=En(at.reference.getClientRects()),Er=Pr.find(function(Rr){return Rr.left-2<=Mr.clientX&&Rr.right+2>=Mr.clientX&&Rr.top-2<=Mr.clientY&&Rr.bottom+2>=Mr.clientY}),pr=Pr.indexOf(Er);vn=pr>-1?pr:vn}},onHidden:function(){vn=-1}}}};function vi(ot,at,St,Qt){if(St.length<2||ot===null)return at;if(St.length===2&&Qt>=0&&St[0].left>St[1].right)return St[Qt]||at;switch(ot){case"top":case"bottom":{var rn=St[0],vn=St[St.length-1],Cn=ot==="top",Ln=rn.top,$n=vn.bottom,sr=Cn?rn.left:vn.left,er=Cn?rn.right:vn.right,Wr=er-sr,Hr=$n-Ln;return{top:Ln,bottom:$n,left:sr,right:er,width:Wr,height:Hr}}case"left":case"right":{var xr=Math.min.apply(Math,St.map(function(ee){return ee.left})),Mr=Math.max.apply(Math,St.map(function(ee){return ee.right})),Pr=St.filter(function(ee){return ot==="left"?ee.left===xr:ee.right===Mr}),Er=Pr[0].top,pr=Pr[Pr.length-1].bottom,Rr=xr,Vr=Mr,V=Vr-Rr,$=pr-Er;return{top:Er,bottom:pr,left:Rr,right:Vr,width:V,height:$}}default:return at}}var Vi={name:"sticky",defaultValue:!1,fn:function(at){var St=at.reference,Qt=at.popper;function rn(){return at.popperInstance?at.popperInstance.state.elements.reference:St}function vn(sr){return at.props.sticky===!0||at.props.sticky===sr}var Cn=null,Ln=null;function $n(){var sr=vn("reference")?rn().getBoundingClientRect():null,er=vn("popper")?Qt.getBoundingClientRect():null;(sr&&Ti(Cn,sr)||er&&Ti(Ln,er))&&at.popperInstance&&at.popperInstance.update(),Cn=sr,Ln=er,at.state.isMounted&&requestAnimationFrame($n)}return{onMount:function(){at.props.sticky&&$n()}}}};function Ti(ot,at){return ot&&at?ot.top!==at.top||ot.right!==at.right||ot.bottom!==at.bottom||ot.left!==at.left:!0}dn.setDefaultProps({render:It});const Fo=dn},8575:(z,l,e)=>{var o=e(74971);l.parse=w,l.resolve=x,l.resolveObject=M,l.format=P,l.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],v=["{","}","|","\\","^","`"].concat(g),E=["'"].concat(v),y=["%","/","?",";","#"].concat(E),p=["/","?","#"],T=255,O=/^[a-z0-9A-Z_-]{0,63}$/,I=/^([a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},s=e(17673);function w(L,K,Z){if(L&&C(L)&&L instanceof f)return L;var J=new f;return J.parse(L,K,Z),J}f.prototype.parse=function(L,K,Z){if(!N(L))throw new TypeError("Parameter 'url' must be a string, not "+typeof L);var J=L;J=J.trim();var q=u.exec(J);if(q){q=q[0];var ne=q.toLowerCase();this.protocol=ne,J=J.substr(q.length)}if(Z||q||J.match(/^\/\/[^@\/]+@[^@\/]+/)){var F=J.substr(0,2)==="//";F&&!(q&&_[q])&&(J=J.substr(2),this.slashes=!0)}if(!_[q]&&(F||q&&!d[q])){for(var W=-1,ie=0;ie<p.length;ie++){var he=J.indexOf(p[ie]);he!==-1&&(W===-1||he<W)&&(W=he)}var ye,fe;W===-1?fe=J.lastIndexOf("@"):fe=J.lastIndexOf("@",W),fe!==-1&&(ye=J.slice(0,fe),J=J.slice(fe+1),this.auth=decodeURIComponent(ye)),W=-1;for(var ie=0;ie<y.length;ie++){var he=J.indexOf(y[ie]);he!==-1&&(W===-1||he<W)&&(W=he)}W===-1&&(W=J.length),this.host=J.slice(0,W),J=J.slice(W),this.parseHost(),this.hostname=this.hostname||"";var ae=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ae)for(var oe=this.hostname.split(/\./),ie=0,G=oe.length;ie<G;ie++){var re=oe[ie];if(re&&!re.match(O)){for(var se="",le=0,Ee=re.length;le<Ee;le++)re.charCodeAt(le)>127?se+="x":se+=re[le];if(!se.match(O)){var ve=oe.slice(0,ie),pe=oe.slice(ie+1),me=re.match(I);me&&(ve.push(me[1]),pe.unshift(me[2])),pe.length&&(J="/"+pe.join(".")+J),this.hostname=ve.join(".");break}}}if(this.hostname.length>T?this.hostname="":this.hostname=this.hostname.toLowerCase(),!ae){for(var Ie=this.hostname.split("."),_e=[],ie=0;ie<Ie.length;++ie){var de=Ie[ie];_e.push(de.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(de):de)}this.hostname=_e.join(".")}var Re=this.port?":"+this.port:"",ke=this.hostname||"";this.host=ke+Re,this.href+=this.host,ae&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),J[0]!=="/"&&(J="/"+J))}if(!S[ne])for(var ie=0,G=E.length;ie<G;ie++){var Ve=E[ie],Ge=encodeURIComponent(Ve);Ge===Ve&&(Ge=escape(Ve)),J=J.split(Ve).join(Ge)}var Qe=J.indexOf("#");Qe!==-1&&(this.hash=J.substr(Qe),J=J.slice(0,Qe));var bt=J.indexOf("?");if(bt!==-1?(this.search=J.substr(bt),this.query=J.substr(bt+1),K&&(this.query=s.parse(this.query)),J=J.slice(0,bt)):K&&(this.search="",this.query={}),J&&(this.pathname=J),d[ne]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Re=this.pathname||"",de=this.search||"";this.path=Re+de}return this.href=this.format(),this};function P(L){return N(L)&&(L=w(L)),L instanceof f?L.format():f.prototype.format.call(L)}f.prototype.format=function(){var L=this.auth||"";L&&(L=encodeURIComponent(L),L=L.replace(/%3A/i,":"),L+="@");var K=this.protocol||"",Z=this.pathname||"",J=this.hash||"",q=!1,ne="";this.host?q=L+this.host:this.hostname&&(q=L+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(q+=":"+this.port)),this.query&&C(this.query)&&Object.keys(this.query).length&&(ne=s.stringify(this.query));var F=this.search||ne&&"?"+ne||"";return K&&K.substr(-1)!==":"&&(K+=":"),this.slashes||(!K||d[K])&&q!==!1?(q="//"+(q||""),Z&&Z.charAt(0)!=="/"&&(Z="/"+Z)):q||(q=""),J&&J.charAt(0)!=="#"&&(J="#"+J),F&&F.charAt(0)!=="?"&&(F="?"+F),Z=Z.replace(/[?#]/g,function(W){return encodeURIComponent(W)}),F=F.replace("#","%23"),K+q+Z+F+J};function x(L,K){return w(L,!1,!0).resolve(K)}f.prototype.resolve=function(L){return this.resolveObject(w(L,!1,!0)).format()};function M(L,K){return L?w(L,!1,!0).resolveObject(K):K}f.prototype.resolveObject=function(L){if(N(L)){var K=new f;K.parse(L,!1,!0),L=K}var Z=new f;if(Object.keys(this).forEach(function(Ee){Z[Ee]=this[Ee]},this),Z.hash=L.hash,L.href==="")return Z.href=Z.format(),Z;if(L.slashes&&!L.protocol)return Object.keys(L).forEach(function(Ee){Ee!=="protocol"&&(Z[Ee]=L[Ee])}),d[Z.protocol]&&Z.hostname&&!Z.pathname&&(Z.path=Z.pathname="/"),Z.href=Z.format(),Z;if(L.protocol&&L.protocol!==Z.protocol){if(!d[L.protocol])return Object.keys(L).forEach(function(Ee){Z[Ee]=L[Ee]}),Z.href=Z.format(),Z;if(Z.protocol=L.protocol,!L.host&&!_[L.protocol]){for(var ye=(L.pathname||"").split("/");ye.length&&!(L.host=ye.shift()););L.host||(L.host=""),L.hostname||(L.hostname=""),ye[0]!==""&&ye.unshift(""),ye.length<2&&ye.unshift(""),Z.pathname=ye.join("/")}else Z.pathname=L.pathname;if(Z.search=L.search,Z.query=L.query,Z.host=L.host||"",Z.auth=L.auth,Z.hostname=L.hostname||L.host,Z.port=L.port,Z.pathname||Z.search){var J=Z.pathname||"",q=Z.search||"";Z.path=J+q}return Z.slashes=Z.slashes||L.slashes,Z.href=Z.format(),Z}var ne=Z.pathname&&Z.pathname.charAt(0)==="/",F=L.host||L.pathname&&L.pathname.charAt(0)==="/",W=F||ne||Z.host&&L.pathname,ie=W,he=Z.pathname&&Z.pathname.split("/")||[],ye=L.pathname&&L.pathname.split("/")||[],fe=Z.protocol&&!d[Z.protocol];if(fe&&(Z.hostname="",Z.port=null,Z.host&&(he[0]===""?he[0]=Z.host:he.unshift(Z.host)),Z.host="",L.protocol&&(L.hostname=null,L.port=null,L.host&&(ye[0]===""?ye[0]=L.host:ye.unshift(L.host)),L.host=null),W=W&&(ye[0]===""||he[0]==="")),F)Z.host=L.host||L.host===""?L.host:Z.host,Z.hostname=L.hostname||L.hostname===""?L.hostname:Z.hostname,Z.search=L.search,Z.query=L.query,he=ye;else if(ye.length)he||(he=[]),he.pop(),he=he.concat(ye),Z.search=L.search,Z.query=L.query;else if(!k(L.search)){if(fe){Z.hostname=Z.host=he.shift();var ae=Z.host&&Z.host.indexOf("@")>0?Z.host.split("@"):!1;ae&&(Z.auth=ae.shift(),Z.host=Z.hostname=ae.shift())}return Z.search=L.search,Z.query=L.query,(!A(Z.pathname)||!A(Z.search))&&(Z.path=(Z.pathname?Z.pathname:"")+(Z.search?Z.search:"")),Z.href=Z.format(),Z}if(!he.length)return Z.pathname=null,Z.search?Z.path="/"+Z.search:Z.path=null,Z.href=Z.format(),Z;for(var oe=he.slice(-1)[0],G=(Z.host||L.host)&&(oe==="."||oe==="..")||oe==="",re=0,se=he.length;se>=0;se--)oe=he[se],oe=="."?he.splice(se,1):oe===".."?(he.splice(se,1),re++):re&&(he.splice(se,1),re--);if(!W&&!ie)for(;re--;re)he.unshift("..");W&&he[0]!==""&&(!he[0]||he[0].charAt(0)!=="/")&&he.unshift(""),G&&he.join("/").substr(-1)!=="/"&&he.push("");var le=he[0]===""||he[0]&&he[0].charAt(0)==="/";if(fe){Z.hostname=Z.host=le?"":he.length?he.shift():"";var ae=Z.host&&Z.host.indexOf("@")>0?Z.host.split("@"):!1;ae&&(Z.auth=ae.shift(),Z.host=Z.hostname=ae.shift())}return W=W||Z.host&&he.length,W&&!le&&he.unshift(""),he.length?Z.pathname=he.join("/"):(Z.pathname=null,Z.path=null),(!A(Z.pathname)||!A(Z.search))&&(Z.path=(Z.pathname?Z.pathname:"")+(Z.search?Z.search:"")),Z.auth=L.auth||Z.auth,Z.slashes=Z.slashes||L.slashes,Z.href=Z.format(),Z},f.prototype.parseHost=function(){var L=this.host,K=c.exec(L);K&&(K=K[0],K!==":"&&(this.port=K.substr(1)),L=L.substr(0,L.length-K.length)),L&&(this.hostname=L)};function N(L){return typeof L=="string"}function C(L){return typeof L=="object"&&L!==null}function A(L){return L===null}function k(L){return L==null}},53250:(z,l,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=e(98661);function f(I,S){return I===S&&(I!==0||1/I===1/S)||I!==I&&S!==S}var u=typeof Object.is=="function"?Object.is:f,c=o.useState,g=o.useEffect,v=o.useLayoutEffect,E=o.useDebugValue;function y(I,S){var _=S(),d=c({inst:{value:_,getSnapshot:S}}),s=d[0].inst,w=d[1];return v(function(){s.value=_,s.getSnapshot=S,p(s)&&w({inst:s})},[I,_,S]),g(function(){return p(s)&&w({inst:s}),I(function(){p(s)&&w({inst:s})})},[I]),E(_),_}function p(I){var S=I.getSnapshot;I=I.value;try{var _=S();return!u(I,_)}catch(d){return!0}}function T(I,S){return S()}var O=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?T:y;l.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:O},61688:(z,l,e)=>{"use strict";z.exports=e(53250)},45327:z=>{for(var l=[],e=0;e<256;++e)l[e]=(e+256).toString(16).substr(1);function o(f,u){var c=u||0,g=l;return g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]}z.exports=o},85217:z=>{var l=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(l){var e=new Uint8Array(16);z.exports=function(){return l(e),e}}else{var o=new Array(16);z.exports=function(){for(var u=0,c;u<16;u++)u&3||(c=Math.random()*4294967296),o[u]=c>>>((u&3)<<3)&255;return o}}},71171:(z,l,e)=>{var o=e(85217),f=e(45327);function u(c,g,v){var E=g&&v||0;typeof c=="string"&&(g=c==="binary"?new Array(16):null,c=null),c=c||{};var y=c.random||(c.rng||o)();if(y[6]=y[6]&15|64,y[8]=y[8]&63|128,g)for(var p=0;p<16;++p)g[E+p]=y[p];return g||f(y)}z.exports=u},93235:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=c;var o=f(e(65571));function f(g){return g&&g.__esModule?g:{default:g}}function u(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(E){return typeof E}:u=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(g)}function c(g,v){(0,o.default)(g);var E,y;u(v)==="object"?(E=v.min||0,y=v.max):(E=arguments[1],y=arguments[2]);var p=encodeURI(g).split(/%..|./).length-1;return p>=E&&(typeof y=="undefined"||p<=y)}z.exports=l.default,z.exports.default=l.default},83868:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=s;var o=v(e(65571)),f=v(e(84808)),u=v(e(93235)),c=v(e(10221)),g=v(e(61028));function v(w){return w&&w.__esModule?w:{default:w}}var E={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},y=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,T=/^[a-z\d]+$/,O=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,I=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,S=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,_=254;function d(w){var P=w.replace(/^"(.+)"$/,"$1");if(!P.trim())return!1;var x=/[\.";<>]/.test(P);if(x){if(P===w)return!1;var M=P.split('"').length===P.split('\\"').length;if(!M)return!1}return!0}function s(w,P){if((0,o.default)(w),P=(0,f.default)(P,E),P.require_display_name||P.allow_display_name){var x=w.match(y);if(x){var M=x[1];if(w=w.replace(M,"").replace(/(^<|>$)/g,""),M.endsWith(" ")&&(M=M.substr(0,M.length-1)),!d(M))return!1}else if(P.require_display_name)return!1}if(!P.ignore_max_length&&w.length>_)return!1;var N=w.split("@"),C=N.pop(),A=C.toLowerCase();if(P.host_blacklist.includes(A))return!1;var k=N.join("@");if(P.domain_specific_validation&&(A==="gmail.com"||A==="googlemail.com")){k=k.toLowerCase();var L=k.split("+")[0];if(!(0,u.default)(L.replace(/\./g,""),{min:6,max:30}))return!1;for(var K=L.split("."),Z=0;Z<K.length;Z++)if(!T.test(K[Z]))return!1}if(P.ignore_max_length===!1&&(!(0,u.default)(k,{max:64})||!(0,u.default)(C,{max:254})))return!1;if(!(0,c.default)(C,{require_tld:P.require_tld})){if(!P.allow_ip_domain)return!1;if(!(0,g.default)(C)){if(!C.startsWith("[")||!C.endsWith("]"))return!1;var J=C.substr(1,C.length-2);if(J.length===0||!(0,g.default)(J))return!1}}if(k[0]==='"')return k=k.slice(1,k.length-1),P.allow_utf8_local_part?S.test(k):O.test(k);for(var q=P.allow_utf8_local_part?I:p,ne=k.split("."),F=0;F<ne.length;F++)if(!q.test(ne[F]))return!1;return!(P.blacklisted_chars&&k.search(new RegExp("[".concat(P.blacklisted_chars,"]+"),"g"))!==-1)}z.exports=l.default,z.exports.default=l.default},10221:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=g;var o=u(e(65571)),f=u(e(84808));function u(v){return v&&v.__esModule?v:{default:v}}var c={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function g(v,E){(0,o.default)(v),E=(0,f.default)(E,c),E.allow_trailing_dot&&v[v.length-1]==="."&&(v=v.substring(0,v.length-1)),E.allow_wildcard===!0&&v.indexOf("*.")===0&&(v=v.substring(2));var y=v.split("."),p=y[y.length-1];return E.require_tld&&(y.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(p)||/\s/.test(p))||!E.allow_numeric_tld&&/^\d+$/.test(p)?!1:y.every(function(T){return!(T.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(T)||/[\uff01-\uff5e]/.test(T)||/^-|-$/.test(T)||!E.allow_underscores&&/_/.test(T))})}z.exports=l.default,z.exports.default=l.default},61028:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=y;var o=f(e(65571));function f(p){return p&&p.__esModule?p:{default:p}}var u="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c="(".concat(u,"[.]){3}").concat(u),g=new RegExp("^".concat(c,"$")),v="(?:[0-9a-fA-F]{1,4})",E=new RegExp("^("+"(?:".concat(v,":){7}(?:").concat(v,"|:)|")+"(?:".concat(v,":){6}(?:").concat(c,"|:").concat(v,"|:)|")+"(?:".concat(v,":){5}(?::").concat(c,"|(:").concat(v,"){1,2}|:)|")+"(?:".concat(v,":){4}(?:(:").concat(v,"){0,1}:").concat(c,"|(:").concat(v,"){1,3}|:)|")+"(?:".concat(v,":){3}(?:(:").concat(v,"){0,2}:").concat(c,"|(:").concat(v,"){1,4}|:)|")+"(?:".concat(v,":){2}(?:(:").concat(v,"){0,3}:").concat(c,"|(:").concat(v,"){1,5}|:)|")+"(?:".concat(v,":){1}(?:(:").concat(v,"){0,4}:").concat(c,"|(:").concat(v,"){1,6}|:)|")+"(?::((?::".concat(v,"){0,5}:").concat(c,"|(?::").concat(v,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function y(p){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,o.default)(p),T=String(T),!T)return y(p,4)||y(p,6);if(T==="4"){if(!g.test(p))return!1;var O=p.split(".").sort(function(I,S){return I-S});return O[3]<=255}return T==="6"?!!E.test(p):!1}z.exports=l.default,z.exports.default=l.default},65571:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=o;function e(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(f)}function o(f){var u=typeof f=="string"||f instanceof String;if(!u){var c=e(f);throw f===null?c="null":c==="object"&&(c=f.constructor.name),new TypeError("Expected a string but received a ".concat(c))}}z.exports=l.default,z.exports.default=l.default},84808:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=e;function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;for(var u in f)typeof o[u]=="undefined"&&(o[u]=f[u]);return o}z.exports=l.default,z.exports.default=l.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:z=>{let l="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(f,u=21)=>(c=u)=>{let g="",v=c;for(;v--;)g+=f[Math.random()*f.length|0];return g},o=(f=21)=>{let u="",c=f;for(;c--;)u+=l[Math.random()*64|0];return u};z.exports={nanoid:o,customAlphabet:e}},39516:(z,l,e)=>{"use strict";e.d(l,{d:()=>S,f:()=>p});var o=e(98661),f=e(19946),u=e(12351),c=e(16723),g=e(23784),v=e(73781);let E=(0,o.createContext)(null);function y(){let _=(0,o.useContext)(E);if(_===null){let d=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(d,y),d}return _}function p(){let[_,d]=(0,o.useState)([]);return[_.length>0?_.join(" "):void 0,(0,o.useMemo)(()=>function(s){let w=(0,v.z)(x=>(d(M=>[...M,x]),()=>d(M=>{let N=M.slice(),C=N.indexOf(x);return C!==-1&&N.splice(C,1),N}))),P=(0,o.useMemo)(()=>({register:w,slot:s.slot,name:s.name,props:s.props}),[w,s.slot,s.name,s.props]);return o.default.createElement(E.Provider,{value:P},s.children)},[d])]}let T="p";function O(_,d){let s=(0,f.M)(),C=_,{id:w=`headlessui-description-${s}`}=C,P=gi(C,["id"]),x=y(),M=(0,g.T)(d);(0,c.e)(()=>x.register(w),[w,x.register]);let N=Ro(ir({ref:M},x.props),{id:w});return(0,u.sY)({ourProps:N,theirProps:P,slot:x.slot||{},defaultTag:T,name:x.name||"Description"})}let I=(0,u.yV)(O),S=Object.assign(I,{})},13599:(z,l,e)=>{"use strict";e.d(l,{V:()=>Jn});var o=e(98661),f=e(32984),u=e(12351),c=e(23784),g=e(61363),v=e(64103),E=e(19946),y=e(82180),p=e(46045),T=e(77896);function O(pt){return T.O.isServer?null:pt instanceof Node?pt.ownerDocument:pt!=null&&pt.hasOwnProperty("current")&&pt.current instanceof Node?pt.current.ownerDocument:document}let I=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(pt=>`${pt}:not([tabindex='-1'])`).join(",");var S=(pt=>(pt[pt.First=1]="First",pt[pt.Previous=2]="Previous",pt[pt.Next=4]="Next",pt[pt.Last=8]="Last",pt[pt.WrapAround=16]="WrapAround",pt[pt.NoScroll=32]="NoScroll",pt))(S||{}),_=(pt=>(pt[pt.Error=0]="Error",pt[pt.Overflow=1]="Overflow",pt[pt.Success=2]="Success",pt[pt.Underflow=3]="Underflow",pt))(_||{}),d=(pt=>(pt[pt.Previous=-1]="Previous",pt[pt.Next=1]="Next",pt))(d||{});function s(pt=document.body){return pt==null?[]:Array.from(pt.querySelectorAll(I)).sort((Mt,Kt)=>Math.sign((Mt.tabIndex||Number.MAX_SAFE_INTEGER)-(Kt.tabIndex||Number.MAX_SAFE_INTEGER)))}var w=(pt=>(pt[pt.Strict=0]="Strict",pt[pt.Loose=1]="Loose",pt))(w||{});function P(pt,Mt=0){var Kt;return pt===((Kt=O(pt))==null?void 0:Kt.body)?!1:(0,f.E)(Mt,{[0](){return pt.matches(I)},[1](){let qt=pt;for(;qt!==null;){if(qt.matches(I))return!0;qt=qt.parentElement}return!1}})}function x(pt){let Mt=m(pt);b().nextFrame(()=>{Mt&&!P(Mt.activeElement,0)&&N(pt)})}var M=(pt=>(pt[pt.Keyboard=0]="Keyboard",pt[pt.Mouse=1]="Mouse",pt))(M||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydown",pt=>{pt.metaKey||pt.altKey||pt.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",pt=>{pt.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:pt.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function N(pt){pt==null||pt.focus({preventScroll:!0})}let C=["textarea","input"].join(",");function A(pt){var Mt,Kt;return(Kt=(Mt=pt==null?void 0:pt.matches)==null?void 0:Mt.call(pt,C))!=null?Kt:!1}function k(pt,Mt=Kt=>Kt){return pt.slice().sort((Kt,qt)=>{let mn=Mt(Kt),En=Mt(qt);if(mn===null||En===null)return 0;let wn=mn.compareDocumentPosition(En);return wn&Node.DOCUMENT_POSITION_FOLLOWING?-1:wn&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function L(pt,Mt){return K(s(),Mt,{relativeTo:pt})}function K(pt,Mt,{sorted:Kt=!0,relativeTo:qt=null,skipElements:mn=[]}={}){let En=Array.isArray(pt)?pt.length>0?pt[0].ownerDocument:document:pt.ownerDocument,wn=Array.isArray(pt)?Kt?k(pt):pt:s(pt);mn.length>0&&wn.length>1&&(wn=wn.filter(yo=>!mn.includes(yo))),qt=qt!=null?qt:En.activeElement;let Hn=(()=>{if(Mt&5)return 1;if(Mt&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),wr=(()=>{if(Mt&1)return 0;if(Mt&2)return Math.max(0,wn.indexOf(qt))-1;if(Mt&4)return Math.max(0,wn.indexOf(qt))+1;if(Mt&8)return wn.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),zr=Mt&32?{preventScroll:!0}:{},$r=0,Or=wn.length,Gr;do{if($r>=Or||$r+Or<=0)return 0;let yo=wr+$r;if(Mt&16)yo=(yo+Or)%Or;else{if(yo<0)return 3;if(yo>=Or)return 1}Gr=wn[yo],Gr==null||Gr.focus(zr),$r+=Hn}while(Gr!==En.activeElement);return Mt&6&&A(Gr)&&Gr.select(),2}var Z=e(73781),J=e(3855);function q(pt,Mt,Kt){let qt=(0,J.E)(Mt);(0,o.useEffect)(()=>{function mn(En){qt.current(En)}return window.addEventListener(pt,mn,Kt),()=>window.removeEventListener(pt,mn,Kt)},[pt,Kt])}var ne=(pt=>(pt[pt.Forwards=0]="Forwards",pt[pt.Backwards=1]="Backwards",pt))(ne||{});function F(){let pt=(0,o.useRef)(0);return q("keydown",Mt=>{Mt.key==="Tab"&&(pt.current=Mt.shiftKey?1:0)},!0),pt}var W=e(14879);function ie(...pt){return(0,o.useMemo)(()=>O(...pt),[...pt])}function he(pt,Mt,Kt,qt){let mn=(0,J.E)(Kt);(0,o.useEffect)(()=>{pt=pt!=null?pt:window;function En(wn){mn.current(wn)}return pt.addEventListener(Mt,En,qt),()=>pt.removeEventListener(Mt,En,qt)},[pt,Mt,qt])}var ye=e(81021);function fe(pt,Mt){let Kt=(0,o.useRef)([]),qt=(0,Z.z)(pt);(0,o.useEffect)(()=>{let mn=[...Kt.current];for(let[En,wn]of Mt.entries())if(Kt.current[En]!==wn){let Hn=qt(Mt,mn);return Kt.current=Mt,Hn}},[qt,...Mt])}var ae=e(94192);function oe(pt){function Mt(){document.readyState!=="loading"&&(pt(),document.removeEventListener("DOMContentLoaded",Mt))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",Mt),Mt())}function G(pt){let Mt=(0,Z.z)(pt),Kt=(0,o.useRef)(!1);(0,o.useEffect)(()=>(Kt.current=!1,()=>{Kt.current=!0,(0,ye.Y)(()=>{Kt.current&&Mt()})}),[Mt])}function re(pt){if(!pt)return new Set;if(typeof pt=="function")return new Set(pt());let Mt=new Set;for(let Kt of pt.current)Kt.current instanceof HTMLElement&&Mt.add(Kt.current);return Mt}let se="div";var le=(pt=>(pt[pt.None=1]="None",pt[pt.InitialFocus=2]="InitialFocus",pt[pt.TabLock=4]="TabLock",pt[pt.FocusLock=8]="FocusLock",pt[pt.RestoreFocus=16]="RestoreFocus",pt[pt.All=30]="All",pt))(le||{});function Ee(pt,Mt){let Kt=(0,o.useRef)(null),qt=(0,c.T)(Kt,Mt),Mo=pt,{initialFocus:mn,containers:En,features:wn=30}=Mo,Hn=gi(Mo,["initialFocus","containers","features"]);(0,y.H)()||(wn=1);let wr=ie(Kt);_e({ownerDocument:wr},!!(wn&16));let zr=de({ownerDocument:wr,container:Kt,initialFocus:mn},!!(wn&2));Re({ownerDocument:wr,container:Kt,containers:En,previousActiveElement:zr},!!(wn&8));let $r=F(),Or=(0,Z.z)(po=>{let Jo=Kt.current;Jo&&(ho=>ho())(()=>{(0,f.E)($r.current,{[ne.Forwards]:()=>{K(Jo,S.First,{skipElements:[po.relatedTarget]})},[ne.Backwards]:()=>{K(Jo,S.Last,{skipElements:[po.relatedTarget]})}})})}),Gr=(0,ae.G)(),yo=(0,o.useRef)(!1),Yo={ref:qt,onKeyDown(po){po.key=="Tab"&&(yo.current=!0,Gr.requestAnimationFrame(()=>{yo.current=!1}))},onBlur(po){let Jo=re(En);Kt.current instanceof HTMLElement&&Jo.add(Kt.current);let ho=po.relatedTarget;ho instanceof HTMLElement&&ho.dataset.headlessuiFocusGuard!=="true"&&(ke(Jo,ho)||(yo.current?K(Kt.current,(0,f.E)($r.current,{[ne.Forwards]:()=>S.Next,[ne.Backwards]:()=>S.Previous})|S.WrapAround,{relativeTo:po.target}):po.target instanceof HTMLElement&&N(po.target)))}};return o.default.createElement(o.default.Fragment,null,!!(wn&4)&&o.default.createElement(p._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Or,features:p.A.Focusable}),(0,u.sY)({ourProps:Yo,theirProps:Hn,defaultTag:se,name:"FocusTrap"}),!!(wn&4)&&o.default.createElement(p._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Or,features:p.A.Focusable}))}let ve=(0,u.yV)(Ee),pe=Object.assign(ve,{features:le}),me=[];oe(()=>{function pt(Mt){Mt.target instanceof HTMLElement&&Mt.target!==document.body&&me[0]!==Mt.target&&(me.unshift(Mt.target),me=me.filter(Kt=>Kt!=null&&Kt.isConnected),me.splice(10))}window.addEventListener("click",pt,{capture:!0}),window.addEventListener("mousedown",pt,{capture:!0}),window.addEventListener("focus",pt,{capture:!0}),document.body.addEventListener("click",pt,{capture:!0}),document.body.addEventListener("mousedown",pt,{capture:!0}),document.body.addEventListener("focus",pt,{capture:!0})});function Ie(pt=!0){let Mt=(0,o.useRef)(me.slice());return fe(([Kt],[qt])=>{qt===!0&&Kt===!1&&(0,ye.Y)(()=>{Mt.current.splice(0)}),qt===!1&&Kt===!0&&(Mt.current=me.slice())},[pt,me,Mt]),(0,Z.z)(()=>{var Kt;return(Kt=Mt.current.find(qt=>qt!=null&&qt.isConnected))!=null?Kt:null})}function _e({ownerDocument:pt},Mt){let Kt=Ie(Mt);fe(()=>{Mt||(pt==null?void 0:pt.activeElement)===(pt==null?void 0:pt.body)&&N(Kt())},[Mt]),G(()=>{Mt&&N(Kt())})}function de({ownerDocument:pt,container:Mt,initialFocus:Kt},qt){let mn=(0,o.useRef)(null),En=(0,W.t)();return fe(()=>{if(!qt)return;let wn=Mt.current;wn&&(0,ye.Y)(()=>{if(!En.current)return;let Hn=pt==null?void 0:pt.activeElement;if(Kt!=null&&Kt.current){if((Kt==null?void 0:Kt.current)===Hn){mn.current=Hn;return}}else if(wn.contains(Hn)){mn.current=Hn;return}Kt!=null&&Kt.current?N(Kt.current):K(wn,S.First)===_.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),mn.current=pt==null?void 0:pt.activeElement})},[qt]),mn}function Re({ownerDocument:pt,container:Mt,containers:Kt,previousActiveElement:qt},mn){let En=(0,W.t)();he(pt==null?void 0:pt.defaultView,"focus",wn=>{if(!mn||!En.current)return;let Hn=re(Kt);Mt.current instanceof HTMLElement&&Hn.add(Mt.current);let wr=qt.current;if(!wr)return;let zr=wn.target;zr&&zr instanceof HTMLElement?ke(Hn,zr)?(qt.current=zr,N(zr)):(wn.preventDefault(),wn.stopPropagation(),N(wr)):N(qt.current)},!0)}function ke(pt,Mt){for(let Kt of pt)if(Kt.contains(Mt))return!0;return!1}var Ve=e(16723);let Ge=(0,o.createContext)(!1);function Qe(){return(0,o.useContext)(Ge)}function bt(pt){return o.default.createElement(Ge.Provider,{value:pt.force},pt.children)}function Ce(pt){let Mt=Qe(),Kt=(0,o.useContext)(Je),qt=ie(pt),[mn,En]=(0,o.useState)(()=>{if(!Mt&&Kt!==null||T.O.isServer)return null;let wn=qt==null?void 0:qt.getElementById("headlessui-portal-root");if(wn)return wn;if(qt===null)return null;let Hn=qt.createElement("div");return Hn.setAttribute("id","headlessui-portal-root"),qt.body.appendChild(Hn)});return(0,o.useEffect)(()=>{mn!==null&&(qt!=null&&qt.body.contains(mn)||qt==null||qt.body.appendChild(mn))},[mn,qt]),(0,o.useEffect)(()=>{Mt||Kt!==null&&En(Kt.current)},[Kt,En,Mt]),mn}let We=o.Fragment;function xe(pt,Mt){let Kt=pt,qt=(0,o.useRef)(null),mn=(0,c.T)((0,c.h)($r=>{qt.current=$r}),Mt),En=ie(qt),wn=Ce(qt),[Hn]=(0,o.useState)(()=>{var $r;return T.O.isServer?null:($r=En==null?void 0:En.createElement("div"))!=null?$r:null}),wr=(0,o.useContext)(je),zr=(0,y.H)();return(0,Ve.e)(()=>{!wn||!Hn||wn.contains(Hn)||(Hn.setAttribute("data-headlessui-portal",""),wn.appendChild(Hn))},[wn,Hn]),(0,Ve.e)(()=>{if(Hn&&wr)return wr.register(Hn)},[wr,Hn]),G(()=>{var $r;!wn||!Hn||(Hn instanceof Node&&wn.contains(Hn)&&wn.removeChild(Hn),wn.childNodes.length<=0&&(($r=wn.parentElement)==null||$r.removeChild(wn)))}),zr?!wn||!Hn?null:(0,o.createPortal)((0,u.sY)({ourProps:{ref:mn},theirProps:Kt,defaultTag:We,name:"Portal"}),Hn):null}let rt=o.Fragment,Je=(0,o.createContext)(null);function ft(pt,Mt){let En=pt,{target:Kt}=En,qt=gi(En,["target"]),mn={ref:(0,c.T)(Mt)};return o.default.createElement(Je.Provider,{value:Kt},(0,u.sY)({ourProps:mn,theirProps:qt,defaultTag:rt,name:"Popover.Group"}))}let je=(0,o.createContext)(null);function Rt(){let pt=(0,o.useContext)(je),Mt=(0,o.useRef)([]),Kt=(0,Z.z)(En=>(Mt.current.push(En),pt&&pt.register(En),()=>qt(En))),qt=(0,Z.z)(En=>{let wn=Mt.current.indexOf(En);wn!==-1&&Mt.current.splice(wn,1),pt&&pt.unregister(En)}),mn=(0,o.useMemo)(()=>({register:Kt,unregister:qt,portals:Mt}),[Kt,qt,Mt]);return[Mt,(0,o.useMemo)(()=>function({children:En}){return o.default.createElement(je.Provider,{value:mn},En)},[mn])]}let Jt=(0,u.yV)(xe),Ct=(0,u.yV)(ft),Le=Object.assign(Jt,{Group:Ct});var He=e(39516),it=e(16567);let Ne=(0,o.createContext)(()=>{});Ne.displayName="StackContext";var Be=(pt=>(pt[pt.Add=0]="Add",pt[pt.Remove=1]="Remove",pt))(Be||{});function ze(){return(0,o.useContext)(Ne)}function lt({children:pt,onUpdate:Mt,type:Kt,element:qt,enabled:mn}){let En=ze(),wn=(0,Z.z)((...Hn)=>{Mt==null||Mt(...Hn),En(...Hn)});return(0,Ve.e)(()=>{let Hn=mn===void 0||mn===!0;return Hn&&wn(0,Kt,qt),()=>{Hn&&wn(1,Kt,qt)}},[wn,Kt,qt,mn]),o.default.createElement(Ne.Provider,{value:wn},pt)}function et(pt,Mt,Kt){let qt=(0,J.E)(Mt);(0,o.useEffect)(()=>{function mn(En){qt.current(En)}return document.addEventListener(pt,mn,Kt),()=>document.removeEventListener(pt,mn,Kt)},[pt,Kt])}function Ae(pt,Mt,Kt=!0){let qt=(0,o.useRef)(!1);(0,o.useEffect)(()=>{requestAnimationFrame(()=>{qt.current=Kt})},[Kt]);function mn(wn,Hn){if(!qt.current||wn.defaultPrevented)return;let wr=Hn(wn);if(wr===null||!wr.getRootNode().contains(wr))return;let zr=function $r(Or){return typeof Or=="function"?$r(Or()):Array.isArray(Or)||Or instanceof Set?Or:[Or]}(pt);for(let $r of zr){if($r===null)continue;let Or=$r instanceof HTMLElement?$r:$r.current;if(Or!=null&&Or.contains(wr)||wn.composed&&wn.composedPath().includes(Or))return}return!P(wr,w.Loose)&&wr.tabIndex!==-1&&wn.preventDefault(),Mt(wn,wr)}let En=(0,o.useRef)(null);et("mousedown",wn=>{var Hn,wr;qt.current&&(En.current=((wr=(Hn=wn.composedPath)==null?void 0:Hn.call(wn))==null?void 0:wr[0])||wn.target)},!0),et("click",wn=>{En.current&&(mn(wn,()=>En.current),En.current=null)},!0),q("blur",wn=>mn(wn,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function H(pt,Mt){return pt===Mt&&(pt!==0||1/pt===1/Mt)||pt!==pt&&Mt!==Mt}const Q=typeof Object.is=="function"?Object.is:H,{useState:ce,useEffect:Pe,useLayoutEffect:Me,useDebugValue:$e}=o;let ct=null,ut=null;function Et(pt,Mt,Kt){const qt=Mt(),[{inst:mn},En]=ce({inst:{value:qt,getSnapshot:Mt}});return Me(()=>{mn.value=qt,mn.getSnapshot=Mt,Nt(mn)&&En({inst:mn})},[pt,qt,Mt]),Pe(()=>(Nt(mn)&&En({inst:mn}),pt(()=>{Nt(mn)&&En({inst:mn})})),[pt]),$e(qt),qt}function Nt(pt){const Mt=pt.getSnapshot,Kt=pt.value;try{const qt=Mt();return!Q(Kt,qt)}catch(qt){return!0}}function $t(pt,Mt,Kt){return Mt()}const Nn=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Vt=!Nn,rr=Vt?$t:Et,Tr=(pt=>pt.useSyncExternalStore)(o);function cr(pt){return Tr(pt.subscribe,pt.getSnapshot,pt.getSnapshot)}var Lr=e(9362);function Br(pt,Mt){let Kt=pt(),qt=new Set;return{getSnapshot(){return Kt},subscribe(mn){return qt.add(mn),()=>qt.delete(mn)},dispatch(mn,...En){let wn=Mt[mn].call(Kt,...En);wn&&(Kt=wn,qt.forEach(Hn=>Hn()))}}}function Cr(){let pt;return{before({doc:Mt}){var Kt;let qt=Mt.documentElement;pt=((Kt=Mt.defaultView)!=null?Kt:window).innerWidth-qt.clientWidth},after({doc:Mt,d:Kt}){let qt=Mt.documentElement,mn=qt.clientWidth-qt.offsetWidth,En=pt-mn;Kt.style(qt,"paddingRight",`${En}px`)}}}function Dt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ft(){return/Android/gi.test(window.navigator.userAgent)}function zt(){return Dt()||Ft()}function sn(){if(!Dt())return{};let pt;return{before(){pt=window.pageYOffset},after({doc:Mt,d:Kt,meta:qt}){function mn(wn){return qt.containers.flatMap(Hn=>Hn()).some(Hn=>Hn.contains(wn))}Kt.style(Mt.body,"marginTop",`-${pt}px`),window.scrollTo(0,0);let En=null;Kt.addEventListener(Mt,"click",wn=>{if(wn.target instanceof HTMLElement)try{let Hn=wn.target.closest("a");if(!Hn)return;let{hash:wr}=new URL(Hn.href),zr=Mt.querySelector(wr);zr&&!mn(zr)&&(En=zr)}catch(Hn){}},!0),Kt.addEventListener(Mt,"touchmove",wn=>{wn.target instanceof HTMLElement&&!mn(wn.target)&&wn.preventDefault()},{passive:!1}),Kt.add(()=>{window.scrollTo(0,window.pageYOffset+pt),En&&En.isConnected&&(En.scrollIntoView({block:"nearest"}),En=null)})}}}function Un(){return{before({doc:pt,d:Mt}){Mt.style(pt.documentElement,"overflow","hidden")}}}function gr(pt){let Mt={};for(let Kt of pt)Object.assign(Mt,Kt(Mt));return Mt}let Dr=Br(()=>new Map,{PUSH(pt,Mt){var Kt;let qt=(Kt=this.get(pt))!=null?Kt:{doc:pt,count:0,d:(0,Lr.k)(),meta:new Set};return qt.count++,qt.meta.add(Mt),this.set(pt,qt),this},POP(pt,Mt){let Kt=this.get(pt);return Kt&&(Kt.count--,Kt.meta.delete(Mt)),this},SCROLL_PREVENT({doc:pt,d:Mt,meta:Kt}){let qt={doc:pt,d:Mt,meta:gr(Kt)},mn=[sn(),Cr(),Un()];mn.forEach(({before:En})=>En==null?void 0:En(qt)),mn.forEach(({after:En})=>En==null?void 0:En(qt))},SCROLL_ALLOW({d:pt}){pt.dispose()},TEARDOWN({doc:pt}){this.delete(pt)}});Dr.subscribe(()=>{let pt=Dr.getSnapshot(),Mt=new Map;for(let[Kt]of pt)Mt.set(Kt,Kt.documentElement.style.overflow);for(let Kt of pt.values()){let qt=Mt.get(Kt.doc)==="hidden",mn=Kt.count!==0;(mn&&!qt||!mn&&qt)&&Dr.dispatch(Kt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",Kt),Kt.count===0&&Dr.dispatch("TEARDOWN",Kt)}});function Fr(pt,Mt,Kt){let qt=cr(Dr),mn=pt?qt.get(pt):void 0,En=mn?mn.count>0:!1;return(0,Ve.e)(()=>{if(!(!pt||!Mt))return Dr.dispatch("PUSH",pt,Kt),()=>Dr.dispatch("POP",pt,Kt)},[Mt,pt]),En}let jr=new Map,kr=new Map;function uo(pt,Mt=!0){(0,Ve.e)(()=>{var Kt;if(!Mt)return;let qt=typeof pt=="function"?pt():pt.current;if(!qt)return;function mn(){var wn;if(!qt)return;let Hn=(wn=kr.get(qt))!=null?wn:1;if(Hn===1?kr.delete(qt):kr.set(qt,Hn-1),Hn!==1)return;let wr=jr.get(qt);wr&&(wr["aria-hidden"]===null?qt.removeAttribute("aria-hidden"):qt.setAttribute("aria-hidden",wr["aria-hidden"]),qt.inert=wr.inert,jr.delete(qt))}let En=(Kt=kr.get(qt))!=null?Kt:0;return kr.set(qt,En+1),En!==0||(jr.set(qt,{"aria-hidden":qt.getAttribute("aria-hidden"),inert:qt.inert}),qt.setAttribute("aria-hidden","true"),qt.inert=!0),mn},[pt,Mt])}function to({defaultContainers:pt=[],portals:Mt}={}){let Kt=(0,o.useRef)(null),qt=ie(Kt),mn=(0,Z.z)(()=>{var En;let wn=[];for(let Hn of pt)Hn!==null&&(Hn instanceof HTMLElement?wn.push(Hn):"current"in Hn&&Hn.current instanceof HTMLElement&&wn.push(Hn.current));if(Mt!=null&&Mt.current)for(let Hn of Mt.current)wn.push(Hn);for(let Hn of(En=qt==null?void 0:qt.querySelectorAll("html > *, body > *"))!=null?En:[])Hn!==document.body&&Hn!==document.head&&Hn instanceof HTMLElement&&Hn.id!=="headlessui-portal-root"&&(Hn.contains(Kt.current)||wn.some(wr=>Hn.contains(wr))||wn.push(Hn));return wn});return{resolveContainers:mn,contains:(0,Z.z)(En=>mn().some(wn=>wn.contains(En))),mainTreeNodeRef:Kt,MainTreeNode:(0,o.useMemo)(()=>function(){return o.default.createElement(p._,{features:p.A.Hidden,ref:Kt})},[Kt])}}var ao=(pt=>(pt[pt.Open=0]="Open",pt[pt.Closed=1]="Closed",pt))(ao||{}),Ur=(pt=>(pt[pt.SetTitleId=0]="SetTitleId",pt))(Ur||{});let _o={[0](pt,Mt){return pt.titleId===Mt.id?pt:Ro(ir({},pt),{titleId:Mt.id})}},fo=(0,o.createContext)(null);fo.displayName="DialogContext";function no(pt){let Mt=(0,o.useContext)(fo);if(Mt===null){let Kt=new Error(`<${pt} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Kt,no),Kt}return Mt}function so(pt,Mt,Kt=()=>[document.body]){Fr(pt,Mt,qt=>{var mn;return{containers:[...(mn=qt.containers)!=null?mn:[],Kt]}})}function go(pt,Mt){return(0,f.E)(Mt.type,_o,pt,Mt)}let Zo="div",Co=u.AN.RenderStrategy|u.AN.Static;function Oo(pt,Mt){var Kt;let qt=(0,E.M)(),we=pt,{id:mn=`headlessui-dialog-${qt}`,open:En,onClose:wn,initialFocus:Hn,__demoMode:wr=!1}=we,zr=gi(we,["id","open","onClose","initialFocus","__demoMode"]),[$r,Or]=(0,o.useState)(0),Gr=(0,it.oJ)();En===void 0&&Gr!==null&&(En=(Gr&it.ZM.Open)===it.ZM.Open);let yo=(0,o.useRef)(null),Yo=(0,c.T)(yo,Mt),Mo=ie(yo),po=pt.hasOwnProperty("open")||Gr!==null,Jo=pt.hasOwnProperty("onClose");if(!po&&!Jo)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!po)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!Jo)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof En!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${En}`);if(typeof wn!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${wn}`);let ho=En?0:1,[Eo,Si]=(0,o.useReducer)(go,{titleId:null,descriptionId:null,panelRef:(0,o.createRef)()}),ni=(0,Z.z)(()=>wn(!1)),si=(0,Z.z)(Ke=>Si({type:0,id:Ke})),fi=(0,y.H)()?wr?!1:ho===0:!1,oi=$r>1,ii=(0,o.useContext)(fo)!==null,[Di,Mi]=Rt(),{resolveContainers:pi,mainTreeNodeRef:hi,MainTreeNode:mi}=to({portals:Di,defaultContainers:[(Kt=Eo.panelRef.current)!=null?Kt:yo.current]}),Xo=oi?"parent":"leaf",Ao=Gr!==null?(Gr&it.ZM.Closing)===it.ZM.Closing:!1,li=(()=>ii||Ao?!1:fi)(),ui=(0,o.useCallback)(()=>{var Ke,ht;return(ht=Array.from((Ke=Mo==null?void 0:Mo.querySelectorAll("body > *"))!=null?Ke:[]).find(vt=>vt.id==="headlessui-portal-root"?!1:vt.contains(hi.current)&&vt instanceof HTMLElement))!=null?ht:null},[hi]);uo(ui,li);let ci=(()=>oi?!0:fi)(),nt=(0,o.useCallback)(()=>{var Ke,ht;return(ht=Array.from((Ke=Mo==null?void 0:Mo.querySelectorAll("[data-headlessui-portal]"))!=null?Ke:[]).find(vt=>vt.contains(hi.current)&&vt instanceof HTMLElement))!=null?ht:null},[hi]);uo(nt,ci);let Ze=(()=>!(!fi||oi))();Ae(pi,ni,Ze);let Xe=(()=>!(oi||ho!==0))();he(Mo==null?void 0:Mo.defaultView,"keydown",Ke=>{Xe&&(Ke.defaultPrevented||Ke.key===g.R.Escape&&(Ke.preventDefault(),Ke.stopPropagation(),ni()))});let mt=(()=>!(Ao||ho!==0||ii))();so(Mo,mt,pi),(0,o.useEffect)(()=>{if(ho!==0||!yo.current)return;let Ke=new ResizeObserver(ht=>{for(let vt of ht){let Ot=vt.target.getBoundingClientRect();Ot.x===0&&Ot.y===0&&Ot.width===0&&Ot.height===0&&ni()}});return Ke.observe(yo.current),()=>Ke.disconnect()},[ho,yo,ni]);let[Pt,jt]=(0,He.f)(),kt=(0,o.useMemo)(()=>[{dialogState:ho,close:ni,setTitleId:si},Eo],[ho,Eo,ni,si]),Oe=(0,o.useMemo)(()=>({open:ho===0}),[ho]),be={ref:Yo,id:mn,role:"dialog","aria-modal":ho===0?!0:void 0,"aria-labelledby":Eo.titleId,"aria-describedby":Pt};return o.default.createElement(lt,{type:"Dialog",enabled:ho===0,element:yo,onUpdate:(0,Z.z)((Ke,ht)=>{ht==="Dialog"&&(0,f.E)(Ke,{[Be.Add]:()=>Or(vt=>vt+1),[Be.Remove]:()=>Or(vt=>vt-1)})})},o.default.createElement(bt,{force:!0},o.default.createElement(Le,null,o.default.createElement(fo.Provider,{value:kt},o.default.createElement(Le.Group,{target:yo},o.default.createElement(bt,{force:!1},o.default.createElement(jt,{slot:Oe,name:"Dialog.Description"},o.default.createElement(pe,{initialFocus:Hn,containers:pi,features:fi?(0,f.E)(Xo,{parent:pe.features.RestoreFocus,leaf:pe.features.All&~pe.features.FocusLock}):pe.features.None},o.default.createElement(Mi,null,(0,u.sY)({ourProps:be,theirProps:zr,slot:Oe,defaultTag:Zo,features:Co,visible:ho===0,name:"Dialog"}))))))))),o.default.createElement(mi,null))}let vo="div";function on(pt,Mt){let Kt=(0,E.M)(),$r=pt,{id:qt=`headlessui-dialog-overlay-${Kt}`}=$r,mn=gi($r,["id"]),[{dialogState:En,close:wn}]=no("Dialog.Overlay"),Hn=(0,c.T)(Mt),wr=(0,Z.z)(Or=>{if(Or.target===Or.currentTarget){if((0,v.P)(Or.currentTarget))return Or.preventDefault();Or.preventDefault(),Or.stopPropagation(),wn()}}),zr=(0,o.useMemo)(()=>({open:En===0}),[En]);return(0,u.sY)({ourProps:{ref:Hn,id:qt,"aria-hidden":!0,onClick:wr},theirProps:mn,slot:zr,defaultTag:vo,name:"Dialog.Overlay"})}let On="div";function Tn(pt,Mt){let Kt=(0,E.M)(),zr=pt,{id:qt=`headlessui-dialog-backdrop-${Kt}`}=zr,mn=gi(zr,["id"]),[{dialogState:En},wn]=no("Dialog.Backdrop"),Hn=(0,c.T)(Mt);(0,o.useEffect)(()=>{if(wn.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[wn.panelRef]);let wr=(0,o.useMemo)(()=>({open:En===0}),[En]);return o.default.createElement(bt,{force:!0},o.default.createElement(Le,null,(0,u.sY)({ourProps:{ref:Hn,id:qt,"aria-hidden":!0},theirProps:mn,slot:wr,defaultTag:On,name:"Dialog.Backdrop"})))}let Bn="div";function Tt(pt,Mt){let Kt=(0,E.M)(),$r=pt,{id:qt=`headlessui-dialog-panel-${Kt}`}=$r,mn=gi($r,["id"]),[{dialogState:En},wn]=no("Dialog.Panel"),Hn=(0,c.T)(Mt,wn.panelRef),wr=(0,o.useMemo)(()=>({open:En===0}),[En]),zr=(0,Z.z)(Or=>{Or.stopPropagation()});return(0,u.sY)({ourProps:{ref:Hn,id:qt,onClick:zr},theirProps:mn,slot:wr,defaultTag:Bn,name:"Dialog.Panel"})}let Lt="h2";function Yt(pt,Mt){let Kt=(0,E.M)(),zr=pt,{id:qt=`headlessui-dialog-title-${Kt}`}=zr,mn=gi(zr,["id"]),[{dialogState:En,setTitleId:wn}]=no("Dialog.Title"),Hn=(0,c.T)(Mt);(0,o.useEffect)(()=>(wn(qt),()=>wn(null)),[qt,wn]);let wr=(0,o.useMemo)(()=>({open:En===0}),[En]);return(0,u.sY)({ourProps:{ref:Hn,id:qt},theirProps:mn,slot:wr,defaultTag:Lt,name:"Dialog.Title"})}let ln=(0,u.yV)(Oo),hn=(0,u.yV)(Tn),Dn=(0,u.yV)(Tt),an=(0,u.yV)(on),Mn=(0,u.yV)(Yt),Jn=Object.assign(ln,{Backdrop:hn,Panel:Dn,Overlay:an,Title:Mn,Description:He.d})},61363:(z,l,e)=>{"use strict";e.d(l,{R:()=>o});var o=(f=>(f.Space=" ",f.Enter="Enter",f.Escape="Escape",f.Backspace="Backspace",f.Delete="Delete",f.ArrowLeft="ArrowLeft",f.ArrowUp="ArrowUp",f.ArrowRight="ArrowRight",f.ArrowDown="ArrowDown",f.Home="Home",f.End="End",f.PageUp="PageUp",f.PageDown="PageDown",f.Tab="Tab",f))(o||{})},5285:(z,l,e)=>{"use strict";e.d(l,{u:()=>se});var o=e(98661),f=e(12351),u=e(16567),c=e(32984),g=e(14879),v=e(16723),E=e(3855),y=e(82180),p=e(23784);function T(le){let Ee={called:!1};return(...ve)=>{if(!Ee.called)return Ee.called=!0,le(...ve)}}var O=e(9362);function I(le,...Ee){le&&Ee.length>0&&le.classList.add(...Ee)}function S(le,...Ee){le&&Ee.length>0&&le.classList.remove(...Ee)}function _(le,Ee){let ve=(0,O.k)();if(!le)return ve.dispose;let{transitionDuration:pe,transitionDelay:me}=getComputedStyle(le),[Ie,_e]=[pe,me].map(Re=>{let[ke=0]=Re.split(",").filter(Boolean).map(Ve=>Ve.includes("ms")?parseFloat(Ve):parseFloat(Ve)*1e3).sort((Ve,Ge)=>Ge-Ve);return ke}),de=Ie+_e;if(de!==0){ve.group(ke=>{ke.setTimeout(()=>{Ee(),ke.dispose()},de),ke.addEventListener(le,"transitionrun",Ve=>{Ve.target===Ve.currentTarget&&ke.dispose()})});let Re=ve.addEventListener(le,"transitionend",ke=>{ke.target===ke.currentTarget&&(Ee(),Re())})}else Ee();return ve.add(()=>Ee()),ve.dispose}function d(le,Ee,ve,pe){let me=ve?"enter":"leave",Ie=(0,O.k)(),_e=pe!==void 0?T(pe):()=>{};me==="enter"&&(le.removeAttribute("hidden"),le.style.display="");let de=(0,c.E)(me,{enter:()=>Ee.enter,leave:()=>Ee.leave}),Re=(0,c.E)(me,{enter:()=>Ee.enterTo,leave:()=>Ee.leaveTo}),ke=(0,c.E)(me,{enter:()=>Ee.enterFrom,leave:()=>Ee.leaveFrom});return S(le,...Ee.enter,...Ee.enterTo,...Ee.enterFrom,...Ee.leave,...Ee.leaveFrom,...Ee.leaveTo,...Ee.entered),I(le,...de,...ke),Ie.nextFrame(()=>{S(le,...ke),I(le,...Re),_(le,()=>(S(le,...de),I(le,...Ee.entered),_e()))}),Ie.dispose}var s=e(94192);function w({container:le,direction:Ee,classes:ve,onStart:pe,onStop:me}){let Ie=(0,g.t)(),_e=(0,s.G)(),de=(0,E.E)(Ee);(0,v.e)(()=>{let Re=(0,O.k)();_e.add(Re.dispose);let ke=le.current;if(ke&&de.current!=="idle"&&Ie.current)return Re.dispose(),pe.current(de.current),Re.add(d(ke,ve.current,de.current==="enter",()=>{Re.dispose(),me.current(de.current)})),Re.dispose},[Ee])}var P=e(73781),x=e(44067);function M(le=0){let[Ee,ve]=(0,o.useState)(le),pe=(0,g.t)(),me=(0,o.useCallback)(Re=>{pe.current&&ve(ke=>ke|Re)},[Ee,pe]),Ie=(0,o.useCallback)(Re=>!!(Ee&Re),[Ee]),_e=(0,o.useCallback)(Re=>{pe.current&&ve(ke=>ke&~Re)},[ve,pe]),de=(0,o.useCallback)(Re=>{pe.current&&ve(ke=>ke^Re)},[ve]);return{flags:Ee,addFlag:me,hasFlag:Ie,removeFlag:_e,toggleFlag:de}}function N(le=""){return le.split(" ").filter(Ee=>Ee.trim().length>1)}let C=(0,o.createContext)(null);C.displayName="TransitionContext";var A=(le=>(le.Visible="visible",le.Hidden="hidden",le))(A||{});function k(){let le=(0,o.useContext)(C);if(le===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return le}function L(){let le=(0,o.useContext)(K);if(le===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return le}let K=(0,o.createContext)(null);K.displayName="NestingContext";function Z(le){return"children"in le?Z(le.children):le.current.filter(({el:Ee})=>Ee.current!==null).filter(({state:Ee})=>Ee==="visible").length>0}function J(le,Ee){let ve=(0,E.E)(le),pe=(0,o.useRef)([]),me=(0,g.t)(),Ie=(0,s.G)(),_e=(0,P.z)((bt,Ce=f.l4.Hidden)=>{let We=pe.current.findIndex(({el:xe})=>xe===bt);We!==-1&&((0,c.E)(Ce,{[f.l4.Unmount](){pe.current.splice(We,1)},[f.l4.Hidden](){pe.current[We].state="hidden"}}),Ie.microTask(()=>{var xe;!Z(pe)&&me.current&&((xe=ve.current)==null||xe.call(ve))}))}),de=(0,P.z)(bt=>{let Ce=pe.current.find(({el:We})=>We===bt);return Ce?Ce.state!=="visible"&&(Ce.state="visible"):pe.current.push({el:bt,state:"visible"}),()=>_e(bt,f.l4.Unmount)}),Re=(0,o.useRef)([]),ke=(0,o.useRef)(Promise.resolve()),Ve=(0,o.useRef)({enter:[],leave:[],idle:[]}),Ge=(0,P.z)((bt,Ce,We)=>{Re.current.splice(0),Ee&&(Ee.chains.current[Ce]=Ee.chains.current[Ce].filter(([xe])=>xe!==bt)),Ee==null||Ee.chains.current[Ce].push([bt,new Promise(xe=>{Re.current.push(xe)})]),Ee==null||Ee.chains.current[Ce].push([bt,new Promise(xe=>{Promise.all(Ve.current[Ce].map(([rt,Je])=>Je)).then(()=>xe())})]),Ce==="enter"?ke.current=ke.current.then(()=>Ee==null?void 0:Ee.wait.current).then(()=>We(Ce)):We(Ce)}),Qe=(0,P.z)((bt,Ce,We)=>{Promise.all(Ve.current[Ce].splice(0).map(([xe,rt])=>rt)).then(()=>{var xe;(xe=Re.current.shift())==null||xe()}).then(()=>We(Ce))});return(0,o.useMemo)(()=>({children:pe,register:de,unregister:_e,onStart:Ge,onStop:Qe,wait:ke,chains:Ve}),[de,_e,pe,Ge,Qe,Ve,ke])}function q(){}let ne=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function F(le){var Ee;let ve={};for(let pe of ne)ve[pe]=(Ee=le[pe])!=null?Ee:q;return ve}function W(le){let Ee=(0,o.useRef)(F(le));return(0,o.useEffect)(()=>{Ee.current=F(le)},[le]),Ee}let ie="div",he=f.AN.RenderStrategy;function ye(le,Ee){let Me=le,{beforeEnter:ve,afterEnter:pe,beforeLeave:me,afterLeave:Ie,enter:_e,enterFrom:de,enterTo:Re,entered:ke,leave:Ve,leaveFrom:Ge,leaveTo:Qe}=Me,bt=gi(Me,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),Ce=(0,o.useRef)(null),We=(0,p.T)(Ce,Ee),xe=bt.unmount?f.l4.Unmount:f.l4.Hidden,{show:rt,appear:Je,initial:ft}=k(),[je,Rt]=(0,o.useState)(rt?"visible":"hidden"),Jt=L(),{register:Ct,unregister:Le}=Jt,He=(0,o.useRef)(null);(0,o.useEffect)(()=>Ct(Ce),[Ct,Ce]),(0,o.useEffect)(()=>{if(xe===f.l4.Hidden&&Ce.current){if(rt&&je!=="visible"){Rt("visible");return}return(0,c.E)(je,{hidden:()=>Le(Ce),visible:()=>Ct(Ce)})}},[je,Ce,Ct,Le,rt,xe]);let it=(0,E.E)({enter:N(_e),enterFrom:N(de),enterTo:N(Re),entered:N(ke),leave:N(Ve),leaveFrom:N(Ge),leaveTo:N(Qe)}),Ne=W({beforeEnter:ve,afterEnter:pe,beforeLeave:me,afterLeave:Ie}),Be=(0,y.H)();(0,o.useEffect)(()=>{if(Be&&je==="visible"&&Ce.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Ce,je,Be]);let ze=ft&&!Je,lt=(()=>!Be||ze||He.current===rt?"idle":rt?"enter":"leave")(),et=M(0),Ae=(0,P.z)($e=>(0,c.E)($e,{enter:()=>{et.addFlag(u.ZM.Opening),Ne.current.beforeEnter()},leave:()=>{et.addFlag(u.ZM.Closing),Ne.current.beforeLeave()},idle:()=>{}})),H=(0,P.z)($e=>(0,c.E)($e,{enter:()=>{et.removeFlag(u.ZM.Opening),Ne.current.afterEnter()},leave:()=>{et.removeFlag(u.ZM.Closing),Ne.current.afterLeave()},idle:()=>{}})),Q=J(()=>{Rt("hidden"),Le(Ce)},Jt);w({container:Ce,classes:it,direction:lt,onStart:(0,E.E)($e=>{Q.onStart(Ce,$e,Ae)}),onStop:(0,E.E)($e=>{Q.onStop(Ce,$e,H),$e==="leave"&&!Z(Q)&&(Rt("hidden"),Le(Ce))})}),(0,o.useEffect)(()=>{ze&&(xe===f.l4.Hidden?He.current=null:He.current=rt)},[rt,ze,je]);let ce=bt,Pe={ref:We};return Je&&rt&&ft&&(ce=Ro(ir({},ce),{className:(0,x.A)(bt.className,...it.current.enter,...it.current.enterFrom)})),o.default.createElement(K.Provider,{value:Q},o.default.createElement(u.up,{value:(0,c.E)(je,{visible:u.ZM.Open,hidden:u.ZM.Closed})|et.flags},(0,f.sY)({ourProps:Pe,theirProps:ce,defaultTag:ie,features:he,visible:je==="visible",name:"Transition.Child"})))}function fe(le,Ee){let ft=le,{show:ve,appear:pe=!1,unmount:me}=ft,Ie=gi(ft,["show","appear","unmount"]),_e=(0,o.useRef)(null),de=(0,p.T)(_e,Ee);(0,y.H)();let Re=(0,u.oJ)();if(ve===void 0&&Re!==null&&(ve=(Re&u.ZM.Open)===u.ZM.Open),![!0,!1].includes(ve))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[ke,Ve]=(0,o.useState)(ve?"visible":"hidden"),Ge=J(()=>{Ve("hidden")}),[Qe,bt]=(0,o.useState)(!0),Ce=(0,o.useRef)([ve]);(0,v.e)(()=>{Qe!==!1&&Ce.current[Ce.current.length-1]!==ve&&(Ce.current.push(ve),bt(!1))},[Ce,ve]);let We=(0,o.useMemo)(()=>({show:ve,appear:pe,initial:Qe}),[ve,pe,Qe]);(0,o.useEffect)(()=>{if(ve)Ve("visible");else if(!Z(Ge))Ve("hidden");else{let je=_e.current;if(!je)return;let Rt=je.getBoundingClientRect();Rt.x===0&&Rt.y===0&&Rt.width===0&&Rt.height===0&&Ve("hidden")}},[ve,Ge]);let xe={unmount:me},rt=(0,P.z)(()=>{var je;Qe&&bt(!1),(je=le.beforeEnter)==null||je.call(le)}),Je=(0,P.z)(()=>{var je;Qe&&bt(!1),(je=le.beforeLeave)==null||je.call(le)});return o.default.createElement(K.Provider,{value:Ge},o.default.createElement(C.Provider,{value:We},(0,f.sY)({ourProps:Ro(ir({},xe),{as:o.Fragment,children:o.default.createElement(G,Ro(ir(ir({ref:de},xe),Ie),{beforeEnter:rt,beforeLeave:Je}))}),theirProps:{},defaultTag:o.Fragment,features:he,visible:ke==="visible",name:"Transition"})))}function ae(le,Ee){let ve=(0,o.useContext)(C)!==null,pe=(0,u.oJ)()!==null;return o.default.createElement(o.default.Fragment,null,!ve&&pe?o.default.createElement(oe,ir({ref:Ee},le)):o.default.createElement(G,ir({ref:Ee},le)))}let oe=(0,f.yV)(fe),G=(0,f.yV)(ye),re=(0,f.yV)(ae),se=Object.assign(oe,{Child:re,Root:oe})},94192:(z,l,e)=>{"use strict";e.d(l,{G:()=>u});var o=e(98661),f=e(9362);function u(){let[c]=(0,o.useState)(f.k);return(0,o.useEffect)(()=>()=>c.dispose(),[c]),c}},73781:(z,l,e)=>{"use strict";e.d(l,{z:()=>u});var o=e(98661),f=e(3855);let u=function(c){let g=(0,f.E)(c);return o.default.useCallback((...v)=>g.current(...v),[g])}},19946:(z,l,e)=>{"use strict";e.d(l,{M:()=>v});var o=e(98661),f=e(16723),u=e(82180),c=e(77896),g;let v=(g=o.default.useId)!=null?g:function(){let E=(0,u.H)(),[y,p]=o.default.useState(E?()=>c.O.nextId():null);return(0,f.e)(()=>{y===null&&p(c.O.nextId())},[y]),y!=null?""+y:void 0}},14879:(z,l,e)=>{"use strict";e.d(l,{t:()=>u});var o=e(98661),f=e(16723);function u(){let c=(0,o.useRef)(!1);return(0,f.e)(()=>(c.current=!0,()=>{c.current=!1}),[]),c}},16723:(z,l,e)=>{"use strict";e.d(l,{e:()=>u});var o=e(98661),f=e(77896);let u=(c,g)=>{f.O.isServer?(0,o.useEffect)(c,g):(0,o.useLayoutEffect)(c,g)}},3855:(z,l,e)=>{"use strict";e.d(l,{E:()=>u});var o=e(98661),f=e(16723);function u(c){let g=(0,o.useRef)(c);return(0,f.e)(()=>{g.current=c},[c]),g}},82180:(z,l,e)=>{"use strict";e.d(l,{H:()=>u});var o=e(98661),f=e(77896);function u(){let[c,g]=(0,o.useState)(f.O.isHandoffComplete);return c&&f.O.isHandoffComplete===!1&&g(!1),(0,o.useEffect)(()=>{c!==!0&&g(!0)},[c]),(0,o.useEffect)(()=>f.O.handoff(),[]),c}},23784:(z,l,e)=>{"use strict";e.d(l,{T:()=>g,h:()=>c});var o=e(98661),f=e(73781);let u=Symbol();function c(v,E=!0){return Object.assign(v,{[u]:E})}function g(...v){let E=(0,o.useRef)(v);(0,o.useEffect)(()=>{E.current=v},[v]);let y=(0,f.z)(p=>{for(let T of E.current)T!=null&&(typeof T=="function"?T(p):T.current=p)});return v.every(p=>p==null||(p==null?void 0:p[u]))?void 0:y}},46045:(z,l,e)=>{"use strict";e.d(l,{A:()=>u,_:()=>g});var o=e(12351);let f="div";var u=(v=>(v[v.None=1]="None",v[v.Focusable=2]="Focusable",v[v.Hidden=4]="Hidden",v))(u||{});function c(v,E){let O=v,{features:y=1}=O,p=gi(O,["features"]),T={ref:E,"aria-hidden":(y&2)===2?!0:void 0,style:ir({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(y&4)===4&&(y&2)!==2&&{display:"none"})};return(0,o.sY)({ourProps:T,theirProps:p,slot:{},defaultTag:f,name:"Hidden"})}let g=(0,o.yV)(c)},16567:(z,l,e)=>{"use strict";e.d(l,{ZM:()=>u,oJ:()=>c,up:()=>g});var o=e(98661);let f=(0,o.createContext)(null);f.displayName="OpenClosedContext";var u=(v=>(v[v.Open=1]="Open",v[v.Closed=2]="Closed",v[v.Closing=4]="Closing",v[v.Opening=8]="Opening",v))(u||{});function c(){return(0,o.useContext)(f)}function g({value:v,children:E}){return o.default.createElement(f.Provider,{value:v},E)}},64103:(z,l,e)=>{"use strict";e.d(l,{P:()=>o});function o(u){let c=u.parentElement,g=null;for(;c&&!(c instanceof HTMLFieldSetElement);)c instanceof HTMLLegendElement&&(g=c),c=c.parentElement;let v=(c==null?void 0:c.getAttribute("disabled"))==="";return v&&f(g)?!1:v}function f(u){if(!u)return!1;let c=u.previousElementSibling;for(;c!==null;){if(c instanceof HTMLLegendElement)return!1;c=c.previousElementSibling}return!0}},44067:(z,l,e)=>{"use strict";e.d(l,{A:()=>o});function o(...f){return f.filter(Boolean).join(" ")}},9362:(z,l,e)=>{"use strict";e.d(l,{k:()=>f});var o=e(81021);function f(){let u=[],c={addEventListener(g,v,E,y){return g.addEventListener(v,E,y),c.add(()=>g.removeEventListener(v,E,y))},requestAnimationFrame(...g){let v=requestAnimationFrame(...g);return c.add(()=>cancelAnimationFrame(v))},nextFrame(...g){return c.requestAnimationFrame(()=>c.requestAnimationFrame(...g))},setTimeout(...g){let v=setTimeout(...g);return c.add(()=>clearTimeout(v))},microTask(...g){let v={current:!0};return(0,o.Y)(()=>{v.current&&g[0]()}),c.add(()=>{v.current=!1})},style(g,v,E){let y=g.style.getPropertyValue(v);return Object.assign(g.style,{[v]:E}),this.add(()=>{Object.assign(g.style,{[v]:y})})},group(g){let v=f();return g(v),this.add(()=>v.dispose())},add(g){return u.push(g),()=>{let v=u.indexOf(g);if(v>=0)for(let E of u.splice(v,1))E()}},dispose(){for(let g of u.splice(0))g()}};return c}},77896:(z,l,e)=>{"use strict";e.d(l,{O:()=>g});var o=Object.defineProperty,f=(v,E,y)=>E in v?o(v,E,{enumerable:!0,configurable:!0,writable:!0,value:y}):v[E]=y,u=(v,E,y)=>(f(v,typeof E!="symbol"?E+"":E,y),y);class c{constructor(){u(this,"current",this.detect()),u(this,"handoffState","pending"),u(this,"currentId",0)}set(E){this.current!==E&&(this.handoffState="pending",this.currentId=0,this.current=E)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}}let g=new c},32984:(z,l,e)=>{"use strict";e.d(l,{E:()=>o});function o(f,u,...c){if(f in u){let v=u[f];return typeof v=="function"?v(...c):v}let g=new Error(`Tried to handle "${f}" but there is no handler defined. Only defined handlers are: ${Object.keys(u).map(v=>`"${v}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,o),g}},81021:(z,l,e)=>{"use strict";e.d(l,{Y:()=>o});function o(f){typeof queueMicrotask=="function"?queueMicrotask(f):Promise.resolve().then(f).catch(u=>setTimeout(()=>{throw u}))}},12351:(z,l,e)=>{"use strict";e.d(l,{AN:()=>c,l4:()=>g,sY:()=>v,yV:()=>T});var o=e(98661),f=e(44067),u=e(32984),c=(S=>(S[S.None=0]="None",S[S.RenderStrategy=1]="RenderStrategy",S[S.Static=2]="Static",S))(c||{}),g=(S=>(S[S.Unmount=0]="Unmount",S[S.Hidden=1]="Hidden",S))(g||{});function v({ourProps:S,theirProps:_,slot:d,defaultTag:s,features:w,visible:P=!0,name:x}){let M=p(_,S);if(P)return E(M,d,s,x);let N=w!=null?w:0;if(N&2){let C=M,{static:k=!1}=C,L=gi(C,["static"]);if(k)return E(L,d,s,x)}if(N&1){let A=M,{unmount:k=!0}=A,L=gi(A,["unmount"]);return(0,u.E)(k?0:1,{[0](){return null},[1](){return E(Ro(ir({},L),{hidden:!0,style:{display:"none"}}),d,s,x)}})}return E(M,d,s,x)}function E(S,_={},d,s){let k=I(S,["unmount","static"]),{as:w=d,children:P,refName:x="ref"}=k,M=gi(k,["as","children","refName"]),N=S.ref!==void 0?{[x]:S.ref}:{},C=typeof P=="function"?P(_):P;"className"in M&&M.className&&typeof M.className=="function"&&(M.className=M.className(_));let A={};if(_){let L=!1,K=[];for(let[Z,J]of Object.entries(_))typeof J=="boolean"&&(L=!0),J===!0&&K.push(Z);L&&(A["data-headlessui-state"]=K.join(" "))}if(w===o.Fragment&&Object.keys(O(M)).length>0){if(!(0,o.isValidElement)(C)||Array.isArray(C)&&C.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(M).map(J=>`  - ${J}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(J=>`  - ${J}`).join(`
`)].join(`
`));let L=C.props,K=typeof(L==null?void 0:L.className)=="function"?(...J)=>(0,f.A)(L==null?void 0:L.className(...J),M.className):(0,f.A)(L==null?void 0:L.className,M.className),Z=K?{className:K}:{};return(0,o.cloneElement)(C,Object.assign({},p(C.props,O(I(M,["ref"]))),A,N,y(C.ref,N.ref),Z))}return(0,o.createElement)(w,Object.assign({},I(M,["ref"]),w!==o.Fragment&&N,w!==o.Fragment&&A),C)}function y(...S){return{ref:S.every(_=>_==null)?void 0:_=>{for(let d of S)d!=null&&(typeof d=="function"?d(_):d.current=_)}}}function p(...S){var _;if(S.length===0)return{};if(S.length===1)return S[0];let d={},s={};for(let w of S)for(let P in w)P.startsWith("on")&&typeof w[P]=="function"?((_=s[P])!=null||(s[P]=[]),s[P].push(w[P])):d[P]=w[P];if(d.disabled||d["aria-disabled"])return Object.assign(d,Object.fromEntries(Object.keys(s).map(w=>[w,void 0])));for(let w in s)Object.assign(d,{[w](P,...x){let M=s[w];for(let N of M){if((P instanceof Event||(P==null?void 0:P.nativeEvent)instanceof Event)&&P.defaultPrevented)return;N(P,...x)}}});return d}function T(S){var _;return Object.assign((0,o.forwardRef)(S),{displayName:(_=S.displayName)!=null?_:S.name})}function O(S){let _=Object.assign({},S);for(let d in _)_[d]===void 0&&delete _[d];return _}function I(S,_=[]){let d=Object.assign({},S);for(let s of _)s in d&&delete d[s];return d}},5865:(z,l,e)=>{"use strict";e.d(l,{AW:()=>fo,Cf:()=>hi,DK:()=>nt,DS:()=>Ao,EG:()=>hn,Jo:()=>go,K9:()=>Ze,ML:()=>pi,NB:()=>ci,Ov:()=>Xe,P1:()=>d,QC:()=>on,S0:()=>li,XP:()=>Dr,_4:()=>so,b5:()=>kr,hj:()=>le,pr:()=>Dn,tI:()=>Tn,u9:()=>Co,vc:()=>ui,xh:()=>Jt,zK:()=>Xo});var o=e(2376),f=e(84348),u=e(60440),c=e(87823),g=e(16560),v=e(25804),E=e(53833);function y(Oe){const{state:be,transaction:we}=Oe;let{selection:Ke}=we,{doc:ht}=we,{storedMarks:vt}=we;return Ro(ir({},be),{apply:be.apply.bind(be),applyTransaction:be.applyTransaction.bind(be),filterTransaction:be.filterTransaction,plugins:be.plugins,schema:be.schema,reconfigure:be.reconfigure.bind(be),toJSON:be.toJSON.bind(be),get storedMarks(){return vt},get selection(){return Ke},get doc(){return ht},get tr(){return Ke=we.selection,ht=we.doc,vt=we.storedMarks,we}})}class p{constructor(be){this.editor=be.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=be.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:be,editor:we,state:Ke}=this,{view:ht}=we,{tr:vt}=Ke,Ot=this.buildProps(vt);return Object.fromEntries(Object.entries(be).map(([It,Wt])=>[It,(...un)=>{const nn=Wt(...un)(Ot);return!vt.getMeta("preventDispatch")&&!this.hasCustomState&&ht.dispatch(vt),nn}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(be,we=!0){const{rawCommands:Ke,editor:ht,state:vt}=this,{view:Ot}=ht,It=[],Wt=!!be,Ut=be||vt.tr,un=()=>(!Wt&&we&&!Ut.getMeta("preventDispatch")&&!this.hasCustomState&&Ot.dispatch(Ut),It.every(dn=>dn===!0)),nn=Ro(ir({},Object.fromEntries(Object.entries(Ke).map(([dn,An])=>[dn,(..._r)=>{const ar=this.buildProps(Ut,we),In=An(..._r)(ar);return It.push(In),nn}]))),{run:un});return nn}createCan(be){const{rawCommands:we,state:Ke}=this,ht=!1,vt=be||Ke.tr,Ot=this.buildProps(vt,ht),It=Object.fromEntries(Object.entries(we).map(([Wt,Ut])=>[Wt,(...un)=>Ut(...un)(Ro(ir({},Ot),{dispatch:void 0}))]));return Ro(ir({},It),{chain:()=>this.createChain(vt,ht)})}buildProps(be,we=!0){const{rawCommands:Ke,editor:ht,state:vt}=this,{view:Ot}=ht;vt.storedMarks&&be.setStoredMarks(vt.storedMarks);const It={tr:be,editor:ht,view:Ot,state:y({state:vt,transaction:be}),dispatch:we?()=>{}:void 0,chain:()=>this.createChain(be),can:()=>this.createCan(be),get commands(){return Object.fromEntries(Object.entries(Ke).map(([Wt,Ut])=>[Wt,(...un)=>Ut(...un)(It)]))}};return It}}class T{constructor(){this.callbacks={}}on(be,we){return this.callbacks[be]||(this.callbacks[be]=[]),this.callbacks[be].push(we),this}emit(be,...we){const Ke=this.callbacks[be];return Ke&&Ke.forEach(ht=>ht.apply(this,we)),this}off(be,we){const Ke=this.callbacks[be];return Ke&&(we?this.callbacks[be]=Ke.filter(ht=>ht!==we):delete this.callbacks[be]),this}removeAllListeners(){this.callbacks={}}}function O(Oe,be,we){return Oe.config[be]===void 0&&Oe.parent?O(Oe.parent,be,we):typeof Oe.config[be]=="function"?Oe.config[be].bind(Ro(ir({},we),{parent:Oe.parent?O(Oe.parent,be,we):null})):Oe.config[be]}function I(Oe){const be=Oe.filter(ht=>ht.type==="extension"),we=Oe.filter(ht=>ht.type==="node"),Ke=Oe.filter(ht=>ht.type==="mark");return{baseExtensions:be,nodeExtensions:we,markExtensions:Ke}}function S(Oe){const be=[],{nodeExtensions:we,markExtensions:Ke}=I(Oe),ht=[...we,...Ke],vt={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return Oe.forEach(Ot=>{const It={name:Ot.name,options:Ot.options,storage:Ot.storage},Wt=O(Ot,"addGlobalAttributes",It);if(!Wt)return;Wt().forEach(un=>{un.types.forEach(nn=>{Object.entries(un.attributes).forEach(([dn,An])=>{be.push({type:nn,name:dn,attribute:ir(ir({},vt),An)})})})})}),ht.forEach(Ot=>{const It={name:Ot.name,options:Ot.options,storage:Ot.storage},Wt=O(Ot,"addAttributes",It);if(!Wt)return;const Ut=Wt();Object.entries(Ut).forEach(([un,nn])=>{const dn=ir(ir({},vt),nn);typeof(dn==null?void 0:dn.default)=="function"&&(dn.default=dn.default()),dn!=null&&dn.isRequired&&(dn==null?void 0:dn.default)===void 0&&delete dn.default,be.push({type:Ot.name,name:un,attribute:dn})})}),be}function _(Oe,be){if(typeof Oe=="string"){if(!be.nodes[Oe])throw Error(`There is no node type named '${Oe}'. Maybe you forgot to add the extension?`);return be.nodes[Oe]}return Oe}function d(...Oe){return Oe.filter(be=>!!be).reduce((be,we)=>{const Ke=ir({},be);return Object.entries(we).forEach(([ht,vt])=>{if(!Ke[ht]){Ke[ht]=vt;return}ht==="class"?Ke[ht]=[Ke[ht],vt].join(" "):ht==="style"?Ke[ht]=[Ke[ht],vt].join("; "):Ke[ht]=vt}),Ke},{})}function s(Oe,be){return be.filter(we=>we.attribute.rendered).map(we=>we.attribute.renderHTML?we.attribute.renderHTML(Oe.attrs)||{}:{[we.name]:Oe.attrs[we.name]}).reduce((we,Ke)=>d(we,Ke),{})}function w(Oe){return typeof Oe=="function"}function P(Oe,be=void 0,...we){return w(Oe)?be?Oe.bind(be)(...we):Oe(...we):Oe}function x(Oe={}){return Object.keys(Oe).length===0&&Oe.constructor===Object}function M(Oe){return typeof Oe!="string"?Oe:Oe.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(Oe):Oe==="true"?!0:Oe==="false"?!1:Oe}function N(Oe,be){return Oe.style?Oe:Ro(ir({},Oe),{getAttrs:we=>{const Ke=Oe.getAttrs?Oe.getAttrs(we):Oe.attrs;if(Ke===!1)return!1;const ht=be.reduce((vt,Ot)=>{const It=Ot.attribute.parseHTML?Ot.attribute.parseHTML(we):M(we.getAttribute(Ot.name));return It==null?vt:Ro(ir({},vt),{[Ot.name]:It})},{});return ir(ir({},Ke),ht)}})}function C(Oe){return Object.fromEntries(Object.entries(Oe).filter(([be,we])=>be==="attrs"&&x(we)?!1:we!=null))}function A(Oe,be){var we;const Ke=S(Oe),{nodeExtensions:ht,markExtensions:vt}=I(Oe),Ot=(we=ht.find(Ut=>O(Ut,"topNode")))===null||we===void 0?void 0:we.name,It=Object.fromEntries(ht.map(Ut=>{const un=Ke.filter(In=>In.type===Ut.name),nn={name:Ut.name,options:Ut.options,storage:Ut.storage,editor:be},dn=Oe.reduce((In,dr)=>{const lr=O(dr,"extendNodeSchema",nn);return ir(ir({},In),lr?lr(Ut):{})},{}),An=C(Ro(ir({},dn),{content:P(O(Ut,"content",nn)),marks:P(O(Ut,"marks",nn)),group:P(O(Ut,"group",nn)),inline:P(O(Ut,"inline",nn)),atom:P(O(Ut,"atom",nn)),selectable:P(O(Ut,"selectable",nn)),draggable:P(O(Ut,"draggable",nn)),code:P(O(Ut,"code",nn)),defining:P(O(Ut,"defining",nn)),isolating:P(O(Ut,"isolating",nn)),attrs:Object.fromEntries(un.map(In=>{var dr;return[In.name,{default:(dr=In==null?void 0:In.attribute)===null||dr===void 0?void 0:dr.default}]}))})),zn=P(O(Ut,"parseHTML",nn));zn&&(An.parseDOM=zn.map(In=>N(In,un)));const _r=O(Ut,"renderHTML",nn);_r&&(An.toDOM=In=>_r({node:In,HTMLAttributes:s(In,un)}));const ar=O(Ut,"renderText",nn);return ar&&(An.toText=ar),[Ut.name,An]})),Wt=Object.fromEntries(vt.map(Ut=>{const un=Ke.filter(ar=>ar.type===Ut.name),nn={name:Ut.name,options:Ut.options,storage:Ut.storage,editor:be},dn=Oe.reduce((ar,In)=>{const dr=O(In,"extendMarkSchema",nn);return ir(ir({},ar),dr?dr(Ut):{})},{}),An=C(Ro(ir({},dn),{inclusive:P(O(Ut,"inclusive",nn)),excludes:P(O(Ut,"excludes",nn)),group:P(O(Ut,"group",nn)),spanning:P(O(Ut,"spanning",nn)),code:P(O(Ut,"code",nn)),attrs:Object.fromEntries(un.map(ar=>{var In;return[ar.name,{default:(In=ar==null?void 0:ar.attribute)===null||In===void 0?void 0:In.default}]}))})),zn=P(O(Ut,"parseHTML",nn));zn&&(An.parseDOM=zn.map(ar=>N(ar,un)));const _r=O(Ut,"renderHTML",nn);return _r&&(An.toDOM=ar=>_r({mark:ar,HTMLAttributes:s(ar,un)})),[Ut.name,An]}));return new c.V_({topNode:Ot,nodes:It,marks:Wt})}function k(Oe,be){return be.nodes[Oe]||be.marks[Oe]||null}function L(Oe,be){return Array.isArray(be)?be.some(we=>(typeof we=="string"?we:we.name)===Oe.name):be}const K=(Oe,be=500)=>{let we="";const Ke=Oe.parentOffset;return Oe.parent.nodesBetween(Math.max(0,Ke-be),Ke,(ht,vt,Ot,It)=>{var Wt,Ut;const un=((Ut=(Wt=ht.type.spec).toText)===null||Ut===void 0?void 0:Ut.call(Wt,{node:ht,pos:vt,parent:Ot,index:It}))||ht.textContent||"%leaf%";we+=un.slice(0,Math.max(0,Ke-vt))}),we};function Z(Oe){return Object.prototype.toString.call(Oe)==="[object RegExp]"}class J{constructor(be){this.find=be.find,this.handler=be.handler}}const q=(Oe,be)=>{if(Z(be))return be.exec(Oe);const we=be(Oe);if(!we)return null;const Ke=[we.text];return Ke.index=we.index,Ke.input=Oe,Ke.data=we.data,we.replaceWith&&(we.text.includes(we.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),Ke.push(we.replaceWith)),Ke};function ne(Oe){var be;const{editor:we,from:Ke,to:ht,text:vt,rules:Ot,plugin:It}=Oe,{view:Wt}=we;if(Wt.composing)return!1;const Ut=Wt.state.doc.resolve(Ke);if(Ut.parent.type.spec.code||!((be=Ut.nodeBefore||Ut.nodeAfter)===null||be===void 0)&&be.marks.find(dn=>dn.type.spec.code))return!1;let un=!1;const nn=K(Ut)+vt;return Ot.forEach(dn=>{if(un)return;const An=q(nn,dn.find);if(!An)return;const zn=Wt.state.tr,_r=y({state:Wt.state,transaction:zn}),ar={from:Ke-(An[0].length-vt.length),to:ht},{commands:In,chain:dr,can:lr}=new p({editor:we,state:_r});dn.handler({state:_r,range:ar,match:An,commands:In,chain:dr,can:lr})===null||!zn.steps.length||(zn.setMeta(It,{transform:zn,from:Ke,to:ht,text:vt}),Wt.dispatch(zn),un=!0)}),un}function F(Oe){const{editor:be,rules:we}=Oe,Ke=new o.Sy({state:{init(){return null},apply(ht,vt){const Ot=ht.getMeta(Ke);return Ot||(ht.selectionSet||ht.docChanged?null:vt)}},props:{handleTextInput(ht,vt,Ot,It){return ne({editor:be,from:vt,to:Ot,text:It,rules:we,plugin:Ke})},handleDOMEvents:{compositionend:ht=>(setTimeout(()=>{const{$cursor:vt}=ht.state.selection;vt&&ne({editor:be,from:vt.pos,to:vt.pos,text:"",rules:we,plugin:Ke})}),!1)},handleKeyDown(ht,vt){if(vt.key!=="Enter")return!1;const{$cursor:Ot}=ht.state.selection;return Ot?ne({editor:be,from:Ot.pos,to:Ot.pos,text:`
`,rules:we,plugin:Ke}):!1}},isInputRules:!0});return Ke}function W(Oe){return typeof Oe=="number"}class ie{constructor(be){this.find=be.find,this.handler=be.handler}}const he=(Oe,be)=>{if(Z(be))return[...Oe.matchAll(be)];const we=be(Oe);return we?we.map(Ke=>{const ht=[Ke.text];return ht.index=Ke.index,ht.input=Oe,ht.data=Ke.data,Ke.replaceWith&&(Ke.text.includes(Ke.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),ht.push(Ke.replaceWith)),ht}):[]};function ye(Oe){const{editor:be,state:we,from:Ke,to:ht,rule:vt}=Oe,{commands:Ot,chain:It,can:Wt}=new p({editor:be,state:we}),Ut=[];return we.doc.nodesBetween(Ke,ht,(nn,dn)=>{if(!nn.isTextblock||nn.type.spec.code)return;const An=Math.max(Ke,dn),zn=Math.min(ht,dn+nn.content.size),_r=nn.textBetween(An-dn,zn-dn,void 0,"\uFFFC");he(_r,vt.find).forEach(In=>{if(In.index===void 0)return;const dr=An+In.index+1,lr=dr+In[0].length,Sr={from:we.tr.mapping.map(dr),to:we.tr.mapping.map(lr)},Ir=vt.handler({state:we,range:Sr,match:In,commands:Ot,chain:It,can:Wt});Ut.push(Ir)})}),Ut.every(nn=>nn!==null)}function fe(Oe){const{editor:be,rules:we}=Oe;let Ke=null,ht=!1,vt=!1;return we.map(It=>new o.Sy({view(Wt){const Ut=un=>{var nn;Ke=!((nn=Wt.dom.parentElement)===null||nn===void 0)&&nn.contains(un.target)?Wt.dom.parentElement:null};return window.addEventListener("dragstart",Ut),{destroy(){window.removeEventListener("dragstart",Ut)}}},props:{handleDOMEvents:{drop:Wt=>(vt=Ke===Wt.dom.parentElement,!1),paste:(Wt,Ut)=>{var un;const nn=(un=Ut.clipboardData)===null||un===void 0?void 0:un.getData("text/html");return ht=!!(nn!=null&&nn.includes("data-pm-slice")),!1}}},appendTransaction:(Wt,Ut,un)=>{const nn=Wt[0],dn=nn.getMeta("uiEvent")==="paste"&&!ht,An=nn.getMeta("uiEvent")==="drop"&&!vt;if(!dn&&!An)return;const zn=Ut.doc.content.findDiffStart(un.doc.content),_r=Ut.doc.content.findDiffEnd(un.doc.content);if(!W(zn)||!_r||zn===_r.b)return;const ar=un.tr,In=y({state:un,transaction:ar});if(!(!ye({editor:be,state:In,from:Math.max(zn-1,0),to:_r.b-1,rule:It})||!ar.steps.length))return ar}}))}function ae(Oe){const be=Oe.filter((we,Ke)=>Oe.indexOf(we)!==Ke);return[...new Set(be)]}class oe{constructor(be,we){this.splittableMarks=[],this.editor=we,this.extensions=oe.resolve(be),this.schema=A(this.extensions,we),this.extensions.forEach(Ke=>{var ht;this.editor.extensionStorage[Ke.name]=Ke.storage;const vt={name:Ke.name,options:Ke.options,storage:Ke.storage,editor:this.editor,type:k(Ke.name,this.schema)};Ke.type==="mark"&&(!((ht=P(O(Ke,"keepOnSplit",vt)))!==null&&ht!==void 0)||ht)&&this.splittableMarks.push(Ke.name);const Ot=O(Ke,"onBeforeCreate",vt);Ot&&this.editor.on("beforeCreate",Ot);const It=O(Ke,"onCreate",vt);It&&this.editor.on("create",It);const Wt=O(Ke,"onUpdate",vt);Wt&&this.editor.on("update",Wt);const Ut=O(Ke,"onSelectionUpdate",vt);Ut&&this.editor.on("selectionUpdate",Ut);const un=O(Ke,"onTransaction",vt);un&&this.editor.on("transaction",un);const nn=O(Ke,"onFocus",vt);nn&&this.editor.on("focus",nn);const dn=O(Ke,"onBlur",vt);dn&&this.editor.on("blur",dn);const An=O(Ke,"onDestroy",vt);An&&this.editor.on("destroy",An)})}static resolve(be){const we=oe.sort(oe.flatten(be)),Ke=ae(we.map(ht=>ht.name));return Ke.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${Ke.map(ht=>`'${ht}'`).join(", ")}]. This can lead to issues.`),we}static flatten(be){return be.map(we=>{const Ke={name:we.name,options:we.options,storage:we.storage},ht=O(we,"addExtensions",Ke);return ht?[we,...this.flatten(ht())]:we}).flat(10)}static sort(be){return be.sort((Ke,ht)=>{const vt=O(Ke,"priority")||100,Ot=O(ht,"priority")||100;return vt>Ot?-1:vt<Ot?1:0})}get commands(){return this.extensions.reduce((be,we)=>{const Ke={name:we.name,options:we.options,storage:we.storage,editor:this.editor,type:k(we.name,this.schema)},ht=O(we,"addCommands",Ke);return ht?ir(ir({},be),ht()):be},{})}get plugins(){const{editor:be}=this,we=oe.sort([...this.extensions].reverse()),Ke=[],ht=[],vt=we.map(Ot=>{const It={name:Ot.name,options:Ot.options,storage:Ot.storage,editor:be,type:k(Ot.name,this.schema)},Wt=[],Ut=O(Ot,"addKeyboardShortcuts",It);let un={};if(Ot.type==="mark"&&Ot.config.exitable&&(un.ArrowRight=()=>ui.handleExit({editor:be,mark:Ot})),Ut){const _r=Object.fromEntries(Object.entries(Ut()).map(([ar,In])=>[ar,()=>In({editor:be})]));un=ir(ir({},un),_r)}const nn=(0,u.h)(un);Wt.push(nn);const dn=O(Ot,"addInputRules",It);L(Ot,be.options.enableInputRules)&&dn&&Ke.push(...dn());const An=O(Ot,"addPasteRules",It);L(Ot,be.options.enablePasteRules)&&An&&ht.push(...An());const zn=O(Ot,"addProseMirrorPlugins",It);if(zn){const _r=zn();Wt.push(..._r)}return Wt}).flat();return[F({editor:be,rules:Ke}),...fe({editor:be,rules:ht}),...vt]}get attributes(){return S(this.extensions)}get nodeViews(){const{editor:be}=this,{nodeExtensions:we}=I(this.extensions);return Object.fromEntries(we.filter(Ke=>!!O(Ke,"addNodeView")).map(Ke=>{const ht=this.attributes.filter(Wt=>Wt.type===Ke.name),vt={name:Ke.name,options:Ke.options,storage:Ke.storage,editor:be,type:_(Ke.name,this.schema)},Ot=O(Ke,"addNodeView",vt);if(!Ot)return[];const It=(Wt,Ut,un,nn)=>{const dn=s(Wt,ht);return Ot()({editor:be,node:Wt,getPos:un,decorations:nn,HTMLAttributes:dn,extension:Ke})};return[Ke.name,It]}))}}function G(Oe){return Object.prototype.toString.call(Oe).slice(8,-1)}function re(Oe){return G(Oe)!=="Object"?!1:Oe.constructor===Object&&Object.getPrototypeOf(Oe)===Object.prototype}function se(Oe,be){const we=ir({},Oe);return re(Oe)&&re(be)&&Object.keys(be).forEach(Ke=>{re(be[Ke])?Ke in Oe?we[Ke]=se(Oe[Ke],be[Ke]):Object.assign(we,{[Ke]:be[Ke]}):Object.assign(we,{[Ke]:be[Ke]})}),we}class le{constructor(be={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ir(ir({},this.config),be),this.name=this.config.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(O(this,"addOptions",{name:this.name}))),this.storage=P(O(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(be={}){return new le(be)}configure(be={}){const we=this.extend();return we.options=se(this.options,be),we.storage=P(O(we,"addStorage",{name:we.name,options:we.options})),we}extend(be={}){const we=new le(be);return we.parent=this,this.child=we,we.name=be.name?be.name:we.parent.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${we.name}".`),we.options=P(O(we,"addOptions",{name:we.name})),we.storage=P(O(we,"addStorage",{name:we.name,options:we.options})),we}}function Ee(Oe,be,we){const{from:Ke,to:ht}=be,{blockSeparator:vt=`

`,textSerializers:Ot={}}=we||{};let It="",Wt=!0;return Oe.nodesBetween(Ke,ht,(Ut,un,nn,dn)=>{var An;const zn=Ot==null?void 0:Ot[Ut.type.name];zn?(Ut.isBlock&&!Wt&&(It+=vt,Wt=!0),nn&&(It+=zn({node:Ut,pos:un,parent:nn,index:dn,range:be}))):Ut.isText?(It+=(An=Ut==null?void 0:Ut.text)===null||An===void 0?void 0:An.slice(Math.max(Ke,un)-un,ht-un),Wt=!1):Ut.isBlock&&!Wt&&(It+=vt,Wt=!0)}),It}function ve(Oe){return Object.fromEntries(Object.entries(Oe.nodes).filter(([,be])=>be.spec.toText).map(([be,we])=>[be,we.spec.toText]))}const pe=le.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:Oe}=this,{state:be,schema:we}=Oe,{doc:Ke,selection:ht}=be,{ranges:vt}=ht,Ot=Math.min(...vt.map(un=>un.$from.pos)),It=Math.max(...vt.map(un=>un.$to.pos)),Wt=ve(we);return Ee(Ke,{from:Ot,to:It},{textSerializers:Wt})}}})]}}),me=()=>({editor:Oe,view:be})=>(requestAnimationFrame(()=>{var we;Oe.isDestroyed||(be.dom.blur(),(we=window==null?void 0:window.getSelection())===null||we===void 0||we.removeAllRanges())}),!0),Ie=(Oe=!1)=>({commands:be})=>be.setContent("",Oe),_e=()=>({state:Oe,tr:be,dispatch:we})=>{const{selection:Ke}=be,{ranges:ht}=Ke;return we&&ht.forEach(({$from:vt,$to:Ot})=>{Oe.doc.nodesBetween(vt.pos,Ot.pos,(It,Wt)=>{if(It.type.isText)return;const{doc:Ut,mapping:un}=be,nn=Ut.resolve(un.map(Wt)),dn=Ut.resolve(un.map(Wt+It.nodeSize)),An=nn.blockRange(dn);if(!An)return;const zn=(0,g.k9)(An);if(It.type.isTextblock){const{defaultType:_r}=nn.parent.contentMatchAt(nn.index());be.setNodeMarkup(An.start,_r)}(zn||zn===0)&&be.lift(An,zn)})}),!0},de=Oe=>be=>Oe(be),Re=()=>({state:Oe,dispatch:be})=>(0,v.mD)(Oe,be),ke=()=>({tr:Oe,dispatch:be})=>{const{selection:we}=Oe,Ke=we.$anchor.node();if(Ke.content.size>0)return!1;const ht=Oe.selection.$anchor;for(let vt=ht.depth;vt>0;vt-=1)if(ht.node(vt).type===Ke.type){if(be){const It=ht.before(vt),Wt=ht.after(vt);Oe.delete(It,Wt).scrollIntoView()}return!0}return!1},Ve=Oe=>({tr:be,state:we,dispatch:Ke})=>{const ht=_(Oe,we.schema),vt=be.selection.$anchor;for(let Ot=vt.depth;Ot>0;Ot-=1)if(vt.node(Ot).type===ht){if(Ke){const Wt=vt.before(Ot),Ut=vt.after(Ot);be.delete(Wt,Ut).scrollIntoView()}return!0}return!1},Ge=Oe=>({tr:be,dispatch:we})=>{const{from:Ke,to:ht}=Oe;return we&&be.delete(Ke,ht),!0},Qe=()=>({state:Oe,dispatch:be})=>(0,v.NE)(Oe,be),bt=()=>({commands:Oe})=>Oe.keyboardShortcut("Enter"),Ce=()=>({state:Oe,dispatch:be})=>(0,v.uo)(Oe,be);function We(Oe,be,we={strict:!0}){const Ke=Object.keys(be);return Ke.length?Ke.every(ht=>we.strict?be[ht]===Oe[ht]:Z(be[ht])?be[ht].test(Oe[ht]):be[ht]===Oe[ht]):!0}function xe(Oe,be,we={}){return Oe.find(Ke=>Ke.type===be&&We(Ke.attrs,we))}function rt(Oe,be,we={}){return!!xe(Oe,be,we)}function Je(Oe,be,we={}){if(!Oe||!be)return;let Ke=Oe.parent.childAfter(Oe.parentOffset);if(Oe.parentOffset===Ke.offset&&Ke.offset!==0&&(Ke=Oe.parent.childBefore(Oe.parentOffset)),!Ke.node)return;const ht=xe([...Ke.node.marks],be,we);if(!ht)return;let vt=Ke.index,Ot=Oe.start()+Ke.offset,It=vt+1,Wt=Ot+Ke.node.nodeSize;for(xe([...Ke.node.marks],be,we);vt>0&&ht.isInSet(Oe.parent.child(vt-1).marks);)vt-=1,Ot-=Oe.parent.child(vt).nodeSize;for(;It<Oe.parent.childCount&&rt([...Oe.parent.child(It).marks],be,we);)Wt+=Oe.parent.child(It).nodeSize,It+=1;return{from:Ot,to:Wt}}function ft(Oe,be){if(typeof Oe=="string"){if(!be.marks[Oe])throw Error(`There is no mark type named '${Oe}'. Maybe you forgot to add the extension?`);return be.marks[Oe]}return Oe}const je=(Oe,be={})=>({tr:we,state:Ke,dispatch:ht})=>{const vt=ft(Oe,Ke.schema),{doc:Ot,selection:It}=we,{$from:Wt,from:Ut,to:un}=It;if(ht){const nn=Je(Wt,vt,be);if(nn&&nn.from<=Ut&&nn.to>=un){const dn=o.Bs.create(Ot,nn.from,nn.to);we.setSelection(dn)}}return!0},Rt=Oe=>be=>{const we=typeof Oe=="function"?Oe(be):Oe;for(let Ke=0;Ke<we.length;Ke+=1)if(we[Ke](be))return!0;return!1};function Jt(Oe){return Oe instanceof o.Bs}function Ct(Oe=0,be=0,we=0){return Math.min(Math.max(Oe,be),we)}function Le(Oe,be=null){if(!be)return null;const we=o.Y1.atStart(Oe),Ke=o.Y1.atEnd(Oe);if(be==="start"||be===!0)return we;if(be==="end")return Ke;const ht=we.from,vt=Ke.to;return be==="all"?o.Bs.create(Oe,Ct(0,ht,vt),Ct(Oe.content.size,ht,vt)):o.Bs.create(Oe,Ct(be,ht,vt),Ct(be,ht,vt))}function He(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const it=(Oe=null,be={})=>({editor:we,view:Ke,tr:ht,dispatch:vt})=>{be=ir({scrollIntoView:!0},be);const Ot=()=>{He()&&Ke.dom.focus(),requestAnimationFrame(()=>{we.isDestroyed||(Ke.focus(),be!=null&&be.scrollIntoView&&we.commands.scrollIntoView())})};if(Ke.hasFocus()&&Oe===null||Oe===!1)return!0;if(vt&&Oe===null&&!Jt(we.state.selection))return Ot(),!0;const It=Le(ht.doc,Oe)||we.state.selection,Wt=we.state.selection.eq(It);return vt&&(Wt||ht.setSelection(It),Wt&&ht.storedMarks&&ht.setStoredMarks(ht.storedMarks),Ot()),!0},Ne=(Oe,be)=>we=>Oe.every((Ke,ht)=>be(Ke,Ro(ir({},we),{index:ht}))),Be=(Oe,be)=>({tr:we,commands:Ke})=>Ke.insertContentAt({from:we.selection.from,to:we.selection.to},Oe,be);function ze(Oe){const be=`<body>${Oe}</body>`;return new window.DOMParser().parseFromString(be,"text/html").body}function lt(Oe,be,we){if(we=ir({slice:!0,parseOptions:{}},we),typeof Oe=="object"&&Oe!==null)try{return Array.isArray(Oe)&&Oe.length>0?c.HY.fromArray(Oe.map(Ke=>be.nodeFromJSON(Ke))):be.nodeFromJSON(Oe)}catch(Ke){return console.warn("[tiptap warn]: Invalid content.","Passed value:",Oe,"Error:",Ke),lt("",be,we)}if(typeof Oe=="string"){const Ke=c.aw.fromSchema(be);return we.slice?Ke.parseSlice(ze(Oe),we.parseOptions).content:Ke.parse(ze(Oe),we.parseOptions)}return lt("",be,we)}function et(Oe,be,we){const Ke=Oe.steps.length-1;if(Ke<be)return;const ht=Oe.steps[Ke];if(!(ht instanceof g.Pu||ht instanceof g.FC))return;const vt=Oe.mapping.maps[Ke];let Ot=0;vt.forEach((It,Wt,Ut,un)=>{Ot===0&&(Ot=un)}),Oe.setSelection(o.Y1.near(Oe.doc.resolve(Ot),we))}const Ae=Oe=>Oe.toString().startsWith("<"),H=(Oe,be,we)=>({tr:Ke,dispatch:ht,editor:vt})=>{if(ht){we=ir({parseOptions:{},updateSelection:!0},we);const Ot=lt(be,vt.schema,{parseOptions:ir({preserveWhitespace:"full"},we.parseOptions)});if(Ot.toString()==="<>")return!0;let{from:It,to:Wt}=typeof Oe=="number"?{from:Oe,to:Oe}:Oe,Ut=!0,un=!0;if((Ae(Ot)?Ot:[Ot]).forEach(dn=>{dn.check(),Ut=Ut?dn.isText&&dn.marks.length===0:!1,un=un?dn.isBlock:!1}),It===Wt&&un){const{parent:dn}=Ke.doc.resolve(It);dn.isTextblock&&!dn.type.spec.code&&!dn.childCount&&(It-=1,Wt+=1)}Ut?Array.isArray(be)?Ke.insertText(be.map(dn=>dn.text||"").join(""),It,Wt):typeof be=="object"&&be&&be.text?Ke.insertText(be.text,It,Wt):Ke.insertText(be,It,Wt):Ke.replaceWith(It,Wt,Ot),we.updateSelection&&et(Ke,Ke.steps.length-1,-1)}return!0},Q=()=>({state:Oe,dispatch:be})=>(0,v.MI)(Oe,be),ce=()=>({state:Oe,dispatch:be})=>(0,v.Ig)(Oe,be),Pe=()=>({state:Oe,dispatch:be})=>(0,v.al)(Oe,be),Me=()=>({state:Oe,dispatch:be})=>(0,v.Y_)(Oe,be);function $e(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function ct(Oe){const be=Oe.split(/-(?!$)/);let we=be[be.length-1];we==="Space"&&(we=" ");let Ke,ht,vt,Ot;for(let It=0;It<be.length-1;It+=1){const Wt=be[It];if(/^(cmd|meta|m)$/i.test(Wt))Ot=!0;else if(/^a(lt)?$/i.test(Wt))Ke=!0;else if(/^(c|ctrl|control)$/i.test(Wt))ht=!0;else if(/^s(hift)?$/i.test(Wt))vt=!0;else if(/^mod$/i.test(Wt))He()||$e()?Ot=!0:ht=!0;else throw new Error(`Unrecognized modifier name: ${Wt}`)}return Ke&&(we=`Alt-${we}`),ht&&(we=`Ctrl-${we}`),Ot&&(we=`Meta-${we}`),vt&&(we=`Shift-${we}`),we}const ut=Oe=>({editor:be,view:we,tr:Ke,dispatch:ht})=>{const vt=ct(Oe).split(/-(?!$)/),Ot=vt.find(Ut=>!["Alt","Ctrl","Meta","Shift"].includes(Ut)),It=new KeyboardEvent("keydown",{key:Ot==="Space"?" ":Ot,altKey:vt.includes("Alt"),ctrlKey:vt.includes("Ctrl"),metaKey:vt.includes("Meta"),shiftKey:vt.includes("Shift"),bubbles:!0,cancelable:!0}),Wt=be.captureTransaction(()=>{we.someProp("handleKeyDown",Ut=>Ut(we,It))});return Wt==null||Wt.steps.forEach(Ut=>{const un=Ut.map(Ke.mapping);un&&ht&&Ke.maybeStep(un)}),!0};function Et(Oe,be,we={}){const{from:Ke,to:ht,empty:vt}=Oe.selection,Ot=be?_(be,Oe.schema):null,It=[];Oe.doc.nodesBetween(Ke,ht,(nn,dn)=>{if(nn.isText)return;const An=Math.max(Ke,dn),zn=Math.min(ht,dn+nn.nodeSize);It.push({node:nn,from:An,to:zn})});const Wt=ht-Ke,Ut=It.filter(nn=>Ot?Ot.name===nn.node.type.name:!0).filter(nn=>We(nn.node.attrs,we,{strict:!1}));return vt?!!Ut.length:Ut.reduce((nn,dn)=>nn+dn.to-dn.from,0)>=Wt}const Nt=(Oe,be={})=>({state:we,dispatch:Ke})=>{const ht=_(Oe,we.schema);return Et(we,ht,be)?(0,v.xb)(we,Ke):!1},$t=()=>({state:Oe,dispatch:be})=>(0,v.X0)(Oe,be),Nn=Oe=>({state:be,dispatch:we})=>{const Ke=_(Oe,be.schema);return(0,E.IB)(Ke)(be,we)},Vt=()=>({state:Oe,dispatch:be})=>(0,v.QK)(Oe,be);function rr(Oe,be){return be.nodes[Oe]?"node":be.marks[Oe]?"mark":null}function Tr(Oe,be){const we=typeof be=="string"?[be]:be;return Object.keys(Oe).reduce((Ke,ht)=>(we.includes(ht)||(Ke[ht]=Oe[ht]),Ke),{})}const cr=(Oe,be)=>({tr:we,state:Ke,dispatch:ht})=>{let vt=null,Ot=null;const It=rr(typeof Oe=="string"?Oe:Oe.name,Ke.schema);return It?(It==="node"&&(vt=_(Oe,Ke.schema)),It==="mark"&&(Ot=ft(Oe,Ke.schema)),ht&&we.selection.ranges.forEach(Wt=>{Ke.doc.nodesBetween(Wt.$from.pos,Wt.$to.pos,(Ut,un)=>{vt&&vt===Ut.type&&we.setNodeMarkup(un,void 0,Tr(Ut.attrs,be)),Ot&&Ut.marks.length&&Ut.marks.forEach(nn=>{Ot===nn.type&&we.addMark(un,un+Ut.nodeSize,Ot.create(Tr(nn.attrs,be)))})})}),!0):!1},Lr=()=>({tr:Oe,dispatch:be})=>(be&&Oe.scrollIntoView(),!0),Br=()=>({tr:Oe,commands:be})=>be.setTextSelection({from:0,to:Oe.doc.content.size}),Cr=()=>({state:Oe,dispatch:be})=>(0,v._M)(Oe,be),Dt=()=>({state:Oe,dispatch:be})=>(0,v.o)(Oe,be),Ft=()=>({state:Oe,dispatch:be})=>(0,v.N0)(Oe,be),zt=()=>({state:Oe,dispatch:be})=>(0,v.nw)(Oe,be),sn=()=>({state:Oe,dispatch:be})=>(0,v.U9)(Oe,be);function Un(Oe,be,we={}){return lt(Oe,be,{slice:!1,parseOptions:we})}const gr=(Oe,be=!1,we={})=>({tr:Ke,editor:ht,dispatch:vt})=>{const{doc:Ot}=Ke,It=Un(Oe,ht.schema,we);return vt&&Ke.replaceWith(0,Ot.content.size,It).setMeta("preventUpdate",!be),!0};function Dr(Oe,be){const we=new g.wx(Oe);return be.forEach(Ke=>{Ke.steps.forEach(ht=>{we.step(ht)})}),we}function Fr(Oe){for(let be=0;be<Oe.edgeCount;be+=1){const{type:we}=Oe.edge(be);if(we.isTextblock&&!we.hasRequiredAttrs())return we}return null}function jr(Oe,be){const we=[];return Oe.descendants((Ke,ht)=>{be(Ke)&&we.push({node:Ke,pos:ht})}),we}function kr(Oe,be,we){const Ke=[];return Oe.nodesBetween(be.from,be.to,(ht,vt)=>{we(ht)&&Ke.push({node:ht,pos:vt})}),Ke}function uo(Oe,be){for(let we=Oe.depth;we>0;we-=1){const Ke=Oe.node(we);if(be(Ke))return{pos:we>0?Oe.before(we):0,start:Oe.start(we),depth:we,node:Ke}}}function to(Oe){return be=>uo(be.$from,Oe)}function ao(Oe,be){const we=c.PW.fromSchema(be).serializeFragment(Oe),ht=document.implementation.createHTMLDocument().createElement("div");return ht.appendChild(we),ht.innerHTML}function Ur(Oe,be){const we=oe.resolve(Oe);return A(we,be)}function _o(Oe,be){const we=Ur(be),Ke=Node$1.fromJSON(we,Oe);return ao(Ke.content,we)}function fo(Oe,be){const we=Ur(be),Ke=ze(Oe);return c.aw.fromSchema(we).parse(Ke).toJSON()}function no(Oe,be){const we={from:0,to:Oe.content.size};return Ee(Oe,we,be)}function so(Oe,be,we){const{blockSeparator:Ke=`

`,textSerializers:ht={}}=we||{},vt=Ur(be),Ot=c.NB.fromJSON(vt,Oe);return no(Ot,{blockSeparator:Ke,textSerializers:ir(ir({},ve(vt)),ht)})}function go(Oe,be){const we=ft(be,Oe.schema),{from:Ke,to:ht,empty:vt}=Oe.selection,Ot=[];vt?(Oe.storedMarks&&Ot.push(...Oe.storedMarks),Ot.push(...Oe.selection.$head.marks())):Oe.doc.nodesBetween(Ke,ht,Wt=>{Ot.push(...Wt.marks)});const It=Ot.find(Wt=>Wt.type.name===we.name);return It?ir({},It.attrs):{}}function Zo(Oe,be){const we=_(be,Oe.schema),{from:Ke,to:ht}=Oe.selection,vt=[];Oe.doc.nodesBetween(Ke,ht,It=>{vt.push(It)});const Ot=vt.reverse().find(It=>It.type.name===we.name);return Ot?ir({},Ot.attrs):{}}function Co(Oe,be){const we=rr(typeof be=="string"?be:be.name,Oe.schema);return we==="node"?Zo(Oe,be):we==="mark"?go(Oe,be):{}}function Oo(Oe,be=JSON.stringify){const we={};return Oe.filter(Ke=>{const ht=be(Ke);return Object.prototype.hasOwnProperty.call(we,ht)?!1:we[ht]=!0})}function vo(Oe){const be=Oo(Oe);return be.length===1?be:be.filter((we,Ke)=>!be.filter((vt,Ot)=>Ot!==Ke).some(vt=>we.oldRange.from>=vt.oldRange.from&&we.oldRange.to<=vt.oldRange.to&&we.newRange.from>=vt.newRange.from&&we.newRange.to<=vt.newRange.to))}function on(Oe){const{mapping:be,steps:we}=Oe,Ke=[];return be.maps.forEach((ht,vt)=>{const Ot=[];if(ht.ranges.length)ht.forEach((It,Wt)=>{Ot.push({from:It,to:Wt})});else{const{from:It,to:Wt}=we[vt];if(It===void 0||Wt===void 0)return;Ot.push({from:It,to:Wt})}Ot.forEach(({from:It,to:Wt})=>{const Ut=be.slice(vt).map(It,-1),un=be.slice(vt).map(Wt),nn=be.invert().map(Ut,-1),dn=be.invert().map(un);Ke.push({oldRange:{from:nn,to:dn},newRange:{from:Ut,to:un}})})}),vo(Ke)}function On(Oe,be=0){const Ke=Oe.type===Oe.type.schema.topNodeType?0:1,ht=be,vt=ht+Oe.nodeSize,Ot=Oe.marks.map(Ut=>{const un={type:Ut.type.name};return Object.keys(Ut.attrs).length&&(un.attrs=ir({},Ut.attrs)),un}),It=ir({},Oe.attrs),Wt={type:Oe.type.name,from:ht,to:vt};return Object.keys(It).length&&(Wt.attrs=It),Ot.length&&(Wt.marks=Ot),Oe.content.childCount&&(Wt.content=[],Oe.forEach((Ut,un)=>{var nn;(nn=Wt.content)===null||nn===void 0||nn.push(On(Ut,be+un+Ke))})),Oe.text&&(Wt.text=Oe.text),Wt}function Tn(Oe,be,we){const Ke=[];return Oe===be?we.resolve(Oe).marks().forEach(ht=>{const vt=we.resolve(Oe-1),Ot=Je(vt,ht.type);Ot&&Ke.push(ir({mark:ht},Ot))}):we.nodesBetween(Oe,be,(ht,vt)=>{Ke.push(...ht.marks.map(Ot=>({from:vt,to:vt+ht.nodeSize,mark:Ot})))}),Ke}function Bn(Oe,be,we){return Object.fromEntries(Object.entries(we).filter(([Ke])=>{const ht=Oe.find(vt=>vt.type===be&&vt.name===Ke);return ht?ht.attribute.keepOnSplit:!1}))}function Tt(Oe,be,we={}){const{empty:Ke,ranges:ht}=Oe.selection,vt=be?ft(be,Oe.schema):null;if(Ke)return!!(Oe.storedMarks||Oe.selection.$from.marks()).filter(nn=>vt?vt.name===nn.type.name:!0).find(nn=>We(nn.attrs,we,{strict:!1}));let Ot=0;const It=[];if(ht.forEach(({$from:nn,$to:dn})=>{const An=nn.pos,zn=dn.pos;Oe.doc.nodesBetween(An,zn,(_r,ar)=>{if(!_r.isText&&!_r.marks.length)return;const In=Math.max(An,ar),dr=Math.min(zn,ar+_r.nodeSize),lr=dr-In;Ot+=lr,It.push(..._r.marks.map(Sr=>({mark:Sr,from:In,to:dr})))})}),Ot===0)return!1;const Wt=It.filter(nn=>vt?vt.name===nn.mark.type.name:!0).filter(nn=>We(nn.mark.attrs,we,{strict:!1})).reduce((nn,dn)=>nn+dn.to-dn.from,0),Ut=It.filter(nn=>vt?nn.mark.type!==vt&&nn.mark.type.excludes(vt):!0).reduce((nn,dn)=>nn+dn.to-dn.from,0);return(Wt>0?Wt+Ut:Wt)>=Ot}function Lt(Oe,be,we={}){if(!be)return Et(Oe,null,we)||Tt(Oe,null,we);const Ke=rr(be,Oe.schema);return Ke==="node"?Et(Oe,be,we):Ke==="mark"?Tt(Oe,be,we):!1}function Yt(Oe,be){const{nodeExtensions:we}=I(be),Ke=we.find(Ot=>Ot.name===Oe);if(!Ke)return!1;const ht={name:Ke.name,options:Ke.options,storage:Ke.storage},vt=P(O(Ke,"group",ht));return typeof vt!="string"?!1:vt.split(" ").includes("list")}function ln(Oe){var be;const we=(be=Oe.type.createAndFill())===null||be===void 0?void 0:be.toJSON(),Ke=Oe.toJSON();return JSON.stringify(we)===JSON.stringify(Ke)}function hn(Oe){return Oe instanceof o.qv}function Dn(Oe,be,we){const ht=Oe.state.doc.content.size,vt=Ct(be,0,ht),Ot=Ct(we,0,ht),It=Oe.coordsAtPos(vt),Wt=Oe.coordsAtPos(Ot,-1),Ut=Math.min(It.top,Wt.top),un=Math.max(It.bottom,Wt.bottom),nn=Math.min(It.left,Wt.left),dn=Math.max(It.right,Wt.right),An=dn-nn,zn=un-Ut,In={top:Ut,bottom:un,left:nn,right:dn,width:An,height:zn,x:nn,y:Ut};return Ro(ir({},In),{toJSON:()=>In})}function an(Oe,be,we){var Ke;const{selection:ht}=be;let vt=null;if(Jt(ht)&&(vt=ht.$cursor),vt){const It=(Ke=Oe.storedMarks)!==null&&Ke!==void 0?Ke:vt.marks();return!!we.isInSet(It)||!It.some(Wt=>Wt.type.excludes(we))}const{ranges:Ot}=ht;return Ot.some(({$from:It,$to:Wt})=>{let Ut=It.depth===0?Oe.doc.inlineContent&&Oe.doc.type.allowsMarkType(we):!1;return Oe.doc.nodesBetween(It.pos,Wt.pos,(un,nn,dn)=>{if(Ut)return!1;if(un.isInline){const An=!dn||dn.type.allowsMarkType(we),zn=!!we.isInSet(un.marks)||!un.marks.some(_r=>_r.type.excludes(we));Ut=An&&zn}return!Ut}),Ut})}const Mn=(Oe,be={})=>({tr:we,state:Ke,dispatch:ht})=>{const{selection:vt}=we,{empty:Ot,ranges:It}=vt,Wt=ft(Oe,Ke.schema);if(ht)if(Ot){const Ut=go(Ke,Wt);we.addStoredMark(Wt.create(ir(ir({},Ut),be)))}else It.forEach(Ut=>{const un=Ut.$from.pos,nn=Ut.$to.pos;Ke.doc.nodesBetween(un,nn,(dn,An)=>{const zn=Math.max(An,un),_r=Math.min(An+dn.nodeSize,nn);dn.marks.find(In=>In.type===Wt)?dn.marks.forEach(In=>{Wt===In.type&&we.addMark(zn,_r,Wt.create(ir(ir({},In.attrs),be)))}):we.addMark(zn,_r,Wt.create(be))})});return an(Ke,we,Wt)},Jn=(Oe,be)=>({tr:we})=>(we.setMeta(Oe,be),!0),pt=(Oe,be={})=>({state:we,dispatch:Ke,chain:ht})=>{const vt=_(Oe,we.schema);return vt.isTextblock?ht().command(({commands:Ot})=>(0,v.uJ)(vt,be)(we)?!0:Ot.clearNodes()).command(({state:Ot})=>(0,v.uJ)(vt,be)(Ot,Ke)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Mt=Oe=>({tr:be,dispatch:we})=>{if(we){const{doc:Ke}=be,ht=Ct(Oe,0,Ke.content.size),vt=o.qv.create(Ke,ht);be.setSelection(vt)}return!0},Kt=Oe=>({tr:be,dispatch:we})=>{if(we){const{doc:Ke}=be,{from:ht,to:vt}=typeof Oe=="number"?{from:Oe,to:Oe}:Oe,Ot=o.Bs.atStart(Ke).from,It=o.Bs.atEnd(Ke).to,Wt=Ct(ht,Ot,It),Ut=Ct(vt,Ot,It),un=o.Bs.create(Ke,Wt,Ut);be.setSelection(un)}return!0},qt=Oe=>({state:be,dispatch:we})=>{const Ke=_(Oe,be.schema);return(0,E.bw)(Ke)(be,we)};function mn(Oe,be){const we=Oe.storedMarks||Oe.selection.$to.parentOffset&&Oe.selection.$from.marks();if(we){const Ke=we.filter(ht=>be==null?void 0:be.includes(ht.type.name));Oe.tr.ensureMarks(Ke)}}const En=({keepMarks:Oe=!0}={})=>({tr:be,state:we,dispatch:Ke,editor:ht})=>{const{selection:vt,doc:Ot}=be,{$from:It,$to:Wt}=vt,Ut=ht.extensionManager.attributes,un=Bn(Ut,It.node().type.name,It.node().attrs);if(vt instanceof o.qv&&vt.node.isBlock)return!It.parentOffset||!(0,g.Ax)(Ot,It.pos)?!1:(Ke&&(Oe&&mn(we,ht.extensionManager.splittableMarks),be.split(It.pos).scrollIntoView()),!0);if(!It.parent.isBlock)return!1;if(Ke){const nn=Wt.parentOffset===Wt.parent.content.size;vt instanceof o.Bs&&be.deleteSelection();const dn=It.depth===0?void 0:Fr(It.node(-1).contentMatchAt(It.indexAfter(-1)));let An=nn&&dn?[{type:dn,attrs:un}]:void 0,zn=(0,g.Ax)(be.doc,be.mapping.map(It.pos),1,An);if(!An&&!zn&&(0,g.Ax)(be.doc,be.mapping.map(It.pos),1,dn?[{type:dn}]:void 0)&&(zn=!0,An=dn?[{type:dn,attrs:un}]:void 0),zn&&(be.split(be.mapping.map(It.pos),1,An),dn&&!nn&&!It.parentOffset&&It.parent.type!==dn)){const _r=be.mapping.map(It.before()),ar=be.doc.resolve(_r);It.node(-1).canReplaceWith(ar.index(),ar.index()+1,dn)&&be.setNodeMarkup(be.mapping.map(It.before()),dn)}Oe&&mn(we,ht.extensionManager.splittableMarks),be.scrollIntoView()}return!0},wn=Oe=>({tr:be,state:we,dispatch:Ke,editor:ht})=>{var vt;const Ot=_(Oe,we.schema),{$from:It,$to:Wt}=we.selection,Ut=we.selection.node;if(Ut&&Ut.isBlock||It.depth<2||!It.sameParent(Wt))return!1;const un=It.node(-1);if(un.type!==Ot)return!1;const nn=ht.extensionManager.attributes;if(It.parent.content.size===0&&It.node(-1).childCount===It.indexAfter(-1)){if(It.depth===2||It.node(-3).type!==Ot||It.index(-2)!==It.node(-2).childCount-1)return!1;if(Ke){let ar=c.HY.empty;const In=It.index(-1)?1:It.index(-2)?2:3;for(let co=It.depth-In;co>=It.depth-3;co-=1)ar=c.HY.from(It.node(co).copy(ar));const dr=It.indexAfter(-1)<It.node(-2).childCount?1:It.indexAfter(-2)<It.node(-3).childCount?2:3,lr=Bn(nn,It.node().type.name,It.node().attrs),Sr=((vt=Ot.contentMatch.defaultType)===null||vt===void 0?void 0:vt.createAndFill(lr))||void 0;ar=ar.append(c.HY.from(Ot.createAndFill(null,Sr)||void 0));const Ir=It.before(It.depth-(In-1));be.replace(Ir,It.after(-dr),new c.p2(ar,4-In,0));let ro=-1;be.doc.nodesBetween(Ir,be.doc.content.size,(co,So)=>{if(ro>-1)return!1;co.isTextblock&&co.content.size===0&&(ro=So+1)}),ro>-1&&be.setSelection(o.Bs.near(be.doc.resolve(ro))),be.scrollIntoView()}return!0}const dn=Wt.pos===It.end()?un.contentMatchAt(0).defaultType:null,An=Bn(nn,un.type.name,un.attrs),zn=Bn(nn,It.node().type.name,It.node().attrs);be.delete(It.pos,Wt.pos);const _r=dn?[{type:Ot,attrs:An},{type:dn,attrs:zn}]:[{type:Ot,attrs:An}];if(!(0,g.Ax)(be.doc,It.pos,2))return!1;if(Ke){const{selection:ar,storedMarks:In}=we,{splittableMarks:dr}=ht.extensionManager,lr=In||ar.$to.parentOffset&&ar.$from.marks();if(be.split(It.pos,2,_r).scrollIntoView(),!lr||!Ke)return!0;const Sr=lr.filter(Ir=>dr.includes(Ir.type.name));be.ensureMarks(Sr)}return!0},Hn=(Oe,be)=>{const we=to(Ot=>Ot.type===be)(Oe.selection);if(!we)return!0;const Ke=Oe.doc.resolve(Math.max(0,we.pos-1)).before(we.depth);if(Ke===void 0)return!0;const ht=Oe.doc.nodeAt(Ke);return we.node.type===(ht==null?void 0:ht.type)&&(0,g.Mn)(Oe.doc,we.pos)&&Oe.join(we.pos),!0},wr=(Oe,be)=>{const we=to(Ot=>Ot.type===be)(Oe.selection);if(!we)return!0;const Ke=Oe.doc.resolve(we.start).after(we.depth);if(Ke===void 0)return!0;const ht=Oe.doc.nodeAt(Ke);return we.node.type===(ht==null?void 0:ht.type)&&(0,g.Mn)(Oe.doc,Ke)&&Oe.join(Ke),!0};var Eo=Object.freeze({__proto__:null,blur:me,clearContent:Ie,clearNodes:_e,command:de,createParagraphNear:Re,deleteCurrentNode:ke,deleteNode:Ve,deleteRange:Ge,deleteSelection:Qe,enter:bt,exitCode:Ce,extendMarkRange:je,first:Rt,focus:it,forEach:Ne,insertContent:Be,insertContentAt:H,joinUp:Q,joinDown:ce,joinBackward:Pe,joinForward:Me,keyboardShortcut:ut,lift:Nt,liftEmptyBlock:$t,liftListItem:Nn,newlineInCode:Vt,resetAttributes:cr,scrollIntoView:Lr,selectAll:Br,selectNodeBackward:Cr,selectNodeForward:Dt,selectParentNode:Ft,selectTextblockEnd:zt,selectTextblockStart:sn,setContent:gr,setMark:Mn,setMeta:Jn,setNode:pt,setNodeSelection:Mt,setTextSelection:Kt,sinkListItem:qt,splitBlock:En,splitListItem:wn,toggleList:(Oe,be,we,Ke={})=>({editor:ht,tr:vt,state:Ot,dispatch:It,chain:Wt,commands:Ut,can:un})=>{const{extensions:nn,splittableMarks:dn}=ht.extensionManager,An=_(Oe,Ot.schema),zn=_(be,Ot.schema),{selection:_r,storedMarks:ar}=Ot,{$from:In,$to:dr}=_r,lr=In.blockRange(dr),Sr=ar||_r.$to.parentOffset&&_r.$from.marks();if(!lr)return!1;const Ir=to(ro=>Yt(ro.type.name,nn))(_r);if(lr.depth>=1&&Ir&&lr.depth-Ir.depth<=1){if(Ir.node.type===An)return Ut.liftListItem(zn);if(Yt(Ir.node.type.name,nn)&&An.validContent(Ir.node.content)&&It)return Wt().command(()=>(vt.setNodeMarkup(Ir.pos,An),!0)).command(()=>Hn(vt,An)).command(()=>wr(vt,An)).run()}return!we||!Sr||!It?Wt().command(()=>un().wrapInList(An,Ke)?!0:Ut.clearNodes()).wrapInList(An,Ke).command(()=>Hn(vt,An)).command(()=>wr(vt,An)).run():Wt().command(()=>{const ro=un().wrapInList(An,Ke),co=Sr.filter(So=>dn.includes(So.type.name));return vt.ensureMarks(co),ro?!0:Ut.clearNodes()}).wrapInList(An,Ke).command(()=>Hn(vt,An)).command(()=>wr(vt,An)).run()},toggleMark:(Oe,be={},we={})=>({state:Ke,commands:ht})=>{const{extendEmptyMarkRange:vt=!1}=we,Ot=ft(Oe,Ke.schema);return Tt(Ke,Ot,be)?ht.unsetMark(Ot,{extendEmptyMarkRange:vt}):ht.setMark(Ot,be)},toggleNode:(Oe,be,we={})=>({state:Ke,commands:ht})=>{const vt=_(Oe,Ke.schema),Ot=_(be,Ke.schema);return Et(Ke,vt,we)?ht.setNode(Ot):ht.setNode(vt,we)},toggleWrap:(Oe,be={})=>({state:we,commands:Ke})=>{const ht=_(Oe,we.schema);return Et(we,ht,be)?Ke.lift(ht):Ke.wrapIn(ht,be)},undoInputRule:()=>({state:Oe,dispatch:be})=>{const we=Oe.plugins;for(let Ke=0;Ke<we.length;Ke+=1){const ht=we[Ke];let vt;if(ht.spec.isInputRules&&(vt=ht.getState(Oe))){if(be){const Ot=Oe.tr,It=vt.transform;for(let Wt=It.steps.length-1;Wt>=0;Wt-=1)Ot.step(It.steps[Wt].invert(It.docs[Wt]));if(vt.text){const Wt=Ot.doc.resolve(vt.from).marks();Ot.replaceWith(vt.from,vt.to,Oe.schema.text(vt.text,Wt))}else Ot.delete(vt.from,vt.to)}return!0}}return!1},unsetAllMarks:()=>({tr:Oe,dispatch:be})=>{const{selection:we}=Oe,{empty:Ke,ranges:ht}=we;return Ke||be&&ht.forEach(vt=>{Oe.removeMark(vt.$from.pos,vt.$to.pos)}),!0},unsetMark:(Oe,be={})=>({tr:we,state:Ke,dispatch:ht})=>{var vt;const{extendEmptyMarkRange:Ot=!1}=be,{selection:It}=we,Wt=ft(Oe,Ke.schema),{$from:Ut,empty:un,ranges:nn}=It;if(!ht)return!0;if(un&&Ot){let{from:dn,to:An}=It;const zn=(vt=Ut.marks().find(ar=>ar.type===Wt))===null||vt===void 0?void 0:vt.attrs,_r=Je(Ut,Wt,zn);_r&&(dn=_r.from,An=_r.to),we.removeMark(dn,An,Wt)}else nn.forEach(dn=>{we.removeMark(dn.$from.pos,dn.$to.pos,Wt)});return we.removeStoredMark(Wt),!0},updateAttributes:(Oe,be={})=>({tr:we,state:Ke,dispatch:ht})=>{let vt=null,Ot=null;const It=rr(typeof Oe=="string"?Oe:Oe.name,Ke.schema);return It?(It==="node"&&(vt=_(Oe,Ke.schema)),It==="mark"&&(Ot=ft(Oe,Ke.schema)),ht&&we.selection.ranges.forEach(Wt=>{const Ut=Wt.$from.pos,un=Wt.$to.pos;Ke.doc.nodesBetween(Ut,un,(nn,dn)=>{vt&&vt===nn.type&&we.setNodeMarkup(dn,void 0,ir(ir({},nn.attrs),be)),Ot&&nn.marks.length&&nn.marks.forEach(An=>{if(Ot===An.type){const zn=Math.max(dn,Ut),_r=Math.min(dn+nn.nodeSize,un);we.addMark(zn,_r,Ot.create(ir(ir({},An.attrs),be)))}})})}),!0):!1},wrapIn:(Oe,be={})=>({state:we,dispatch:Ke})=>{const ht=_(Oe,we.schema);return(0,v.ym)(ht,be)(we,Ke)},wrapInList:(Oe,be={})=>({state:we,dispatch:Ke})=>{const ht=_(Oe,we.schema);return(0,E.KI)(ht,be)(we,Ke)}});const Si=le.create({name:"commands",addCommands(){return ir({},Eo)}}),ni=le.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),si=le.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:Oe}=this;return[new o.Sy({key:new o.H$("focusEvents"),props:{handleDOMEvents:{focus:(be,we)=>{Oe.isFocused=!0;const Ke=Oe.state.tr.setMeta("focus",{event:we}).setMeta("addToHistory",!1);return be.dispatch(Ke),!1},blur:(be,we)=>{Oe.isFocused=!1;const Ke=Oe.state.tr.setMeta("blur",{event:we}).setMeta("addToHistory",!1);return be.dispatch(Ke),!1}}}})]}}),fi=le.create({name:"keymap",addKeyboardShortcuts(){const Oe=()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.undoInputRule(),()=>Ot.command(({tr:It})=>{const{selection:Wt,doc:Ut}=It,{empty:un,$anchor:nn}=Wt,{pos:dn,parent:An}=nn,zn=o.Y1.atStart(Ut).from===dn;return!un||!zn||!An.type.isTextblock||An.textContent.length?!1:Ot.clearNodes()}),()=>Ot.deleteSelection(),()=>Ot.joinBackward(),()=>Ot.selectNodeBackward()]),be=()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.deleteSelection(),()=>Ot.deleteCurrentNode(),()=>Ot.joinForward(),()=>Ot.selectNodeForward()]),Ke={Enter:()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.newlineInCode(),()=>Ot.createParagraphNear(),()=>Ot.liftEmptyBlock(),()=>Ot.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:Oe,"Mod-Backspace":Oe,"Shift-Backspace":Oe,Delete:be,"Mod-Delete":be,"Mod-a":()=>this.editor.commands.selectAll()},ht=ir({},Ke),vt=Ro(ir({},Ke),{"Ctrl-h":Oe,"Alt-Backspace":Oe,"Ctrl-d":be,"Ctrl-Alt-Backspace":be,"Alt-Delete":be,"Alt-d":be,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return He()||$e()?vt:ht},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clearDocument"),appendTransaction:(Oe,be,we)=>{if(!(Oe.some(zn=>zn.docChanged)&&!be.doc.eq(we.doc)))return;const{empty:ht,from:vt,to:Ot}=be.selection,It=o.Y1.atStart(be.doc).from,Wt=o.Y1.atEnd(be.doc).to;if(ht||!(vt===It&&Ot===Wt)||!(we.doc.textBetween(0,we.doc.content.size," "," ").length===0))return;const nn=we.tr,dn=y({state:we,transaction:nn}),{commands:An}=new p({editor:this.editor,state:dn});if(An.clearNodes(),!!nn.steps.length)return nn}})]}}),oi=le.create({name:"tabindex",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var ii=Object.freeze({__proto__:null,ClipboardTextSerializer:pe,Commands:Si,Editable:ni,FocusEvents:si,Keymap:fi,Tabindex:oi});const Di=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Mi(Oe,be){const we=document.querySelector("style[data-tiptap-style]");if(we!==null)return we;const Ke=document.createElement("style");return be&&Ke.setAttribute("nonce",be),Ke.setAttribute("data-tiptap-style",""),Ke.innerHTML=Oe,document.getElementsByTagName("head")[0].appendChild(Ke),Ke}class pi extends T{constructor(be={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(be),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Mi(Di,this.options.injectNonce))}setOptions(be={}){this.options=ir(ir({},this.options),be),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(be,we=!0){this.setOptions({editable:be}),we&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(be,we){const Ke=w(we)?we(be,[...this.state.plugins]):[...this.state.plugins,be],ht=this.state.reconfigure({plugins:Ke});this.view.updateState(ht)}unregisterPlugin(be){if(this.isDestroyed)return;const we=typeof be=="string"?`${be}$`:be.key,Ke=this.state.reconfigure({plugins:this.state.plugins.filter(ht=>!ht.key.startsWith(we))});this.view.updateState(Ke)}createExtensionManager(){const we=[...this.options.enableCoreExtensions?Object.values(ii):[],...this.options.extensions].filter(Ke=>["extension","node","mark"].includes(Ke==null?void 0:Ke.type));this.extensionManager=new oe(we,this)}createCommandManager(){this.commandManager=new p({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const be=Un(this.options.content,this.schema,this.options.parseOptions),we=Le(be,this.options.autofocus);this.view=new f.tk(this.options.element,Ro(ir({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:o.yy.create({doc:be,selection:we||void 0})}));const Ke=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(Ke),this.createNodeViews();const ht=this.view.dom;ht.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(be){this.isCapturingTransaction=!0,be(),this.isCapturingTransaction=!1;const we=this.capturedTransaction;return this.capturedTransaction=null,we}dispatchTransaction(be){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=be;return}be.steps.forEach(Ot=>{var It;return(It=this.capturedTransaction)===null||It===void 0?void 0:It.step(Ot)});return}const we=this.state.apply(be),Ke=!this.state.selection.eq(we.selection);this.view.updateState(we),this.emit("transaction",{editor:this,transaction:be}),Ke&&this.emit("selectionUpdate",{editor:this,transaction:be});const ht=be.getMeta("focus"),vt=be.getMeta("blur");ht&&this.emit("focus",{editor:this,event:ht.event,transaction:be}),vt&&this.emit("blur",{editor:this,event:vt.event,transaction:be}),!(!be.docChanged||be.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:be})}getAttributes(be){return Co(this.state,be)}isActive(be,we){const Ke=typeof be=="string"?be:null,ht=typeof be=="string"?we:be;return Lt(this.state,Ke,ht)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ao(this.state.doc.content,this.schema)}getText(be){const{blockSeparator:we=`

`,textSerializers:Ke={}}=be||{};return no(this.state.doc,{blockSeparator:we,textSerializers:ir(ir({},ve(this.schema)),Ke)})}get isEmpty(){return ln(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var be;return!(!((be=this.view)===null||be===void 0)&&be.docView)}}function hi(Oe){return new J({find:Oe.find,handler:({state:be,range:we,match:Ke})=>{const ht=P(Oe.getAttributes,void 0,Ke);if(ht===!1||ht===null)return null;const{tr:vt}=be,Ot=Ke[Ke.length-1],It=Ke[0];let Wt=we.to;if(Ot){const Ut=It.search(/\S/),un=we.from+It.indexOf(Ot),nn=un+Ot.length;if(Tn(we.from,we.to,be.doc).filter(An=>An.mark.type.excluded.find(_r=>_r===Oe.type&&_r!==An.mark.type)).filter(An=>An.to>un).length)return null;nn<we.to&&vt.delete(nn,we.to),un>we.from&&vt.delete(we.from+Ut,un),Wt=we.from+Ut+Ot.length,vt.addMark(we.from+Ut,Wt,Oe.type.create(ht||{})),vt.removeStoredMark(Oe.type)}}})}function mi(Oe){return new J({find:Oe.find,handler:({state:be,range:we,match:Ke})=>{const ht=P(Oe.getAttributes,void 0,Ke)||{},{tr:vt}=be,Ot=we.from;let It=we.to;if(Ke[1]){const Wt=Ke[0].lastIndexOf(Ke[1]);let Ut=Ot+Wt;Ut>It?Ut=It:It=Ut+Ke[1].length;const un=Ke[0][Ke[0].length-1];vt.insertText(un,Ot+Ke[0].length-1),vt.replaceWith(Ut,It,Oe.type.create(ht))}else Ke[0]&&vt.replaceWith(Ot,It,Oe.type.create(ht))}})}function Xo(Oe){return new J({find:Oe.find,handler:({state:be,range:we,match:Ke})=>{const ht=be.doc.resolve(we.from),vt=P(Oe.getAttributes,void 0,Ke)||{};if(!ht.node(-1).canReplaceWith(ht.index(-1),ht.indexAfter(-1),Oe.type))return null;be.tr.delete(we.from,we.to).setBlockType(we.from,we.from,Oe.type,vt)}})}function Ao(Oe){return new J({find:Oe.find,handler:({state:be,range:we,match:Ke})=>{let ht=Oe.replace,vt=we.from;const Ot=we.to;if(Ke[1]){const It=Ke[0].lastIndexOf(Ke[1]);ht+=Ke[0].slice(It+Ke[1].length),vt+=It;const Wt=vt-Ot;Wt>0&&(ht=Ke[0].slice(It-Wt,It)+ht,vt=Ot)}be.tr.insertText(ht,vt,Ot)}})}function li(Oe){return new J({find:Oe.find,handler:({state:be,range:we,match:Ke,chain:ht})=>{const vt=P(Oe.getAttributes,void 0,Ke)||{},Ot=be.tr.delete(we.from,we.to),Wt=Ot.doc.resolve(we.from).blockRange(),Ut=Wt&&(0,g.nd)(Wt,Oe.type,vt);if(!Ut)return null;if(Ot.wrap(Wt,Ut),Oe.keepMarks&&Oe.editor){const{selection:nn,storedMarks:dn}=be,{splittableMarks:An}=Oe.editor.extensionManager,zn=dn||nn.$to.parentOffset&&nn.$from.marks();if(zn){const _r=zn.filter(ar=>An.includes(ar.type.name));Ot.ensureMarks(_r)}}if(Oe.keepAttributes){const nn=Oe.type.name==="bulletList"||Oe.type.name==="orderedList"?"listItem":"taskList";ht().updateAttributes(nn,vt).run()}const un=Ot.doc.resolve(we.from-1).nodeBefore;un&&un.type===Oe.type&&(0,g.Mn)(Ot.doc,we.from-1)&&(!Oe.joinPredicate||Oe.joinPredicate(Ke,un))&&Ot.join(we.from-1)}})}class ui{constructor(be={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ir(ir({},this.config),be),this.name=this.config.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(O(this,"addOptions",{name:this.name}))),this.storage=P(O(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(be={}){return new ui(be)}configure(be={}){const we=this.extend();return we.options=se(this.options,be),we.storage=P(O(we,"addStorage",{name:we.name,options:we.options})),we}extend(be={}){const we=new ui(be);return we.parent=this,this.child=we,we.name=be.name?be.name:we.parent.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${we.name}".`),we.options=P(O(we,"addOptions",{name:we.name})),we.storage=P(O(we,"addStorage",{name:we.name,options:we.options})),we}static handleExit({editor:be,mark:we}){const{tr:Ke}=be.state,ht=be.state.selection.$from;if(ht.pos===ht.end()){const Ot=ht.marks();if(!!!Ot.find(Ut=>(Ut==null?void 0:Ut.type.name)===we.name))return!1;const Wt=Ot.find(Ut=>(Ut==null?void 0:Ut.type.name)===we.name);return Wt&&Ke.removeStoredMark(Wt),Ke.insertText(" ",ht.pos),be.view.dispatch(Ke),!0}return!1}}class ci{constructor(be={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ir(ir({},this.config),be),this.name=this.config.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(O(this,"addOptions",{name:this.name}))),this.storage=P(O(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(be={}){return new ci(be)}configure(be={}){const we=this.extend();return we.options=se(this.options,be),we.storage=P(O(we,"addStorage",{name:we.name,options:we.options})),we}extend(be={}){const we=new ci(be);return we.parent=this,this.child=we,we.name=be.name?be.name:we.parent.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${we.name}".`),we.options=P(O(we,"addOptions",{name:we.name})),we.storage=P(O(we,"addStorage",{name:we.name,options:we.options})),we}}class nt{constructor(be,we,Ke){this.isDragging=!1,this.component=be,this.editor=we.editor,this.options=ir({stopEvent:null,ignoreMutation:null},Ke),this.extension=we.extension,this.node=we.node,this.decorations=we.decorations,this.getPos=we.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(be){var we,Ke,ht,vt,Ot,It,Wt;const{view:Ut}=this.editor,un=be.target,nn=un.nodeType===3?(we=un.parentElement)===null||we===void 0?void 0:we.closest("[data-drag-handle]"):un.closest("[data-drag-handle]");if(!this.dom||!((Ke=this.contentDOM)===null||Ke===void 0)&&Ke.contains(un)||!nn)return;let dn=0,An=0;if(this.dom!==nn){const ar=this.dom.getBoundingClientRect(),In=nn.getBoundingClientRect(),dr=(ht=be.offsetX)!==null&&ht!==void 0?ht:(vt=be.nativeEvent)===null||vt===void 0?void 0:vt.offsetX,lr=(Ot=be.offsetY)!==null&&Ot!==void 0?Ot:(It=be.nativeEvent)===null||It===void 0?void 0:It.offsetY;dn=In.x-ar.x+dr,An=In.y-ar.y+lr}(Wt=be.dataTransfer)===null||Wt===void 0||Wt.setDragImage(this.dom,dn,An);const zn=o.qv.create(Ut.state.doc,this.getPos()),_r=Ut.state.tr.setSelection(zn);Ut.dispatch(_r)}stopEvent(be){var we;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:be});const Ke=be.target;if(!(this.dom.contains(Ke)&&!(!((we=this.contentDOM)===null||we===void 0)&&we.contains(Ke))))return!1;const vt=be.type.startsWith("drag"),Ot=be.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(Ke.tagName)||Ke.isContentEditable)&&!Ot&&!vt)return!0;const{isEditable:Wt}=this.editor,{isDragging:Ut}=this,un=!!this.node.type.spec.draggable,nn=o.qv.isSelectable(this.node),dn=be.type==="copy",An=be.type==="paste",zn=be.type==="cut",_r=be.type==="mousedown";if(!un&&nn&&vt&&be.preventDefault(),un&&vt&&!Ut)return be.preventDefault(),!1;if(un&&Wt&&!Ut&&_r){const ar=Ke.closest("[data-drag-handle]");ar&&(this.dom===ar||this.dom.contains(ar))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(Ut||Ot||dn||An||zn||_r&&nn)}ignoreMutation(be){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:be}):this.node.isLeaf||this.node.isAtom?!0:be.type==="selection"||this.dom.contains(be.target)&&be.type==="childList"&&He()&&this.editor.isFocused&&[...Array.from(be.addedNodes),...Array.from(be.removedNodes)].every(Ke=>Ke.isContentEditable)?!1:this.contentDOM===be.target&&be.type==="attributes"?!0:!this.contentDOM.contains(be.target)}updateAttributes(be){this.editor.commands.command(({tr:we})=>{const Ke=this.getPos();return we.setNodeMarkup(Ke,void 0,ir(ir({},this.node.attrs),be)),!0})}deleteNode(){const be=this.getPos(),we=be+this.node.nodeSize;this.editor.commands.deleteRange({from:be,to:we})}}function Ze(Oe){return new ie({find:Oe.find,handler:({state:be,range:we,match:Ke})=>{const ht=P(Oe.getAttributes,void 0,Ke);if(ht===!1||ht===null)return null;const{tr:vt}=be,Ot=Ke[Ke.length-1],It=Ke[0];let Wt=we.to;if(Ot){const Ut=It.search(/\S/),un=we.from+It.indexOf(Ot),nn=un+Ot.length;if(Tn(we.from,we.to,be.doc).filter(An=>An.mark.type.excluded.find(_r=>_r===Oe.type&&_r!==An.mark.type)).filter(An=>An.to>un).length)return null;nn<we.to&&vt.delete(nn,we.to),un>we.from&&vt.delete(we.from+Ut,un),Wt=we.from+Ut+Ot.length,vt.addMark(we.from+Ut,Wt,Oe.type.create(ht||{})),vt.removeStoredMark(Oe.type)}}})}function Xe(Oe){return Oe.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function mt(Oe){return typeof Oe=="string"}function Pt(Oe){return new ie({find:Oe.find,handler({match:be,chain:we,range:Ke}){const ht=P(Oe.getAttributes,void 0,be);if(ht===!1||ht===null)return null;be.input&&we().deleteRange(Ke).insertContentAt(Ke.from,{type:Oe.type.name,attrs:ht})}})}function jt(Oe){return new ie({find:Oe.find,handler:({state:be,range:we,match:Ke})=>{let ht=Oe.replace,vt=we.from;const Ot=we.to;if(Ke[1]){const It=Ke[0].lastIndexOf(Ke[1]);ht+=Ke[0].slice(It+Ke[1].length),vt+=It;const Wt=vt-Ot;Wt>0&&(ht=Ke[0].slice(It-Wt,It)+ht,vt=Ot)}be.tr.insertText(ht,vt,Ot)}})}class kt{constructor(be){this.transaction=be,this.currentStep=this.transaction.steps.length}map(be){let we=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((ht,vt)=>{const Ot=vt.getMap().mapResult(ht);return Ot.deleted&&(we=!0),Ot.pos},be),deleted:we}}}},9353:(z,l,e)=>{"use strict";e.d(l,{q3:()=>g});var o=e(5865),f=e(2376),u=e(79253);class c{constructor({editor:y,element:p,view:T,tippyOptions:O={},updateDelay:I=250,shouldShow:S}){this.preventHide=!1,this.shouldShow=({view:_,state:d,from:s,to:w})=>{const{doc:P,selection:x}=d,{empty:M}=x,N=!P.textBetween(s,w).length&&(0,o.xh)(d.selection),C=this.element.contains(document.activeElement);return!(!(_.hasFocus()||C)||M||N||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:_})=>{var d;if(this.preventHide){this.preventHide=!1;return}_!=null&&_.relatedTarget&&(!((d=this.element.parentNode)===null||d===void 0)&&d.contains(_.relatedTarget))||this.hide()},this.tippyBlurHandler=_=>{this.blurHandler({event:_})},this.handleDebouncedUpdate=(_,d)=>{this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(_,d)},this.updateDelay)},this.updateHandler=(_,d)=>{var s,w,P;const{state:x,composing:M}=_,{doc:N,selection:C}=x,A=d&&d.doc.eq(N)&&d.selection.eq(C);if(M||A)return;this.createTooltip();const{ranges:k}=C,L=Math.min(...k.map(J=>J.$from.pos)),K=Math.max(...k.map(J=>J.$to.pos));if(!((s=this.shouldShow)===null||s===void 0?void 0:s.call(this,{editor:this.editor,view:_,state:x,oldState:d,from:L,to:K}))){this.hide();return}(w=this.tippy)===null||w===void 0||w.setProps({getReferenceClientRect:((P=this.tippyOptions)===null||P===void 0?void 0:P.getReferenceClientRect)||(()=>{if((0,o.EG)(x.selection)){let J=_.nodeDOM(L);const q=J.dataset.nodeViewWrapper?J:J.querySelector("[data-node-view-wrapper]");if(q&&(J=q.firstChild),J)return J.getBoundingClientRect()}return(0,o.pr)(_,L,K)})}),this.show()},this.editor=y,this.element=p,this.view=T,this.updateDelay=I,S&&(this.shouldShow=S),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=O,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:y}=this.editor.options,p=!!y.parentElement;this.tippy||!p||(this.tippy=(0,u.ZP)(y,ir({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(y,p){const{state:T}=y,O=T.selection.$from.pos!==T.selection.$to.pos;if(this.updateDelay>0&&O){this.handleDebouncedUpdate(y,p);return}this.updateHandler(y,p)}show(){var y;(y=this.tippy)===null||y===void 0||y.show()}hide(){var y;(y=this.tippy)===null||y===void 0||y.hide()}destroy(){var y,p;!((y=this.tippy)===null||y===void 0)&&y.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(p=this.tippy)===null||p===void 0||p.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const g=E=>new f.Sy({key:typeof E.pluginKey=="string"?new f.H$(E.pluginKey):E.pluginKey,view:y=>new c(ir({view:y},E))}),v=o.hj.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[g({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}})},71284:(z,l,e)=>{"use strict";e.d(l,{M_:()=>s,NM:()=>c,T5:()=>S,fW:()=>P,jE:()=>M,kg:()=>y});var o=e(9353),f=e(98661),u=e(5865);const c=N=>{const[C,A]=(0,f.useState)(null);return(0,f.useEffect)(()=>{if(!C||N.editor.isDestroyed)return;const{pluginKey:k="bubbleMenu",editor:L,tippyOptions:K={},updateDelay:Z,shouldShow:J=null}=N,q=(0,o.q3)({updateDelay:Z,editor:L,element:C,pluginKey:k,shouldShow:J,tippyOptions:K});return L.registerPlugin(q),()=>L.unregisterPlugin(k)},[N.editor,C]),f.default.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)};class g extends u.ML{constructor(){super(...arguments),this.contentComponent=null}}const v=({renderers:N})=>f.default.createElement(f.default.Fragment,null,Object.entries(N).map(([C,A])=>f.default.createPortal(A.reactElement,A.element,C)));class E extends f.default.Component{constructor(C){super(C),this.editorContentRef=f.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:C}=this.props;if(C&&C.options.element){if(C.contentComponent)return;const A=this.editorContentRef.current;A.append(...C.options.element.childNodes),C.setOptions({element:A}),C.contentComponent=this,C.createNodeViews(),this.initialized=!0}}maybeFlushSync(C){this.initialized?(0,f.flushSync)(C):C()}setRenderer(C,A){this.maybeFlushSync(()=>{this.setState(({renderers:k})=>({renderers:Ro(ir({},k),{[C]:A})}))})}removeRenderer(C){this.maybeFlushSync(()=>{this.setState(({renderers:A})=>{const k=ir({},A);return delete k[C],{renderers:k}})})}componentWillUnmount(){const{editor:C}=this.props;if(!C||(this.initialized=!1,C.isDestroyed||C.view.setProps({nodeViews:{}}),C.contentComponent=null,!C.options.element.firstChild))return;const A=document.createElement("div");A.append(...C.options.element.childNodes),C.setOptions({element:A})}render(){const k=this.props,{editor:C}=k,A=gi(k,["editor"]);return f.default.createElement(f.default.Fragment,null,f.default.createElement("div",ir({ref:this.editorContentRef},A)),f.default.createElement(v,{renderers:this.state.renderers}))}}const y=f.default.memo(E),p=N=>{const[C,A]=useState(null);return useEffect(()=>{if(!C||N.editor.isDestroyed)return;const{pluginKey:k="floatingMenu",editor:L,tippyOptions:K={},shouldShow:Z=null}=N,J=FloatingMenuPlugin({pluginKey:k,editor:L,element:C,tippyOptions:K,shouldShow:Z});return L.registerPlugin(J),()=>L.unregisterPlugin(k)},[N.editor,C]),React.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)},T=(0,f.createContext)({onDragStart:void 0}),O=()=>(0,f.useContext)(T),I=N=>{const C=N.as||"div",{nodeViewContentRef:A}=O();return React.createElement(C,Ro(ir({},N),{ref:A,"data-node-view-content":"",style:ir({whiteSpace:"pre-wrap"},N.style)}))},S=f.default.forwardRef((N,C)=>{const{onDragStart:A}=O(),k=N.as||"div";return f.default.createElement(k,Ro(ir({},N),{ref:C,"data-node-view-wrapper":"",onDragStart:A,style:ir({whiteSpace:"normal"},N.style)}))});function _(N){return!!(typeof N=="function"&&N.prototype&&N.prototype.isReactComponent)}function d(N){var C;return typeof N=="object"&&((C=N.$$typeof)===null||C===void 0?void 0:C.toString())==="Symbol(react.forward_ref)"}class s{constructor(C,{editor:A,props:k={},as:L="div",className:K="",attrs:Z}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=C,this.editor=A,this.props=k,this.element=document.createElement(L),this.element.classList.add("react-renderer"),K&&this.element.classList.add(...K.split(" ")),Z&&Object.keys(Z).forEach(J=>{this.element.setAttribute(J,Z[J])}),this.render()}render(){var C,A;const k=this.component,L=this.props;(_(k)||d(k))&&(L.ref=K=>{this.ref=K}),this.reactElement=f.default.createElement(k,ir({},L)),(A=(C=this.editor)===null||C===void 0?void 0:C.contentComponent)===null||A===void 0||A.setRenderer(this.id,this)}updateProps(C={}){this.props=ir(ir({},this.props),C),this.render()}destroy(){var C,A;(A=(C=this.editor)===null||C===void 0?void 0:C.contentComponent)===null||A===void 0||A.removeRenderer(this.id)}}class w extends u.DK{mount(){const C={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(K={})=>this.updateAttributes(K),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const K=Z=>Z.charAt(0).toUpperCase()+Z.substring(1);this.component.displayName=K(this.extension.name)}const A=K=>{const Z=this.component,J=this.onDragStart.bind(this),q=ne=>{ne&&this.contentDOMElement&&ne.firstChild!==this.contentDOMElement&&ne.appendChild(this.contentDOMElement)};return f.default.createElement(f.default.Fragment,null,f.default.createElement(T.Provider,{value:{onDragStart:J,nodeViewContentRef:q}},f.default.createElement(Z,ir({},K))))};A.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let k=this.node.isInline?"span":"div";this.options.as&&(k=this.options.as);const{className:L=""}=this.options;this.renderer=new s(A,{editor:this.editor,props:C,as:k,className:`node-${this.node.type.name} ${L}`.trim(),attrs:this.options.attrs})}get dom(){var C;if(this.renderer.element.firstElementChild&&!(!((C=this.renderer.element.firstElementChild)===null||C===void 0)&&C.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(C,A){const k=L=>{this.renderer.updateProps(L)};if(C.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const L=this.node,K=this.decorations;return this.node=C,this.decorations=A,this.options.update({oldNode:L,oldDecorations:K,newNode:C,newDecorations:A,updateProps:()=>k({node:C,decorations:A})})}return C===this.node&&this.decorations===A||(this.node=C,this.decorations=A,k({node:C,decorations:A})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function P(N,C){return A=>A.editor.contentComponent?new w(N,A,C):{}}function x(){const[,N]=(0,f.useState)(0);return()=>N(C=>C+1)}const M=(N={},C=[])=>{const[A,k]=(0,f.useState)(null),L=x(),{onBeforeCreate:K,onBlur:Z,onCreate:J,onDestroy:q,onFocus:ne,onSelectionUpdate:F,onTransaction:W,onUpdate:ie}=N;return(0,f.useEffect)(()=>{A&&(K&&(A.off("beforeCreate"),A.on("beforeCreate",K)),Z&&(A.off("blur"),A.on("blur",Z)),J&&(A.off("create"),A.on("create",J)),q&&(A.off("destroy"),A.on("destroy",q)),ne&&(A.off("focus"),A.on("focus",ne)),F&&(A.off("selectionUpdate"),A.on("selectionUpdate",F)),W&&(A.off("transaction"),A.on("transaction",W)),ie&&(A.off("update"),A.on("update",ie)))},[K,Z,J,q,ne,F,W,ie]),(0,f.useEffect)(()=>{let he=!0;const ye=new g(N);return k(ye),ye.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{he&&L()})})}),()=>{ye.destroy(),he=!1}},C),A}},48583:(z,l,e)=>{"use strict";e.d(l,{KO:()=>T});var o=e(98661),f=e(15103);const u=(0,o.createContext)(void 0),c=O=>{const I=(0,o.useContext)(u);return(O==null?void 0:O.store)||I||(0,f.K7)()},g=({children:O,store:I})=>{const S=useRef();return!I&&!S.current&&(S.current=createStore()),createElement(u.Provider,{value:I||S.current},O)},v=O=>O instanceof Promise,E=o.default.use||(O=>{if(O.status==="pending")throw O;if(O.status==="fulfilled")return O.value;throw O.status==="rejected"?O.reason:(O.status="pending",O.then(I=>{O.status="fulfilled",O.value=I},I=>{O.status="rejected",O.reason=I}),O)});function y(O,I){const S=c(I),[[_,d,s],w]=(0,o.useReducer)(M=>{const N=S.get(O);return Object.is(M[0],N)&&M[1]===S&&M[2]===O?M:[N,S,O]},void 0,()=>[S.get(O),S,O]);let P=_;(d!==S||s!==O)&&(w(),P=S.get(O));const x=I==null?void 0:I.delay;return(0,o.useEffect)(()=>{const M=S.sub(O,()=>{if(typeof x=="number"){setTimeout(w,x);return}w()});return w(),M},[S,O,x]),(0,o.useDebugValue)(P),v(P)?E(P):P}function p(O,I){const S=c(I);return(0,o.useCallback)((...d)=>{if(!("write"in O))throw new Error("not writable atom");return S.set(O,...d)},[S,O])}function T(O,I){return[y(O,I),p(O,I)]}},15103:(z,l,e)=>{"use strict";e.d(l,{K7:()=>s,cn:()=>f});let o=0;function f(w,P){const x=`atom${++o}`,M={toString:()=>x};return typeof w=="function"?M.read=w:(M.init=w,M.read=N=>N(M),M.write=(N,C,A)=>C(M,typeof A=="function"?A(N(M)):A)),P&&(M.write=P),M}const u=w=>"init"in w,c=w=>!!w.write,g=new WeakMap,v=(w,P)=>{g.set(w,P),w.catch(()=>{}).finally(()=>g.delete(w))},E=(w,P)=>{const x=g.get(w);x&&(g.delete(w),x(P))},y=(w,P)=>{w.status="fulfilled",w.value=P},p=(w,P)=>{w.status="rejected",w.reason=P},T=(w,P)=>"v"in w&&"v"in P&&Object.is(w.v,P.v),O=(w,P)=>"e"in w&&"e"in P&&Object.is(w.e,P.e),I=w=>"v"in w&&w.v instanceof Promise,S=w=>{if("e"in w)throw w.e;return w.v},_=()=>{const w=new WeakMap,P=new WeakMap,x=new Map;let M,N,C;M=new Set,N=new Set,C=new Set;const A=se=>w.get(se),k=(se,le)=>{Object.freeze(le);const Ee=w.get(se);if(w.set(se,le),x.has(se)||x.set(se,Ee),Ee&&I(Ee)){const ve="v"in le?le.v instanceof Promise?le.v:Promise.resolve(le.v):Promise.reject(le.e);E(Ee.v,ve)}},L=(se,le,Ee)=>{const ve=new Map;let pe=!1;Ee.forEach(me=>{const Ie=me===se?le:A(me);Ie?(ve.set(me,Ie),le.d.get(me)!==Ie&&(pe=!0)):console.warn("[Bug] atom state not found")}),(pe||le.d.size!==ve.size)&&(le.d=ve)},K=(se,le,Ee)=>{const ve=A(se),pe={d:(ve==null?void 0:ve.d)||new Map,v:le};return Ee&&L(se,pe,Ee),ve&&T(ve,pe)&&ve.d===pe.d?ve:(k(se,pe),pe)},Z=(se,le,Ee)=>{const ve=A(se),pe={d:(ve==null?void 0:ve.d)||new Map,e:le};return Ee&&L(se,pe,Ee),ve&&O(ve,pe)&&ve.d===pe.d?ve:(k(se,pe),pe)},J=se=>{const le=A(se);if(le&&(le.d.forEach((de,Re)=>{Re!==se&&!P.has(Re)&&J(Re)}),Array.from(le.d).every(([de,Re])=>de===se||A(de)===Re)))return le;const Ee=new Set;let ve=!0;const pe=de=>{if(Ee.add(de),de===se){const ke=A(de);if(ke)return S(ke);if(u(de))return de.init;throw new Error("no atom init")}const Re=J(de);return S(Re)};let me,Ie;const _e={get signal(){return me||(me=new AbortController),me.signal},get setSelf(){return c(se)||console.warn("setSelf function cannot be used with read-only atom"),!Ie&&c(se)&&(Ie=(...de)=>{if(ve&&console.warn("setSelf function cannot be called in sync"),!ve)return ye(se,...de)}),Ie}};try{const de=se.read(pe,_e);if(de instanceof Promise){let Re;const ke=new Promise((Ve,Ge)=>{let Qe=!1;de.then(bt=>{Qe||(Qe=!0,K(se,ke,Ee),y(ke,bt),Ve(bt))},bt=>{Qe||(Qe=!0,K(se,ke,Ee),p(ke,bt),Ge(bt))}),Re=bt=>{Qe||(Qe=!0,bt.then(Ce=>y(ke,Ce),Ce=>p(ke,Ce)),Ve(bt))}});return ke.status="pending",v(ke,Ve=>{Ve&&Re(Ve),me==null||me.abort()}),K(se,ke,Ee)}return K(se,de,Ee)}catch(de){return Z(se,de,Ee)}finally{ve=!1}},q=se=>S(J(se)),ne=se=>{let le=P.get(se);return le||(le=fe(se)),le},F=(se,le)=>!le.l.size&&(!le.t.size||le.t.size===1&&le.t.has(se)),W=se=>{const le=P.get(se);le&&F(se,le)&&ae(se)},ie=se=>{const le=P.get(se);le==null||le.t.forEach(Ee=>{if(Ee!==se){const ve=A(Ee),pe=J(Ee);(!ve||!T(ve,pe))&&ie(Ee)}})},he=(se,...le)=>{let Ee=!0;const ve=Ie=>S(J(Ie)),pe=(Ie,..._e)=>{let de;if(Ie===se){if(!u(Ie))throw new Error("atom not writable");const Re=A(Ie),ke=K(Ie,_e[0]);(!Re||!T(Re,ke))&&ie(Ie)}else de=he(Ie,..._e);return Ee||G(),de},me=se.write(ve,pe,...le);return Ee=!1,me},ye=(se,...le)=>{const Ee=he(se,...le);return G(),Ee},fe=(se,le)=>{const Ee={t:new Set(le&&[le]),l:new Set};if(P.set(se,Ee),C.add(se),J(se).d.forEach((ve,pe)=>{const me=P.get(pe);me?me.t.add(se):pe!==se&&fe(pe,se)}),J(se),c(se)&&se.onMount){const ve=se.onMount((...pe)=>ye(se,...pe));ve&&(Ee.u=ve)}return Ee},ae=se=>{var le;const Ee=(le=P.get(se))==null?void 0:le.u;Ee&&Ee(),P.delete(se),C.delete(se);const ve=A(se);ve?(I(ve)&&E(ve.v),ve.d.forEach((pe,me)=>{if(me!==se){const Ie=P.get(me);Ie&&(Ie.t.delete(se),F(me,Ie)&&ae(me))}})):console.warn("[Bug] could not find atom state to unmount",se)},oe=(se,le,Ee)=>{const ve=new Set(le.d.keys());Ee==null||Ee.forEach((pe,me)=>{if(ve.has(me)){ve.delete(me);return}const Ie=P.get(me);Ie&&(Ie.t.delete(se),F(me,Ie)&&ae(me))}),ve.forEach(pe=>{const me=P.get(pe);me?me.t.add(se):P.has(se)&&fe(pe,se)})},G=()=>{for(;x.size;){const se=Array.from(x);x.clear(),se.forEach(([le,Ee])=>{const ve=A(le);if(ve){ve.d!==(Ee==null?void 0:Ee.d)&&oe(le,ve,Ee==null?void 0:Ee.d);const pe=P.get(le);pe&&!(Ee&&!I(Ee)&&(T(Ee,ve)||O(Ee,ve)))&&pe.l.forEach(me=>me())}else console.warn("[Bug] no atom state to flush")})}M.forEach(se=>se()),N.forEach(se=>se("state"))},re=(se,le)=>{const Ee=ne(se);G();const ve=Ee.l;return ve.add(le),N.forEach(pe=>pe("sub")),()=>{ve.delete(le),W(se),N.forEach(pe=>pe("unsub"))}};return{get:q,set:ye,sub:re,dev_subscribe_state:se=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),M.add(se),()=>{M.delete(se)}),dev_subscribe_store:se=>(N.add(se),()=>{N.delete(se)}),dev_get_mounted_atoms:()=>C.values(),dev_get_atom_state:se=>w.get(se),dev_get_mounted:se=>P.get(se),dev_restore_atoms:se=>{for(const[le,Ee]of se)u(le)&&(K(le,Ee),ie(le));G()}}};let d;const s=()=>(d||(d=_()),d)},95495:(z,l,e)=>{"use strict";e.d(l,{xu:()=>c});const o=Symbol();function f(ae){const oe=atom(ae,(G,re,se)=>{const le=typeof se=="function"?se(G(oe)):se;re(oe,le===o?ae:le)});return oe}function u(ae,oe){const G=atom(ae,(re,se,le)=>se(G,oe(re(G),le)));return G}function c(ae,oe){let G=null;const re=new Map,se=le=>{let Ee;if(oe===void 0)Ee=re.get(le);else for(const[pe,me]of re)if(oe(pe,le)){Ee=me;break}if(Ee!==void 0)if(G!=null&&G(Ee[1],le))se.remove(le);else return Ee[0];const ve=ae(le);return re.set(le,[ve,Date.now()]),ve};return se.remove=le=>{if(oe===void 0)re.delete(le);else for(const[Ee]of re)if(oe(Ee,le)){re.delete(Ee);break}},se.setShouldRemove=le=>{if(G=le,!!G)for(const[Ee,ve]of re)G(ve[1],Ee)&&re.delete(Ee)},se}const g=(ae,oe,G)=>(oe.has(G)?oe:oe.set(G,ae())).get(G),v=new WeakMap,E=(ae,oe,G,re)=>{const se=g(()=>new WeakMap,v,oe),le=g(()=>new WeakMap,se,G);return g(ae,le,re)};function y(ae,oe,G=Object.is){return E(()=>{const re=Symbol(),se=([Ee,ve])=>{if(ve===re)return oe(Ee);const pe=oe(Ee,ve);return G(ve,pe)?ve:pe},le=atom(Ee=>{const ve=Ee(le),pe=Ee(ae);return pe instanceof Promise||ve instanceof Promise?Promise.all([pe,ve]).then(se):se([pe,ve])});return le.init=re,le},ae,oe,G)}const p=new WeakMap,T=(ae,oe)=>(p.has(oe)?p:p.set(oe,ae())).get(oe),O=ae=>{if(typeof ae!="object"||ae===null)return;Object.freeze(ae);const oe=Object.getOwnPropertyNames(ae);for(const G of oe){const re=ae[G];O(re)}return ae};function I(ae){return T(()=>atom(G=>O(G(ae)),(G,re,se)=>re(ae,se)),ae)}function S(ae){return(...oe)=>{const G=ae(...oe),re=G.read;return G.read=(se,le)=>O(re(se,le)),G}}const _=(ae,oe,G)=>(oe.has(G)?oe:oe.set(G,ae())).get(G),d=new WeakMap,s=(ae,oe,G)=>{const re=_(()=>new WeakMap,d,oe);return _(ae,re,G)},w={},P=ae=>!!ae.write,x=ae=>typeof ae=="function";function M(ae,oe){return s(()=>{const G=new WeakMap,re=(Ee,ve)=>{let pe=G.get(Ee);if(pe)return pe;const me=ve&&G.get(ve),Ie=[],_e=[];return Ee.forEach((de,Re)=>{const ke=oe?oe(de):Re;_e[Re]=ke;const Ve=me&&me.atomList[me.keyList.indexOf(ke)];if(Ve){Ie[Re]=Ve;return}const Ge=bt=>{const Ce=bt(se),We=bt(ae),rt=re(We,Ce==null?void 0:Ce.arr).keyList.indexOf(ke);if(rt<0||rt>=We.length){const Je=Ee[re(Ee).keyList.indexOf(ke)];if(Je)return Je;throw new Error("splitAtom: index out of bounds for read")}return We[rt]},Qe=(bt,Ce,We)=>{const xe=bt(se),rt=bt(ae),ft=re(rt,xe==null?void 0:xe.arr).keyList.indexOf(ke);if(ft<0||ft>=rt.length)throw new Error("splitAtom: index out of bounds for write");const je=x(We)?We(rt[ft]):We;Ce(ae,[...rt.slice(0,ft),je,...rt.slice(ft+1)])};Ie[Re]=P(ae)?atom(Ge,Qe):atom(Ge)}),me&&me.keyList.length===_e.length&&me.keyList.every((de,Re)=>de===_e[Re])?pe=me:pe={arr:Ee,atomList:Ie,keyList:_e},G.set(Ee,pe),pe},se=atom(Ee=>{const ve=Ee(se),pe=Ee(ae);return re(pe,ve==null?void 0:ve.arr)});se.debugPrivate=!0,se.init=void 0;const le=P(ae)?atom(Ee=>Ee(se).atomList,(Ee,ve,pe)=>{switch(pe.type){case"remove":{const me=Ee(le).indexOf(pe.atom);if(me>=0){const Ie=Ee(ae);ve(ae,[...Ie.slice(0,me),...Ie.slice(me+1)])}break}case"insert":{const me=pe.before?Ee(le).indexOf(pe.before):Ee(le).length;if(me>=0){const Ie=Ee(ae);ve(ae,[...Ie.slice(0,me),pe.value,...Ie.slice(me)])}break}case"move":{const me=Ee(le).indexOf(pe.atom),Ie=pe.before?Ee(le).indexOf(pe.before):Ee(le).length;if(me>=0&&Ie>=0){const _e=Ee(ae);me<Ie?ve(ae,[..._e.slice(0,me),..._e.slice(me+1,Ie),_e[me],..._e.slice(Ie)]):ve(ae,[..._e.slice(0,Ie),_e[me],..._e.slice(Ie,me),..._e.slice(me+1)])}break}}}):atom(Ee=>Ee(se).atomList);return le},ae,oe||w)}const N=(ae,oe)=>typeof oe=="function"?oe(ae):oe;function C(ae){const oe=Symbol(),G=atom(oe);G.debugPrivate=!0;const re=atom((se,le)=>{const Ee=se(G);return Ee!==oe?Ee:ae(se,le)},(se,le,Ee)=>{if(Ee===o)return le(G,oe);const ve=se(re);return ve instanceof Promise?ve.then(pe=>le(G,N(pe,Ee))):le(G,N(ve,Ee))});return re}const A=Symbol();function k(ae){let oe,G;const re={getItem:se=>{var le,Ee;const ve=me=>{if(me=me||"",oe!==me){try{G=JSON.parse(me)}catch(Ie){return A}oe=me}return G},pe=(Ee=(le=ae())==null?void 0:le.getItem(se))!=null?Ee:null;return pe instanceof Promise?pe.then(ve):ve(pe)},setItem:(se,le)=>{var Ee;return(Ee=ae())==null?void 0:Ee.setItem(se,JSON.stringify(le))},removeItem:se=>{var le;return(le=ae())==null?void 0:le.removeItem(se)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&(re.subscribe=(se,le)=>{const Ee=ve=>{ve.storageArea===ae()&&ve.key===se&&ve.newValue&&le(JSON.parse(ve.newValue))};return window.addEventListener("storage",Ee),()=>{window.removeEventListener("storage",Ee)}}),re}const L=k(()=>typeof window!="undefined"?window.localStorage:void 0);function K(ae,oe,G=L){const re=atom(oe);return re.debugPrivate=!0,re.onMount=le=>{const Ee=G.getItem(ae);Ee instanceof Promise?Ee.then(pe=>le(pe===A?oe:pe)):le(Ee===A?oe:Ee);let ve;return G.subscribe&&(ve=G.subscribe(ae,le)),ve},atom(le=>le(re),(le,Ee,ve)=>{const pe=typeof ve=="function"?ve(le(re)):ve;return pe===o?(Ee(re,oe),G.removeItem(ae)):(Ee(re,pe),G.setItem(ae,pe))})}function Z(ae,oe){const G=le=>{if("e"in le)throw le.e;return le.d},re=atom(le=>{var Ee;let ve=ae(le);const pe=(Ee=ve[Symbol.observable])==null?void 0:Ee.call(ve);pe&&(ve=pe);let me;const Ie=()=>new Promise(We=>{me=We}),_e=oe&&"initialValue"in oe?{d:typeof oe.initialValue=="function"?oe.initialValue():oe.initialValue}:Ie();let de,Re;const ke=We=>{Re=We,me==null||me(We),de==null||de(We)};let Ve,Ge;const Qe=()=>!de,bt=()=>{Ve&&(clearTimeout(Ge),Ve.unsubscribe()),Ve=ve.subscribe({next:We=>ke({d:We}),error:We=>ke({e:We}),complete:()=>{}}),Qe()&&(oe!=null&&oe.unstable_timeout)&&(Ge=setTimeout(()=>{Ve&&(Ve.unsubscribe(),Ve=void 0)},oe.unstable_timeout))};bt();const Ce=atom(Re||_e);return Ce.debugPrivate=!0,Ce.onMount=We=>(de=We,Re&&We(Re),Ve?clearTimeout(Ge):bt(),()=>{de=void 0,Ve&&(Ve.unsubscribe(),Ve=void 0)}),[Ce,ve,Ie,bt,Qe]});return re.debugPrivate=!0,atom(le=>{const[Ee]=le(re),ve=le(Ee);return ve instanceof Promise?ve.then(G):G(ve)},(le,Ee,ve)=>{const[pe,me,Ie,_e,de]=le(re);if("next"in me)de()&&(Ee(pe,Ie()),_e()),me.next(ve);else throw new Error("observable is not subject")})}const J=new WeakMap,q=(ae,oe)=>(J.has(oe)?J:J.set(oe,ae())).get(oe),ne={state:"loading"};function F(ae){return q(()=>{const oe=new WeakMap,G=atom(0);G.debugPrivate=!0;const re=atom((se,{setSelf:le})=>{se(G);const Ee=se(ae);if(!(Ee instanceof Promise))return{state:"hasData",data:Ee};const ve=oe.get(Ee);return ve||(oe.set(Ee,ne),Ee.then(pe=>{oe.set(Ee,{state:"hasData",data:pe})},pe=>{oe.set(Ee,{state:"hasError",error:pe})}).finally(le),ne)},(se,le)=>{le(G,Ee=>Ee+1)});return re.debugPrivate=!0,atom(se=>se(re))},ae)}const W=(ae,oe,G)=>(oe.has(G)?oe:oe.set(G,ae())).get(G),ie=new WeakMap,he=(ae,oe,G)=>{const re=W(()=>new WeakMap,ie,oe);return W(ae,re,G)},ye=()=>{};function fe(ae,oe=ye){return he(()=>{const G=new WeakMap,re=new WeakMap,se=atom(0);se.debugPrivate=!0;const le=atom((Ee,{setSelf:ve})=>{Ee(se);const pe=Ee(le),me=Ee(ae);if(me===(pe==null?void 0:pe.p)){if(G.has(me))throw G.get(me);if(re.has(me))return{p:me,v:re.get(me)}}return me!==(pe==null?void 0:pe.p)&&me.then(Ie=>re.set(me,Ie),Ie=>G.set(me,Ie)).finally(ve),pe&&"v"in pe?{p:me,f:oe(pe.v)}:{p:me,f:oe()}},(Ee,ve)=>{ve(se,pe=>pe+1)});return le.init=void 0,le.debugPrivate=!0,atom(Ee=>{const ve=Ee(le);return"v"in ve?ve.v:ve.f})},ae,oe)}},25804:(z,l,e)=>{"use strict";e.d(l,{Ig:()=>P,MI:()=>w,N0:()=>J,NE:()=>c,QK:()=>M,U9:()=>ie,X0:()=>k,Y_:()=>_,_M:()=>O,al:()=>v,mD:()=>A,nw:()=>he,o:()=>d,uJ:()=>fe,uo:()=>C,xb:()=>x,ym:()=>ye});var o=e(16560),f=e(87823),u=e(2376);const c=(_e,de)=>_e.selection.empty?!1:(de&&de(_e.tr.deleteSelection().scrollIntoView()),!0);function g(_e,de){let{$cursor:Re}=_e.selection;return!Re||(de?!de.endOfTextblock("backward",_e):Re.parentOffset>0)?null:Re}const v=(_e,de,Re)=>{let ke=g(_e,Re);if(!ke)return!1;let Ve=I(ke);if(!Ve){let Qe=ke.blockRange(),bt=Qe&&(0,o.k9)(Qe);return bt==null?!1:(de&&de(_e.tr.lift(Qe,bt).scrollIntoView()),!0)}let Ge=Ve.nodeBefore;if(!Ge.type.spec.isolating&&F(_e,Ve,de))return!0;if(ke.parent.content.size==0&&(T(Ge,"end")||u.qv.isSelectable(Ge))){let Qe=(0,o.dR)(_e.doc,ke.before(),ke.after(),f.p2.empty);if(Qe&&Qe.slice.size<Qe.to-Qe.from){if(de){let bt=_e.tr.step(Qe);bt.setSelection(T(Ge,"end")?u.Y1.findFrom(bt.doc.resolve(bt.mapping.map(Ve.pos,-1)),-1):u.qv.create(bt.doc,Ve.pos-Ge.nodeSize)),de(bt.scrollIntoView())}return!0}}return Ge.isAtom&&Ve.depth==ke.depth-1?(de&&de(_e.tr.delete(Ve.pos-Ge.nodeSize,Ve.pos).scrollIntoView()),!0):!1},E=(_e,de,Re)=>{let ke=g(_e,Re);if(!ke)return!1;let Ve=I(ke);return Ve?p(_e,Ve,de):!1},y=(_e,de,Re)=>{let ke=S(_e,Re);if(!ke)return!1;let Ve=s(ke);return Ve?p(_e,Ve,de):!1};function p(_e,de,Re){let ke=de.nodeBefore,Ve=ke,Ge=de.pos-1;for(;!Ve.isTextblock;Ge--){if(Ve.type.spec.isolating)return!1;let xe=Ve.lastChild;if(!xe)return!1;Ve=xe}let Qe=de.nodeAfter,bt=Qe,Ce=de.pos+1;for(;!bt.isTextblock;Ce++){if(bt.type.spec.isolating)return!1;let xe=bt.firstChild;if(!xe)return!1;bt=xe}let We=replaceStep(_e.doc,Ge,Ce,Slice.empty);if(!We||We.from!=Ge||We.slice.size>=Ce-Ge)return!1;if(Re){let xe=_e.tr.step(We);xe.setSelection(TextSelection.create(xe.doc,Ge)),Re(xe.scrollIntoView())}return!0}function T(_e,de,Re=!1){for(let ke=_e;ke;ke=de=="start"?ke.firstChild:ke.lastChild){if(ke.isTextblock)return!0;if(Re&&ke.childCount!=1)return!1}return!1}const O=(_e,de,Re)=>{let{$head:ke,empty:Ve}=_e.selection,Ge=ke;if(!Ve)return!1;if(ke.parent.isTextblock){if(Re?!Re.endOfTextblock("backward",_e):ke.parentOffset>0)return!1;Ge=I(ke)}let Qe=Ge&&Ge.nodeBefore;return!Qe||!u.qv.isSelectable(Qe)?!1:(de&&de(_e.tr.setSelection(u.qv.create(_e.doc,Ge.pos-Qe.nodeSize)).scrollIntoView()),!0)};function I(_e){if(!_e.parent.type.spec.isolating)for(let de=_e.depth-1;de>=0;de--){if(_e.index(de)>0)return _e.doc.resolve(_e.before(de+1));if(_e.node(de).type.spec.isolating)break}return null}function S(_e,de){let{$cursor:Re}=_e.selection;return!Re||(de?!de.endOfTextblock("forward",_e):Re.parentOffset<Re.parent.content.size)?null:Re}const _=(_e,de,Re)=>{let ke=S(_e,Re);if(!ke)return!1;let Ve=s(ke);if(!Ve)return!1;let Ge=Ve.nodeAfter;if(F(_e,Ve,de))return!0;if(ke.parent.content.size==0&&(T(Ge,"start")||u.qv.isSelectable(Ge))){let Qe=(0,o.dR)(_e.doc,ke.before(),ke.after(),f.p2.empty);if(Qe&&Qe.slice.size<Qe.to-Qe.from){if(de){let bt=_e.tr.step(Qe);bt.setSelection(T(Ge,"start")?u.Y1.findFrom(bt.doc.resolve(bt.mapping.map(Ve.pos)),1):u.qv.create(bt.doc,bt.mapping.map(Ve.pos))),de(bt.scrollIntoView())}return!0}}return Ge.isAtom&&Ve.depth==ke.depth-1?(de&&de(_e.tr.delete(Ve.pos,Ve.pos+Ge.nodeSize).scrollIntoView()),!0):!1},d=(_e,de,Re)=>{let{$head:ke,empty:Ve}=_e.selection,Ge=ke;if(!Ve)return!1;if(ke.parent.isTextblock){if(Re?!Re.endOfTextblock("forward",_e):ke.parentOffset<ke.parent.content.size)return!1;Ge=s(ke)}let Qe=Ge&&Ge.nodeAfter;return!Qe||!u.qv.isSelectable(Qe)?!1:(de&&de(_e.tr.setSelection(u.qv.create(_e.doc,Ge.pos)).scrollIntoView()),!0)};function s(_e){if(!_e.parent.type.spec.isolating)for(let de=_e.depth-1;de>=0;de--){let Re=_e.node(de);if(_e.index(de)+1<Re.childCount)return _e.doc.resolve(_e.after(de+1));if(Re.type.spec.isolating)break}return null}const w=(_e,de)=>{let Re=_e.selection,ke=Re instanceof u.qv,Ve;if(ke){if(Re.node.isTextblock||!(0,o.Mn)(_e.doc,Re.from))return!1;Ve=Re.from}else if(Ve=(0,o.GJ)(_e.doc,Re.from,-1),Ve==null)return!1;if(de){let Ge=_e.tr.join(Ve);ke&&Ge.setSelection(u.qv.create(Ge.doc,Ve-_e.doc.resolve(Ve).nodeBefore.nodeSize)),de(Ge.scrollIntoView())}return!0},P=(_e,de)=>{let Re=_e.selection,ke;if(Re instanceof u.qv){if(Re.node.isTextblock||!(0,o.Mn)(_e.doc,Re.to))return!1;ke=Re.to}else if(ke=(0,o.GJ)(_e.doc,Re.to,1),ke==null)return!1;return de&&de(_e.tr.join(ke).scrollIntoView()),!0},x=(_e,de)=>{let{$from:Re,$to:ke}=_e.selection,Ve=Re.blockRange(ke),Ge=Ve&&(0,o.k9)(Ve);return Ge==null?!1:(de&&de(_e.tr.lift(Ve,Ge).scrollIntoView()),!0)},M=(_e,de)=>{let{$head:Re,$anchor:ke}=_e.selection;return!Re.parent.type.spec.code||!Re.sameParent(ke)?!1:(de&&de(_e.tr.insertText(`
`).scrollIntoView()),!0)};function N(_e){for(let de=0;de<_e.edgeCount;de++){let{type:Re}=_e.edge(de);if(Re.isTextblock&&!Re.hasRequiredAttrs())return Re}return null}const C=(_e,de)=>{let{$head:Re,$anchor:ke}=_e.selection;if(!Re.parent.type.spec.code||!Re.sameParent(ke))return!1;let Ve=Re.node(-1),Ge=Re.indexAfter(-1),Qe=N(Ve.contentMatchAt(Ge));if(!Qe||!Ve.canReplaceWith(Ge,Ge,Qe))return!1;if(de){let bt=Re.after(),Ce=_e.tr.replaceWith(bt,bt,Qe.createAndFill());Ce.setSelection(u.Y1.near(Ce.doc.resolve(bt),1)),de(Ce.scrollIntoView())}return!0},A=(_e,de)=>{let Re=_e.selection,{$from:ke,$to:Ve}=Re;if(Re instanceof u.C1||ke.parent.inlineContent||Ve.parent.inlineContent)return!1;let Ge=N(Ve.parent.contentMatchAt(Ve.indexAfter()));if(!Ge||!Ge.isTextblock)return!1;if(de){let Qe=(!ke.parentOffset&&Ve.index()<Ve.parent.childCount?ke:Ve).pos,bt=_e.tr.insert(Qe,Ge.createAndFill());bt.setSelection(u.Bs.create(bt.doc,Qe+1)),de(bt.scrollIntoView())}return!0},k=(_e,de)=>{let{$cursor:Re}=_e.selection;if(!Re||Re.parent.content.size)return!1;if(Re.depth>1&&Re.after()!=Re.end(-1)){let Ge=Re.before();if((0,o.Ax)(_e.doc,Ge))return de&&de(_e.tr.split(Ge).scrollIntoView()),!0}let ke=Re.blockRange(),Ve=ke&&(0,o.k9)(ke);return Ve==null?!1:(de&&de(_e.tr.lift(ke,Ve).scrollIntoView()),!0)};function L(_e){return(de,Re)=>{let{$from:ke,$to:Ve}=de.selection;if(de.selection instanceof u.qv&&de.selection.node.isBlock)return!ke.parentOffset||!(0,o.Ax)(de.doc,ke.pos)?!1:(Re&&Re(de.tr.split(ke.pos).scrollIntoView()),!0);if(!ke.parent.isBlock)return!1;if(Re){let Ge=Ve.parentOffset==Ve.parent.content.size,Qe=de.tr;(de.selection instanceof u.Bs||de.selection instanceof u.C1)&&Qe.deleteSelection();let bt=ke.depth==0?null:N(ke.node(-1).contentMatchAt(ke.indexAfter(-1))),Ce=_e&&_e(Ve.parent,Ge),We=Ce?[Ce]:Ge&&bt?[{type:bt}]:void 0,xe=(0,o.Ax)(Qe.doc,Qe.mapping.map(ke.pos),1,We);if(!We&&!xe&&(0,o.Ax)(Qe.doc,Qe.mapping.map(ke.pos),1,bt?[{type:bt}]:void 0)&&(bt&&(We=[{type:bt}]),xe=!0),xe&&(Qe.split(Qe.mapping.map(ke.pos),1,We),!Ge&&!ke.parentOffset&&ke.parent.type!=bt)){let rt=Qe.mapping.map(ke.before()),Je=Qe.doc.resolve(rt);bt&&ke.node(-1).canReplaceWith(Je.index(),Je.index()+1,bt)&&Qe.setNodeMarkup(Qe.mapping.map(ke.before()),bt)}Re(Qe.scrollIntoView())}return!0}}const K=L(),Z=(_e,de)=>K(_e,de&&(Re=>{let ke=_e.storedMarks||_e.selection.$to.parentOffset&&_e.selection.$from.marks();ke&&Re.ensureMarks(ke),de(Re)})),J=(_e,de)=>{let{$from:Re,to:ke}=_e.selection,Ve,Ge=Re.sharedDepth(ke);return Ge==0?!1:(Ve=Re.before(Ge),de&&de(_e.tr.setSelection(u.qv.create(_e.doc,Ve))),!0)},q=(_e,de)=>(de&&de(_e.tr.setSelection(new u.C1(_e.doc))),!0);function ne(_e,de,Re){let ke=de.nodeBefore,Ve=de.nodeAfter,Ge=de.index();return!ke||!Ve||!ke.type.compatibleContent(Ve.type)?!1:!ke.content.size&&de.parent.canReplace(Ge-1,Ge)?(Re&&Re(_e.tr.delete(de.pos-ke.nodeSize,de.pos).scrollIntoView()),!0):!de.parent.canReplace(Ge,Ge+1)||!(Ve.isTextblock||(0,o.Mn)(_e.doc,de.pos))?!1:(Re&&Re(_e.tr.clearIncompatible(de.pos,ke.type,ke.contentMatchAt(ke.childCount)).join(de.pos).scrollIntoView()),!0)}function F(_e,de,Re){let ke=de.nodeBefore,Ve=de.nodeAfter,Ge,Qe;if(ke.type.spec.isolating||Ve.type.spec.isolating)return!1;if(ne(_e,de,Re))return!0;let bt=de.parent.canReplace(de.index(),de.index()+1);if(bt&&(Ge=(Qe=ke.contentMatchAt(ke.childCount)).findWrapping(Ve.type))&&Qe.matchType(Ge[0]||Ve.type).validEnd){if(Re){let rt=de.pos+Ve.nodeSize,Je=f.HY.empty;for(let Rt=Ge.length-1;Rt>=0;Rt--)Je=f.HY.from(Ge[Rt].create(null,Je));Je=f.HY.from(ke.copy(Je));let ft=_e.tr.step(new o.FC(de.pos-1,rt,de.pos,rt,new f.p2(Je,1,0),Ge.length,!0)),je=rt+2*Ge.length;(0,o.Mn)(ft.doc,je)&&ft.join(je),Re(ft.scrollIntoView())}return!0}let Ce=u.Y1.findFrom(de,1),We=Ce&&Ce.$from.blockRange(Ce.$to),xe=We&&(0,o.k9)(We);if(xe!=null&&xe>=de.depth)return Re&&Re(_e.tr.lift(We,xe).scrollIntoView()),!0;if(bt&&T(Ve,"start",!0)&&T(ke,"end")){let rt=ke,Je=[];for(;Je.push(rt),!rt.isTextblock;)rt=rt.lastChild;let ft=Ve,je=1;for(;!ft.isTextblock;ft=ft.firstChild)je++;if(rt.canReplace(rt.childCount,rt.childCount,ft.content)){if(Re){let Rt=f.HY.empty;for(let Ct=Je.length-1;Ct>=0;Ct--)Rt=f.HY.from(Je[Ct].copy(Rt));let Jt=_e.tr.step(new o.FC(de.pos-Je.length,de.pos+Ve.nodeSize,de.pos+je,de.pos+Ve.nodeSize-je,new f.p2(Rt,Je.length,0),0,!0));Re(Jt.scrollIntoView())}return!0}}return!1}function W(_e){return function(de,Re){let ke=de.selection,Ve=_e<0?ke.$from:ke.$to,Ge=Ve.depth;for(;Ve.node(Ge).isInline;){if(!Ge)return!1;Ge--}return Ve.node(Ge).isTextblock?(Re&&Re(de.tr.setSelection(u.Bs.create(de.doc,_e<0?Ve.start(Ge):Ve.end(Ge)))),!0):!1}}const ie=W(-1),he=W(1);function ye(_e,de=null){return function(Re,ke){let{$from:Ve,$to:Ge}=Re.selection,Qe=Ve.blockRange(Ge),bt=Qe&&(0,o.nd)(Qe,_e,de);return bt?(ke&&ke(Re.tr.wrap(Qe,bt).scrollIntoView()),!0):!1}}function fe(_e,de=null){return function(Re,ke){let Ve=!1;for(let Ge=0;Ge<Re.selection.ranges.length&&!Ve;Ge++){let{$from:{pos:Qe},$to:{pos:bt}}=Re.selection.ranges[Ge];Re.doc.nodesBetween(Qe,bt,(Ce,We)=>{if(Ve)return!1;if(!(!Ce.isTextblock||Ce.hasMarkup(_e,de)))if(Ce.type==_e)Ve=!0;else{let xe=Re.doc.resolve(We),rt=xe.index();Ve=xe.parent.canReplaceWith(rt,rt+1,_e)}})}if(!Ve)return!1;if(ke){let Ge=Re.tr;for(let Qe=0;Qe<Re.selection.ranges.length;Qe++){let{$from:{pos:bt},$to:{pos:Ce}}=Re.selection.ranges[Qe];Ge.setBlockType(bt,Ce,_e,de)}ke(Ge.scrollIntoView())}return!0}}function ae(_e,de,Re){for(let ke=0;ke<de.length;ke++){let{$from:Ve,$to:Ge}=de[ke],Qe=Ve.depth==0?_e.inlineContent&&_e.type.allowsMarkType(Re):!1;if(_e.nodesBetween(Ve.pos,Ge.pos,bt=>{if(Qe)return!1;Qe=bt.inlineContent&&bt.type.allowsMarkType(Re)}),Qe)return!0}return!1}function oe(_e,de=null){return function(Re,ke){let{empty:Ve,$cursor:Ge,ranges:Qe}=Re.selection;if(Ve&&!Ge||!ae(Re.doc,Qe,_e))return!1;if(ke)if(Ge)_e.isInSet(Re.storedMarks||Ge.marks())?ke(Re.tr.removeStoredMark(_e)):ke(Re.tr.addStoredMark(_e.create(de)));else{let bt=!1,Ce=Re.tr;for(let We=0;!bt&&We<Qe.length;We++){let{$from:xe,$to:rt}=Qe[We];bt=Re.doc.rangeHasMark(xe.pos,rt.pos,_e)}for(let We=0;We<Qe.length;We++){let{$from:xe,$to:rt}=Qe[We];if(bt)Ce.removeMark(xe.pos,rt.pos,_e);else{let Je=xe.pos,ft=rt.pos,je=xe.nodeAfter,Rt=rt.nodeBefore,Jt=je&&je.isText?/^\s*/.exec(je.text)[0].length:0,Ct=Rt&&Rt.isText?/\s*$/.exec(Rt.text)[0].length:0;Je+Jt<ft&&(Je+=Jt,ft-=Ct),Ce.addMark(Je,ft,_e.create(de))}}ke(Ce.scrollIntoView())}return!0}}function G(_e,de){return Re=>{if(!Re.isGeneric)return _e(Re);let ke=[];for(let Ge=0;Ge<Re.mapping.maps.length;Ge++){let Qe=Re.mapping.maps[Ge];for(let bt=0;bt<ke.length;bt++)ke[bt]=Qe.map(ke[bt]);Qe.forEach((bt,Ce,We,xe)=>ke.push(We,xe))}let Ve=[];for(let Ge=0;Ge<ke.length;Ge+=2){let Qe=ke[Ge],bt=ke[Ge+1],Ce=Re.doc.resolve(Qe),We=Ce.sharedDepth(bt),xe=Ce.node(We);for(let rt=Ce.indexAfter(We),Je=Ce.after(We+1);Je<=bt;++rt){let ft=xe.maybeChild(rt);if(!ft)break;if(rt&&Ve.indexOf(Je)==-1){let je=xe.child(rt-1);je.type==ft.type&&de(je,ft)&&Ve.push(Je)}Je+=ft.nodeSize}}Ve.sort((Ge,Qe)=>Ge-Qe);for(let Ge=Ve.length-1;Ge>=0;Ge--)canJoin(Re.doc,Ve[Ge])&&Re.join(Ve[Ge]);_e(Re)}}function re(_e,de){let Re=Array.isArray(de)?ke=>de.indexOf(ke.type.name)>-1:de;return(ke,Ve,Ge)=>_e(ke,Ve&&G(Ve,Re),Ge)}function se(..._e){return function(de,Re,ke){for(let Ve=0;Ve<_e.length;Ve++)if(_e[Ve](de,Re,ke))return!0;return!1}}let le=se(c,v,O),Ee=se(c,_,d);const ve={Enter:se(M,A,k,K),"Mod-Enter":C,Backspace:le,"Mod-Backspace":le,"Shift-Backspace":le,Delete:Ee,"Mod-Delete":Ee,"Mod-a":q},pe={"Ctrl-h":ve.Backspace,"Alt-Backspace":ve["Mod-Backspace"],"Ctrl-d":ve.Delete,"Ctrl-Alt-Backspace":ve["Mod-Delete"],"Alt-Delete":ve["Mod-Delete"],"Alt-d":ve["Mod-Delete"],"Ctrl-a":ie,"Ctrl-e":he};for(let _e in ve)pe[_e]=ve[_e];const me=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,Ie=null},60440:(z,l,e)=>{"use strict";e.d(l,{h:()=>E});var o=e(33952),f=e(2376);const u=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function c(p){let T=p.split(/-(?!$)/),O=T[T.length-1];O=="Space"&&(O=" ");let I,S,_,d;for(let s=0;s<T.length-1;s++){let w=T[s];if(/^(cmd|meta|m)$/i.test(w))d=!0;else if(/^a(lt)?$/i.test(w))I=!0;else if(/^(c|ctrl|control)$/i.test(w))S=!0;else if(/^s(hift)?$/i.test(w))_=!0;else if(/^mod$/i.test(w))u?d=!0:S=!0;else throw new Error("Unrecognized modifier name: "+w)}return I&&(O="Alt-"+O),S&&(O="Ctrl-"+O),d&&(O="Meta-"+O),_&&(O="Shift-"+O),O}function g(p){let T=Object.create(null);for(let O in p)T[c(O)]=p[O];return T}function v(p,T,O=!0){return T.altKey&&(p="Alt-"+p),T.ctrlKey&&(p="Ctrl-"+p),T.metaKey&&(p="Meta-"+p),O&&T.shiftKey&&(p="Shift-"+p),p}function E(p){return new f.Sy({props:{handleKeyDown:y(p)}})}function y(p){let T=g(p);return function(O,I){let S=(0,o.YG)(I),_,d=T[v(S,I)];if(d&&d(O.state,O.dispatch,O))return!0;if(S.length==1&&S!=" "){if(I.shiftKey){let s=T[v(S,I,!1)];if(s&&s(O.state,O.dispatch,O))return!0}if((I.shiftKey||I.altKey||I.metaKey||S.charCodeAt(0)>127)&&(_=o.ue[I.keyCode])&&_!=S){let s=T[v(_,I)];if(s&&s(O.state,O.dispatch,O))return!0}}return!1}}},87823:(z,l,e)=>{"use strict";e.d(l,{aw:()=>bt,PW:()=>ze,HY:()=>g,vc:()=>p,ZU:()=>Ve,NB:()=>ne,Ts:()=>J,e4:()=>T,V_:()=>Ge,p2:()=>O});function o(Ae){this.content=Ae}o.prototype={constructor:o,find:function(Ae){for(var H=0;H<this.content.length;H+=2)if(this.content[H]===Ae)return H;return-1},get:function(Ae){var H=this.find(Ae);return H==-1?void 0:this.content[H+1]},update:function(Ae,H,Q){var ce=Q&&Q!=Ae?this.remove(Q):this,Pe=ce.find(Ae),Me=ce.content.slice();return Pe==-1?Me.push(Q||Ae,H):(Me[Pe+1]=H,Q&&(Me[Pe]=Q)),new o(Me)},remove:function(Ae){var H=this.find(Ae);if(H==-1)return this;var Q=this.content.slice();return Q.splice(H,2),new o(Q)},addToStart:function(Ae,H){return new o([Ae,H].concat(this.remove(Ae).content))},addToEnd:function(Ae,H){var Q=this.remove(Ae).content.slice();return Q.push(Ae,H),new o(Q)},addBefore:function(Ae,H,Q){var ce=this.remove(H),Pe=ce.content.slice(),Me=ce.find(Ae);return Pe.splice(Me==-1?Pe.length:Me,0,H,Q),new o(Pe)},forEach:function(Ae){for(var H=0;H<this.content.length;H+=2)Ae(this.content[H],this.content[H+1])},prepend:function(Ae){return Ae=o.from(Ae),Ae.size?new o(Ae.content.concat(this.subtract(Ae).content)):this},append:function(Ae){return Ae=o.from(Ae),Ae.size?new o(this.subtract(Ae).content.concat(Ae.content)):this},subtract:function(Ae){var H=this;Ae=o.from(Ae);for(var Q=0;Q<Ae.content.length;Q+=2)H=H.remove(Ae.content[Q]);return H},toObject:function(){var Ae={};return this.forEach(function(H,Q){Ae[H]=Q}),Ae},get size(){return this.content.length>>1}},o.from=function(Ae){if(Ae instanceof o)return Ae;var H=[];if(Ae)for(var Q in Ae)H.push(Q,Ae[Q]);return new o(H)};const f=o;function u(Ae,H,Q){for(let ce=0;;ce++){if(ce==Ae.childCount||ce==H.childCount)return Ae.childCount==H.childCount?null:Q;let Pe=Ae.child(ce),Me=H.child(ce);if(Pe==Me){Q+=Pe.nodeSize;continue}if(!Pe.sameMarkup(Me))return Q;if(Pe.isText&&Pe.text!=Me.text){for(let $e=0;Pe.text[$e]==Me.text[$e];$e++)Q++;return Q}if(Pe.content.size||Me.content.size){let $e=u(Pe.content,Me.content,Q+1);if($e!=null)return $e}Q+=Pe.nodeSize}}function c(Ae,H,Q,ce){for(let Pe=Ae.childCount,Me=H.childCount;;){if(Pe==0||Me==0)return Pe==Me?null:{a:Q,b:ce};let $e=Ae.child(--Pe),ct=H.child(--Me),ut=$e.nodeSize;if($e==ct){Q-=ut,ce-=ut;continue}if(!$e.sameMarkup(ct))return{a:Q,b:ce};if($e.isText&&$e.text!=ct.text){let Et=0,Nt=Math.min($e.text.length,ct.text.length);for(;Et<Nt&&$e.text[$e.text.length-Et-1]==ct.text[ct.text.length-Et-1];)Et++,Q--,ce--;return{a:Q,b:ce}}if($e.content.size||ct.content.size){let Et=c($e.content,ct.content,Q-1,ce-1);if(Et)return Et}Q-=ut,ce-=ut}}class g{constructor(H,Q){if(this.content=H,this.size=Q||0,Q==null)for(let ce=0;ce<H.length;ce++)this.size+=H[ce].nodeSize}nodesBetween(H,Q,ce,Pe=0,Me){for(let $e=0,ct=0;ct<Q;$e++){let ut=this.content[$e],Et=ct+ut.nodeSize;if(Et>H&&ce(ut,Pe+ct,Me||null,$e)!==!1&&ut.content.size){let Nt=ct+1;ut.nodesBetween(Math.max(0,H-Nt),Math.min(ut.content.size,Q-Nt),ce,Pe+Nt)}ct=Et}}descendants(H){this.nodesBetween(0,this.size,H)}textBetween(H,Q,ce,Pe){let Me="",$e=!0;return this.nodesBetween(H,Q,(ct,ut)=>{ct.isText?(Me+=ct.text.slice(Math.max(H,ut)-ut,Q-ut),$e=!ce):ct.isLeaf?(Pe?Me+=typeof Pe=="function"?Pe(ct):Pe:ct.type.spec.leafText&&(Me+=ct.type.spec.leafText(ct)),$e=!ce):!$e&&ct.isBlock&&(Me+=ce,$e=!0)},0),Me}append(H){if(!H.size)return this;if(!this.size)return H;let Q=this.lastChild,ce=H.firstChild,Pe=this.content.slice(),Me=0;for(Q.isText&&Q.sameMarkup(ce)&&(Pe[Pe.length-1]=Q.withText(Q.text+ce.text),Me=1);Me<H.content.length;Me++)Pe.push(H.content[Me]);return new g(Pe,this.size+H.size)}cut(H,Q=this.size){if(H==0&&Q==this.size)return this;let ce=[],Pe=0;if(Q>H)for(let Me=0,$e=0;$e<Q;Me++){let ct=this.content[Me],ut=$e+ct.nodeSize;ut>H&&(($e<H||ut>Q)&&(ct.isText?ct=ct.cut(Math.max(0,H-$e),Math.min(ct.text.length,Q-$e)):ct=ct.cut(Math.max(0,H-$e-1),Math.min(ct.content.size,Q-$e-1))),ce.push(ct),Pe+=ct.nodeSize),$e=ut}return new g(ce,Pe)}cutByIndex(H,Q){return H==Q?g.empty:H==0&&Q==this.content.length?this:new g(this.content.slice(H,Q))}replaceChild(H,Q){let ce=this.content[H];if(ce==Q)return this;let Pe=this.content.slice(),Me=this.size+Q.nodeSize-ce.nodeSize;return Pe[H]=Q,new g(Pe,Me)}addToStart(H){return new g([H].concat(this.content),this.size+H.nodeSize)}addToEnd(H){return new g(this.content.concat(H),this.size+H.nodeSize)}eq(H){if(this.content.length!=H.content.length)return!1;for(let Q=0;Q<this.content.length;Q++)if(!this.content[Q].eq(H.content[Q]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(H){let Q=this.content[H];if(!Q)throw new RangeError("Index "+H+" out of range for "+this);return Q}maybeChild(H){return this.content[H]||null}forEach(H){for(let Q=0,ce=0;Q<this.content.length;Q++){let Pe=this.content[Q];H(Pe,ce,Q),ce+=Pe.nodeSize}}findDiffStart(H,Q=0){return u(this,H,Q)}findDiffEnd(H,Q=this.size,ce=H.size){return c(this,H,Q,ce)}findIndex(H,Q=-1){if(H==0)return E(0,H);if(H==this.size)return E(this.content.length,H);if(H>this.size||H<0)throw new RangeError(`Position ${H} outside of fragment (${this})`);for(let ce=0,Pe=0;;ce++){let Me=this.child(ce),$e=Pe+Me.nodeSize;if($e>=H)return $e==H||Q>0?E(ce+1,$e):E(ce,Pe);Pe=$e}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(H=>H.toJSON()):null}static fromJSON(H,Q){if(!Q)return g.empty;if(!Array.isArray(Q))throw new RangeError("Invalid input for Fragment.fromJSON");return new g(Q.map(H.nodeFromJSON))}static fromArray(H){if(!H.length)return g.empty;let Q,ce=0;for(let Pe=0;Pe<H.length;Pe++){let Me=H[Pe];ce+=Me.nodeSize,Pe&&Me.isText&&H[Pe-1].sameMarkup(Me)?(Q||(Q=H.slice(0,Pe)),Q[Q.length-1]=Me.withText(Q[Q.length-1].text+Me.text)):Q&&Q.push(Me)}return new g(Q||H,ce)}static from(H){if(!H)return g.empty;if(H instanceof g)return H;if(Array.isArray(H))return this.fromArray(H);if(H.attrs)return new g([H],H.nodeSize);throw new RangeError("Can not convert "+H+" to a Fragment"+(H.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}g.empty=new g([],0);const v={index:0,offset:0};function E(Ae,H){return v.index=Ae,v.offset=H,v}function y(Ae,H){if(Ae===H)return!0;if(!(Ae&&typeof Ae=="object")||!(H&&typeof H=="object"))return!1;let Q=Array.isArray(Ae);if(Array.isArray(H)!=Q)return!1;if(Q){if(Ae.length!=H.length)return!1;for(let ce=0;ce<Ae.length;ce++)if(!y(Ae[ce],H[ce]))return!1}else{for(let ce in Ae)if(!(ce in H)||!y(Ae[ce],H[ce]))return!1;for(let ce in H)if(!(ce in Ae))return!1}return!0}class p{constructor(H,Q){this.type=H,this.attrs=Q}addToSet(H){let Q,ce=!1;for(let Pe=0;Pe<H.length;Pe++){let Me=H[Pe];if(this.eq(Me))return H;if(this.type.excludes(Me.type))Q||(Q=H.slice(0,Pe));else{if(Me.type.excludes(this.type))return H;!ce&&Me.type.rank>this.type.rank&&(Q||(Q=H.slice(0,Pe)),Q.push(this),ce=!0),Q&&Q.push(Me)}}return Q||(Q=H.slice()),ce||Q.push(this),Q}removeFromSet(H){for(let Q=0;Q<H.length;Q++)if(this.eq(H[Q]))return H.slice(0,Q).concat(H.slice(Q+1));return H}isInSet(H){for(let Q=0;Q<H.length;Q++)if(this.eq(H[Q]))return!0;return!1}eq(H){return this==H||this.type==H.type&&y(this.attrs,H.attrs)}toJSON(){let H={type:this.type.name};for(let Q in this.attrs){H.attrs=this.attrs;break}return H}static fromJSON(H,Q){if(!Q)throw new RangeError("Invalid input for Mark.fromJSON");let ce=H.marks[Q.type];if(!ce)throw new RangeError(`There is no mark type ${Q.type} in this schema`);return ce.create(Q.attrs)}static sameSet(H,Q){if(H==Q)return!0;if(H.length!=Q.length)return!1;for(let ce=0;ce<H.length;ce++)if(!H[ce].eq(Q[ce]))return!1;return!0}static setFrom(H){if(!H||Array.isArray(H)&&H.length==0)return p.none;if(H instanceof p)return[H];let Q=H.slice();return Q.sort((ce,Pe)=>ce.type.rank-Pe.type.rank),Q}}p.none=[];class T extends Error{}class O{constructor(H,Q,ce){this.content=H,this.openStart=Q,this.openEnd=ce}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(H,Q){let ce=S(this.content,H+this.openStart,Q);return ce&&new O(ce,this.openStart,this.openEnd)}removeBetween(H,Q){return new O(I(this.content,H+this.openStart,Q+this.openStart),this.openStart,this.openEnd)}eq(H){return this.content.eq(H.content)&&this.openStart==H.openStart&&this.openEnd==H.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let H={content:this.content.toJSON()};return this.openStart>0&&(H.openStart=this.openStart),this.openEnd>0&&(H.openEnd=this.openEnd),H}static fromJSON(H,Q){if(!Q)return O.empty;let ce=Q.openStart||0,Pe=Q.openEnd||0;if(typeof ce!="number"||typeof Pe!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new O(g.fromJSON(H,Q.content),ce,Pe)}static maxOpen(H,Q=!0){let ce=0,Pe=0;for(let Me=H.firstChild;Me&&!Me.isLeaf&&(Q||!Me.type.spec.isolating);Me=Me.firstChild)ce++;for(let Me=H.lastChild;Me&&!Me.isLeaf&&(Q||!Me.type.spec.isolating);Me=Me.lastChild)Pe++;return new O(H,ce,Pe)}}O.empty=new O(g.empty,0,0);function I(Ae,H,Q){let{index:ce,offset:Pe}=Ae.findIndex(H),Me=Ae.maybeChild(ce),{index:$e,offset:ct}=Ae.findIndex(Q);if(Pe==H||Me.isText){if(ct!=Q&&!Ae.child($e).isText)throw new RangeError("Removing non-flat range");return Ae.cut(0,H).append(Ae.cut(Q))}if(ce!=$e)throw new RangeError("Removing non-flat range");return Ae.replaceChild(ce,Me.copy(I(Me.content,H-Pe-1,Q-Pe-1)))}function S(Ae,H,Q,ce){let{index:Pe,offset:Me}=Ae.findIndex(H),$e=Ae.maybeChild(Pe);if(Me==H||$e.isText)return ce&&!ce.canReplace(Pe,Pe,Q)?null:Ae.cut(0,H).append(Q).append(Ae.cut(H));let ct=S($e.content,H-Me-1,Q);return ct&&Ae.replaceChild(Pe,$e.copy(ct))}function _(Ae,H,Q){if(Q.openStart>Ae.depth)throw new T("Inserted content deeper than insertion position");if(Ae.depth-Q.openStart!=H.depth-Q.openEnd)throw new T("Inconsistent open depths");return d(Ae,H,Q,0)}function d(Ae,H,Q,ce){let Pe=Ae.index(ce),Me=Ae.node(ce);if(Pe==H.index(ce)&&ce<Ae.depth-Q.openStart){let $e=d(Ae,H,Q,ce+1);return Me.copy(Me.content.replaceChild(Pe,$e))}else if(Q.content.size)if(!Q.openStart&&!Q.openEnd&&Ae.depth==ce&&H.depth==ce){let $e=Ae.parent,ct=$e.content;return M($e,ct.cut(0,Ae.parentOffset).append(Q.content).append(ct.cut(H.parentOffset)))}else{let{start:$e,end:ct}=A(Q,Ae);return M(Me,N(Ae,$e,ct,H,ce))}else return M(Me,C(Ae,H,ce))}function s(Ae,H){if(!H.type.compatibleContent(Ae.type))throw new T("Cannot join "+H.type.name+" onto "+Ae.type.name)}function w(Ae,H,Q){let ce=Ae.node(Q);return s(ce,H.node(Q)),ce}function P(Ae,H){let Q=H.length-1;Q>=0&&Ae.isText&&Ae.sameMarkup(H[Q])?H[Q]=Ae.withText(H[Q].text+Ae.text):H.push(Ae)}function x(Ae,H,Q,ce){let Pe=(H||Ae).node(Q),Me=0,$e=H?H.index(Q):Pe.childCount;Ae&&(Me=Ae.index(Q),Ae.depth>Q?Me++:Ae.textOffset&&(P(Ae.nodeAfter,ce),Me++));for(let ct=Me;ct<$e;ct++)P(Pe.child(ct),ce);H&&H.depth==Q&&H.textOffset&&P(H.nodeBefore,ce)}function M(Ae,H){return Ae.type.checkContent(H),Ae.copy(H)}function N(Ae,H,Q,ce,Pe){let Me=Ae.depth>Pe&&w(Ae,H,Pe+1),$e=ce.depth>Pe&&w(Q,ce,Pe+1),ct=[];return x(null,Ae,Pe,ct),Me&&$e&&H.index(Pe)==Q.index(Pe)?(s(Me,$e),P(M(Me,N(Ae,H,Q,ce,Pe+1)),ct)):(Me&&P(M(Me,C(Ae,H,Pe+1)),ct),x(H,Q,Pe,ct),$e&&P(M($e,C(Q,ce,Pe+1)),ct)),x(ce,null,Pe,ct),new g(ct)}function C(Ae,H,Q){let ce=[];if(x(null,Ae,Q,ce),Ae.depth>Q){let Pe=w(Ae,H,Q+1);P(M(Pe,C(Ae,H,Q+1)),ce)}return x(H,null,Q,ce),new g(ce)}function A(Ae,H){let Q=H.depth-Ae.openStart,Pe=H.node(Q).copy(Ae.content);for(let Me=Q-1;Me>=0;Me--)Pe=H.node(Me).copy(g.from(Pe));return{start:Pe.resolveNoCache(Ae.openStart+Q),end:Pe.resolveNoCache(Pe.content.size-Ae.openEnd-Q)}}class k{constructor(H,Q,ce){this.pos=H,this.path=Q,this.parentOffset=ce,this.depth=Q.length/3-1}resolveDepth(H){return H==null?this.depth:H<0?this.depth+H:H}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(H){return this.path[this.resolveDepth(H)*3]}index(H){return this.path[this.resolveDepth(H)*3+1]}indexAfter(H){return H=this.resolveDepth(H),this.index(H)+(H==this.depth&&!this.textOffset?0:1)}start(H){return H=this.resolveDepth(H),H==0?0:this.path[H*3-1]+1}end(H){return H=this.resolveDepth(H),this.start(H)+this.node(H).content.size}before(H){if(H=this.resolveDepth(H),!H)throw new RangeError("There is no position before the top-level node");return H==this.depth+1?this.pos:this.path[H*3-1]}after(H){if(H=this.resolveDepth(H),!H)throw new RangeError("There is no position after the top-level node");return H==this.depth+1?this.pos:this.path[H*3-1]+this.path[H*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let H=this.parent,Q=this.index(this.depth);if(Q==H.childCount)return null;let ce=this.pos-this.path[this.path.length-1],Pe=H.child(Q);return ce?H.child(Q).cut(ce):Pe}get nodeBefore(){let H=this.index(this.depth),Q=this.pos-this.path[this.path.length-1];return Q?this.parent.child(H).cut(0,Q):H==0?null:this.parent.child(H-1)}posAtIndex(H,Q){Q=this.resolveDepth(Q);let ce=this.path[Q*3],Pe=Q==0?0:this.path[Q*3-1]+1;for(let Me=0;Me<H;Me++)Pe+=ce.child(Me).nodeSize;return Pe}marks(){let H=this.parent,Q=this.index();if(H.content.size==0)return p.none;if(this.textOffset)return H.child(Q).marks;let ce=H.maybeChild(Q-1),Pe=H.maybeChild(Q);if(!ce){let ct=ce;ce=Pe,Pe=ct}let Me=ce.marks;for(var $e=0;$e<Me.length;$e++)Me[$e].type.spec.inclusive===!1&&(!Pe||!Me[$e].isInSet(Pe.marks))&&(Me=Me[$e--].removeFromSet(Me));return Me}marksAcross(H){let Q=this.parent.maybeChild(this.index());if(!Q||!Q.isInline)return null;let ce=Q.marks,Pe=H.parent.maybeChild(H.index());for(var Me=0;Me<ce.length;Me++)ce[Me].type.spec.inclusive===!1&&(!Pe||!ce[Me].isInSet(Pe.marks))&&(ce=ce[Me--].removeFromSet(ce));return ce}sharedDepth(H){for(let Q=this.depth;Q>0;Q--)if(this.start(Q)<=H&&this.end(Q)>=H)return Q;return 0}blockRange(H=this,Q){if(H.pos<this.pos)return H.blockRange(this);for(let ce=this.depth-(this.parent.inlineContent||this.pos==H.pos?1:0);ce>=0;ce--)if(H.pos<=this.end(ce)&&(!Q||Q(this.node(ce))))return new J(this,H,ce);return null}sameParent(H){return this.pos-this.parentOffset==H.pos-H.parentOffset}max(H){return H.pos>this.pos?H:this}min(H){return H.pos<this.pos?H:this}toString(){let H="";for(let Q=1;Q<=this.depth;Q++)H+=(H?"/":"")+this.node(Q).type.name+"_"+this.index(Q-1);return H+":"+this.parentOffset}static resolve(H,Q){if(!(Q>=0&&Q<=H.content.size))throw new RangeError("Position "+Q+" out of range");let ce=[],Pe=0,Me=Q;for(let $e=H;;){let{index:ct,offset:ut}=$e.content.findIndex(Me),Et=Me-ut;if(ce.push($e,ct,Pe+ut),!Et||($e=$e.child(ct),$e.isText))break;Me=Et-1,Pe+=ut+1}return new k(Q,ce,Me)}static resolveCached(H,Q){for(let Pe=0;Pe<L.length;Pe++){let Me=L[Pe];if(Me.pos==Q&&Me.doc==H)return Me}let ce=L[K]=k.resolve(H,Q);return K=(K+1)%Z,ce}}let L=[],K=0,Z=12;class J{constructor(H,Q,ce){this.$from=H,this.$to=Q,this.depth=ce}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const q=Object.create(null);class ne{constructor(H,Q,ce,Pe=p.none){this.type=H,this.attrs=Q,this.marks=Pe,this.content=ce||g.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(H){return this.content.child(H)}maybeChild(H){return this.content.maybeChild(H)}forEach(H){this.content.forEach(H)}nodesBetween(H,Q,ce,Pe=0){this.content.nodesBetween(H,Q,ce,Pe,this)}descendants(H){this.nodesBetween(0,this.content.size,H)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(H,Q,ce,Pe){return this.content.textBetween(H,Q,ce,Pe)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(H){return this==H||this.sameMarkup(H)&&this.content.eq(H.content)}sameMarkup(H){return this.hasMarkup(H.type,H.attrs,H.marks)}hasMarkup(H,Q,ce){return this.type==H&&y(this.attrs,Q||H.defaultAttrs||q)&&p.sameSet(this.marks,ce||p.none)}copy(H=null){return H==this.content?this:new ne(this.type,this.attrs,H,this.marks)}mark(H){return H==this.marks?this:new ne(this.type,this.attrs,this.content,H)}cut(H,Q=this.content.size){return H==0&&Q==this.content.size?this:this.copy(this.content.cut(H,Q))}slice(H,Q=this.content.size,ce=!1){if(H==Q)return O.empty;let Pe=this.resolve(H),Me=this.resolve(Q),$e=ce?0:Pe.sharedDepth(Q),ct=Pe.start($e),Et=Pe.node($e).content.cut(Pe.pos-ct,Me.pos-ct);return new O(Et,Pe.depth-$e,Me.depth-$e)}replace(H,Q,ce){return _(this.resolve(H),this.resolve(Q),ce)}nodeAt(H){for(let Q=this;;){let{index:ce,offset:Pe}=Q.content.findIndex(H);if(Q=Q.maybeChild(ce),!Q)return null;if(Pe==H||Q.isText)return Q;H-=Pe+1}}childAfter(H){let{index:Q,offset:ce}=this.content.findIndex(H);return{node:this.content.maybeChild(Q),index:Q,offset:ce}}childBefore(H){if(H==0)return{node:null,index:0,offset:0};let{index:Q,offset:ce}=this.content.findIndex(H);if(ce<H)return{node:this.content.child(Q),index:Q,offset:ce};let Pe=this.content.child(Q-1);return{node:Pe,index:Q-1,offset:ce-Pe.nodeSize}}resolve(H){return k.resolveCached(this,H)}resolveNoCache(H){return k.resolve(this,H)}rangeHasMark(H,Q,ce){let Pe=!1;return Q>H&&this.nodesBetween(H,Q,Me=>(ce.isInSet(Me.marks)&&(Pe=!0),!Pe)),Pe}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let H=this.type.name;return this.content.size&&(H+="("+this.content.toStringInner()+")"),W(this.marks,H)}contentMatchAt(H){let Q=this.type.contentMatch.matchFragment(this.content,0,H);if(!Q)throw new Error("Called contentMatchAt on a node with invalid content");return Q}canReplace(H,Q,ce=g.empty,Pe=0,Me=ce.childCount){let $e=this.contentMatchAt(H).matchFragment(ce,Pe,Me),ct=$e&&$e.matchFragment(this.content,Q);if(!ct||!ct.validEnd)return!1;for(let ut=Pe;ut<Me;ut++)if(!this.type.allowsMarks(ce.child(ut).marks))return!1;return!0}canReplaceWith(H,Q,ce,Pe){if(Pe&&!this.type.allowsMarks(Pe))return!1;let Me=this.contentMatchAt(H).matchType(ce),$e=Me&&Me.matchFragment(this.content,Q);return $e?$e.validEnd:!1}canAppend(H){return H.content.size?this.canReplace(this.childCount,this.childCount,H.content):this.type.compatibleContent(H.type)}check(){this.type.checkContent(this.content);let H=p.none;for(let Q=0;Q<this.marks.length;Q++)H=this.marks[Q].addToSet(H);if(!p.sameSet(H,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(Q=>Q.type.name)}`);this.content.forEach(Q=>Q.check())}toJSON(){let H={type:this.type.name};for(let Q in this.attrs){H.attrs=this.attrs;break}return this.content.size&&(H.content=this.content.toJSON()),this.marks.length&&(H.marks=this.marks.map(Q=>Q.toJSON())),H}static fromJSON(H,Q){if(!Q)throw new RangeError("Invalid input for Node.fromJSON");let ce=null;if(Q.marks){if(!Array.isArray(Q.marks))throw new RangeError("Invalid mark data for Node.fromJSON");ce=Q.marks.map(H.markFromJSON)}if(Q.type=="text"){if(typeof Q.text!="string")throw new RangeError("Invalid text node in JSON");return H.text(Q.text,ce)}let Pe=g.fromJSON(H,Q.content);return H.nodeType(Q.type).create(Q.attrs,Pe,ce)}}ne.prototype.text=void 0;class F extends ne{constructor(H,Q,ce,Pe){if(super(H,Q,null,Pe),!ce)throw new RangeError("Empty text nodes are not allowed");this.text=ce}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):W(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(H,Q){return this.text.slice(H,Q)}get nodeSize(){return this.text.length}mark(H){return H==this.marks?this:new F(this.type,this.attrs,this.text,H)}withText(H){return H==this.text?this:new F(this.type,this.attrs,H,this.marks)}cut(H=0,Q=this.text.length){return H==0&&Q==this.text.length?this:this.withText(this.text.slice(H,Q))}eq(H){return this.sameMarkup(H)&&this.text==H.text}toJSON(){let H=super.toJSON();return H.text=this.text,H}}function W(Ae,H){for(let Q=Ae.length-1;Q>=0;Q--)H=Ae[Q].type.name+"("+H+")";return H}class ie{constructor(H){this.validEnd=H,this.next=[],this.wrapCache=[]}static parse(H,Q){let ce=new he(H,Q);if(ce.next==null)return ie.empty;let Pe=ye(ce);ce.next&&ce.err("Unexpected trailing text");let Me=pe(le(Pe));return me(Me,ce),Me}matchType(H){for(let Q=0;Q<this.next.length;Q++)if(this.next[Q].type==H)return this.next[Q].next;return null}matchFragment(H,Q=0,ce=H.childCount){let Pe=this;for(let Me=Q;Pe&&Me<ce;Me++)Pe=Pe.matchType(H.child(Me).type);return Pe}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let H=0;H<this.next.length;H++){let{type:Q}=this.next[H];if(!(Q.isText||Q.hasRequiredAttrs()))return Q}return null}compatible(H){for(let Q=0;Q<this.next.length;Q++)for(let ce=0;ce<H.next.length;ce++)if(this.next[Q].type==H.next[ce].type)return!0;return!1}fillBefore(H,Q=!1,ce=0){let Pe=[this];function Me($e,ct){let ut=$e.matchFragment(H,ce);if(ut&&(!Q||ut.validEnd))return g.from(ct.map(Et=>Et.createAndFill()));for(let Et=0;Et<$e.next.length;Et++){let{type:Nt,next:$t}=$e.next[Et];if(!(Nt.isText||Nt.hasRequiredAttrs())&&Pe.indexOf($t)==-1){Pe.push($t);let Nn=Me($t,ct.concat(Nt));if(Nn)return Nn}}return null}return Me(this,[])}findWrapping(H){for(let ce=0;ce<this.wrapCache.length;ce+=2)if(this.wrapCache[ce]==H)return this.wrapCache[ce+1];let Q=this.computeWrapping(H);return this.wrapCache.push(H,Q),Q}computeWrapping(H){let Q=Object.create(null),ce=[{match:this,type:null,via:null}];for(;ce.length;){let Pe=ce.shift(),Me=Pe.match;if(Me.matchType(H)){let $e=[];for(let ct=Pe;ct.type;ct=ct.via)$e.push(ct.type);return $e.reverse()}for(let $e=0;$e<Me.next.length;$e++){let{type:ct,next:ut}=Me.next[$e];!ct.isLeaf&&!ct.hasRequiredAttrs()&&!(ct.name in Q)&&(!Pe.type||ut.validEnd)&&(ce.push({match:ct.contentMatch,type:ct,via:Pe}),Q[ct.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(H){if(H>=this.next.length)throw new RangeError(`There's no ${H}th edge in this content match`);return this.next[H]}toString(){let H=[];function Q(ce){H.push(ce);for(let Pe=0;Pe<ce.next.length;Pe++)H.indexOf(ce.next[Pe].next)==-1&&Q(ce.next[Pe].next)}return Q(this),H.map((ce,Pe)=>{let Me=Pe+(ce.validEnd?"*":" ")+" ";for(let $e=0;$e<ce.next.length;$e++)Me+=($e?", ":"")+ce.next[$e].type.name+"->"+H.indexOf(ce.next[$e].next);return Me}).join(`
`)}}ie.empty=new ie(!0);class he{constructor(H,Q){this.string=H,this.nodeTypes=Q,this.inline=null,this.pos=0,this.tokens=H.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(H){return this.next==H&&(this.pos++||!0)}err(H){throw new SyntaxError(H+" (in content expression '"+this.string+"')")}}function ye(Ae){let H=[];do H.push(fe(Ae));while(Ae.eat("|"));return H.length==1?H[0]:{type:"choice",exprs:H}}function fe(Ae){let H=[];do H.push(ae(Ae));while(Ae.next&&Ae.next!=")"&&Ae.next!="|");return H.length==1?H[0]:{type:"seq",exprs:H}}function ae(Ae){let H=se(Ae);for(;;)if(Ae.eat("+"))H={type:"plus",expr:H};else if(Ae.eat("*"))H={type:"star",expr:H};else if(Ae.eat("?"))H={type:"opt",expr:H};else if(Ae.eat("{"))H=G(Ae,H);else break;return H}function oe(Ae){/\D/.test(Ae.next)&&Ae.err("Expected number, got '"+Ae.next+"'");let H=Number(Ae.next);return Ae.pos++,H}function G(Ae,H){let Q=oe(Ae),ce=Q;return Ae.eat(",")&&(Ae.next!="}"?ce=oe(Ae):ce=-1),Ae.eat("}")||Ae.err("Unclosed braced range"),{type:"range",min:Q,max:ce,expr:H}}function re(Ae,H){let Q=Ae.nodeTypes,ce=Q[H];if(ce)return[ce];let Pe=[];for(let Me in Q){let $e=Q[Me];$e.groups.indexOf(H)>-1&&Pe.push($e)}return Pe.length==0&&Ae.err("No node type or group '"+H+"' found"),Pe}function se(Ae){if(Ae.eat("(")){let H=ye(Ae);return Ae.eat(")")||Ae.err("Missing closing paren"),H}else if(/\W/.test(Ae.next))Ae.err("Unexpected token '"+Ae.next+"'");else{let H=re(Ae,Ae.next).map(Q=>(Ae.inline==null?Ae.inline=Q.isInline:Ae.inline!=Q.isInline&&Ae.err("Mixing inline and block content"),{type:"name",value:Q}));return Ae.pos++,H.length==1?H[0]:{type:"choice",exprs:H}}}function le(Ae){let H=[[]];return Pe(Me(Ae,0),Q()),H;function Q(){return H.push([])-1}function ce($e,ct,ut){let Et={term:ut,to:ct};return H[$e].push(Et),Et}function Pe($e,ct){$e.forEach(ut=>ut.to=ct)}function Me($e,ct){if($e.type=="choice")return $e.exprs.reduce((ut,Et)=>ut.concat(Me(Et,ct)),[]);if($e.type=="seq")for(let ut=0;;ut++){let Et=Me($e.exprs[ut],ct);if(ut==$e.exprs.length-1)return Et;Pe(Et,ct=Q())}else if($e.type=="star"){let ut=Q();return ce(ct,ut),Pe(Me($e.expr,ut),ut),[ce(ut)]}else if($e.type=="plus"){let ut=Q();return Pe(Me($e.expr,ct),ut),Pe(Me($e.expr,ut),ut),[ce(ut)]}else{if($e.type=="opt")return[ce(ct)].concat(Me($e.expr,ct));if($e.type=="range"){let ut=ct;for(let Et=0;Et<$e.min;Et++){let Nt=Q();Pe(Me($e.expr,ut),Nt),ut=Nt}if($e.max==-1)Pe(Me($e.expr,ut),ut);else for(let Et=$e.min;Et<$e.max;Et++){let Nt=Q();ce(ut,Nt),Pe(Me($e.expr,ut),Nt),ut=Nt}return[ce(ut)]}else{if($e.type=="name")return[ce(ct,void 0,$e.value)];throw new Error("Unknown expr type")}}}}function Ee(Ae,H){return H-Ae}function ve(Ae,H){let Q=[];return ce(H),Q.sort(Ee);function ce(Pe){let Me=Ae[Pe];if(Me.length==1&&!Me[0].term)return ce(Me[0].to);Q.push(Pe);for(let $e=0;$e<Me.length;$e++){let{term:ct,to:ut}=Me[$e];!ct&&Q.indexOf(ut)==-1&&ce(ut)}}}function pe(Ae){let H=Object.create(null);return Q(ve(Ae,0));function Q(ce){let Pe=[];ce.forEach($e=>{Ae[$e].forEach(({term:ct,to:ut})=>{if(!ct)return;let Et;for(let Nt=0;Nt<Pe.length;Nt++)Pe[Nt][0]==ct&&(Et=Pe[Nt][1]);ve(Ae,ut).forEach(Nt=>{Et||Pe.push([ct,Et=[]]),Et.indexOf(Nt)==-1&&Et.push(Nt)})})});let Me=H[ce.join(",")]=new ie(ce.indexOf(Ae.length-1)>-1);for(let $e=0;$e<Pe.length;$e++){let ct=Pe[$e][1].sort(Ee);Me.next.push({type:Pe[$e][0],next:H[ct.join(",")]||Q(ct)})}return Me}}function me(Ae,H){for(let Q=0,ce=[Ae];Q<ce.length;Q++){let Pe=ce[Q],Me=!Pe.validEnd,$e=[];for(let ct=0;ct<Pe.next.length;ct++){let{type:ut,next:Et}=Pe.next[ct];$e.push(ut.name),Me&&!(ut.isText||ut.hasRequiredAttrs())&&(Me=!1),ce.indexOf(Et)==-1&&ce.push(Et)}Me&&H.err("Only non-generatable nodes ("+$e.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ie(Ae){let H=Object.create(null);for(let Q in Ae){let ce=Ae[Q];if(!ce.hasDefault)return null;H[Q]=ce.default}return H}function _e(Ae,H){let Q=Object.create(null);for(let ce in Ae){let Pe=H&&H[ce];if(Pe===void 0){let Me=Ae[ce];if(Me.hasDefault)Pe=Me.default;else throw new RangeError("No value supplied for attribute "+ce)}Q[ce]=Pe}return Q}function de(Ae){let H=Object.create(null);if(Ae)for(let Q in Ae)H[Q]=new ke(Ae[Q]);return H}class Re{constructor(H,Q,ce){this.name=H,this.schema=Q,this.spec=ce,this.markSet=null,this.groups=ce.group?ce.group.split(" "):[],this.attrs=de(ce.attrs),this.defaultAttrs=Ie(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(ce.inline||H=="text"),this.isText=H=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ie.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let H in this.attrs)if(this.attrs[H].isRequired)return!0;return!1}compatibleContent(H){return this==H||this.contentMatch.compatible(H.contentMatch)}computeAttrs(H){return!H&&this.defaultAttrs?this.defaultAttrs:_e(this.attrs,H)}create(H=null,Q,ce){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ne(this,this.computeAttrs(H),g.from(Q),p.setFrom(ce))}createChecked(H=null,Q,ce){return Q=g.from(Q),this.checkContent(Q),new ne(this,this.computeAttrs(H),Q,p.setFrom(ce))}createAndFill(H=null,Q,ce){if(H=this.computeAttrs(H),Q=g.from(Q),Q.size){let $e=this.contentMatch.fillBefore(Q);if(!$e)return null;Q=$e.append(Q)}let Pe=this.contentMatch.matchFragment(Q),Me=Pe&&Pe.fillBefore(g.empty,!0);return Me?new ne(this,H,Q.append(Me),p.setFrom(ce)):null}validContent(H){let Q=this.contentMatch.matchFragment(H);if(!Q||!Q.validEnd)return!1;for(let ce=0;ce<H.childCount;ce++)if(!this.allowsMarks(H.child(ce).marks))return!1;return!0}checkContent(H){if(!this.validContent(H))throw new RangeError(`Invalid content for node ${this.name}: ${H.toString().slice(0,50)}`)}allowsMarkType(H){return this.markSet==null||this.markSet.indexOf(H)>-1}allowsMarks(H){if(this.markSet==null)return!0;for(let Q=0;Q<H.length;Q++)if(!this.allowsMarkType(H[Q].type))return!1;return!0}allowedMarks(H){if(this.markSet==null)return H;let Q;for(let ce=0;ce<H.length;ce++)this.allowsMarkType(H[ce].type)?Q&&Q.push(H[ce]):Q||(Q=H.slice(0,ce));return Q?Q.length?Q:p.none:H}static compile(H,Q){let ce=Object.create(null);H.forEach((Me,$e)=>ce[Me]=new Re(Me,Q,$e));let Pe=Q.spec.topNode||"doc";if(!ce[Pe])throw new RangeError("Schema is missing its top node type ('"+Pe+"')");if(!ce.text)throw new RangeError("Every schema needs a 'text' type");for(let Me in ce.text.attrs)throw new RangeError("The text node type should not have attributes");return ce}}class ke{constructor(H){this.hasDefault=Object.prototype.hasOwnProperty.call(H,"default"),this.default=H.default}get isRequired(){return!this.hasDefault}}class Ve{constructor(H,Q,ce,Pe){this.name=H,this.rank=Q,this.schema=ce,this.spec=Pe,this.attrs=de(Pe.attrs),this.excluded=null;let Me=Ie(this.attrs);this.instance=Me?new p(this,Me):null}create(H=null){return!H&&this.instance?this.instance:new p(this,_e(this.attrs,H))}static compile(H,Q){let ce=Object.create(null),Pe=0;return H.forEach((Me,$e)=>ce[Me]=new Ve(Me,Pe++,Q,$e)),ce}removeFromSet(H){for(var Q=0;Q<H.length;Q++)H[Q].type==this&&(H=H.slice(0,Q).concat(H.slice(Q+1)),Q--);return H}isInSet(H){for(let Q=0;Q<H.length;Q++)if(H[Q].type==this)return H[Q]}excludes(H){return this.excluded.indexOf(H)>-1}}class Ge{constructor(H){this.cached=Object.create(null);let Q=this.spec={};for(let Pe in H)Q[Pe]=H[Pe];Q.nodes=f.from(H.nodes),Q.marks=f.from(H.marks||{}),this.nodes=Re.compile(this.spec.nodes,this),this.marks=Ve.compile(this.spec.marks,this);let ce=Object.create(null);for(let Pe in this.nodes){if(Pe in this.marks)throw new RangeError(Pe+" can not be both a node and a mark");let Me=this.nodes[Pe],$e=Me.spec.content||"",ct=Me.spec.marks;Me.contentMatch=ce[$e]||(ce[$e]=ie.parse($e,this.nodes)),Me.inlineContent=Me.contentMatch.inlineContent,Me.markSet=ct=="_"?null:ct?Qe(this,ct.split(" ")):ct==""||!Me.inlineContent?[]:null}for(let Pe in this.marks){let Me=this.marks[Pe],$e=Me.spec.excludes;Me.excluded=$e==null?[Me]:$e==""?[]:Qe(this,$e.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(H,Q=null,ce,Pe){if(typeof H=="string")H=this.nodeType(H);else if(H instanceof Re){if(H.schema!=this)throw new RangeError("Node type from different schema used ("+H.name+")")}else throw new RangeError("Invalid node type: "+H);return H.createChecked(Q,ce,Pe)}text(H,Q){let ce=this.nodes.text;return new F(ce,ce.defaultAttrs,H,p.setFrom(Q))}mark(H,Q){return typeof H=="string"&&(H=this.marks[H]),H.create(Q)}nodeFromJSON(H){return ne.fromJSON(this,H)}markFromJSON(H){return p.fromJSON(this,H)}nodeType(H){let Q=this.nodes[H];if(!Q)throw new RangeError("Unknown node type: "+H);return Q}}function Qe(Ae,H){let Q=[];for(let ce=0;ce<H.length;ce++){let Pe=H[ce],Me=Ae.marks[Pe],$e=Me;if(Me)Q.push(Me);else for(let ct in Ae.marks){let ut=Ae.marks[ct];(Pe=="_"||ut.spec.group&&ut.spec.group.split(" ").indexOf(Pe)>-1)&&Q.push($e=ut)}if(!$e)throw new SyntaxError("Unknown mark type: '"+H[ce]+"'")}return Q}class bt{constructor(H,Q){this.schema=H,this.rules=Q,this.tags=[],this.styles=[],Q.forEach(ce=>{ce.tag?this.tags.push(ce):ce.style&&this.styles.push(ce)}),this.normalizeLists=!this.tags.some(ce=>{if(!/^(ul|ol)\b/.test(ce.tag)||!ce.node)return!1;let Pe=H.nodes[ce.node];return Pe.contentMatch.matchType(Pe)})}parse(H,Q={}){let ce=new Jt(this,Q,!1);return ce.addAll(H,Q.from,Q.to),ce.finish()}parseSlice(H,Q={}){let ce=new Jt(this,Q,!0);return ce.addAll(H,Q.from,Q.to),O.maxOpen(ce.finish())}matchTag(H,Q,ce){for(let Pe=ce?this.tags.indexOf(ce)+1:0;Pe<this.tags.length;Pe++){let Me=this.tags[Pe];if(Le(H,Me.tag)&&(Me.namespace===void 0||H.namespaceURI==Me.namespace)&&(!Me.context||Q.matchesContext(Me.context))){if(Me.getAttrs){let $e=Me.getAttrs(H);if($e===!1)continue;Me.attrs=$e||void 0}return Me}}}matchStyle(H,Q,ce,Pe){for(let Me=Pe?this.styles.indexOf(Pe)+1:0;Me<this.styles.length;Me++){let $e=this.styles[Me],ct=$e.style;if(!(ct.indexOf(H)!=0||$e.context&&!ce.matchesContext($e.context)||ct.length>H.length&&(ct.charCodeAt(H.length)!=61||ct.slice(H.length+1)!=Q))){if($e.getAttrs){let ut=$e.getAttrs(Q);if(ut===!1)continue;$e.attrs=ut||void 0}return $e}}}static schemaRules(H){let Q=[];function ce(Pe){let Me=Pe.priority==null?50:Pe.priority,$e=0;for(;$e<Q.length;$e++){let ct=Q[$e];if((ct.priority==null?50:ct.priority)<Me)break}Q.splice($e,0,Pe)}for(let Pe in H.marks){let Me=H.marks[Pe].spec.parseDOM;Me&&Me.forEach($e=>{ce($e=it($e)),$e.mark||$e.ignore||$e.clearMark||($e.mark=Pe)})}for(let Pe in H.nodes){let Me=H.nodes[Pe].spec.parseDOM;Me&&Me.forEach($e=>{ce($e=it($e)),$e.node||$e.ignore||$e.mark||($e.node=Pe)})}return Q}static fromSchema(H){return H.cached.domParser||(H.cached.domParser=new bt(H,bt.schemaRules(H)))}}const Ce={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},We={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},xe={ol:!0,ul:!0},rt=1,Je=2,ft=4;function je(Ae,H,Q){return H!=null?(H?rt:0)|(H==="full"?Je:0):Ae&&Ae.whitespace=="pre"?rt|Je:Q&~ft}class Rt{constructor(H,Q,ce,Pe,Me,$e,ct){this.type=H,this.attrs=Q,this.marks=ce,this.pendingMarks=Pe,this.solid=Me,this.options=ct,this.content=[],this.activeMarks=p.none,this.stashMarks=[],this.match=$e||(ct&ft?null:H.contentMatch)}findWrapping(H){if(!this.match){if(!this.type)return[];let Q=this.type.contentMatch.fillBefore(g.from(H));if(Q)this.match=this.type.contentMatch.matchFragment(Q);else{let ce=this.type.contentMatch,Pe;return(Pe=ce.findWrapping(H.type))?(this.match=ce,Pe):null}}return this.match.findWrapping(H.type)}finish(H){if(!(this.options&rt)){let ce=this.content[this.content.length-1],Pe;if(ce&&ce.isText&&(Pe=/[ \t\r\n\u000c]+$/.exec(ce.text))){let Me=ce;ce.text.length==Pe[0].length?this.content.pop():this.content[this.content.length-1]=Me.withText(Me.text.slice(0,Me.text.length-Pe[0].length))}}let Q=g.from(this.content);return!H&&this.match&&(Q=Q.append(this.match.fillBefore(g.empty,!0))),this.type?this.type.create(this.attrs,Q,this.marks):Q}popFromStashMark(H){for(let Q=this.stashMarks.length-1;Q>=0;Q--)if(H.eq(this.stashMarks[Q]))return this.stashMarks.splice(Q,1)[0]}applyPending(H){for(let Q=0,ce=this.pendingMarks;Q<ce.length;Q++){let Pe=ce[Q];(this.type?this.type.allowsMarkType(Pe.type):Ne(Pe.type,H))&&!Pe.isInSet(this.activeMarks)&&(this.activeMarks=Pe.addToSet(this.activeMarks),this.pendingMarks=Pe.removeFromSet(this.pendingMarks))}}inlineContext(H){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:H.parentNode&&!Ce.hasOwnProperty(H.parentNode.nodeName.toLowerCase())}}class Jt{constructor(H,Q,ce){this.parser=H,this.options=Q,this.isOpen=ce,this.open=0;let Pe=Q.topNode,Me,$e=je(null,Q.preserveWhitespace,0)|(ce?ft:0);Pe?Me=new Rt(Pe.type,Pe.attrs,p.none,p.none,!0,Q.topMatch||Pe.type.contentMatch,$e):ce?Me=new Rt(null,null,p.none,p.none,!0,null,$e):Me=new Rt(H.schema.topNodeType,null,p.none,p.none,!0,null,$e),this.nodes=[Me],this.find=Q.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(H){if(H.nodeType==3)this.addTextNode(H);else if(H.nodeType==1){let Q=H.getAttribute("style");if(!Q)this.addElement(H);else{let ce=this.readStyles(He(Q));if(!ce)return;let[Pe,Me]=ce,$e=this.top;for(let ct=0;ct<Me.length;ct++)this.removePendingMark(Me[ct],$e);for(let ct=0;ct<Pe.length;ct++)this.addPendingMark(Pe[ct]);this.addElement(H);for(let ct=0;ct<Pe.length;ct++)this.removePendingMark(Pe[ct],$e);for(let ct=0;ct<Me.length;ct++)this.addPendingMark(Me[ct])}}}addTextNode(H){let Q=H.nodeValue,ce=this.top;if(ce.options&Je||ce.inlineContext(H)||/[^ \t\r\n\u000c]/.test(Q)){if(ce.options&rt)ce.options&Je?Q=Q.replace(/\r\n?/g,`
`):Q=Q.replace(/\r?\n|\r/g," ");else if(Q=Q.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(Q)&&this.open==this.nodes.length-1){let Pe=ce.content[ce.content.length-1],Me=H.previousSibling;(!Pe||Me&&Me.nodeName=="BR"||Pe.isText&&/[ \t\r\n\u000c]$/.test(Pe.text))&&(Q=Q.slice(1))}Q&&this.insertNode(this.parser.schema.text(Q)),this.findInText(H)}else this.findInside(H)}addElement(H,Q){let ce=H.nodeName.toLowerCase(),Pe;xe.hasOwnProperty(ce)&&this.parser.normalizeLists&&Ct(H);let Me=this.options.ruleFromNode&&this.options.ruleFromNode(H)||(Pe=this.parser.matchTag(H,this,Q));if(Me?Me.ignore:We.hasOwnProperty(ce))this.findInside(H),this.ignoreFallback(H);else if(!Me||Me.skip||Me.closeParent){Me&&Me.closeParent?this.open=Math.max(0,this.open-1):Me&&Me.skip.nodeType&&(H=Me.skip);let $e,ct=this.top,ut=this.needsBlock;if(Ce.hasOwnProperty(ce))ct.content.length&&ct.content[0].isInline&&this.open&&(this.open--,ct=this.top),$e=!0,ct.type||(this.needsBlock=!0);else if(!H.firstChild){this.leafFallback(H);return}this.addAll(H),$e&&this.sync(ct),this.needsBlock=ut}else this.addElementByRule(H,Me,Me.consuming===!1?Pe:void 0)}leafFallback(H){H.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(H.ownerDocument.createTextNode(`
`))}ignoreFallback(H){H.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(H){let Q=p.none,ce=p.none;e:for(let Pe=0;Pe<H.length;Pe+=2)for(let Me=void 0;;){let $e=this.parser.matchStyle(H[Pe],H[Pe+1],this,Me);if(!$e)continue e;if($e.ignore)return null;if($e.clearMark?this.top.pendingMarks.forEach(ct=>{$e.clearMark(ct)&&(ce=ct.addToSet(ce))}):Q=this.parser.schema.marks[$e.mark].create($e.attrs).addToSet(Q),$e.consuming===!1)Me=$e;else break}return[Q,ce]}addElementByRule(H,Q,ce){let Pe,Me,$e;Q.node?(Me=this.parser.schema.nodes[Q.node],Me.isLeaf?this.insertNode(Me.create(Q.attrs))||this.leafFallback(H):Pe=this.enter(Me,Q.attrs||null,Q.preserveWhitespace)):($e=this.parser.schema.marks[Q.mark].create(Q.attrs),this.addPendingMark($e));let ct=this.top;if(Me&&Me.isLeaf)this.findInside(H);else if(ce)this.addElement(H,ce);else if(Q.getContent)this.findInside(H),Q.getContent(H,this.parser.schema).forEach(ut=>this.insertNode(ut));else{let ut=H;typeof Q.contentElement=="string"?ut=H.querySelector(Q.contentElement):typeof Q.contentElement=="function"?ut=Q.contentElement(H):Q.contentElement&&(ut=Q.contentElement),this.findAround(H,ut,!0),this.addAll(ut)}Pe&&this.sync(ct)&&this.open--,$e&&this.removePendingMark($e,ct)}addAll(H,Q,ce){let Pe=Q||0;for(let Me=Q?H.childNodes[Q]:H.firstChild,$e=ce==null?null:H.childNodes[ce];Me!=$e;Me=Me.nextSibling,++Pe)this.findAtPoint(H,Pe),this.addDOM(Me);this.findAtPoint(H,Pe)}findPlace(H){let Q,ce;for(let Pe=this.open;Pe>=0;Pe--){let Me=this.nodes[Pe],$e=Me.findWrapping(H);if($e&&(!Q||Q.length>$e.length)&&(Q=$e,ce=Me,!$e.length)||Me.solid)break}if(!Q)return!1;this.sync(ce);for(let Pe=0;Pe<Q.length;Pe++)this.enterInner(Q[Pe],null,!1);return!0}insertNode(H){if(H.isInline&&this.needsBlock&&!this.top.type){let Q=this.textblockFromContext();Q&&this.enterInner(Q)}if(this.findPlace(H)){this.closeExtra();let Q=this.top;Q.applyPending(H.type),Q.match&&(Q.match=Q.match.matchType(H.type));let ce=Q.activeMarks;for(let Pe=0;Pe<H.marks.length;Pe++)(!Q.type||Q.type.allowsMarkType(H.marks[Pe].type))&&(ce=H.marks[Pe].addToSet(ce));return Q.content.push(H.mark(ce)),!0}return!1}enter(H,Q,ce){let Pe=this.findPlace(H.create(Q));return Pe&&this.enterInner(H,Q,!0,ce),Pe}enterInner(H,Q=null,ce=!1,Pe){this.closeExtra();let Me=this.top;Me.applyPending(H),Me.match=Me.match&&Me.match.matchType(H);let $e=je(H,Pe,Me.options);Me.options&ft&&Me.content.length==0&&($e|=ft),this.nodes.push(new Rt(H,Q,Me.activeMarks,Me.pendingMarks,ce,null,$e)),this.open++}closeExtra(H=!1){let Q=this.nodes.length-1;if(Q>this.open){for(;Q>this.open;Q--)this.nodes[Q-1].content.push(this.nodes[Q].finish(H));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(H){for(let Q=this.open;Q>=0;Q--)if(this.nodes[Q]==H)return this.open=Q,!0;return!1}get currentPos(){this.closeExtra();let H=0;for(let Q=this.open;Q>=0;Q--){let ce=this.nodes[Q].content;for(let Pe=ce.length-1;Pe>=0;Pe--)H+=ce[Pe].nodeSize;Q&&H++}return H}findAtPoint(H,Q){if(this.find)for(let ce=0;ce<this.find.length;ce++)this.find[ce].node==H&&this.find[ce].offset==Q&&(this.find[ce].pos=this.currentPos)}findInside(H){if(this.find)for(let Q=0;Q<this.find.length;Q++)this.find[Q].pos==null&&H.nodeType==1&&H.contains(this.find[Q].node)&&(this.find[Q].pos=this.currentPos)}findAround(H,Q,ce){if(H!=Q&&this.find)for(let Pe=0;Pe<this.find.length;Pe++)this.find[Pe].pos==null&&H.nodeType==1&&H.contains(this.find[Pe].node)&&Q.compareDocumentPosition(this.find[Pe].node)&(ce?2:4)&&(this.find[Pe].pos=this.currentPos)}findInText(H){if(this.find)for(let Q=0;Q<this.find.length;Q++)this.find[Q].node==H&&(this.find[Q].pos=this.currentPos-(H.nodeValue.length-this.find[Q].offset))}matchesContext(H){if(H.indexOf("|")>-1)return H.split(/\s*\|\s*/).some(this.matchesContext,this);let Q=H.split("/"),ce=this.options.context,Pe=!this.isOpen&&(!ce||ce.parent.type==this.nodes[0].type),Me=-(ce?ce.depth+1:0)+(Pe?0:1),$e=(ct,ut)=>{for(;ct>=0;ct--){let Et=Q[ct];if(Et==""){if(ct==Q.length-1||ct==0)continue;for(;ut>=Me;ut--)if($e(ct-1,ut))return!0;return!1}else{let Nt=ut>0||ut==0&&Pe?this.nodes[ut].type:ce&&ut>=Me?ce.node(ut-Me).type:null;if(!Nt||Nt.name!=Et&&Nt.groups.indexOf(Et)==-1)return!1;ut--}}return!0};return $e(Q.length-1,this.open)}textblockFromContext(){let H=this.options.context;if(H)for(let Q=H.depth;Q>=0;Q--){let ce=H.node(Q).contentMatchAt(H.indexAfter(Q)).defaultType;if(ce&&ce.isTextblock&&ce.defaultAttrs)return ce}for(let Q in this.parser.schema.nodes){let ce=this.parser.schema.nodes[Q];if(ce.isTextblock&&ce.defaultAttrs)return ce}}addPendingMark(H){let Q=Be(H,this.top.pendingMarks);Q&&this.top.stashMarks.push(Q),this.top.pendingMarks=H.addToSet(this.top.pendingMarks)}removePendingMark(H,Q){for(let ce=this.open;ce>=0;ce--){let Pe=this.nodes[ce];if(Pe.pendingMarks.lastIndexOf(H)>-1)Pe.pendingMarks=H.removeFromSet(Pe.pendingMarks);else{Pe.activeMarks=H.removeFromSet(Pe.activeMarks);let $e=Pe.popFromStashMark(H);$e&&Pe.type&&Pe.type.allowsMarkType($e.type)&&(Pe.activeMarks=$e.addToSet(Pe.activeMarks))}if(Pe==Q)break}}}function Ct(Ae){for(let H=Ae.firstChild,Q=null;H;H=H.nextSibling){let ce=H.nodeType==1?H.nodeName.toLowerCase():null;ce&&xe.hasOwnProperty(ce)&&Q?(Q.appendChild(H),H=Q):ce=="li"?Q=H:ce&&(Q=null)}}function Le(Ae,H){return(Ae.matches||Ae.msMatchesSelector||Ae.webkitMatchesSelector||Ae.mozMatchesSelector).call(Ae,H)}function He(Ae){let H=/\s*([\w-]+)\s*:\s*([^;]+)/g,Q,ce=[];for(;Q=H.exec(Ae);)ce.push(Q[1],Q[2].trim());return ce}function it(Ae){let H={};for(let Q in Ae)H[Q]=Ae[Q];return H}function Ne(Ae,H){let Q=H.schema.nodes;for(let ce in Q){let Pe=Q[ce];if(!Pe.allowsMarkType(Ae))continue;let Me=[],$e=ct=>{Me.push(ct);for(let ut=0;ut<ct.edgeCount;ut++){let{type:Et,next:Nt}=ct.edge(ut);if(Et==H||Me.indexOf(Nt)<0&&$e(Nt))return!0}};if($e(Pe.contentMatch))return!0}}function Be(Ae,H){for(let Q=0;Q<H.length;Q++)if(Ae.eq(H[Q]))return H[Q]}class ze{constructor(H,Q){this.nodes=H,this.marks=Q}serializeFragment(H,Q={},ce){ce||(ce=et(Q).createDocumentFragment());let Pe=ce,Me=[];return H.forEach($e=>{if(Me.length||$e.marks.length){let ct=0,ut=0;for(;ct<Me.length&&ut<$e.marks.length;){let Et=$e.marks[ut];if(!this.marks[Et.type.name]){ut++;continue}if(!Et.eq(Me[ct][0])||Et.type.spec.spanning===!1)break;ct++,ut++}for(;ct<Me.length;)Pe=Me.pop()[1];for(;ut<$e.marks.length;){let Et=$e.marks[ut++],Nt=this.serializeMark(Et,$e.isInline,Q);Nt&&(Me.push([Et,Pe]),Pe.appendChild(Nt.dom),Pe=Nt.contentDOM||Nt.dom)}}Pe.appendChild(this.serializeNodeInner($e,Q))}),ce}serializeNodeInner(H,Q){let{dom:ce,contentDOM:Pe}=ze.renderSpec(et(Q),this.nodes[H.type.name](H));if(Pe){if(H.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(H.content,Q,Pe)}return ce}serializeNode(H,Q={}){let ce=this.serializeNodeInner(H,Q);for(let Pe=H.marks.length-1;Pe>=0;Pe--){let Me=this.serializeMark(H.marks[Pe],H.isInline,Q);Me&&((Me.contentDOM||Me.dom).appendChild(ce),ce=Me.dom)}return ce}serializeMark(H,Q,ce={}){let Pe=this.marks[H.type.name];return Pe&&ze.renderSpec(et(ce),Pe(H,Q))}static renderSpec(H,Q,ce=null){if(typeof Q=="string")return{dom:H.createTextNode(Q)};if(Q.nodeType!=null)return{dom:Q};if(Q.dom&&Q.dom.nodeType!=null)return Q;let Pe=Q[0],Me=Pe.indexOf(" ");Me>0&&(ce=Pe.slice(0,Me),Pe=Pe.slice(Me+1));let $e,ct=ce?H.createElementNS(ce,Pe):H.createElement(Pe),ut=Q[1],Et=1;if(ut&&typeof ut=="object"&&ut.nodeType==null&&!Array.isArray(ut)){Et=2;for(let Nt in ut)if(ut[Nt]!=null){let $t=Nt.indexOf(" ");$t>0?ct.setAttributeNS(Nt.slice(0,$t),Nt.slice($t+1),ut[Nt]):ct.setAttribute(Nt,ut[Nt])}}for(let Nt=Et;Nt<Q.length;Nt++){let $t=Q[Nt];if($t===0){if(Nt<Q.length-1||Nt>Et)throw new RangeError("Content hole must be the only child of its parent node");return{dom:ct,contentDOM:ct}}else{let{dom:Nn,contentDOM:Vt}=ze.renderSpec(H,$t,ce);if(ct.appendChild(Nn),Vt){if($e)throw new RangeError("Multiple content holes");$e=Vt}}}return{dom:ct,contentDOM:$e}}static fromSchema(H){return H.cached.domSerializer||(H.cached.domSerializer=new ze(this.nodesFromSchema(H),this.marksFromSchema(H)))}static nodesFromSchema(H){let Q=lt(H.nodes);return Q.text||(Q.text=ce=>ce.text),Q}static marksFromSchema(H){return lt(H.marks)}}function lt(Ae){let H={};for(let Q in Ae){let ce=Ae[Q].spec.toDOM;ce&&(H[Q]=ce)}return H}function et(Ae){return Ae.document||window.document}},53833:(z,l,e)=>{"use strict";e.d(l,{IB:()=>_,KI:()=>O,bw:()=>w});var o=e(16560),f=e(87823);const u=["ol",0],c=["ul",0],g=["li",0],v={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(P){return{order:P.hasAttribute("start")?+P.getAttribute("start"):1}}}],toDOM(P){return P.attrs.order==1?u:["ol",{start:P.attrs.order},0]}},E={parseDOM:[{tag:"ul"}],toDOM(){return c}},y={parseDOM:[{tag:"li"}],toDOM(){return g},defining:!0};function p(P,x){let M={};for(let N in P)M[N]=P[N];for(let N in x)M[N]=x[N];return M}function T(P,x,M){return P.append({ordered_list:p(v,{content:"list_item+",group:M}),bullet_list:p(E,{content:"list_item+",group:M}),list_item:p(y,{content:x})})}function O(P,x=null){return function(M,N){let{$from:C,$to:A}=M.selection,k=C.blockRange(A),L=!1,K=k;if(!k)return!1;if(k.depth>=2&&C.node(k.depth-1).type.compatibleContent(P)&&k.startIndex==0){if(C.index(k.depth-1)==0)return!1;let J=M.doc.resolve(k.start-2);K=new f.Ts(J,J,k.depth),k.endIndex<k.parent.childCount&&(k=new f.Ts(C,M.doc.resolve(A.end(k.depth)),k.depth)),L=!0}let Z=(0,o.nd)(K,P,x,k);return Z?(N&&N(I(M.tr,k,Z,L,P).scrollIntoView()),!0):!1}}function I(P,x,M,N,C){let A=f.HY.empty;for(let J=M.length-1;J>=0;J--)A=f.HY.from(M[J].type.create(M[J].attrs,A));P.step(new o.FC(x.start-(N?2:0),x.end,x.start,x.end,new f.p2(A,0,0),M.length,!0));let k=0;for(let J=0;J<M.length;J++)M[J].type==C&&(k=J+1);let L=M.length-k,K=x.start+M.length-(N?2:0),Z=x.parent;for(let J=x.startIndex,q=x.endIndex,ne=!0;J<q;J++,ne=!1)!ne&&(0,o.Ax)(P.doc,K,L)&&(P.split(K,L),K+=2*L),K+=Z.child(J).nodeSize;return P}function S(P){return function(x,M){let{$from:N,$to:C,node:A}=x.selection;if(A&&A.isBlock||N.depth<2||!N.sameParent(C))return!1;let k=N.node(-1);if(k.type!=P)return!1;if(N.parent.content.size==0&&N.node(-1).childCount==N.indexAfter(-1)){if(N.depth==3||N.node(-3).type!=P||N.index(-2)!=N.node(-2).childCount-1)return!1;if(M){let J=Fragment.empty,q=N.index(-1)?1:N.index(-2)?2:3;for(let he=N.depth-q;he>=N.depth-3;he--)J=Fragment.from(N.node(he).copy(J));let ne=N.indexAfter(-1)<N.node(-2).childCount?1:N.indexAfter(-2)<N.node(-3).childCount?2:3;J=J.append(Fragment.from(P.createAndFill()));let F=N.before(N.depth-(q-1)),W=x.tr.replace(F,N.after(-ne),new Slice(J,4-q,0)),ie=-1;W.doc.nodesBetween(F,W.doc.content.size,(he,ye)=>{if(ie>-1)return!1;he.isTextblock&&he.content.size==0&&(ie=ye+1)}),ie>-1&&W.setSelection(Selection.near(W.doc.resolve(ie))),M(W.scrollIntoView())}return!0}let L=C.pos==N.end()?k.contentMatchAt(0).defaultType:null,K=x.tr.delete(N.pos,C.pos),Z=L?[null,{type:L}]:void 0;return canSplit(K.doc,N.pos,2,Z)?(M&&M(K.split(N.pos,2,Z).scrollIntoView()),!0):!1}}function _(P){return function(x,M){let{$from:N,$to:C}=x.selection,A=N.blockRange(C,k=>k.childCount>0&&k.firstChild.type==P);return A?M?N.node(A.depth-1).type==P?d(x,M,P,A):s(x,M,A):!0:!1}}function d(P,x,M,N){let C=P.tr,A=N.end,k=N.$to.end(N.depth);A<k&&(C.step(new o.FC(A-1,k,A,k,new f.p2(f.HY.from(M.create(null,N.parent.copy())),1,0),1,!0)),N=new f.Ts(C.doc.resolve(N.$from.pos),C.doc.resolve(k),N.depth));const L=(0,o.k9)(N);if(L==null)return!1;C.lift(N,L);let K=C.mapping.map(A,-1)-1;return(0,o.Mn)(C.doc,K)&&C.join(K),x(C.scrollIntoView()),!0}function s(P,x,M){let N=P.tr,C=M.parent;for(let F=M.end,W=M.endIndex-1,ie=M.startIndex;W>ie;W--)F-=C.child(W).nodeSize,N.delete(F-1,F+1);let A=N.doc.resolve(M.start),k=A.nodeAfter;if(N.mapping.map(M.end)!=M.start+A.nodeAfter.nodeSize)return!1;let L=M.startIndex==0,K=M.endIndex==C.childCount,Z=A.node(-1),J=A.index(-1);if(!Z.canReplace(J+(L?0:1),J+1,k.content.append(K?f.HY.empty:f.HY.from(C))))return!1;let q=A.pos,ne=q+k.nodeSize;return N.step(new o.FC(q-(L?1:0),ne+(K?1:0),q+1,ne-1,new f.p2((L?f.HY.empty:f.HY.from(C.copy(f.HY.empty))).append(K?f.HY.empty:f.HY.from(C.copy(f.HY.empty))),L?0:1,K?0:1),L?0:1)),x(N.scrollIntoView()),!0}function w(P){return function(x,M){let{$from:N,$to:C}=x.selection,A=N.blockRange(C,Z=>Z.childCount>0&&Z.firstChild.type==P);if(!A)return!1;let k=A.startIndex;if(k==0)return!1;let L=A.parent,K=L.child(k-1);if(K.type!=P)return!1;if(M){let Z=K.lastChild&&K.lastChild.type==L.type,J=f.HY.from(Z?P.create():null),q=new f.p2(f.HY.from(P.create(null,f.HY.from(L.type.create(null,J)))),Z?3:1,0),ne=A.start,F=A.end;M(x.tr.step(new o.FC(ne-(Z?3:1),F,ne,F,q,1,!0)).scrollIntoView())}return!0}}},2376:(z,l,e)=>{"use strict";e.d(l,{Bs:()=>y,C1:()=>I,H$:()=>q,Sy:()=>K,Y1:()=>c,qv:()=>T,yy:()=>k});var o=e(87823),f=e(16560);const u=Object.create(null);class c{constructor(F,W,ie){this.$anchor=F,this.$head=W,this.ranges=ie||[new g(F.min(W),F.max(W))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let F=this.ranges;for(let W=0;W<F.length;W++)if(F[W].$from.pos!=F[W].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(F,W=o.p2.empty){let ie=W.content.lastChild,he=null;for(let ae=0;ae<W.openEnd;ae++)he=ie,ie=ie.lastChild;let ye=F.steps.length,fe=this.ranges;for(let ae=0;ae<fe.length;ae++){let{$from:oe,$to:G}=fe[ae],re=F.mapping.slice(ye);F.replaceRange(re.map(oe.pos),re.map(G.pos),ae?o.p2.empty:W),ae==0&&d(F,ye,(ie?ie.isInline:he&&he.isTextblock)?-1:1)}}replaceWith(F,W){let ie=F.steps.length,he=this.ranges;for(let ye=0;ye<he.length;ye++){let{$from:fe,$to:ae}=he[ye],oe=F.mapping.slice(ie),G=oe.map(fe.pos),re=oe.map(ae.pos);ye?F.deleteRange(G,re):(F.replaceRangeWith(G,re,W),d(F,ie,W.isInline?-1:1))}}static findFrom(F,W,ie=!1){let he=F.parent.inlineContent?new y(F):_(F.node(0),F.parent,F.pos,F.index(),W,ie);if(he)return he;for(let ye=F.depth-1;ye>=0;ye--){let fe=W<0?_(F.node(0),F.node(ye),F.before(ye+1),F.index(ye),W,ie):_(F.node(0),F.node(ye),F.after(ye+1),F.index(ye)+1,W,ie);if(fe)return fe}return null}static near(F,W=1){return this.findFrom(F,W)||this.findFrom(F,-W)||new I(F.node(0))}static atStart(F){return _(F,F,0,0,1)||new I(F)}static atEnd(F){return _(F,F,F.content.size,F.childCount,-1)||new I(F)}static fromJSON(F,W){if(!W||!W.type)throw new RangeError("Invalid input for Selection.fromJSON");let ie=u[W.type];if(!ie)throw new RangeError(`No selection type ${W.type} defined`);return ie.fromJSON(F,W)}static jsonID(F,W){if(F in u)throw new RangeError("Duplicate use of selection JSON ID "+F);return u[F]=W,W.prototype.jsonID=F,W}getBookmark(){return y.between(this.$anchor,this.$head).getBookmark()}}c.prototype.visible=!0;class g{constructor(F,W){this.$from=F,this.$to=W}}let v=!1;function E(ne){!v&&!ne.parent.inlineContent&&(v=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+ne.parent.type.name+")"))}class y extends c{constructor(F,W=F){E(F),E(W),super(F,W)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(F,W){let ie=F.resolve(W.map(this.head));if(!ie.parent.inlineContent)return c.near(ie);let he=F.resolve(W.map(this.anchor));return new y(he.parent.inlineContent?he:ie,ie)}replace(F,W=o.p2.empty){if(super.replace(F,W),W==o.p2.empty){let ie=this.$from.marksAcross(this.$to);ie&&F.ensureMarks(ie)}}eq(F){return F instanceof y&&F.anchor==this.anchor&&F.head==this.head}getBookmark(){return new p(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(F,W){if(typeof W.anchor!="number"||typeof W.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new y(F.resolve(W.anchor),F.resolve(W.head))}static create(F,W,ie=W){let he=F.resolve(W);return new this(he,ie==W?he:F.resolve(ie))}static between(F,W,ie){let he=F.pos-W.pos;if((!ie||he)&&(ie=he>=0?1:-1),!W.parent.inlineContent){let ye=c.findFrom(W,ie,!0)||c.findFrom(W,-ie,!0);if(ye)W=ye.$head;else return c.near(W,ie)}return F.parent.inlineContent||(he==0?F=W:(F=(c.findFrom(F,-ie,!0)||c.findFrom(F,ie,!0)).$anchor,F.pos<W.pos!=he<0&&(F=W))),new y(F,W)}}c.jsonID("text",y);class p{constructor(F,W){this.anchor=F,this.head=W}map(F){return new p(F.map(this.anchor),F.map(this.head))}resolve(F){return y.between(F.resolve(this.anchor),F.resolve(this.head))}}class T extends c{constructor(F){let W=F.nodeAfter,ie=F.node(0).resolve(F.pos+W.nodeSize);super(F,ie),this.node=W}map(F,W){let{deleted:ie,pos:he}=W.mapResult(this.anchor),ye=F.resolve(he);return ie?c.near(ye):new T(ye)}content(){return new o.p2(o.HY.from(this.node),0,0)}eq(F){return F instanceof T&&F.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new O(this.anchor)}static fromJSON(F,W){if(typeof W.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new T(F.resolve(W.anchor))}static create(F,W){return new T(F.resolve(W))}static isSelectable(F){return!F.isText&&F.type.spec.selectable!==!1}}T.prototype.visible=!1,c.jsonID("node",T);class O{constructor(F){this.anchor=F}map(F){let{deleted:W,pos:ie}=F.mapResult(this.anchor);return W?new p(ie,ie):new O(ie)}resolve(F){let W=F.resolve(this.anchor),ie=W.nodeAfter;return ie&&T.isSelectable(ie)?new T(W):c.near(W)}}class I extends c{constructor(F){super(F.resolve(0),F.resolve(F.content.size))}replace(F,W=o.p2.empty){if(W==o.p2.empty){F.delete(0,F.doc.content.size);let ie=c.atStart(F.doc);ie.eq(F.selection)||F.setSelection(ie)}else super.replace(F,W)}toJSON(){return{type:"all"}}static fromJSON(F){return new I(F)}map(F){return new I(F)}eq(F){return F instanceof I}getBookmark(){return S}}c.jsonID("all",I);const S={map(){return this},resolve(ne){return new I(ne)}};function _(ne,F,W,ie,he,ye=!1){if(F.inlineContent)return y.create(ne,W);for(let fe=ie-(he>0?0:1);he>0?fe<F.childCount:fe>=0;fe+=he){let ae=F.child(fe);if(ae.isAtom){if(!ye&&T.isSelectable(ae))return T.create(ne,W-(he<0?ae.nodeSize:0))}else{let oe=_(ne,ae,W+he,he<0?ae.childCount:0,he,ye);if(oe)return oe}W+=ae.nodeSize*he}return null}function d(ne,F,W){let ie=ne.steps.length-1;if(ie<F)return;let he=ne.steps[ie];if(!(he instanceof f.Pu||he instanceof f.FC))return;let ye=ne.mapping.maps[ie],fe;ye.forEach((ae,oe,G,re)=>{fe==null&&(fe=re)}),ne.setSelection(c.near(ne.doc.resolve(fe),W))}const s=1,w=2,P=4;class x extends f.wx{constructor(F){super(F.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=F.selection,this.storedMarks=F.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(F){if(F.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=F,this.curSelectionFor=this.steps.length,this.updated=(this.updated|s)&~w,this.storedMarks=null,this}get selectionSet(){return(this.updated&s)>0}setStoredMarks(F){return this.storedMarks=F,this.updated|=w,this}ensureMarks(F){return o.vc.sameSet(this.storedMarks||this.selection.$from.marks(),F)||this.setStoredMarks(F),this}addStoredMark(F){return this.ensureMarks(F.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(F){return this.ensureMarks(F.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&w)>0}addStep(F,W){super.addStep(F,W),this.updated=this.updated&~w,this.storedMarks=null}setTime(F){return this.time=F,this}replaceSelection(F){return this.selection.replace(this,F),this}replaceSelectionWith(F,W=!0){let ie=this.selection;return W&&(F=F.mark(this.storedMarks||(ie.empty?ie.$from.marks():ie.$from.marksAcross(ie.$to)||o.vc.none))),ie.replaceWith(this,F),this}deleteSelection(){return this.selection.replace(this),this}insertText(F,W,ie){let he=this.doc.type.schema;if(W==null)return F?this.replaceSelectionWith(he.text(F),!0):this.deleteSelection();{if(ie==null&&(ie=W),ie=ie==null?W:ie,!F)return this.deleteRange(W,ie);let ye=this.storedMarks;if(!ye){let fe=this.doc.resolve(W);ye=ie==W?fe.marks():fe.marksAcross(this.doc.resolve(ie))}return this.replaceRangeWith(W,ie,he.text(F,ye)),this.selection.empty||this.setSelection(c.near(this.selection.$to)),this}}setMeta(F,W){return this.meta[typeof F=="string"?F:F.key]=W,this}getMeta(F){return this.meta[typeof F=="string"?F:F.key]}get isGeneric(){for(let F in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=P,this}get scrolledIntoView(){return(this.updated&P)>0}}function M(ne,F){return!F||!ne?ne:ne.bind(F)}class N{constructor(F,W,ie){this.name=F,this.init=M(W.init,ie),this.apply=M(W.apply,ie)}}const C=[new N("doc",{init(ne){return ne.doc||ne.schema.topNodeType.createAndFill()},apply(ne){return ne.doc}}),new N("selection",{init(ne,F){return ne.selection||c.atStart(F.doc)},apply(ne){return ne.selection}}),new N("storedMarks",{init(ne){return ne.storedMarks||null},apply(ne,F,W,ie){return ie.selection.$cursor?ne.storedMarks:null}}),new N("scrollToSelection",{init(){return 0},apply(ne,F){return ne.scrolledIntoView?F+1:F}})];class A{constructor(F,W){this.schema=F,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=C.slice(),W&&W.forEach(ie=>{if(this.pluginsByKey[ie.key])throw new RangeError("Adding different instances of a keyed plugin ("+ie.key+")");this.plugins.push(ie),this.pluginsByKey[ie.key]=ie,ie.spec.state&&this.fields.push(new N(ie.key,ie.spec.state,ie))})}}class k{constructor(F){this.config=F}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(F){return this.applyTransaction(F).state}filterTransaction(F,W=-1){for(let ie=0;ie<this.config.plugins.length;ie++)if(ie!=W){let he=this.config.plugins[ie];if(he.spec.filterTransaction&&!he.spec.filterTransaction.call(he,F,this))return!1}return!0}applyTransaction(F){if(!this.filterTransaction(F))return{state:this,transactions:[]};let W=[F],ie=this.applyInner(F),he=null;for(;;){let ye=!1;for(let fe=0;fe<this.config.plugins.length;fe++){let ae=this.config.plugins[fe];if(ae.spec.appendTransaction){let oe=he?he[fe].n:0,G=he?he[fe].state:this,re=oe<W.length&&ae.spec.appendTransaction.call(ae,oe?W.slice(oe):W,G,ie);if(re&&ie.filterTransaction(re,fe)){if(re.setMeta("appendedTransaction",F),!he){he=[];for(let se=0;se<this.config.plugins.length;se++)he.push(se<fe?{state:ie,n:W.length}:{state:this,n:0})}W.push(re),ie=ie.applyInner(re),ye=!0}he&&(he[fe]={state:ie,n:W.length})}}if(!ye)return{state:ie,transactions:W}}}applyInner(F){if(!F.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let W=new k(this.config),ie=this.config.fields;for(let he=0;he<ie.length;he++){let ye=ie[he];W[ye.name]=ye.apply(F,this[ye.name],this,W)}return W}get tr(){return new x(this)}static create(F){let W=new A(F.doc?F.doc.type.schema:F.schema,F.plugins),ie=new k(W);for(let he=0;he<W.fields.length;he++)ie[W.fields[he].name]=W.fields[he].init(F,ie);return ie}reconfigure(F){let W=new A(this.schema,F.plugins),ie=W.fields,he=new k(W);for(let ye=0;ye<ie.length;ye++){let fe=ie[ye].name;he[fe]=this.hasOwnProperty(fe)?this[fe]:ie[ye].init(F,he)}return he}toJSON(F){let W={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(W.storedMarks=this.storedMarks.map(ie=>ie.toJSON())),F&&typeof F=="object")for(let ie in F){if(ie=="doc"||ie=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let he=F[ie],ye=he.spec.state;ye&&ye.toJSON&&(W[ie]=ye.toJSON.call(he,this[he.key]))}return W}static fromJSON(F,W,ie){if(!W)throw new RangeError("Invalid input for EditorState.fromJSON");if(!F.schema)throw new RangeError("Required config field 'schema' missing");let he=new A(F.schema,F.plugins),ye=new k(he);return he.fields.forEach(fe=>{if(fe.name=="doc")ye.doc=o.NB.fromJSON(F.schema,W.doc);else if(fe.name=="selection")ye.selection=c.fromJSON(ye.doc,W.selection);else if(fe.name=="storedMarks")W.storedMarks&&(ye.storedMarks=W.storedMarks.map(F.schema.markFromJSON));else{if(ie)for(let ae in ie){let oe=ie[ae],G=oe.spec.state;if(oe.key==fe.name&&G&&G.fromJSON&&Object.prototype.hasOwnProperty.call(W,ae)){ye[fe.name]=G.fromJSON.call(oe,F,W[ae],ye);return}}ye[fe.name]=fe.init(F,ye)}}),ye}}function L(ne,F,W){for(let ie in ne){let he=ne[ie];he instanceof Function?he=he.bind(F):ie=="handleDOMEvents"&&(he=L(he,F,{})),W[ie]=he}return W}class K{constructor(F){this.spec=F,this.props={},F.props&&L(F.props,this,this.props),this.key=F.key?F.key.key:J("plugin")}getState(F){return F[this.key]}}const Z=Object.create(null);function J(ne){return ne in Z?ne+"$"+ ++Z[ne]:(Z[ne]=0,ne+"$")}class q{constructor(F="key"){this.key=J(F)}get(F){return F.config.pluginsByKey[this.key]}getState(F){return F[this.key]}}},16560:(z,l,e)=>{"use strict";e.d(l,{Ax:()=>G,FC:()=>A,GJ:()=>Ee,Mn:()=>se,Pu:()=>C,dR:()=>Ie,k9:()=>q,nd:()=>F,nj:()=>me,vs:()=>S,wx:()=>Jt});var o=e(87823);const f=65535,u=Math.pow(2,16);function c(Ct,Le){return Ct+Le*u}function g(Ct){return Ct&f}function v(Ct){return(Ct-(Ct&f))/u}const E=1,y=2,p=4,T=8;class O{constructor(Le,He,it){this.pos=Le,this.delInfo=He,this.recover=it}get deleted(){return(this.delInfo&T)>0}get deletedBefore(){return(this.delInfo&(E|p))>0}get deletedAfter(){return(this.delInfo&(y|p))>0}get deletedAcross(){return(this.delInfo&p)>0}}class I{constructor(Le,He=!1){if(this.ranges=Le,this.inverted=He,!Le.length&&I.empty)return I.empty}recover(Le){let He=0,it=g(Le);if(!this.inverted)for(let Ne=0;Ne<it;Ne++)He+=this.ranges[Ne*3+2]-this.ranges[Ne*3+1];return this.ranges[it*3]+He+v(Le)}mapResult(Le,He=1){return this._map(Le,He,!1)}map(Le,He=1){return this._map(Le,He,!0)}_map(Le,He,it){let Ne=0,Be=this.inverted?2:1,ze=this.inverted?1:2;for(let lt=0;lt<this.ranges.length;lt+=3){let et=this.ranges[lt]-(this.inverted?Ne:0);if(et>Le)break;let Ae=this.ranges[lt+Be],H=this.ranges[lt+ze],Q=et+Ae;if(Le<=Q){let ce=Ae?Le==et?-1:Le==Q?1:He:He,Pe=et+Ne+(ce<0?0:H);if(it)return Pe;let Me=Le==(He<0?et:Q)?null:c(lt/3,Le-et),$e=Le==et?y:Le==Q?E:p;return(He<0?Le!=et:Le!=Q)&&($e|=T),new O(Pe,$e,Me)}Ne+=H-Ae}return it?Le+Ne:new O(Le+Ne,0,null)}touches(Le,He){let it=0,Ne=g(He),Be=this.inverted?2:1,ze=this.inverted?1:2;for(let lt=0;lt<this.ranges.length;lt+=3){let et=this.ranges[lt]-(this.inverted?it:0);if(et>Le)break;let Ae=this.ranges[lt+Be],H=et+Ae;if(Le<=H&&lt==Ne*3)return!0;it+=this.ranges[lt+ze]-Ae}return!1}forEach(Le){let He=this.inverted?2:1,it=this.inverted?1:2;for(let Ne=0,Be=0;Ne<this.ranges.length;Ne+=3){let ze=this.ranges[Ne],lt=ze-(this.inverted?Be:0),et=ze+(this.inverted?0:Be),Ae=this.ranges[Ne+He],H=this.ranges[Ne+it];Le(lt,lt+Ae,et,et+H),Be+=H-Ae}}invert(){return new I(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(Le){return Le==0?I.empty:new I(Le<0?[0,-Le,0]:[0,0,Le])}}I.empty=new I([]);class S{constructor(Le=[],He,it=0,Ne=Le.length){this.maps=Le,this.mirror=He,this.from=it,this.to=Ne}slice(Le=0,He=this.maps.length){return new S(this.maps,this.mirror,Le,He)}copy(){return new S(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(Le,He){this.to=this.maps.push(Le),He!=null&&this.setMirror(this.maps.length-1,He)}appendMapping(Le){for(let He=0,it=this.maps.length;He<Le.maps.length;He++){let Ne=Le.getMirror(He);this.appendMap(Le.maps[He],Ne!=null&&Ne<He?it+Ne:void 0)}}getMirror(Le){if(this.mirror){for(let He=0;He<this.mirror.length;He++)if(this.mirror[He]==Le)return this.mirror[He+(He%2?-1:1)]}}setMirror(Le,He){this.mirror||(this.mirror=[]),this.mirror.push(Le,He)}appendMappingInverted(Le){for(let He=Le.maps.length-1,it=this.maps.length+Le.maps.length;He>=0;He--){let Ne=Le.getMirror(He);this.appendMap(Le.maps[He].invert(),Ne!=null&&Ne>He?it-Ne-1:void 0)}}invert(){let Le=new S;return Le.appendMappingInverted(this),Le}map(Le,He=1){if(this.mirror)return this._map(Le,He,!0);for(let it=this.from;it<this.to;it++)Le=this.maps[it].map(Le,He);return Le}mapResult(Le,He=1){return this._map(Le,He,!1)}_map(Le,He,it){let Ne=0;for(let Be=this.from;Be<this.to;Be++){let ze=this.maps[Be],lt=ze.mapResult(Le,He);if(lt.recover!=null){let et=this.getMirror(Be);if(et!=null&&et>Be&&et<this.to){Be=et,Le=this.maps[et].recover(lt.recover);continue}}Ne|=lt.delInfo,Le=lt.pos}return it?Le:new O(Le,Ne,null)}}const _=Object.create(null);class d{getMap(){return I.empty}merge(Le){return null}static fromJSON(Le,He){if(!He||!He.stepType)throw new RangeError("Invalid input for Step.fromJSON");let it=_[He.stepType];if(!it)throw new RangeError(`No step type ${He.stepType} defined`);return it.fromJSON(Le,He)}static jsonID(Le,He){if(Le in _)throw new RangeError("Duplicate use of step JSON ID "+Le);return _[Le]=He,He.prototype.jsonID=Le,He}}class s{constructor(Le,He){this.doc=Le,this.failed=He}static ok(Le){return new s(Le,null)}static fail(Le){return new s(null,Le)}static fromReplace(Le,He,it,Ne){try{return s.ok(Le.replace(He,it,Ne))}catch(Be){if(Be instanceof o.e4)return s.fail(Be.message);throw Be}}}function w(Ct,Le,He){let it=[];for(let Ne=0;Ne<Ct.childCount;Ne++){let Be=Ct.child(Ne);Be.content.size&&(Be=Be.copy(w(Be.content,Le,Be))),Be.isInline&&(Be=Le(Be,He,Ne)),it.push(Be)}return o.HY.fromArray(it)}class P extends d{constructor(Le,He,it){super(),this.from=Le,this.to=He,this.mark=it}apply(Le){let He=Le.slice(this.from,this.to),it=Le.resolve(this.from),Ne=it.node(it.sharedDepth(this.to)),Be=new o.p2(w(He.content,(ze,lt)=>!ze.isAtom||!lt.type.allowsMarkType(this.mark.type)?ze:ze.mark(this.mark.addToSet(ze.marks)),Ne),He.openStart,He.openEnd);return s.fromReplace(Le,this.from,this.to,Be)}invert(){return new x(this.from,this.to,this.mark)}map(Le){let He=Le.mapResult(this.from,1),it=Le.mapResult(this.to,-1);return He.deleted&&it.deleted||He.pos>=it.pos?null:new P(He.pos,it.pos,this.mark)}merge(Le){return Le instanceof P&&Le.mark.eq(this.mark)&&this.from<=Le.to&&this.to>=Le.from?new P(Math.min(this.from,Le.from),Math.max(this.to,Le.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Le,He){if(typeof He.from!="number"||typeof He.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new P(He.from,He.to,Le.markFromJSON(He.mark))}}d.jsonID("addMark",P);class x extends d{constructor(Le,He,it){super(),this.from=Le,this.to=He,this.mark=it}apply(Le){let He=Le.slice(this.from,this.to),it=new o.p2(w(He.content,Ne=>Ne.mark(this.mark.removeFromSet(Ne.marks)),Le),He.openStart,He.openEnd);return s.fromReplace(Le,this.from,this.to,it)}invert(){return new P(this.from,this.to,this.mark)}map(Le){let He=Le.mapResult(this.from,1),it=Le.mapResult(this.to,-1);return He.deleted&&it.deleted||He.pos>=it.pos?null:new x(He.pos,it.pos,this.mark)}merge(Le){return Le instanceof x&&Le.mark.eq(this.mark)&&this.from<=Le.to&&this.to>=Le.from?new x(Math.min(this.from,Le.from),Math.max(this.to,Le.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Le,He){if(typeof He.from!="number"||typeof He.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new x(He.from,He.to,Le.markFromJSON(He.mark))}}d.jsonID("removeMark",x);class M extends d{constructor(Le,He){super(),this.pos=Le,this.mark=He}apply(Le){let He=Le.nodeAt(this.pos);if(!He)return s.fail("No node at mark step's position");let it=He.type.create(He.attrs,null,this.mark.addToSet(He.marks));return s.fromReplace(Le,this.pos,this.pos+1,new o.p2(o.HY.from(it),0,He.isLeaf?0:1))}invert(Le){let He=Le.nodeAt(this.pos);if(He){let it=this.mark.addToSet(He.marks);if(it.length==He.marks.length){for(let Ne=0;Ne<He.marks.length;Ne++)if(!He.marks[Ne].isInSet(it))return new M(this.pos,He.marks[Ne]);return new M(this.pos,this.mark)}}return new N(this.pos,this.mark)}map(Le){let He=Le.mapResult(this.pos,1);return He.deletedAfter?null:new M(He.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Le,He){if(typeof He.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new M(He.pos,Le.markFromJSON(He.mark))}}d.jsonID("addNodeMark",M);class N extends d{constructor(Le,He){super(),this.pos=Le,this.mark=He}apply(Le){let He=Le.nodeAt(this.pos);if(!He)return s.fail("No node at mark step's position");let it=He.type.create(He.attrs,null,this.mark.removeFromSet(He.marks));return s.fromReplace(Le,this.pos,this.pos+1,new o.p2(o.HY.from(it),0,He.isLeaf?0:1))}invert(Le){let He=Le.nodeAt(this.pos);return!He||!this.mark.isInSet(He.marks)?this:new M(this.pos,this.mark)}map(Le){let He=Le.mapResult(this.pos,1);return He.deletedAfter?null:new N(He.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Le,He){if(typeof He.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new N(He.pos,Le.markFromJSON(He.mark))}}d.jsonID("removeNodeMark",N);class C extends d{constructor(Le,He,it,Ne=!1){super(),this.from=Le,this.to=He,this.slice=it,this.structure=Ne}apply(Le){return this.structure&&k(Le,this.from,this.to)?s.fail("Structure replace would overwrite content"):s.fromReplace(Le,this.from,this.to,this.slice)}getMap(){return new I([this.from,this.to-this.from,this.slice.size])}invert(Le){return new C(this.from,this.from+this.slice.size,Le.slice(this.from,this.to))}map(Le){let He=Le.mapResult(this.from,1),it=Le.mapResult(this.to,-1);return He.deletedAcross&&it.deletedAcross?null:new C(He.pos,Math.max(He.pos,it.pos),this.slice)}merge(Le){if(!(Le instanceof C)||Le.structure||this.structure)return null;if(this.from+this.slice.size==Le.from&&!this.slice.openEnd&&!Le.slice.openStart){let He=this.slice.size+Le.slice.size==0?o.p2.empty:new o.p2(this.slice.content.append(Le.slice.content),this.slice.openStart,Le.slice.openEnd);return new C(this.from,this.to+(Le.to-Le.from),He,this.structure)}else if(Le.to==this.from&&!this.slice.openStart&&!Le.slice.openEnd){let He=this.slice.size+Le.slice.size==0?o.p2.empty:new o.p2(Le.slice.content.append(this.slice.content),Le.slice.openStart,this.slice.openEnd);return new C(Le.from,this.to,He,this.structure)}else return null}toJSON(){let Le={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Le.slice=this.slice.toJSON()),this.structure&&(Le.structure=!0),Le}static fromJSON(Le,He){if(typeof He.from!="number"||typeof He.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new C(He.from,He.to,o.p2.fromJSON(Le,He.slice),!!He.structure)}}d.jsonID("replace",C);class A extends d{constructor(Le,He,it,Ne,Be,ze,lt=!1){super(),this.from=Le,this.to=He,this.gapFrom=it,this.gapTo=Ne,this.slice=Be,this.insert=ze,this.structure=lt}apply(Le){if(this.structure&&(k(Le,this.from,this.gapFrom)||k(Le,this.gapTo,this.to)))return s.fail("Structure gap-replace would overwrite content");let He=Le.slice(this.gapFrom,this.gapTo);if(He.openStart||He.openEnd)return s.fail("Gap is not a flat range");let it=this.slice.insertAt(this.insert,He.content);return it?s.fromReplace(Le,this.from,this.to,it):s.fail("Content does not fit in gap")}getMap(){return new I([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(Le){let He=this.gapTo-this.gapFrom;return new A(this.from,this.from+this.slice.size+He,this.from+this.insert,this.from+this.insert+He,Le.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(Le){let He=Le.mapResult(this.from,1),it=Le.mapResult(this.to,-1),Ne=Le.map(this.gapFrom,-1),Be=Le.map(this.gapTo,1);return He.deletedAcross&&it.deletedAcross||Ne<He.pos||Be>it.pos?null:new A(He.pos,it.pos,Ne,Be,this.slice,this.insert,this.structure)}toJSON(){let Le={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Le.slice=this.slice.toJSON()),this.structure&&(Le.structure=!0),Le}static fromJSON(Le,He){if(typeof He.from!="number"||typeof He.to!="number"||typeof He.gapFrom!="number"||typeof He.gapTo!="number"||typeof He.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new A(He.from,He.to,He.gapFrom,He.gapTo,o.p2.fromJSON(Le,He.slice),He.insert,!!He.structure)}}d.jsonID("replaceAround",A);function k(Ct,Le,He){let it=Ct.resolve(Le),Ne=He-Le,Be=it.depth;for(;Ne>0&&Be>0&&it.indexAfter(Be)==it.node(Be).childCount;)Be--,Ne--;if(Ne>0){let ze=it.node(Be).maybeChild(it.indexAfter(Be));for(;Ne>0;){if(!ze||ze.isLeaf)return!0;ze=ze.firstChild,Ne--}}return!1}function L(Ct,Le,He,it){let Ne=[],Be=[],ze,lt;Ct.doc.nodesBetween(Le,He,(et,Ae,H)=>{if(!et.isInline)return;let Q=et.marks;if(!it.isInSet(Q)&&H.type.allowsMarkType(it.type)){let ce=Math.max(Ae,Le),Pe=Math.min(Ae+et.nodeSize,He),Me=it.addToSet(Q);for(let $e=0;$e<Q.length;$e++)Q[$e].isInSet(Me)||(ze&&ze.to==ce&&ze.mark.eq(Q[$e])?ze.to=Pe:Ne.push(ze=new x(ce,Pe,Q[$e])));lt&&lt.to==ce?lt.to=Pe:Be.push(lt=new P(ce,Pe,it))}}),Ne.forEach(et=>Ct.step(et)),Be.forEach(et=>Ct.step(et))}function K(Ct,Le,He,it){let Ne=[],Be=0;Ct.doc.nodesBetween(Le,He,(ze,lt)=>{if(!ze.isInline)return;Be++;let et=null;if(it instanceof o.ZU){let Ae=ze.marks,H;for(;H=it.isInSet(Ae);)(et||(et=[])).push(H),Ae=H.removeFromSet(Ae)}else it?it.isInSet(ze.marks)&&(et=[it]):et=ze.marks;if(et&&et.length){let Ae=Math.min(lt+ze.nodeSize,He);for(let H=0;H<et.length;H++){let Q=et[H],ce;for(let Pe=0;Pe<Ne.length;Pe++){let Me=Ne[Pe];Me.step==Be-1&&Q.eq(Ne[Pe].style)&&(ce=Me)}ce?(ce.to=Ae,ce.step=Be):Ne.push({style:Q,from:Math.max(lt,Le),to:Ae,step:Be})}}}),Ne.forEach(ze=>Ct.step(new x(ze.from,ze.to,ze.style)))}function Z(Ct,Le,He,it=He.contentMatch){let Ne=Ct.doc.nodeAt(Le),Be=[],ze=Le+1;for(let lt=0;lt<Ne.childCount;lt++){let et=Ne.child(lt),Ae=ze+et.nodeSize,H=it.matchType(et.type);if(!H)Be.push(new C(ze,Ae,o.p2.empty));else{it=H;for(let Q=0;Q<et.marks.length;Q++)He.allowsMarkType(et.marks[Q].type)||Ct.step(new x(ze,Ae,et.marks[Q]))}ze=Ae}if(!it.validEnd){let lt=it.fillBefore(o.HY.empty,!0);Ct.replace(ze,ze,new o.p2(lt,0,0))}for(let lt=Be.length-1;lt>=0;lt--)Ct.step(Be[lt])}function J(Ct,Le,He){return(Le==0||Ct.canReplace(Le,Ct.childCount))&&(He==Ct.childCount||Ct.canReplace(0,He))}function q(Ct){let He=Ct.parent.content.cutByIndex(Ct.startIndex,Ct.endIndex);for(let it=Ct.depth;;--it){let Ne=Ct.$from.node(it),Be=Ct.$from.index(it),ze=Ct.$to.indexAfter(it);if(it<Ct.depth&&Ne.canReplace(Be,ze,He))return it;if(it==0||Ne.type.spec.isolating||!J(Ne,Be,ze))break}return null}function ne(Ct,Le,He){let{$from:it,$to:Ne,depth:Be}=Le,ze=it.before(Be+1),lt=Ne.after(Be+1),et=ze,Ae=lt,H=o.HY.empty,Q=0;for(let Me=Be,$e=!1;Me>He;Me--)$e||it.index(Me)>0?($e=!0,H=o.HY.from(it.node(Me).copy(H)),Q++):et--;let ce=o.HY.empty,Pe=0;for(let Me=Be,$e=!1;Me>He;Me--)$e||Ne.after(Me+1)<Ne.end(Me)?($e=!0,ce=o.HY.from(Ne.node(Me).copy(ce)),Pe++):Ae++;Ct.step(new A(et,Ae,ze,lt,new o.p2(H.append(ce),Q,Pe),H.size-Q,!0))}function F(Ct,Le,He=null,it=Ct){let Ne=ie(Ct,Le),Be=Ne&&he(it,Le);return Be?Ne.map(W).concat({type:Le,attrs:He}).concat(Be.map(W)):null}function W(Ct){return{type:Ct,attrs:null}}function ie(Ct,Le){let{parent:He,startIndex:it,endIndex:Ne}=Ct,Be=He.contentMatchAt(it).findWrapping(Le);if(!Be)return null;let ze=Be.length?Be[0]:Le;return He.canReplaceWith(it,Ne,ze)?Be:null}function he(Ct,Le){let{parent:He,startIndex:it,endIndex:Ne}=Ct,Be=He.child(it),ze=Le.contentMatch.findWrapping(Be.type);if(!ze)return null;let et=(ze.length?ze[ze.length-1]:Le).contentMatch;for(let Ae=it;et&&Ae<Ne;Ae++)et=et.matchType(He.child(Ae).type);return!et||!et.validEnd?null:ze}function ye(Ct,Le,He){let it=o.HY.empty;for(let ze=He.length-1;ze>=0;ze--){if(it.size){let lt=He[ze].type.contentMatch.matchFragment(it);if(!lt||!lt.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}it=o.HY.from(He[ze].type.create(He[ze].attrs,it))}let Ne=Le.start,Be=Le.end;Ct.step(new A(Ne,Be,Ne,Be,new o.p2(it,0,0),He.length,!0))}function fe(Ct,Le,He,it,Ne){if(!it.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let Be=Ct.steps.length;Ct.doc.nodesBetween(Le,He,(ze,lt)=>{if(ze.isTextblock&&!ze.hasMarkup(it,Ne)&&ae(Ct.doc,Ct.mapping.slice(Be).map(lt),it)){Ct.clearIncompatible(Ct.mapping.slice(Be).map(lt,1),it);let et=Ct.mapping.slice(Be),Ae=et.map(lt,1),H=et.map(lt+ze.nodeSize,1);return Ct.step(new A(Ae,H,Ae+1,H-1,new o.p2(o.HY.from(it.create(Ne,null,ze.marks)),0,0),1,!0)),!1}})}function ae(Ct,Le,He){let it=Ct.resolve(Le),Ne=it.index();return it.parent.canReplaceWith(Ne,Ne+1,He)}function oe(Ct,Le,He,it,Ne){let Be=Ct.doc.nodeAt(Le);if(!Be)throw new RangeError("No node at given position");He||(He=Be.type);let ze=He.create(it,null,Ne||Be.marks);if(Be.isLeaf)return Ct.replaceWith(Le,Le+Be.nodeSize,ze);if(!He.validContent(Be.content))throw new RangeError("Invalid content for node type "+He.name);Ct.step(new A(Le,Le+Be.nodeSize,Le+1,Le+Be.nodeSize-1,new o.p2(o.HY.from(ze),0,0),1,!0))}function G(Ct,Le,He=1,it){let Ne=Ct.resolve(Le),Be=Ne.depth-He,ze=it&&it[it.length-1]||Ne.parent;if(Be<0||Ne.parent.type.spec.isolating||!Ne.parent.canReplace(Ne.index(),Ne.parent.childCount)||!ze.type.validContent(Ne.parent.content.cutByIndex(Ne.index(),Ne.parent.childCount)))return!1;for(let Ae=Ne.depth-1,H=He-2;Ae>Be;Ae--,H--){let Q=Ne.node(Ae),ce=Ne.index(Ae);if(Q.type.spec.isolating)return!1;let Pe=Q.content.cutByIndex(ce,Q.childCount),Me=it&&it[H]||Q;if(Me!=Q&&(Pe=Pe.replaceChild(0,Me.type.create(Me.attrs))),!Q.canReplace(ce+1,Q.childCount)||!Me.type.validContent(Pe))return!1}let lt=Ne.indexAfter(Be),et=it&&it[0];return Ne.node(Be).canReplaceWith(lt,lt,et?et.type:Ne.node(Be+1).type)}function re(Ct,Le,He=1,it){let Ne=Ct.doc.resolve(Le),Be=o.HY.empty,ze=o.HY.empty;for(let lt=Ne.depth,et=Ne.depth-He,Ae=He-1;lt>et;lt--,Ae--){Be=o.HY.from(Ne.node(lt).copy(Be));let H=it&&it[Ae];ze=o.HY.from(H?H.type.create(H.attrs,ze):Ne.node(lt).copy(ze))}Ct.step(new C(Le,Le,new o.p2(Be.append(ze),He,He),!0))}function se(Ct,Le){let He=Ct.resolve(Le),it=He.index();return le(He.nodeBefore,He.nodeAfter)&&He.parent.canReplace(it,it+1)}function le(Ct,Le){return!!(Ct&&Le&&!Ct.isLeaf&&Ct.canAppend(Le))}function Ee(Ct,Le,He=-1){let it=Ct.resolve(Le);for(let Ne=it.depth;;Ne--){let Be,ze,lt=it.index(Ne);if(Ne==it.depth?(Be=it.nodeBefore,ze=it.nodeAfter):He>0?(Be=it.node(Ne+1),lt++,ze=it.node(Ne).maybeChild(lt)):(Be=it.node(Ne).maybeChild(lt-1),ze=it.node(Ne+1)),Be&&!Be.isTextblock&&le(Be,ze)&&it.node(Ne).canReplace(lt,lt+1))return Le;if(Ne==0)break;Le=He<0?it.before(Ne):it.after(Ne)}}function ve(Ct,Le,He){let it=new C(Le-He,Le+He,o.p2.empty,!0);Ct.step(it)}function pe(Ct,Le,He){let it=Ct.resolve(Le);if(it.parent.canReplaceWith(it.index(),it.index(),He))return Le;if(it.parentOffset==0)for(let Ne=it.depth-1;Ne>=0;Ne--){let Be=it.index(Ne);if(it.node(Ne).canReplaceWith(Be,Be,He))return it.before(Ne+1);if(Be>0)return null}if(it.parentOffset==it.parent.content.size)for(let Ne=it.depth-1;Ne>=0;Ne--){let Be=it.indexAfter(Ne);if(it.node(Ne).canReplaceWith(Be,Be,He))return it.after(Ne+1);if(Be<it.node(Ne).childCount)return null}return null}function me(Ct,Le,He){let it=Ct.resolve(Le);if(!He.content.size)return Le;let Ne=He.content;for(let Be=0;Be<He.openStart;Be++)Ne=Ne.firstChild.content;for(let Be=1;Be<=(He.openStart==0&&He.size?2:1);Be++)for(let ze=it.depth;ze>=0;ze--){let lt=ze==it.depth?0:it.pos<=(it.start(ze+1)+it.end(ze+1))/2?-1:1,et=it.index(ze)+(lt>0?1:0),Ae=it.node(ze),H=!1;if(Be==1)H=Ae.canReplace(et,et,Ne);else{let Q=Ae.contentMatchAt(et).findWrapping(Ne.firstChild.type);H=Q&&Ae.canReplaceWith(et,et,Q[0])}if(H)return lt==0?it.pos:lt<0?it.before(ze+1):it.after(ze+1)}return null}function Ie(Ct,Le,He=Le,it=o.p2.empty){if(Le==He&&!it.size)return null;let Ne=Ct.resolve(Le),Be=Ct.resolve(He);return _e(Ne,Be,it)?new C(Le,He,it):new de(Ne,Be,it).fit()}function _e(Ct,Le,He){return!He.openStart&&!He.openEnd&&Ct.start()==Le.start()&&Ct.parent.canReplace(Ct.index(),Le.index(),He.content)}class de{constructor(Le,He,it){this.$from=Le,this.$to=He,this.unplaced=it,this.frontier=[],this.placed=o.HY.empty;for(let Ne=0;Ne<=Le.depth;Ne++){let Be=Le.node(Ne);this.frontier.push({type:Be.type,match:Be.contentMatchAt(Le.indexAfter(Ne))})}for(let Ne=Le.depth;Ne>0;Ne--)this.placed=o.HY.from(Le.node(Ne).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Ae=this.findFittable();Ae?this.placeNodes(Ae):this.openMore()||this.dropNode()}let Le=this.mustMoveInline(),He=this.placed.size-this.depth-this.$from.depth,it=this.$from,Ne=this.close(Le<0?this.$to:it.doc.resolve(Le));if(!Ne)return null;let Be=this.placed,ze=it.depth,lt=Ne.depth;for(;ze&&lt&&Be.childCount==1;)Be=Be.firstChild.content,ze--,lt--;let et=new o.p2(Be,ze,lt);return Le>-1?new A(it.pos,Le,this.$to.pos,this.$to.end(),et,He):et.size||it.pos!=this.$to.pos?new C(it.pos,Ne.pos,et):null}findFittable(){let Le=this.unplaced.openStart;for(let He=this.unplaced.content,it=0,Ne=this.unplaced.openEnd;it<Le;it++){let Be=He.firstChild;if(He.childCount>1&&(Ne=0),Be.type.spec.isolating&&Ne<=it){Le=it;break}He=Be.content}for(let He=1;He<=2;He++)for(let it=He==1?Le:this.unplaced.openStart;it>=0;it--){let Ne,Be=null;it?(Be=Ve(this.unplaced.content,it-1).firstChild,Ne=Be.content):Ne=this.unplaced.content;let ze=Ne.firstChild;for(let lt=this.depth;lt>=0;lt--){let{type:et,match:Ae}=this.frontier[lt],H,Q=null;if(He==1&&(ze?Ae.matchType(ze.type)||(Q=Ae.fillBefore(o.HY.from(ze),!1)):Be&&et.compatibleContent(Be.type)))return{sliceDepth:it,frontierDepth:lt,parent:Be,inject:Q};if(He==2&&ze&&(H=Ae.findWrapping(ze.type)))return{sliceDepth:it,frontierDepth:lt,parent:Be,wrap:H};if(Be&&Ae.matchType(Be.type))break}}}openMore(){let{content:Le,openStart:He,openEnd:it}=this.unplaced,Ne=Ve(Le,He);return!Ne.childCount||Ne.firstChild.isLeaf?!1:(this.unplaced=new o.p2(Le,He+1,Math.max(it,Ne.size+He>=Le.size-it?He+1:0)),!0)}dropNode(){let{content:Le,openStart:He,openEnd:it}=this.unplaced,Ne=Ve(Le,He);if(Ne.childCount<=1&&He>0){let Be=Le.size-He<=He+Ne.size;this.unplaced=new o.p2(Re(Le,He-1,1),He-1,Be?He-1:it)}else this.unplaced=new o.p2(Re(Le,He,1),He,it)}placeNodes({sliceDepth:Le,frontierDepth:He,parent:it,inject:Ne,wrap:Be}){for(;this.depth>He;)this.closeFrontierNode();if(Be)for(let $e=0;$e<Be.length;$e++)this.openFrontierNode(Be[$e]);let ze=this.unplaced,lt=it?it.content:ze.content,et=ze.openStart-Le,Ae=0,H=[],{match:Q,type:ce}=this.frontier[He];if(Ne){for(let $e=0;$e<Ne.childCount;$e++)H.push(Ne.child($e));Q=Q.matchFragment(Ne)}let Pe=lt.size+Le-(ze.content.size-ze.openEnd);for(;Ae<lt.childCount;){let $e=lt.child(Ae),ct=Q.matchType($e.type);if(!ct)break;Ae++,(Ae>1||et==0||$e.content.size)&&(Q=ct,H.push(Ge($e.mark(ce.allowedMarks($e.marks)),Ae==1?et:0,Ae==lt.childCount?Pe:-1)))}let Me=Ae==lt.childCount;Me||(Pe=-1),this.placed=ke(this.placed,He,o.HY.from(H)),this.frontier[He].match=Q,Me&&Pe<0&&it&&it.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let $e=0,ct=lt;$e<Pe;$e++){let ut=ct.lastChild;this.frontier.push({type:ut.type,match:ut.contentMatchAt(ut.childCount)}),ct=ut.content}this.unplaced=Me?Le==0?o.p2.empty:new o.p2(Re(ze.content,Le-1,1),Le-1,Pe<0?ze.openEnd:Le-1):new o.p2(Re(ze.content,Le,Ae),ze.openStart,ze.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let Le=this.frontier[this.depth],He;if(!Le.type.isTextblock||!Qe(this.$to,this.$to.depth,Le.type,Le.match,!1)||this.$to.depth==this.depth&&(He=this.findCloseLevel(this.$to))&&He.depth==this.depth)return-1;let{depth:it}=this.$to,Ne=this.$to.after(it);for(;it>1&&Ne==this.$to.end(--it);)++Ne;return Ne}findCloseLevel(Le){e:for(let He=Math.min(this.depth,Le.depth);He>=0;He--){let{match:it,type:Ne}=this.frontier[He],Be=He<Le.depth&&Le.end(He+1)==Le.pos+(Le.depth-(He+1)),ze=Qe(Le,He,Ne,it,Be);if(ze){for(let lt=He-1;lt>=0;lt--){let{match:et,type:Ae}=this.frontier[lt],H=Qe(Le,lt,Ae,et,!0);if(!H||H.childCount)continue e}return{depth:He,fit:ze,move:Be?Le.doc.resolve(Le.after(He+1)):Le}}}}close(Le){let He=this.findCloseLevel(Le);if(!He)return null;for(;this.depth>He.depth;)this.closeFrontierNode();He.fit.childCount&&(this.placed=ke(this.placed,He.depth,He.fit)),Le=He.move;for(let it=He.depth+1;it<=Le.depth;it++){let Ne=Le.node(it),Be=Ne.type.contentMatch.fillBefore(Ne.content,!0,Le.index(it));this.openFrontierNode(Ne.type,Ne.attrs,Be)}return Le}openFrontierNode(Le,He=null,it){let Ne=this.frontier[this.depth];Ne.match=Ne.match.matchType(Le),this.placed=ke(this.placed,this.depth,o.HY.from(Le.create(He,it))),this.frontier.push({type:Le,match:Le.contentMatch})}closeFrontierNode(){let He=this.frontier.pop().match.fillBefore(o.HY.empty,!0);He.childCount&&(this.placed=ke(this.placed,this.frontier.length,He))}}function Re(Ct,Le,He){return Le==0?Ct.cutByIndex(He,Ct.childCount):Ct.replaceChild(0,Ct.firstChild.copy(Re(Ct.firstChild.content,Le-1,He)))}function ke(Ct,Le,He){return Le==0?Ct.append(He):Ct.replaceChild(Ct.childCount-1,Ct.lastChild.copy(ke(Ct.lastChild.content,Le-1,He)))}function Ve(Ct,Le){for(let He=0;He<Le;He++)Ct=Ct.firstChild.content;return Ct}function Ge(Ct,Le,He){if(Le<=0)return Ct;let it=Ct.content;return Le>1&&(it=it.replaceChild(0,Ge(it.firstChild,Le-1,it.childCount==1?He-1:0))),Le>0&&(it=Ct.type.contentMatch.fillBefore(it).append(it),He<=0&&(it=it.append(Ct.type.contentMatch.matchFragment(it).fillBefore(o.HY.empty,!0)))),Ct.copy(it)}function Qe(Ct,Le,He,it,Ne){let Be=Ct.node(Le),ze=Ne?Ct.indexAfter(Le):Ct.index(Le);if(ze==Be.childCount&&!He.compatibleContent(Be.type))return null;let lt=it.fillBefore(Be.content,!0,ze);return lt&&!bt(He,Be.content,ze)?lt:null}function bt(Ct,Le,He){for(let it=He;it<Le.childCount;it++)if(!Ct.allowsMarks(Le.child(it).marks))return!0;return!1}function Ce(Ct){return Ct.spec.defining||Ct.spec.definingForContent}function We(Ct,Le,He,it){if(!it.size)return Ct.deleteRange(Le,He);let Ne=Ct.doc.resolve(Le),Be=Ct.doc.resolve(He);if(_e(Ne,Be,it))return Ct.step(new C(Le,He,it));let ze=ft(Ne,Ct.doc.resolve(He));ze[ze.length-1]==0&&ze.pop();let lt=-(Ne.depth+1);ze.unshift(lt);for(let ce=Ne.depth,Pe=Ne.pos-1;ce>0;ce--,Pe--){let Me=Ne.node(ce).type.spec;if(Me.defining||Me.definingAsContext||Me.isolating)break;ze.indexOf(ce)>-1?lt=ce:Ne.before(ce)==Pe&&ze.splice(1,0,-ce)}let et=ze.indexOf(lt),Ae=[],H=it.openStart;for(let ce=it.content,Pe=0;;Pe++){let Me=ce.firstChild;if(Ae.push(Me),Pe==it.openStart)break;ce=Me.content}for(let ce=H-1;ce>=0;ce--){let Pe=Ae[ce].type,Me=Ce(Pe);if(Me&&Ne.node(et).type!=Pe)H=ce;else if(Me||!Pe.isTextblock)break}for(let ce=it.openStart;ce>=0;ce--){let Pe=(ce+H+1)%(it.openStart+1),Me=Ae[Pe];if(Me)for(let $e=0;$e<ze.length;$e++){let ct=ze[($e+et)%ze.length],ut=!0;ct<0&&(ut=!1,ct=-ct);let Et=Ne.node(ct-1),Nt=Ne.index(ct-1);if(Et.canReplaceWith(Nt,Nt,Me.type,Me.marks))return Ct.replace(Ne.before(ct),ut?Be.after(ct):He,new o.p2(xe(it.content,0,it.openStart,Pe),Pe,it.openEnd))}}let Q=Ct.steps.length;for(let ce=ze.length-1;ce>=0&&(Ct.replace(Le,He,it),!(Ct.steps.length>Q));ce--){let Pe=ze[ce];Pe<0||(Le=Ne.before(Pe),He=Be.after(Pe))}}function xe(Ct,Le,He,it,Ne){if(Le<He){let Be=Ct.firstChild;Ct=Ct.replaceChild(0,Be.copy(xe(Be.content,Le+1,He,it,Be)))}if(Le>it){let Be=Ne.contentMatchAt(0),ze=Be.fillBefore(Ct).append(Ct);Ct=ze.append(Be.matchFragment(ze).fillBefore(o.HY.empty,!0))}return Ct}function rt(Ct,Le,He,it){if(!it.isInline&&Le==He&&Ct.doc.resolve(Le).parent.content.size){let Ne=pe(Ct.doc,Le,it.type);Ne!=null&&(Le=He=Ne)}Ct.replaceRange(Le,He,new o.p2(o.HY.from(it),0,0))}function Je(Ct,Le,He){let it=Ct.doc.resolve(Le),Ne=Ct.doc.resolve(He),Be=ft(it,Ne);for(let ze=0;ze<Be.length;ze++){let lt=Be[ze],et=ze==Be.length-1;if(et&&lt==0||it.node(lt).type.contentMatch.validEnd)return Ct.delete(it.start(lt),Ne.end(lt));if(lt>0&&(et||it.node(lt-1).canReplace(it.index(lt-1),Ne.indexAfter(lt-1))))return Ct.delete(it.before(lt),Ne.after(lt))}for(let ze=1;ze<=it.depth&&ze<=Ne.depth;ze++)if(Le-it.start(ze)==it.depth-ze&&He>it.end(ze)&&Ne.end(ze)-He!=Ne.depth-ze)return Ct.delete(it.before(ze),He);Ct.delete(Le,He)}function ft(Ct,Le){let He=[],it=Math.min(Ct.depth,Le.depth);for(let Ne=it;Ne>=0;Ne--){let Be=Ct.start(Ne);if(Be<Ct.pos-(Ct.depth-Ne)||Le.end(Ne)>Le.pos+(Le.depth-Ne)||Ct.node(Ne).type.spec.isolating||Le.node(Ne).type.spec.isolating)break;(Be==Le.start(Ne)||Ne==Ct.depth&&Ne==Le.depth&&Ct.parent.inlineContent&&Le.parent.inlineContent&&Ne&&Le.start(Ne-1)==Be-1)&&He.push(Ne)}return He}class je extends d{constructor(Le,He,it){super(),this.pos=Le,this.attr=He,this.value=it}apply(Le){let He=Le.nodeAt(this.pos);if(!He)return s.fail("No node at attribute step's position");let it=Object.create(null);for(let Be in He.attrs)it[Be]=He.attrs[Be];it[this.attr]=this.value;let Ne=He.type.create(it,null,He.marks);return s.fromReplace(Le,this.pos,this.pos+1,new o.p2(o.HY.from(Ne),0,He.isLeaf?0:1))}getMap(){return I.empty}invert(Le){return new je(this.pos,this.attr,Le.nodeAt(this.pos).attrs[this.attr])}map(Le){let He=Le.mapResult(this.pos,1);return He.deletedAfter?null:new je(He.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(Le,He){if(typeof He.pos!="number"||typeof He.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new je(He.pos,He.attr,He.value)}}d.jsonID("attr",je);let Rt=class extends Error{};Rt=function Ct(Le){let He=Error.call(this,Le);return He.__proto__=Ct.prototype,He},Rt.prototype=Object.create(Error.prototype),Rt.prototype.constructor=Rt,Rt.prototype.name="TransformError";class Jt{constructor(Le){this.doc=Le,this.steps=[],this.docs=[],this.mapping=new S}get before(){return this.docs.length?this.docs[0]:this.doc}step(Le){let He=this.maybeStep(Le);if(He.failed)throw new Rt(He.failed);return this}maybeStep(Le){let He=Le.apply(this.doc);return He.failed||this.addStep(Le,He.doc),He}get docChanged(){return this.steps.length>0}addStep(Le,He){this.docs.push(this.doc),this.steps.push(Le),this.mapping.appendMap(Le.getMap()),this.doc=He}replace(Le,He=Le,it=o.p2.empty){let Ne=Ie(this.doc,Le,He,it);return Ne&&this.step(Ne),this}replaceWith(Le,He,it){return this.replace(Le,He,new o.p2(o.HY.from(it),0,0))}delete(Le,He){return this.replace(Le,He,o.p2.empty)}insert(Le,He){return this.replaceWith(Le,Le,He)}replaceRange(Le,He,it){return We(this,Le,He,it),this}replaceRangeWith(Le,He,it){return rt(this,Le,He,it),this}deleteRange(Le,He){return Je(this,Le,He),this}lift(Le,He){return ne(this,Le,He),this}join(Le,He=1){return ve(this,Le,He),this}wrap(Le,He){return ye(this,Le,He),this}setBlockType(Le,He=Le,it,Ne=null){return fe(this,Le,He,it,Ne),this}setNodeMarkup(Le,He,it=null,Ne){return oe(this,Le,He,it,Ne),this}setNodeAttribute(Le,He,it){return this.step(new je(Le,He,it)),this}addNodeMark(Le,He){return this.step(new M(Le,He)),this}removeNodeMark(Le,He){if(!(He instanceof o.vc)){let it=this.doc.nodeAt(Le);if(!it)throw new RangeError("No node at position "+Le);if(He=He.isInSet(it.marks),!He)return this}return this.step(new N(Le,He)),this}split(Le,He=1,it){return re(this,Le,He,it),this}addMark(Le,He,it){return L(this,Le,He,it),this}removeMark(Le,He,it){return K(this,Le,He,it),this}clearIncompatible(Le,He,it){return Z(this,Le,He,it),this}}},84348:(z,l,e)=>{"use strict";e.d(l,{EH:()=>dn,p:()=>Ut,tk:()=>Hr});var o=e(2376),f=e(87823),u=e(16560);const c=function(V){for(var $=0;;$++)if(V=V.previousSibling,!V)return $},g=function(V){let $=V.assignedSlot||V.parentNode;return $&&$.nodeType==11?$.host:$};let v=null;const E=function(V,$,ee){let R=v||(v=document.createRange());return R.setEnd(V,ee==null?V.nodeValue.length:ee),R.setStart(V,$||0),R},y=function(V,$,ee,R){return ee&&(T(V,$,ee,R,-1)||T(V,$,ee,R,1))},p=/^(img|br|input|textarea|hr)$/i;function T(V,$,ee,R,te){for(;;){if(V==ee&&$==R)return!0;if($==(te<0?0:O(V))){let ue=V.parentNode;if(!ue||ue.nodeType!=1||S(V)||p.test(V.nodeName)||V.contentEditable=="false")return!1;$=c(V)+(te<0?0:1),V=ue}else if(V.nodeType==1){if(V=V.childNodes[$+(te<0?-1:0)],V.contentEditable=="false")return!1;$=te<0?O(V):0}else return!1}}function O(V){return V.nodeType==3?V.nodeValue.length:V.childNodes.length}function I(V,$,ee){for(let R=$==0,te=$==O(V);R||te;){if(V==ee)return!0;let ue=c(V);if(V=V.parentNode,!V)return!1;R=R&&ue==0,te=te&&ue==O(V)}}function S(V){let $;for(let ee=V;ee&&!($=ee.pmViewDesc);ee=ee.parentNode);return $&&$.node&&$.node.isBlock&&($.dom==V||$.contentDOM==V)}const _=function(V){return V.focusNode&&y(V.focusNode,V.focusOffset,V.anchorNode,V.anchorOffset)};function d(V,$){let ee=document.createEvent("Event");return ee.initEvent("keydown",!0,!0),ee.keyCode=V,ee.key=ee.code=$,ee}function s(V){let $=V.activeElement;for(;$&&$.shadowRoot;)$=$.shadowRoot.activeElement;return $}const w=typeof navigator!="undefined"?navigator:null,P=typeof document!="undefined"?document:null,x=w&&w.userAgent||"",M=/Edge\/(\d+)/.exec(x),N=/MSIE \d/.exec(x),C=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(x),A=!!(N||C||M),k=N?document.documentMode:C?+C[1]:M?+M[1]:0,L=!A&&/gecko\/(\d+)/i.test(x);L&&+(/Firefox\/(\d+)/.exec(x)||[0,0])[1];const K=!A&&/Chrome\/(\d+)/.exec(x),Z=!!K,J=K?+K[1]:0,q=!A&&!!w&&/Apple Computer/.test(w.vendor),ne=q&&(/Mobile\/\w+/.test(x)||!!w&&w.maxTouchPoints>2),F=ne||(w?/Mac/.test(w.platform):!1),W=/Android \d/.test(x),ie=!!P&&"webkitFontSmoothing"in P.documentElement.style,he=ie?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ye(V){return{left:0,right:V.documentElement.clientWidth,top:0,bottom:V.documentElement.clientHeight}}function fe(V,$){return typeof V=="number"?V:V[$]}function ae(V){let $=V.getBoundingClientRect(),ee=$.width/V.offsetWidth||1,R=$.height/V.offsetHeight||1;return{left:$.left,right:$.left+V.clientWidth*ee,top:$.top,bottom:$.top+V.clientHeight*R}}function oe(V,$,ee){let R=V.someProp("scrollThreshold")||0,te=V.someProp("scrollMargin")||5,ue=V.dom.ownerDocument;for(let Te=ee||V.dom;Te;Te=g(Te)){if(Te.nodeType!=1)continue;let Ue=Te,tt=Ue==ue.body,_t=tt?ye(ue):ae(Ue),dt=0,Zt=0;if($.top<_t.top+fe(R,"top")?Zt=-(_t.top-$.top+fe(te,"top")):$.bottom>_t.bottom-fe(R,"bottom")&&(Zt=$.bottom-_t.bottom+fe(te,"bottom")),$.left<_t.left+fe(R,"left")?dt=-(_t.left-$.left+fe(te,"left")):$.right>_t.right-fe(R,"right")&&(dt=$.right-_t.right+fe(te,"right")),dt||Zt)if(tt)ue.defaultView.scrollBy(dt,Zt);else{let bn=Ue.scrollLeft,Pn=Ue.scrollTop;Zt&&(Ue.scrollTop+=Zt),dt&&(Ue.scrollLeft+=dt);let Fn=Ue.scrollLeft-bn,qn=Ue.scrollTop-Pn;$={left:$.left-Fn,top:$.top-qn,right:$.right-Fn,bottom:$.bottom-qn}}if(tt)break}}function G(V){let $=V.dom.getBoundingClientRect(),ee=Math.max(0,$.top),R,te;for(let ue=($.left+$.right)/2,Te=ee+1;Te<Math.min(innerHeight,$.bottom);Te+=5){let Ue=V.root.elementFromPoint(ue,Te);if(!Ue||Ue==V.dom||!V.dom.contains(Ue))continue;let tt=Ue.getBoundingClientRect();if(tt.top>=ee-20){R=Ue,te=tt.top;break}}return{refDOM:R,refTop:te,stack:re(V.dom)}}function re(V){let $=[],ee=V.ownerDocument;for(let R=V;R&&($.push({dom:R,top:R.scrollTop,left:R.scrollLeft}),V!=ee);R=g(R));return $}function se({refDOM:V,refTop:$,stack:ee}){let R=V?V.getBoundingClientRect().top:0;le(ee,R==0?0:R-$)}function le(V,$){for(let ee=0;ee<V.length;ee++){let{dom:R,top:te,left:ue}=V[ee];R.scrollTop!=te+$&&(R.scrollTop=te+$),R.scrollLeft!=ue&&(R.scrollLeft=ue)}}let Ee=null;function ve(V){if(V.setActive)return V.setActive();if(Ee)return V.focus(Ee);let $=re(V);V.focus(Ee==null?{get preventScroll(){return Ee={preventScroll:!0},!0}}:void 0),Ee||(Ee=!1,le($,0))}function pe(V,$){let ee,R=2e8,te,ue=0,Te=$.top,Ue=$.top;for(let tt=V.firstChild,_t=0;tt;tt=tt.nextSibling,_t++){let dt;if(tt.nodeType==1)dt=tt.getClientRects();else if(tt.nodeType==3)dt=E(tt).getClientRects();else continue;for(let Zt=0;Zt<dt.length;Zt++){let bn=dt[Zt];if(bn.top<=Te&&bn.bottom>=Ue){Te=Math.max(bn.bottom,Te),Ue=Math.min(bn.top,Ue);let Pn=bn.left>$.left?bn.left-$.left:bn.right<$.left?$.left-bn.right:0;if(Pn<R){ee=tt,R=Pn,te=Pn&&ee.nodeType==3?{left:bn.right<$.left?bn.right:bn.left,top:$.top}:$,tt.nodeType==1&&Pn&&(ue=_t+($.left>=(bn.left+bn.right)/2?1:0));continue}}!ee&&($.left>=bn.right&&$.top>=bn.top||$.left>=bn.left&&$.top>=bn.bottom)&&(ue=_t+1)}}return ee&&ee.nodeType==3?me(ee,te):!ee||R&&ee.nodeType==1?{node:V,offset:ue}:pe(ee,te)}function me(V,$){let ee=V.nodeValue.length,R=document.createRange();for(let te=0;te<ee;te++){R.setEnd(V,te+1),R.setStart(V,te);let ue=Ge(R,1);if(ue.top!=ue.bottom&&Ie($,ue))return{node:V,offset:te+($.left>=(ue.left+ue.right)/2?1:0)}}return{node:V,offset:0}}function Ie(V,$){return V.left>=$.left-1&&V.left<=$.right+1&&V.top>=$.top-1&&V.top<=$.bottom+1}function _e(V,$){let ee=V.parentNode;return ee&&/^li$/i.test(ee.nodeName)&&$.left<V.getBoundingClientRect().left?ee:V}function de(V,$,ee){let{node:R,offset:te}=pe($,ee),ue=-1;if(R.nodeType==1&&!R.firstChild){let Te=R.getBoundingClientRect();ue=Te.left!=Te.right&&ee.left>(Te.left+Te.right)/2?1:-1}return V.docView.posFromDOM(R,te,ue)}function Re(V,$,ee,R){let te=-1;for(let ue=$;ue!=V.dom;){let Te=V.docView.nearestDesc(ue,!0);if(!Te)return null;if(Te.dom.nodeType==1&&(Te.node.isBlock&&Te.parent||!Te.contentDOM)){let Ue=Te.dom.getBoundingClientRect();if(Te.node.isBlock&&Te.parent&&(Ue.left>R.left||Ue.top>R.top?te=Te.posBefore:(Ue.right<R.left||Ue.bottom<R.top)&&(te=Te.posAfter)),!Te.contentDOM&&te<0)return(Te.node.isBlock?R.top<(Ue.top+Ue.bottom)/2:R.left<(Ue.left+Ue.right)/2)?Te.posBefore:Te.posAfter}ue=Te.dom.parentNode}return te>-1?te:V.docView.posFromDOM($,ee,-1)}function ke(V,$,ee){let R=V.childNodes.length;if(R&&ee.top<ee.bottom)for(let te=Math.max(0,Math.min(R-1,Math.floor(R*($.top-ee.top)/(ee.bottom-ee.top))-2)),ue=te;;){let Te=V.childNodes[ue];if(Te.nodeType==1){let Ue=Te.getClientRects();for(let tt=0;tt<Ue.length;tt++){let _t=Ue[tt];if(Ie($,_t))return ke(Te,$,_t)}}if((ue=(ue+1)%R)==te)break}return V}function Ve(V,$){let ee=V.dom.ownerDocument,R,te=0;if(ee.caretPositionFromPoint)try{let tt=ee.caretPositionFromPoint($.left,$.top);tt&&({offsetNode:R,offset:te}=tt)}catch(tt){}if(!R&&ee.caretRangeFromPoint){let tt=ee.caretRangeFromPoint($.left,$.top);tt&&({startContainer:R,startOffset:te}=tt)}let ue=(V.root.elementFromPoint?V.root:ee).elementFromPoint($.left,$.top),Te;if(!ue||!V.dom.contains(ue.nodeType!=1?ue.parentNode:ue)){let tt=V.dom.getBoundingClientRect();if(!Ie($,tt)||(ue=ke(V.dom,$,tt),!ue))return null}if(q)for(let tt=ue;R&&tt;tt=g(tt))tt.draggable&&(R=void 0);if(ue=_e(ue,$),R){if(L&&R.nodeType==1&&(te=Math.min(te,R.childNodes.length),te<R.childNodes.length)){let tt=R.childNodes[te],_t;tt.nodeName=="IMG"&&(_t=tt.getBoundingClientRect()).right<=$.left&&_t.bottom>$.top&&te++}R==V.dom&&te==R.childNodes.length-1&&R.lastChild.nodeType==1&&$.top>R.lastChild.getBoundingClientRect().bottom?Te=V.state.doc.content.size:(te==0||R.nodeType!=1||R.childNodes[te-1].nodeName!="BR")&&(Te=Re(V,R,te,$))}Te==null&&(Te=de(V,ue,$));let Ue=V.docView.nearestDesc(ue,!0);return{pos:Te,inside:Ue?Ue.posAtStart-Ue.border:-1}}function Ge(V,$){let ee=V.getClientRects();return ee.length?ee[$<0?0:ee.length-1]:V.getBoundingClientRect()}const Qe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bt(V,$,ee){let{node:R,offset:te,atom:ue}=V.docView.domFromPos($,ee<0?-1:1),Te=ie||L;if(R.nodeType==3)if(Te&&(Qe.test(R.nodeValue)||(ee<0?!te:te==R.nodeValue.length))){let tt=Ge(E(R,te,te),ee);if(L&&te&&/\s/.test(R.nodeValue[te-1])&&te<R.nodeValue.length){let _t=Ge(E(R,te-1,te-1),-1);if(_t.top==tt.top){let dt=Ge(E(R,te,te+1),-1);if(dt.top!=tt.top)return Ce(dt,dt.left<_t.left)}}return tt}else{let tt=te,_t=te,dt=ee<0?1:-1;return ee<0&&!te?(_t++,dt=-1):ee>=0&&te==R.nodeValue.length?(tt--,dt=1):ee<0?tt--:_t++,Ce(Ge(E(R,tt,_t),1),dt<0)}if(!V.state.doc.resolve($-(ue||0)).parent.inlineContent){if(ue==null&&te&&(ee<0||te==O(R))){let tt=R.childNodes[te-1];if(tt.nodeType==1)return We(tt.getBoundingClientRect(),!1)}if(ue==null&&te<O(R)){let tt=R.childNodes[te];if(tt.nodeType==1)return We(tt.getBoundingClientRect(),!0)}return We(R.getBoundingClientRect(),ee>=0)}if(ue==null&&te&&(ee<0||te==O(R))){let tt=R.childNodes[te-1],_t=tt.nodeType==3?E(tt,O(tt)-(Te?0:1)):tt.nodeType==1&&(tt.nodeName!="BR"||!tt.nextSibling)?tt:null;if(_t)return Ce(Ge(_t,1),!1)}if(ue==null&&te<O(R)){let tt=R.childNodes[te];for(;tt.pmViewDesc&&tt.pmViewDesc.ignoreForCoords;)tt=tt.nextSibling;let _t=tt?tt.nodeType==3?E(tt,0,Te?0:1):tt.nodeType==1?tt:null:null;if(_t)return Ce(Ge(_t,-1),!0)}return Ce(Ge(R.nodeType==3?E(R):R,-ee),ee>=0)}function Ce(V,$){if(V.width==0)return V;let ee=$?V.left:V.right;return{top:V.top,bottom:V.bottom,left:ee,right:ee}}function We(V,$){if(V.height==0)return V;let ee=$?V.top:V.bottom;return{top:ee,bottom:ee,left:V.left,right:V.right}}function xe(V,$,ee){let R=V.state,te=V.root.activeElement;R!=$&&V.updateState($),te!=V.dom&&V.focus();try{return ee()}finally{R!=$&&V.updateState(R),te!=V.dom&&te&&te.focus()}}function rt(V,$,ee){let R=$.selection,te=ee=="up"?R.$from:R.$to;return xe(V,$,()=>{let{node:ue}=V.docView.domFromPos(te.pos,ee=="up"?-1:1);for(;;){let Ue=V.docView.nearestDesc(ue,!0);if(!Ue)break;if(Ue.node.isBlock){ue=Ue.contentDOM||Ue.dom;break}ue=Ue.dom.parentNode}let Te=bt(V,te.pos,1);for(let Ue=ue.firstChild;Ue;Ue=Ue.nextSibling){let tt;if(Ue.nodeType==1)tt=Ue.getClientRects();else if(Ue.nodeType==3)tt=E(Ue,0,Ue.nodeValue.length).getClientRects();else continue;for(let _t=0;_t<tt.length;_t++){let dt=tt[_t];if(dt.bottom>dt.top+1&&(ee=="up"?Te.top-dt.top>(dt.bottom-Te.top)*2:dt.bottom-Te.bottom>(Te.bottom-dt.top)*2))return!1}}return!0})}const Je=/[\u0590-\u08ac]/;function ft(V,$,ee){let{$head:R}=$.selection;if(!R.parent.isTextblock)return!1;let te=R.parentOffset,ue=!te,Te=te==R.parent.content.size,Ue=V.domSelection();return!Je.test(R.parent.textContent)||!Ue.modify?ee=="left"||ee=="backward"?ue:Te:xe(V,$,()=>{let{focusNode:tt,focusOffset:_t,anchorNode:dt,anchorOffset:Zt}=V.domSelectionRange(),bn=Ue.caretBidiLevel;Ue.modify("move",ee,"character");let Pn=R.depth?V.docView.domAfterPos(R.before()):V.dom,{focusNode:Fn,focusOffset:qn}=V.domSelectionRange(),nr=Fn&&!Pn.contains(Fn.nodeType==1?Fn:Fn.parentNode)||tt==Fn&&_t==qn;try{Ue.collapse(dt,Zt),tt&&(tt!=dt||_t!=Zt)&&Ue.extend&&Ue.extend(tt,_t)}catch(mo){}return bn!=null&&(Ue.caretBidiLevel=bn),nr})}let je=null,Rt=null,Jt=!1;function Ct(V,$,ee){return je==$&&Rt==ee?Jt:(je=$,Rt=ee,Jt=ee=="up"||ee=="down"?rt(V,$,ee):ft(V,$,ee))}const Le=0,He=1,it=2,Ne=3;class Be{constructor($,ee,R,te){this.parent=$,this.children=ee,this.dom=R,this.contentDOM=te,this.dirty=Le,R.pmViewDesc=this}matchesWidget($){return!1}matchesMark($){return!1}matchesNode($,ee,R){return!1}matchesHack($){return!1}parseRule(){return null}stopEvent($){return!1}get size(){let $=0;for(let ee=0;ee<this.children.length;ee++)$+=this.children[ee].size;return $}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let $=0;$<this.children.length;$++)this.children[$].destroy()}posBeforeChild($){for(let ee=0,R=this.posAtStart;;ee++){let te=this.children[ee];if(te==$)return R;R+=te.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM($,ee,R){if(this.contentDOM&&this.contentDOM.contains($.nodeType==1?$:$.parentNode))if(R<0){let ue,Te;if($==this.contentDOM)ue=$.childNodes[ee-1];else{for(;$.parentNode!=this.contentDOM;)$=$.parentNode;ue=$.previousSibling}for(;ue&&!((Te=ue.pmViewDesc)&&Te.parent==this);)ue=ue.previousSibling;return ue?this.posBeforeChild(Te)+Te.size:this.posAtStart}else{let ue,Te;if($==this.contentDOM)ue=$.childNodes[ee];else{for(;$.parentNode!=this.contentDOM;)$=$.parentNode;ue=$.nextSibling}for(;ue&&!((Te=ue.pmViewDesc)&&Te.parent==this);)ue=ue.nextSibling;return ue?this.posBeforeChild(Te):this.posAtEnd}let te;if($==this.dom&&this.contentDOM)te=ee>c(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))te=$.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(ee==0)for(let ue=$;;ue=ue.parentNode){if(ue==this.dom){te=!1;break}if(ue.previousSibling)break}if(te==null&&ee==$.childNodes.length)for(let ue=$;;ue=ue.parentNode){if(ue==this.dom){te=!0;break}if(ue.nextSibling)break}}return(te==null?R>0:te)?this.posAtEnd:this.posAtStart}nearestDesc($,ee=!1){for(let R=!0,te=$;te;te=te.parentNode){let ue=this.getDesc(te),Te;if(ue&&(!ee||ue.node))if(R&&(Te=ue.nodeDOM)&&!(Te.nodeType==1?Te.contains($.nodeType==1?$:$.parentNode):Te==$))R=!1;else return ue}}getDesc($){let ee=$.pmViewDesc;for(let R=ee;R;R=R.parent)if(R==this)return ee}posFromDOM($,ee,R){for(let te=$;te;te=te.parentNode){let ue=this.getDesc(te);if(ue)return ue.localPosFromDOM($,ee,R)}return-1}descAt($){for(let ee=0,R=0;ee<this.children.length;ee++){let te=this.children[ee],ue=R+te.size;if(R==$&&ue!=R){for(;!te.border&&te.children.length;)te=te.children[0];return te}if($<ue)return te.descAt($-R-te.border);R=ue}}domFromPos($,ee){if(!this.contentDOM)return{node:this.dom,offset:0,atom:$+1};let R=0,te=0;for(let ue=0;R<this.children.length;R++){let Te=this.children[R],Ue=ue+Te.size;if(Ue>$||Te instanceof ce){te=$-ue;break}ue=Ue}if(te)return this.children[R].domFromPos(te-this.children[R].border,ee);for(let ue;R&&!(ue=this.children[R-1]).size&&ue instanceof ze&&ue.side>=0;R--);if(ee<=0){let ue,Te=!0;for(;ue=R?this.children[R-1]:null,!(!ue||ue.dom.parentNode==this.contentDOM);R--,Te=!1);return ue&&ee&&Te&&!ue.border&&!ue.domAtom?ue.domFromPos(ue.size,ee):{node:this.contentDOM,offset:ue?c(ue.dom)+1:0}}else{let ue,Te=!0;for(;ue=R<this.children.length?this.children[R]:null,!(!ue||ue.dom.parentNode==this.contentDOM);R++,Te=!1);return ue&&Te&&!ue.border&&!ue.domAtom?ue.domFromPos(0,ee):{node:this.contentDOM,offset:ue?c(ue.dom):this.contentDOM.childNodes.length}}}parseRange($,ee,R=0){if(this.children.length==0)return{node:this.contentDOM,from:$,to:ee,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let te=-1,ue=-1;for(let Te=R,Ue=0;;Ue++){let tt=this.children[Ue],_t=Te+tt.size;if(te==-1&&$<=_t){let dt=Te+tt.border;if($>=dt&&ee<=_t-tt.border&&tt.node&&tt.contentDOM&&this.contentDOM.contains(tt.contentDOM))return tt.parseRange($,ee,dt);$=Te;for(let Zt=Ue;Zt>0;Zt--){let bn=this.children[Zt-1];if(bn.size&&bn.dom.parentNode==this.contentDOM&&!bn.emptyChildAt(1)){te=c(bn.dom)+1;break}$-=bn.size}te==-1&&(te=0)}if(te>-1&&(_t>ee||Ue==this.children.length-1)){ee=_t;for(let dt=Ue+1;dt<this.children.length;dt++){let Zt=this.children[dt];if(Zt.size&&Zt.dom.parentNode==this.contentDOM&&!Zt.emptyChildAt(-1)){ue=c(Zt.dom);break}ee+=Zt.size}ue==-1&&(ue=this.contentDOM.childNodes.length);break}Te=_t}return{node:this.contentDOM,from:$,to:ee,fromOffset:te,toOffset:ue}}emptyChildAt($){if(this.border||!this.contentDOM||!this.children.length)return!1;let ee=this.children[$<0?0:this.children.length-1];return ee.size==0||ee.emptyChildAt($)}domAfterPos($){let{node:ee,offset:R}=this.domFromPos($,0);if(ee.nodeType!=1||R==ee.childNodes.length)throw new RangeError("No node after pos "+$);return ee.childNodes[R]}setSelection($,ee,R,te=!1){let ue=Math.min($,ee),Te=Math.max($,ee);for(let bn=0,Pn=0;bn<this.children.length;bn++){let Fn=this.children[bn],qn=Pn+Fn.size;if(ue>Pn&&Te<qn)return Fn.setSelection($-Pn-Fn.border,ee-Pn-Fn.border,R,te);Pn=qn}let Ue=this.domFromPos($,$?-1:1),tt=ee==$?Ue:this.domFromPos(ee,ee?-1:1),_t=R.getSelection(),dt=!1;if((L||q)&&$==ee){let{node:bn,offset:Pn}=Ue;if(bn.nodeType==3){if(dt=!!(Pn&&bn.nodeValue[Pn-1]==`
`),dt&&Pn==bn.nodeValue.length)for(let Fn=bn,qn;Fn;Fn=Fn.parentNode){if(qn=Fn.nextSibling){qn.nodeName=="BR"&&(Ue=tt={node:qn.parentNode,offset:c(qn)+1});break}let nr=Fn.pmViewDesc;if(nr&&nr.node&&nr.node.isBlock)break}}else{let Fn=bn.childNodes[Pn-1];dt=Fn&&(Fn.nodeName=="BR"||Fn.contentEditable=="false")}}if(L&&_t.focusNode&&_t.focusNode!=tt.node&&_t.focusNode.nodeType==1){let bn=_t.focusNode.childNodes[_t.focusOffset];bn&&bn.contentEditable=="false"&&(te=!0)}if(!(te||dt&&q)&&y(Ue.node,Ue.offset,_t.anchorNode,_t.anchorOffset)&&y(tt.node,tt.offset,_t.focusNode,_t.focusOffset))return;let Zt=!1;if((_t.extend||$==ee)&&!dt){_t.collapse(Ue.node,Ue.offset);try{$!=ee&&_t.extend(tt.node,tt.offset),Zt=!0}catch(bn){}}if(!Zt){if($>ee){let Pn=Ue;Ue=tt,tt=Pn}let bn=document.createRange();bn.setEnd(tt.node,tt.offset),bn.setStart(Ue.node,Ue.offset),_t.removeAllRanges(),_t.addRange(bn)}}ignoreMutation($){return!this.contentDOM&&$.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty($,ee){for(let R=0,te=0;te<this.children.length;te++){let ue=this.children[te],Te=R+ue.size;if(R==Te?$<=Te&&ee>=R:$<Te&&ee>R){let Ue=R+ue.border,tt=Te-ue.border;if($>=Ue&&ee<=tt){this.dirty=$==R||ee==Te?it:He,$==Ue&&ee==tt&&(ue.contentLost||ue.dom.parentNode!=this.contentDOM)?ue.dirty=Ne:ue.markDirty($-Ue,ee-Ue);return}else ue.dirty=ue.dom==ue.contentDOM&&ue.dom.parentNode==this.contentDOM&&!ue.children.length?it:Ne}R=Te}this.dirty=it}markParentsDirty(){let $=1;for(let ee=this.parent;ee;ee=ee.parent,$++){let R=$==1?it:He;ee.dirty<R&&(ee.dirty=R)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class ze extends Be{constructor($,ee,R,te){let ue,Te=ee.type.toDOM;if(typeof Te=="function"&&(Te=Te(R,()=>{if(!ue)return te;if(ue.parent)return ue.parent.posBeforeChild(ue)})),!ee.type.spec.raw){if(Te.nodeType!=1){let Ue=document.createElement("span");Ue.appendChild(Te),Te=Ue}Te.contentEditable="false",Te.classList.add("ProseMirror-widget")}super($,[],Te,null),this.widget=ee,this.widget=ee,ue=this}matchesWidget($){return this.dirty==Le&&$.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent($){let ee=this.widget.spec.stopEvent;return ee?ee($):!1}ignoreMutation($){return $.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class lt extends Be{constructor($,ee,R,te){super($,[],ee,null),this.textDOM=R,this.text=te}get size(){return this.text.length}localPosFromDOM($,ee){return $!=this.textDOM?this.posAtStart+(ee?this.size:0):this.posAtStart+ee}domFromPos($){return{node:this.textDOM,offset:$}}ignoreMutation($){return $.type==="characterData"&&$.target.nodeValue==$.oldValue}}class et extends Be{constructor($,ee,R,te){super($,[],R,te),this.mark=ee}static create($,ee,R,te){let ue=te.nodeViews[ee.type.name],Te=ue&&ue(ee,te,R);return(!Te||!Te.dom)&&(Te=f.PW.renderSpec(document,ee.type.spec.toDOM(ee,R))),new et($,ee,Te.dom,Te.contentDOM||Te.dom)}parseRule(){return this.dirty&Ne||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark($){return this.dirty!=Ne&&this.mark.eq($)}markDirty($,ee){if(super.markDirty($,ee),this.dirty!=Le){let R=this.parent;for(;!R.node;)R=R.parent;R.dirty<this.dirty&&(R.dirty=this.dirty),this.dirty=Le}}slice($,ee,R){let te=et.create(this.parent,this.mark,!0,R),ue=this.children,Te=this.size;ee<Te&&(ue=Ft(ue,ee,Te,R)),$>0&&(ue=Ft(ue,0,$,R));for(let Ue=0;Ue<ue.length;Ue++)ue[Ue].parent=te;return te.children=ue,te}}class Ae extends Be{constructor($,ee,R,te,ue,Te,Ue,tt,_t){super($,[],ue,Te),this.node=ee,this.outerDeco=R,this.innerDeco=te,this.nodeDOM=Ue,Te&&this.updateChildren(tt,_t)}static create($,ee,R,te,ue,Te){let Ue=ue.nodeViews[ee.type.name],tt,_t=Ue&&Ue(ee,ue,()=>{if(!tt)return Te;if(tt.parent)return tt.parent.posBeforeChild(tt)},R,te),dt=_t&&_t.dom,Zt=_t&&_t.contentDOM;if(ee.isText){if(!dt)dt=document.createTextNode(ee.text);else if(dt.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else dt||({dom:dt,contentDOM:Zt}=f.PW.renderSpec(document,ee.type.spec.toDOM(ee)));!Zt&&!ee.isText&&dt.nodeName!="BR"&&(dt.hasAttribute("contenteditable")||(dt.contentEditable="false"),ee.type.spec.draggable&&(dt.draggable=!0));let bn=dt;return dt=$t(dt,R,ee),_t?tt=new Pe($,ee,R,te,dt,Zt||null,bn,_t,ue,Te+1):ee.isText?new Q($,ee,R,te,dt,bn,ue):new Ae($,ee,R,te,dt,Zt||null,bn,ue,Te+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let $={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&($.preserveWhitespace="full"),!this.contentDOM)$.getContent=()=>this.node.content;else if(!this.contentLost)$.contentElement=this.contentDOM;else{for(let ee=this.children.length-1;ee>=0;ee--){let R=this.children[ee];if(this.dom.contains(R.dom.parentNode)){$.contentElement=R.dom.parentNode;break}}$.contentElement||($.getContent=()=>f.HY.empty)}return $}matchesNode($,ee,R){return this.dirty==Le&&$.eq(this.node)&&Nn(ee,this.outerDeco)&&R.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren($,ee){let R=this.node.inlineContent,te=ee,ue=$.composing?this.localCompositionInfo($,ee):null,Te=ue&&ue.pos>-1?ue:null,Ue=ue&&ue.pos<0,tt=new rr(this,Te&&Te.node,$);Lr(this.node,this.innerDeco,(_t,dt,Zt)=>{_t.spec.marks?tt.syncToMarks(_t.spec.marks,R,$):_t.type.side>=0&&!Zt&&tt.syncToMarks(dt==this.node.childCount?f.vc.none:this.node.child(dt).marks,R,$),tt.placeWidget(_t,$,te)},(_t,dt,Zt,bn)=>{tt.syncToMarks(_t.marks,R,$);let Pn;tt.findNodeMatch(_t,dt,Zt,bn)||Ue&&$.state.selection.from>te&&$.state.selection.to<te+_t.nodeSize&&(Pn=tt.findIndexWithChild(ue.node))>-1&&tt.updateNodeAt(_t,dt,Zt,Pn,$)||tt.updateNextNode(_t,dt,Zt,$,bn)||tt.addNode(_t,dt,Zt,$,te),te+=_t.nodeSize}),tt.syncToMarks([],R,$),this.node.isTextblock&&tt.addTextblockHacks(),tt.destroyRest(),(tt.changed||this.dirty==it)&&(Te&&this.protectLocalComposition($,Te),Me(this.contentDOM,this.children,$),ne&&Br(this.dom))}localCompositionInfo($,ee){let{from:R,to:te}=$.state.selection;if(!($.state.selection instanceof o.Bs)||R<ee||te>ee+this.node.content.size)return null;let ue=$.domSelectionRange(),Te=Cr(ue.focusNode,ue.focusOffset);if(!Te||!this.dom.contains(Te.parentNode))return null;if(this.node.inlineContent){let Ue=Te.nodeValue,tt=Dt(this.node.content,Ue,R-ee,te-ee);return tt<0?null:{node:Te,pos:tt,text:Ue}}else return{node:Te,pos:-1,text:""}}protectLocalComposition($,{node:ee,pos:R,text:te}){if(this.getDesc(ee))return;let ue=ee;for(;ue.parentNode!=this.contentDOM;ue=ue.parentNode){for(;ue.previousSibling;)ue.parentNode.removeChild(ue.previousSibling);for(;ue.nextSibling;)ue.parentNode.removeChild(ue.nextSibling);ue.pmViewDesc&&(ue.pmViewDesc=void 0)}let Te=new lt(this,ue,ee,te);$.input.compositionNodes.push(Te),this.children=Ft(this.children,R,R+te.length,$,Te)}update($,ee,R,te){return this.dirty==Ne||!$.sameMarkup(this.node)?!1:(this.updateInner($,ee,R,te),!0)}updateInner($,ee,R,te){this.updateOuterDeco(ee),this.node=$,this.innerDeco=R,this.contentDOM&&this.updateChildren(te,this.posAtStart),this.dirty=Le}updateOuterDeco($){if(Nn($,this.outerDeco))return;let ee=this.nodeDOM.nodeType!=1,R=this.dom;this.dom=Et(this.dom,this.nodeDOM,ut(this.outerDeco,this.node,ee),ut($,this.node,ee)),this.dom!=R&&(R.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=$}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function H(V,$,ee,R,te){return $t(R,$,V),new Ae(void 0,V,$,ee,R,R,R,te,0)}class Q extends Ae{constructor($,ee,R,te,ue,Te,Ue){super($,ee,R,te,ue,null,Te,Ue,0)}parseRule(){let $=this.nodeDOM.parentNode;for(;$&&$!=this.dom&&!$.pmIsDeco;)$=$.parentNode;return{skip:$||!0}}update($,ee,R,te){return this.dirty==Ne||this.dirty!=Le&&!this.inParent()||!$.sameMarkup(this.node)?!1:(this.updateOuterDeco(ee),(this.dirty!=Le||$.text!=this.node.text)&&$.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=$.text,te.trackWrites==this.nodeDOM&&(te.trackWrites=null)),this.node=$,this.dirty=Le,!0)}inParent(){let $=this.parent.contentDOM;for(let ee=this.nodeDOM;ee;ee=ee.parentNode)if(ee==$)return!0;return!1}domFromPos($){return{node:this.nodeDOM,offset:$}}localPosFromDOM($,ee,R){return $==this.nodeDOM?this.posAtStart+Math.min(ee,this.node.text.length):super.localPosFromDOM($,ee,R)}ignoreMutation($){return $.type!="characterData"&&$.type!="selection"}slice($,ee,R){let te=this.node.cut($,ee),ue=document.createTextNode(te.text);return new Q(this.parent,te,this.outerDeco,this.innerDeco,ue,ue,R)}markDirty($,ee){super.markDirty($,ee),this.dom!=this.nodeDOM&&($==0||ee==this.nodeDOM.nodeValue.length)&&(this.dirty=Ne)}get domAtom(){return!1}}class ce extends Be{parseRule(){return{ignore:!0}}matchesHack($){return this.dirty==Le&&this.dom.nodeName==$}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Pe extends Ae{constructor($,ee,R,te,ue,Te,Ue,tt,_t,dt){super($,ee,R,te,ue,Te,Ue,_t,dt),this.spec=tt}update($,ee,R,te){if(this.dirty==Ne)return!1;if(this.spec.update){let ue=this.spec.update($,ee,R);return ue&&this.updateInner($,ee,R,te),ue}else return!this.contentDOM&&!$.isLeaf?!1:super.update($,ee,R,te)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection($,ee,R,te){this.spec.setSelection?this.spec.setSelection($,ee,R):super.setSelection($,ee,R,te)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent($){return this.spec.stopEvent?this.spec.stopEvent($):!1}ignoreMutation($){return this.spec.ignoreMutation?this.spec.ignoreMutation($):super.ignoreMutation($)}}function Me(V,$,ee){let R=V.firstChild,te=!1;for(let ue=0;ue<$.length;ue++){let Te=$[ue],Ue=Te.dom;if(Ue.parentNode==V){for(;Ue!=R;)R=Vt(R),te=!0;R=R.nextSibling}else te=!0,V.insertBefore(Ue,R);if(Te instanceof et){let tt=R?R.previousSibling:V.lastChild;Me(Te.contentDOM,Te.children,ee),R=tt?tt.nextSibling:V.firstChild}}for(;R;)R=Vt(R),te=!0;te&&ee.trackWrites==V&&(ee.trackWrites=null)}const $e=function(V){V&&(this.nodeName=V)};$e.prototype=Object.create(null);const ct=[new $e];function ut(V,$,ee){if(V.length==0)return ct;let R=ee?ct[0]:new $e,te=[R];for(let ue=0;ue<V.length;ue++){let Te=V[ue].type.attrs;if(Te){Te.nodeName&&te.push(R=new $e(Te.nodeName));for(let Ue in Te){let tt=Te[Ue];tt!=null&&(ee&&te.length==1&&te.push(R=new $e($.isInline?"span":"div")),Ue=="class"?R.class=(R.class?R.class+" ":"")+tt:Ue=="style"?R.style=(R.style?R.style+";":"")+tt:Ue!="nodeName"&&(R[Ue]=tt))}}}return te}function Et(V,$,ee,R){if(ee==ct&&R==ct)return $;let te=$;for(let ue=0;ue<R.length;ue++){let Te=R[ue],Ue=ee[ue];if(ue){let tt;Ue&&Ue.nodeName==Te.nodeName&&te!=V&&(tt=te.parentNode)&&tt.nodeName.toLowerCase()==Te.nodeName||(tt=document.createElement(Te.nodeName),tt.pmIsDeco=!0,tt.appendChild(te),Ue=ct[0]),te=tt}Nt(te,Ue||ct[0],Te)}return te}function Nt(V,$,ee){for(let R in $)R!="class"&&R!="style"&&R!="nodeName"&&!(R in ee)&&V.removeAttribute(R);for(let R in ee)R!="class"&&R!="style"&&R!="nodeName"&&ee[R]!=$[R]&&V.setAttribute(R,ee[R]);if($.class!=ee.class){let R=$.class?$.class.split(" ").filter(Boolean):[],te=ee.class?ee.class.split(" ").filter(Boolean):[];for(let ue=0;ue<R.length;ue++)te.indexOf(R[ue])==-1&&V.classList.remove(R[ue]);for(let ue=0;ue<te.length;ue++)R.indexOf(te[ue])==-1&&V.classList.add(te[ue]);V.classList.length==0&&V.removeAttribute("class")}if($.style!=ee.style){if($.style){let R=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,te;for(;te=R.exec($.style);)V.style.removeProperty(te[1])}ee.style&&(V.style.cssText+=ee.style)}}function $t(V,$,ee){return Et(V,V,ct,ut($,ee,V.nodeType!=1))}function Nn(V,$){if(V.length!=$.length)return!1;for(let ee=0;ee<V.length;ee++)if(!V[ee].type.eq($[ee].type))return!1;return!0}function Vt(V){let $=V.nextSibling;return V.parentNode.removeChild(V),$}class rr{constructor($,ee,R){this.lock=ee,this.view=R,this.index=0,this.stack=[],this.changed=!1,this.top=$,this.preMatch=Tr($.node.content,$)}destroyBetween($,ee){if($!=ee){for(let R=$;R<ee;R++)this.top.children[R].destroy();this.top.children.splice($,ee-$),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks($,ee,R){let te=0,ue=this.stack.length>>1,Te=Math.min(ue,$.length);for(;te<Te&&(te==ue-1?this.top:this.stack[te+1<<1]).matchesMark($[te])&&$[te].type.spec.spanning!==!1;)te++;for(;te<ue;)this.destroyRest(),this.top.dirty=Le,this.index=this.stack.pop(),this.top=this.stack.pop(),ue--;for(;ue<$.length;){this.stack.push(this.top,this.index+1);let Ue=-1;for(let tt=this.index;tt<Math.min(this.index+3,this.top.children.length);tt++){let _t=this.top.children[tt];if(_t.matchesMark($[ue])&&!this.isLocked(_t.dom)){Ue=tt;break}}if(Ue>-1)Ue>this.index&&(this.changed=!0,this.destroyBetween(this.index,Ue)),this.top=this.top.children[this.index];else{let tt=et.create(this.top,$[ue],ee,R);this.top.children.splice(this.index,0,tt),this.top=tt,this.changed=!0}this.index=0,ue++}}findNodeMatch($,ee,R,te){let ue=-1,Te;if(te>=this.preMatch.index&&(Te=this.preMatch.matches[te-this.preMatch.index]).parent==this.top&&Te.matchesNode($,ee,R))ue=this.top.children.indexOf(Te,this.index);else for(let Ue=this.index,tt=Math.min(this.top.children.length,Ue+5);Ue<tt;Ue++){let _t=this.top.children[Ue];if(_t.matchesNode($,ee,R)&&!this.preMatch.matched.has(_t)){ue=Ue;break}}return ue<0?!1:(this.destroyBetween(this.index,ue),this.index++,!0)}updateNodeAt($,ee,R,te,ue){let Te=this.top.children[te];return Te.dirty==Ne&&Te.dom==Te.contentDOM&&(Te.dirty=it),Te.update($,ee,R,ue)?(this.destroyBetween(this.index,te),this.index++,!0):!1}findIndexWithChild($){for(;;){let ee=$.parentNode;if(!ee)return-1;if(ee==this.top.contentDOM){let R=$.pmViewDesc;if(R){for(let te=this.index;te<this.top.children.length;te++)if(this.top.children[te]==R)return te}return-1}$=ee}}updateNextNode($,ee,R,te,ue){for(let Te=this.index;Te<this.top.children.length;Te++){let Ue=this.top.children[Te];if(Ue instanceof Ae){let tt=this.preMatch.matched.get(Ue);if(tt!=null&&tt!=ue)return!1;let _t=Ue.dom;if(!(this.isLocked(_t)&&!($.isText&&Ue.node&&Ue.node.isText&&Ue.nodeDOM.nodeValue==$.text&&Ue.dirty!=Ne&&Nn(ee,Ue.outerDeco)))&&Ue.update($,ee,R,te))return this.destroyBetween(this.index,Te),Ue.dom!=_t&&(this.changed=!0),this.index++,!0;break}}return!1}addNode($,ee,R,te,ue){this.top.children.splice(this.index++,0,Ae.create(this.top,$,ee,R,te,ue)),this.changed=!0}placeWidget($,ee,R){let te=this.index<this.top.children.length?this.top.children[this.index]:null;if(te&&te.matchesWidget($)&&($==te.widget||!te.widget.type.toDOM.parentNode))this.index++;else{let ue=new ze(this.top,$,ee,R);this.top.children.splice(this.index++,0,ue),this.changed=!0}}addTextblockHacks(){let $=this.top.children[this.index-1],ee=this.top;for(;$ instanceof et;)ee=$,$=ee.children[ee.children.length-1];(!$||!($ instanceof Q)||/\n$/.test($.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test($.node.text))&&((q||Z)&&$&&$.dom.contentEditable=="false"&&this.addHackNode("IMG",ee),this.addHackNode("BR",this.top))}addHackNode($,ee){if(ee==this.top&&this.index<ee.children.length&&ee.children[this.index].matchesHack($))this.index++;else{let R=document.createElement($);$=="IMG"&&(R.className="ProseMirror-separator",R.alt=""),$=="BR"&&(R.className="ProseMirror-trailingBreak");let te=new ce(this.top,[],R,null);ee!=this.top?ee.children.push(te):ee.children.splice(this.index++,0,te),this.changed=!0}}isLocked($){return this.lock&&($==this.lock||$.nodeType==1&&$.contains(this.lock.parentNode))}}function Tr(V,$){let ee=$,R=ee.children.length,te=V.childCount,ue=new Map,Te=[];e:for(;te>0;){let Ue;for(;;)if(R){let _t=ee.children[R-1];if(_t instanceof et)ee=_t,R=_t.children.length;else{Ue=_t,R--;break}}else{if(ee==$)break e;R=ee.parent.children.indexOf(ee),ee=ee.parent}let tt=Ue.node;if(tt){if(tt!=V.child(te-1))break;--te,ue.set(Ue,te),Te.push(Ue)}}return{index:te,matched:ue,matches:Te.reverse()}}function cr(V,$){return V.type.side-$.type.side}function Lr(V,$,ee,R){let te=$.locals(V),ue=0;if(te.length==0){for(let _t=0;_t<V.childCount;_t++){let dt=V.child(_t);R(dt,te,$.forChild(ue,dt),_t),ue+=dt.nodeSize}return}let Te=0,Ue=[],tt=null;for(let _t=0;;){if(Te<te.length&&te[Te].to==ue){let Fn=te[Te++],qn;for(;Te<te.length&&te[Te].to==ue;)(qn||(qn=[Fn])).push(te[Te++]);if(qn){qn.sort(cr);for(let nr=0;nr<qn.length;nr++)ee(qn[nr],_t,!!tt)}else ee(Fn,_t,!!tt)}let dt,Zt;if(tt)Zt=-1,dt=tt,tt=null;else if(_t<V.childCount)Zt=_t,dt=V.child(_t++);else break;for(let Fn=0;Fn<Ue.length;Fn++)Ue[Fn].to<=ue&&Ue.splice(Fn--,1);for(;Te<te.length&&te[Te].from<=ue&&te[Te].to>ue;)Ue.push(te[Te++]);let bn=ue+dt.nodeSize;if(dt.isText){let Fn=bn;Te<te.length&&te[Te].from<Fn&&(Fn=te[Te].from);for(let qn=0;qn<Ue.length;qn++)Ue[qn].to<Fn&&(Fn=Ue[qn].to);Fn<bn&&(tt=dt.cut(Fn-ue),dt=dt.cut(0,Fn-ue),bn=Fn,Zt=-1)}let Pn=dt.isInline&&!dt.isLeaf?Ue.filter(Fn=>!Fn.inline):Ue.slice();R(dt,Pn,$.forChild(ue,dt),Zt),ue=bn}}function Br(V){if(V.nodeName=="UL"||V.nodeName=="OL"){let $=V.style.cssText;V.style.cssText=$+"; list-style: square !important",window.getComputedStyle(V).listStyle,V.style.cssText=$}}function Cr(V,$){for(;;){if(V.nodeType==3)return V;if(V.nodeType==1&&$>0){if(V.childNodes.length>$&&V.childNodes[$].nodeType==3)return V.childNodes[$];V=V.childNodes[$-1],$=O(V)}else if(V.nodeType==1&&$<V.childNodes.length)V=V.childNodes[$],$=0;else return null}}function Dt(V,$,ee,R){for(let te=0,ue=0;te<V.childCount&&ue<=R;){let Te=V.child(te++),Ue=ue;if(ue+=Te.nodeSize,!Te.isText)continue;let tt=Te.text;for(;te<V.childCount;){let _t=V.child(te++);if(ue+=_t.nodeSize,!_t.isText)break;tt+=_t.text}if(ue>=ee){let _t=Ue<R?tt.lastIndexOf($,R-Ue-1):-1;if(_t>=0&&_t+$.length+Ue>=ee)return Ue+_t;if(ee==R&&tt.length>=R+$.length-Ue&&tt.slice(R-Ue,R-Ue+$.length)==$)return R}}return-1}function Ft(V,$,ee,R,te){let ue=[];for(let Te=0,Ue=0;Te<V.length;Te++){let tt=V[Te],_t=Ue,dt=Ue+=tt.size;_t>=ee||dt<=$?ue.push(tt):(_t<$&&ue.push(tt.slice(0,$-_t,R)),te&&(ue.push(te),te=void 0),dt>ee&&ue.push(tt.slice(ee-_t,tt.size,R)))}return ue}function zt(V,$=null){let ee=V.domSelectionRange(),R=V.state.doc;if(!ee.focusNode)return null;let te=V.docView.nearestDesc(ee.focusNode),ue=te&&te.size==0,Te=V.docView.posFromDOM(ee.focusNode,ee.focusOffset,1);if(Te<0)return null;let Ue=R.resolve(Te),tt,_t;if(_(ee)){for(tt=Ue;te&&!te.node;)te=te.parent;let dt=te.node;if(te&&dt.isAtom&&o.qv.isSelectable(dt)&&te.parent&&!(dt.isInline&&I(ee.focusNode,ee.focusOffset,te.dom))){let Zt=te.posBefore;_t=new o.qv(Te==Zt?Ue:R.resolve(Zt))}}else{let dt=V.docView.posFromDOM(ee.anchorNode,ee.anchorOffset,1);if(dt<0)return null;tt=R.resolve(dt)}if(!_t){let dt=$=="pointer"||V.state.selection.head<Ue.pos&&!ue?1:-1;_t=Ur(V,tt,Ue,dt)}return _t}function sn(V){return V.editable?V.hasFocus():fo(V)&&document.activeElement&&document.activeElement.contains(V.dom)}function Un(V,$=!1){let ee=V.state.selection;if(to(V,ee),!!sn(V)){if(!$&&V.input.mouseDown&&V.input.mouseDown.allowDefault&&Z){let R=V.domSelectionRange(),te=V.domObserver.currentSelection;if(R.anchorNode&&te.anchorNode&&y(R.anchorNode,R.anchorOffset,te.anchorNode,te.anchorOffset)){V.input.mouseDown.delayedSelectionSync=!0,V.domObserver.setCurSelection();return}}if(V.domObserver.disconnectSelection(),V.cursorWrapper)uo(V);else{let{anchor:R,head:te}=ee,ue,Te;gr&&!(ee instanceof o.Bs)&&(ee.$from.parent.inlineContent||(ue=Dr(V,ee.from)),!ee.empty&&!ee.$from.parent.inlineContent&&(Te=Dr(V,ee.to))),V.docView.setSelection(R,te,V.root,$),gr&&(ue&&jr(ue),Te&&jr(Te)),ee.visible?V.dom.classList.remove("ProseMirror-hideselection"):(V.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&kr(V))}V.domObserver.setCurSelection(),V.domObserver.connectSelection()}}const gr=q||Z&&J<63;function Dr(V,$){let{node:ee,offset:R}=V.docView.domFromPos($,0),te=R<ee.childNodes.length?ee.childNodes[R]:null,ue=R?ee.childNodes[R-1]:null;if(q&&te&&te.contentEditable=="false")return Fr(te);if((!te||te.contentEditable=="false")&&(!ue||ue.contentEditable=="false")){if(te)return Fr(te);if(ue)return Fr(ue)}}function Fr(V){return V.contentEditable="true",q&&V.draggable&&(V.draggable=!1,V.wasDraggable=!0),V}function jr(V){V.contentEditable="false",V.wasDraggable&&(V.draggable=!0,V.wasDraggable=null)}function kr(V){let $=V.dom.ownerDocument;$.removeEventListener("selectionchange",V.input.hideSelectionGuard);let ee=V.domSelectionRange(),R=ee.anchorNode,te=ee.anchorOffset;$.addEventListener("selectionchange",V.input.hideSelectionGuard=()=>{(ee.anchorNode!=R||ee.anchorOffset!=te)&&($.removeEventListener("selectionchange",V.input.hideSelectionGuard),setTimeout(()=>{(!sn(V)||V.state.selection.visible)&&V.dom.classList.remove("ProseMirror-hideselection")},20))})}function uo(V){let $=V.domSelection(),ee=document.createRange(),R=V.cursorWrapper.dom,te=R.nodeName=="IMG";te?ee.setEnd(R.parentNode,c(R)+1):ee.setEnd(R,0),ee.collapse(!1),$.removeAllRanges(),$.addRange(ee),!te&&!V.state.selection.visible&&A&&k<=11&&(R.disabled=!0,R.disabled=!1)}function to(V,$){if($ instanceof o.qv){let ee=V.docView.descAt($.from);ee!=V.lastSelectedViewDesc&&(ao(V),ee&&ee.selectNode(),V.lastSelectedViewDesc=ee)}else ao(V)}function ao(V){V.lastSelectedViewDesc&&(V.lastSelectedViewDesc.parent&&V.lastSelectedViewDesc.deselectNode(),V.lastSelectedViewDesc=void 0)}function Ur(V,$,ee,R){return V.someProp("createSelectionBetween",te=>te(V,$,ee))||o.Bs.between($,ee,R)}function _o(V){return V.editable&&!V.hasFocus()?!1:fo(V)}function fo(V){let $=V.domSelectionRange();if(!$.anchorNode)return!1;try{return V.dom.contains($.anchorNode.nodeType==3?$.anchorNode.parentNode:$.anchorNode)&&(V.editable||V.dom.contains($.focusNode.nodeType==3?$.focusNode.parentNode:$.focusNode))}catch(ee){return!1}}function no(V){let $=V.docView.domFromPos(V.state.selection.anchor,0),ee=V.domSelectionRange();return y($.node,$.offset,ee.anchorNode,ee.anchorOffset)}function so(V,$){let{$anchor:ee,$head:R}=V.selection,te=$>0?ee.max(R):ee.min(R),ue=te.parent.inlineContent?te.depth?V.doc.resolve($>0?te.after():te.before()):null:te;return ue&&o.Y1.findFrom(ue,$)}function go(V,$){return V.dispatch(V.state.tr.setSelection($).scrollIntoView()),!0}function Zo(V,$,ee){let R=V.state.selection;if(R instanceof o.Bs){if(!R.empty||ee.indexOf("s")>-1)return!1;if(V.endOfTextblock($>0?"right":"left")){let te=so(V.state,$);return te&&te instanceof o.qv?go(V,te):!1}else if(!(F&&ee.indexOf("m")>-1)){let te=R.$head,ue=te.textOffset?null:$<0?te.nodeBefore:te.nodeAfter,Te;if(!ue||ue.isText)return!1;let Ue=$<0?te.pos-ue.nodeSize:te.pos;return ue.isAtom||(Te=V.docView.descAt(Ue))&&!Te.contentDOM?o.qv.isSelectable(ue)?go(V,new o.qv($<0?V.state.doc.resolve(te.pos-ue.nodeSize):te)):ie?go(V,new o.Bs(V.state.doc.resolve($<0?Ue:Ue+ue.nodeSize))):!1:!1}}else{if(R instanceof o.qv&&R.node.isInline)return go(V,new o.Bs($>0?R.$to:R.$from));{let te=so(V.state,$);return te?go(V,te):!1}}}function Co(V){return V.nodeType==3?V.nodeValue.length:V.childNodes.length}function Oo(V){let $=V.pmViewDesc;return $&&$.size==0&&(V.nextSibling||V.nodeName!="BR")}function vo(V){let $=V.domSelectionRange(),ee=$.focusNode,R=$.focusOffset;if(!ee)return;let te,ue,Te=!1;for(L&&ee.nodeType==1&&R<Co(ee)&&Oo(ee.childNodes[R])&&(Te=!0);;)if(R>0){if(ee.nodeType!=1)break;{let Ue=ee.childNodes[R-1];if(Oo(Ue))te=ee,ue=--R;else if(Ue.nodeType==3)ee=Ue,R=ee.nodeValue.length;else break}}else{if(On(ee))break;{let Ue=ee.previousSibling;for(;Ue&&Oo(Ue);)te=ee.parentNode,ue=c(Ue),Ue=Ue.previousSibling;if(Ue)ee=Ue,R=Co(ee);else{if(ee=ee.parentNode,ee==V.dom)break;R=0}}}Te?Tn(V,ee,R):te&&Tn(V,te,ue)}function on(V){let $=V.domSelectionRange(),ee=$.focusNode,R=$.focusOffset;if(!ee)return;let te=Co(ee),ue,Te;for(;;)if(R<te){if(ee.nodeType!=1)break;let Ue=ee.childNodes[R];if(Oo(Ue))ue=ee,Te=++R;else break}else{if(On(ee))break;{let Ue=ee.nextSibling;for(;Ue&&Oo(Ue);)ue=Ue.parentNode,Te=c(Ue)+1,Ue=Ue.nextSibling;if(Ue)ee=Ue,R=0,te=Co(ee);else{if(ee=ee.parentNode,ee==V.dom)break;R=te=0}}}ue&&Tn(V,ue,Te)}function On(V){let $=V.pmViewDesc;return $&&$.node&&$.node.isBlock}function Tn(V,$,ee){let R=V.domSelection();if(_(R)){let ue=document.createRange();ue.setEnd($,ee),ue.setStart($,ee),R.removeAllRanges(),R.addRange(ue)}else R.extend&&R.extend($,ee);V.domObserver.setCurSelection();let{state:te}=V;setTimeout(()=>{V.state==te&&Un(V)},50)}function Bn(V,$,ee){let R=V.state.selection;if(R instanceof o.Bs&&!R.empty||ee.indexOf("s")>-1||F&&ee.indexOf("m")>-1)return!1;let{$from:te,$to:ue}=R;if(!te.parent.inlineContent||V.endOfTextblock($<0?"up":"down")){let Te=so(V.state,$);if(Te&&Te instanceof o.qv)return go(V,Te)}if(!te.parent.inlineContent){let Te=$<0?te:ue,Ue=R instanceof o.C1?o.Y1.near(Te,$):o.Y1.findFrom(Te,$);return Ue?go(V,Ue):!1}return!1}function Tt(V,$){if(!(V.state.selection instanceof o.Bs))return!0;let{$head:ee,$anchor:R,empty:te}=V.state.selection;if(!ee.sameParent(R))return!0;if(!te)return!1;if(V.endOfTextblock($>0?"forward":"backward"))return!0;let ue=!ee.textOffset&&($<0?ee.nodeBefore:ee.nodeAfter);if(ue&&!ue.isText){let Te=V.state.tr;return $<0?Te.delete(ee.pos-ue.nodeSize,ee.pos):Te.delete(ee.pos,ee.pos+ue.nodeSize),V.dispatch(Te),!0}return!1}function Lt(V,$,ee){V.domObserver.stop(),$.contentEditable=ee,V.domObserver.start()}function Yt(V){if(!q||V.state.selection.$head.parentOffset>0)return!1;let{focusNode:$,focusOffset:ee}=V.domSelectionRange();if($&&$.nodeType==1&&ee==0&&$.firstChild&&$.firstChild.contentEditable=="false"){let R=$.firstChild;Lt(V,R,"true"),setTimeout(()=>Lt(V,R,"false"),20)}return!1}function ln(V){let $="";return V.ctrlKey&&($+="c"),V.metaKey&&($+="m"),V.altKey&&($+="a"),V.shiftKey&&($+="s"),$}function hn(V,$){let ee=$.keyCode,R=ln($);return ee==8||F&&ee==72&&R=="c"?Tt(V,-1)||vo(V):ee==46||F&&ee==68&&R=="c"?Tt(V,1)||on(V):ee==13||ee==27?!0:ee==37||F&&ee==66&&R=="c"?Zo(V,-1,R)||vo(V):ee==39||F&&ee==70&&R=="c"?Zo(V,1,R)||on(V):ee==38||F&&ee==80&&R=="c"?Bn(V,-1,R)||vo(V):ee==40||F&&ee==78&&R=="c"?Yt(V)||Bn(V,1,R)||on(V):R==(F?"m":"c")&&(ee==66||ee==73||ee==89||ee==90)}function Dn(V,$){V.someProp("transformCopied",Pn=>{$=Pn($,V)});let ee=[],{content:R,openStart:te,openEnd:ue}=$;for(;te>1&&ue>1&&R.childCount==1&&R.firstChild.childCount==1;){te--,ue--;let Pn=R.firstChild;ee.push(Pn.type.name,Pn.attrs!=Pn.type.defaultAttrs?Pn.attrs:null),R=Pn.content}let Te=V.someProp("clipboardSerializer")||f.PW.fromSchema(V.state.schema),Ue=Hn(),tt=Ue.createElement("div");tt.appendChild(Te.serializeFragment(R,{document:Ue}));let _t=tt.firstChild,dt,Zt=0;for(;_t&&_t.nodeType==1&&(dt=En[_t.nodeName.toLowerCase()]);){for(let Pn=dt.length-1;Pn>=0;Pn--){let Fn=Ue.createElement(dt[Pn]);for(;tt.firstChild;)Fn.appendChild(tt.firstChild);tt.appendChild(Fn),Zt++}_t=tt.firstChild}_t&&_t.nodeType==1&&_t.setAttribute("data-pm-slice",`${te} ${ue}${Zt?` -${Zt}`:""} ${JSON.stringify(ee)}`);let bn=V.someProp("clipboardTextSerializer",Pn=>Pn($,V))||$.content.textBetween(0,$.content.size,`

`);return{dom:tt,text:bn}}function an(V,$,ee,R,te){let ue=te.parent.type.spec.code,Te,Ue;if(!ee&&!$)return null;let tt=$&&(R||ue||!ee);if(tt){if(V.someProp("transformPastedText",bn=>{$=bn($,ue||R,V)}),ue)return $?new f.p2(f.HY.from(V.state.schema.text($.replace(/\r\n?/g,`
`))),0,0):f.p2.empty;let Zt=V.someProp("clipboardTextParser",bn=>bn($,te,R,V));if(Zt)Ue=Zt;else{let bn=te.marks(),{schema:Pn}=V.state,Fn=f.PW.fromSchema(Pn);Te=document.createElement("div"),$.split(/(?:\r\n?|\n)+/).forEach(qn=>{let nr=Te.appendChild(document.createElement("p"));qn&&nr.appendChild(Fn.serializeNode(Pn.text(qn,bn)))})}}else V.someProp("transformPastedHTML",Zt=>{ee=Zt(ee,V)}),Te=wr(ee),ie&&zr(Te);let _t=Te&&Te.querySelector("[data-pm-slice]"),dt=_t&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(_t.getAttribute("data-pm-slice")||"");if(dt&&dt[3])for(let Zt=+dt[3];Zt>0;Zt--){let bn=Te.firstChild;for(;bn&&bn.nodeType!=1;)bn=bn.nextSibling;if(!bn)break;Te=bn}if(Ue||(Ue=(V.someProp("clipboardParser")||V.someProp("domParser")||f.aw.fromSchema(V.state.schema)).parseSlice(Te,{preserveWhitespace:!!(tt||dt),context:te,ruleFromNode(bn){return bn.nodeName=="BR"&&!bn.nextSibling&&bn.parentNode&&!Mn.test(bn.parentNode.nodeName)?{ignore:!0}:null}})),dt)Ue=$r(mn(Ue,+dt[1],+dt[2]),dt[4]);else if(Ue=f.p2.maxOpen(Jn(Ue.content,te),!0),Ue.openStart||Ue.openEnd){let Zt=0,bn=0;for(let Pn=Ue.content.firstChild;Zt<Ue.openStart&&!Pn.type.spec.isolating;Zt++,Pn=Pn.firstChild);for(let Pn=Ue.content.lastChild;bn<Ue.openEnd&&!Pn.type.spec.isolating;bn++,Pn=Pn.lastChild);Ue=mn(Ue,Zt,bn)}return V.someProp("transformPasted",Zt=>{Ue=Zt(Ue,V)}),Ue}const Mn=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Jn(V,$){if(V.childCount<2)return V;for(let ee=$.depth;ee>=0;ee--){let te=$.node(ee).contentMatchAt($.index(ee)),ue,Te=[];if(V.forEach(Ue=>{if(!Te)return;let tt=te.findWrapping(Ue.type),_t;if(!tt)return Te=null;if(_t=Te.length&&ue.length&&Mt(tt,ue,Ue,Te[Te.length-1],0))Te[Te.length-1]=_t;else{Te.length&&(Te[Te.length-1]=Kt(Te[Te.length-1],ue.length));let dt=pt(Ue,tt);Te.push(dt),te=te.matchType(dt.type),ue=tt}}),Te)return f.HY.from(Te)}return V}function pt(V,$,ee=0){for(let R=$.length-1;R>=ee;R--)V=$[R].create(null,f.HY.from(V));return V}function Mt(V,$,ee,R,te){if(te<V.length&&te<$.length&&V[te]==$[te]){let ue=Mt(V,$,ee,R.lastChild,te+1);if(ue)return R.copy(R.content.replaceChild(R.childCount-1,ue));if(R.contentMatchAt(R.childCount).matchType(te==V.length-1?ee.type:V[te+1]))return R.copy(R.content.append(f.HY.from(pt(ee,V,te+1))))}}function Kt(V,$){if($==0)return V;let ee=V.content.replaceChild(V.childCount-1,Kt(V.lastChild,$-1)),R=V.contentMatchAt(V.childCount).fillBefore(f.HY.empty,!0);return V.copy(ee.append(R))}function qt(V,$,ee,R,te,ue){let Te=$<0?V.firstChild:V.lastChild,Ue=Te.content;return te<R-1&&(Ue=qt(Ue,$,ee,R,te+1,ue)),te>=ee&&(Ue=$<0?Te.contentMatchAt(0).fillBefore(Ue,V.childCount>1||ue<=te).append(Ue):Ue.append(Te.contentMatchAt(Te.childCount).fillBefore(f.HY.empty,!0))),V.replaceChild($<0?0:V.childCount-1,Te.copy(Ue))}function mn(V,$,ee){return $<V.openStart&&(V=new f.p2(qt(V.content,-1,$,V.openStart,0,V.openEnd),$,V.openEnd)),ee<V.openEnd&&(V=new f.p2(qt(V.content,1,ee,V.openEnd,0,0),V.openStart,ee)),V}const En={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wn=null;function Hn(){return wn||(wn=document.implementation.createHTMLDocument("title"))}function wr(V){let $=/^(\s*<meta [^>]*>)*/.exec(V);$&&(V=V.slice($[0].length));let ee=Hn().createElement("div"),R=/<([a-z][^>\s]+)/i.exec(V),te;if((te=R&&En[R[1].toLowerCase()])&&(V=te.map(ue=>"<"+ue+">").join("")+V+te.map(ue=>"</"+ue+">").reverse().join("")),ee.innerHTML=V,te)for(let ue=0;ue<te.length;ue++)ee=ee.querySelector(te[ue])||ee;return ee}function zr(V){let $=V.querySelectorAll(Z?"span:not([class]):not([style])":"span.Apple-converted-space");for(let ee=0;ee<$.length;ee++){let R=$[ee];R.childNodes.length==1&&R.textContent=="\xA0"&&R.parentNode&&R.parentNode.replaceChild(V.ownerDocument.createTextNode(" "),R)}}function $r(V,$){if(!V.size)return V;let ee=V.content.firstChild.type.schema,R;try{R=JSON.parse($)}catch(Ue){return V}let{content:te,openStart:ue,openEnd:Te}=V;for(let Ue=R.length-2;Ue>=0;Ue-=2){let tt=ee.nodes[R[Ue]];if(!tt||tt.hasRequiredAttrs())break;te=f.HY.from(tt.create(R[Ue+1],te)),ue++,Te++}return new f.p2(te,ue,Te)}const Or={},Gr={},yo={touchstart:!0,touchmove:!0};class Yo{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Mo(V){for(let $ in Or){let ee=Or[$];V.dom.addEventListener($,V.input.eventHandlers[$]=R=>{Si(V,R)&&!Eo(V,R)&&(V.editable||!(R.type in Gr))&&ee(V,R)},yo[$]?{passive:!0}:void 0)}q&&V.dom.addEventListener("input",()=>null),ho(V)}function po(V,$){V.input.lastSelectionOrigin=$,V.input.lastSelectionTime=Date.now()}function Jo(V){V.domObserver.stop();for(let $ in V.input.eventHandlers)V.dom.removeEventListener($,V.input.eventHandlers[$]);clearTimeout(V.input.composingTimeout),clearTimeout(V.input.lastIOSEnterFallbackTimeout)}function ho(V){V.someProp("handleDOMEvents",$=>{for(let ee in $)V.input.eventHandlers[ee]||V.dom.addEventListener(ee,V.input.eventHandlers[ee]=R=>Eo(V,R))})}function Eo(V,$){return V.someProp("handleDOMEvents",ee=>{let R=ee[$.type];return R?R(V,$)||$.defaultPrevented:!1})}function Si(V,$){if(!$.bubbles)return!0;if($.defaultPrevented)return!1;for(let ee=$.target;ee!=V.dom;ee=ee.parentNode)if(!ee||ee.nodeType==11||ee.pmViewDesc&&ee.pmViewDesc.stopEvent($))return!1;return!0}function ni(V,$){!Eo(V,$)&&Or[$.type]&&(V.editable||!($.type in Gr))&&Or[$.type](V,$)}Gr.keydown=(V,$)=>{let ee=$;if(V.input.shiftKey=ee.keyCode==16||ee.shiftKey,!ci(V,ee)&&(V.input.lastKeyCode=ee.keyCode,V.input.lastKeyCodeTime=Date.now(),!(W&&Z&&ee.keyCode==13)))if(ee.keyCode!=229&&V.domObserver.forceFlush(),ne&&ee.keyCode==13&&!ee.ctrlKey&&!ee.altKey&&!ee.metaKey){let R=Date.now();V.input.lastIOSEnter=R,V.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{V.input.lastIOSEnter==R&&(V.someProp("handleKeyDown",te=>te(V,d(13,"Enter"))),V.input.lastIOSEnter=0)},200)}else V.someProp("handleKeyDown",R=>R(V,ee))||hn(V,ee)?ee.preventDefault():po(V,"key")},Gr.keyup=(V,$)=>{$.keyCode==16&&(V.input.shiftKey=!1)},Gr.keypress=(V,$)=>{let ee=$;if(ci(V,ee)||!ee.charCode||ee.ctrlKey&&!ee.altKey||F&&ee.metaKey)return;if(V.someProp("handleKeyPress",te=>te(V,ee))){ee.preventDefault();return}let R=V.state.selection;if(!(R instanceof o.Bs)||!R.$from.sameParent(R.$to)){let te=String.fromCharCode(ee.charCode);!/[\r\n]/.test(te)&&!V.someProp("handleTextInput",ue=>ue(V,R.$from.pos,R.$to.pos,te))&&V.dispatch(V.state.tr.insertText(te).scrollIntoView()),ee.preventDefault()}};function si(V){return{left:V.clientX,top:V.clientY}}function fi(V,$){let ee=$.x-V.clientX,R=$.y-V.clientY;return ee*ee+R*R<100}function oi(V,$,ee,R,te){if(R==-1)return!1;let ue=V.state.doc.resolve(R);for(let Te=ue.depth+1;Te>0;Te--)if(V.someProp($,Ue=>Te>ue.depth?Ue(V,ee,ue.nodeAfter,ue.before(Te),te,!0):Ue(V,ee,ue.node(Te),ue.before(Te),te,!1)))return!0;return!1}function ii(V,$,ee){V.focused||V.focus();let R=V.state.tr.setSelection($);ee=="pointer"&&R.setMeta("pointer",!0),V.dispatch(R)}function Di(V,$){if($==-1)return!1;let ee=V.state.doc.resolve($),R=ee.nodeAfter;return R&&R.isAtom&&o.qv.isSelectable(R)?(ii(V,new o.qv(ee),"pointer"),!0):!1}function Mi(V,$){if($==-1)return!1;let ee=V.state.selection,R,te;ee instanceof o.qv&&(R=ee.node);let ue=V.state.doc.resolve($);for(let Te=ue.depth+1;Te>0;Te--){let Ue=Te>ue.depth?ue.nodeAfter:ue.node(Te);if(o.qv.isSelectable(Ue)){R&&ee.$from.depth>0&&Te>=ee.$from.depth&&ue.before(ee.$from.depth+1)==ee.$from.pos?te=ue.before(ee.$from.depth):te=ue.before(Te);break}}return te!=null?(ii(V,o.qv.create(V.state.doc,te),"pointer"),!0):!1}function pi(V,$,ee,R,te){return oi(V,"handleClickOn",$,ee,R)||V.someProp("handleClick",ue=>ue(V,$,R))||(te?Mi(V,ee):Di(V,ee))}function hi(V,$,ee,R){return oi(V,"handleDoubleClickOn",$,ee,R)||V.someProp("handleDoubleClick",te=>te(V,$,R))}function mi(V,$,ee,R){return oi(V,"handleTripleClickOn",$,ee,R)||V.someProp("handleTripleClick",te=>te(V,$,R))||Xo(V,ee,R)}function Xo(V,$,ee){if(ee.button!=0)return!1;let R=V.state.doc;if($==-1)return R.inlineContent?(ii(V,o.Bs.create(R,0,R.content.size),"pointer"),!0):!1;let te=R.resolve($);for(let ue=te.depth+1;ue>0;ue--){let Te=ue>te.depth?te.nodeAfter:te.node(ue),Ue=te.before(ue);if(Te.inlineContent)ii(V,o.Bs.create(R,Ue+1,Ue+1+Te.content.size),"pointer");else if(o.qv.isSelectable(Te))ii(V,o.qv.create(R,Ue),"pointer");else continue;return!0}}function Ao(V){return Pt(V)}const li=F?"metaKey":"ctrlKey";Or.mousedown=(V,$)=>{let ee=$;V.input.shiftKey=ee.shiftKey;let R=Ao(V),te=Date.now(),ue="singleClick";te-V.input.lastClick.time<500&&fi(ee,V.input.lastClick)&&!ee[li]&&(V.input.lastClick.type=="singleClick"?ue="doubleClick":V.input.lastClick.type=="doubleClick"&&(ue="tripleClick")),V.input.lastClick={time:te,x:ee.clientX,y:ee.clientY,type:ue};let Te=V.posAtCoords(si(ee));Te&&(ue=="singleClick"?(V.input.mouseDown&&V.input.mouseDown.done(),V.input.mouseDown=new ui(V,Te,ee,!!R)):(ue=="doubleClick"?hi:mi)(V,Te.pos,Te.inside,ee)?ee.preventDefault():po(V,"pointer"))};class ui{constructor($,ee,R,te){this.view=$,this.pos=ee,this.event=R,this.flushed=te,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=$.state.doc,this.selectNode=!!R[li],this.allowDefault=R.shiftKey;let ue,Te;if(ee.inside>-1)ue=$.state.doc.nodeAt(ee.inside),Te=ee.inside;else{let dt=$.state.doc.resolve(ee.pos);ue=dt.parent,Te=dt.depth?dt.before():0}const Ue=te?null:R.target,tt=Ue?$.docView.nearestDesc(Ue,!0):null;this.target=tt?tt.dom:null;let{selection:_t}=$.state;(R.button==0&&ue.type.spec.draggable&&ue.type.spec.selectable!==!1||_t instanceof o.qv&&_t.from<=Te&&_t.to>Te)&&(this.mightDrag={node:ue,pos:Te,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&L&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),$.root.addEventListener("mouseup",this.up=this.up.bind(this)),$.root.addEventListener("mousemove",this.move=this.move.bind(this)),po($,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Un(this.view)),this.view.input.mouseDown=null}up($){if(this.done(),!this.view.dom.contains($.target))return;let ee=this.pos;this.view.state.doc!=this.startDoc&&(ee=this.view.posAtCoords(si($))),this.updateAllowDefault($),this.allowDefault||!ee?po(this.view,"pointer"):pi(this.view,ee.pos,ee.inside,$,this.selectNode)?$.preventDefault():$.button==0&&(this.flushed||q&&this.mightDrag&&!this.mightDrag.node.isAtom||Z&&!this.view.state.selection.visible&&Math.min(Math.abs(ee.pos-this.view.state.selection.from),Math.abs(ee.pos-this.view.state.selection.to))<=2)?(ii(this.view,o.Y1.near(this.view.state.doc.resolve(ee.pos)),"pointer"),$.preventDefault()):po(this.view,"pointer")}move($){this.updateAllowDefault($),po(this.view,"pointer"),$.buttons==0&&this.done()}updateAllowDefault($){!this.allowDefault&&(Math.abs(this.event.x-$.clientX)>4||Math.abs(this.event.y-$.clientY)>4)&&(this.allowDefault=!0)}}Or.touchstart=V=>{V.input.lastTouch=Date.now(),Ao(V),po(V,"pointer")},Or.touchmove=V=>{V.input.lastTouch=Date.now(),po(V,"pointer")},Or.contextmenu=V=>Ao(V);function ci(V,$){return V.composing?!0:q&&Math.abs($.timeStamp-V.input.compositionEndedAt)<500?(V.input.compositionEndedAt=-2e8,!0):!1}const nt=W?5e3:-1;Gr.compositionstart=Gr.compositionupdate=V=>{if(!V.composing){V.domObserver.flush();let{state:$}=V,ee=$.selection.$from;if($.selection.empty&&($.storedMarks||!ee.textOffset&&ee.parentOffset&&ee.nodeBefore.marks.some(R=>R.type.spec.inclusive===!1)))V.markCursor=V.state.storedMarks||ee.marks(),Pt(V,!0),V.markCursor=null;else if(Pt(V),L&&$.selection.empty&&ee.parentOffset&&!ee.textOffset&&ee.nodeBefore.marks.length){let R=V.domSelectionRange();for(let te=R.focusNode,ue=R.focusOffset;te&&te.nodeType==1&&ue!=0;){let Te=ue<0?te.lastChild:te.childNodes[ue-1];if(!Te)break;if(Te.nodeType==3){V.domSelection().collapse(Te,Te.nodeValue.length);break}else te=Te,ue=-1}}V.input.composing=!0}Ze(V,nt)},Gr.compositionend=(V,$)=>{V.composing&&(V.input.composing=!1,V.input.compositionEndedAt=$.timeStamp,Ze(V,20))};function Ze(V,$){clearTimeout(V.input.composingTimeout),$>-1&&(V.input.composingTimeout=setTimeout(()=>Pt(V),$))}function Xe(V){for(V.composing&&(V.input.composing=!1,V.input.compositionEndedAt=mt());V.input.compositionNodes.length>0;)V.input.compositionNodes.pop().markParentsDirty()}function mt(){let V=document.createEvent("Event");return V.initEvent("event",!0,!0),V.timeStamp}function Pt(V,$=!1){if(!(W&&V.domObserver.flushingSoon>=0)){if(V.domObserver.forceFlush(),Xe(V),$||V.docView&&V.docView.dirty){let ee=zt(V);return ee&&!ee.eq(V.state.selection)?V.dispatch(V.state.tr.setSelection(ee)):V.updateState(V.state),!0}return!1}}function jt(V,$){if(!V.dom.parentNode)return;let ee=V.dom.parentNode.appendChild(document.createElement("div"));ee.appendChild($),ee.style.cssText="position: fixed; left: -10000px; top: 10px";let R=getSelection(),te=document.createRange();te.selectNodeContents($),V.dom.blur(),R.removeAllRanges(),R.addRange(te),setTimeout(()=>{ee.parentNode&&ee.parentNode.removeChild(ee),V.focus()},50)}const kt=A&&k<15||ne&&he<604;Or.copy=Gr.cut=(V,$)=>{let ee=$,R=V.state.selection,te=ee.type=="cut";if(R.empty)return;let ue=kt?null:ee.clipboardData,Te=R.content(),{dom:Ue,text:tt}=Dn(V,Te);ue?(ee.preventDefault(),ue.clearData(),ue.setData("text/html",Ue.innerHTML),ue.setData("text/plain",tt)):jt(V,Ue),te&&V.dispatch(V.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Oe(V){return V.openStart==0&&V.openEnd==0&&V.content.childCount==1?V.content.firstChild:null}function be(V,$){if(!V.dom.parentNode)return;let ee=V.input.shiftKey||V.state.selection.$from.parent.type.spec.code,R=V.dom.parentNode.appendChild(document.createElement(ee?"textarea":"div"));ee||(R.contentEditable="true"),R.style.cssText="position: fixed; left: -10000px; top: 10px",R.focus(),setTimeout(()=>{V.focus(),R.parentNode&&R.parentNode.removeChild(R),ee?we(V,R.value,null,V.input.shiftKey,$):we(V,R.textContent,R.innerHTML,V.input.shiftKey,$)},50)}function we(V,$,ee,R,te){let ue=an(V,$,ee,R,V.state.selection.$from);if(V.someProp("handlePaste",tt=>tt(V,te,ue||f.p2.empty)))return!0;if(!ue)return!1;let Te=Oe(ue),Ue=Te?V.state.tr.replaceSelectionWith(Te,V.input.shiftKey):V.state.tr.replaceSelection(ue);return V.dispatch(Ue.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Gr.paste=(V,$)=>{let ee=$;if(V.composing&&!W)return;let R=kt?null:ee.clipboardData;R&&we(V,R.getData("text/plain"),R.getData("text/html"),V.input.shiftKey,ee)?ee.preventDefault():be(V,ee)};class Ke{constructor($,ee){this.slice=$,this.move=ee}}const ht=F?"altKey":"ctrlKey";Or.dragstart=(V,$)=>{let ee=$,R=V.input.mouseDown;if(R&&R.done(),!ee.dataTransfer)return;let te=V.state.selection,ue=te.empty?null:V.posAtCoords(si(ee));if(!(ue&&ue.pos>=te.from&&ue.pos<=(te instanceof o.qv?te.to-1:te.to))){if(R&&R.mightDrag)V.dispatch(V.state.tr.setSelection(o.qv.create(V.state.doc,R.mightDrag.pos)));else if(ee.target&&ee.target.nodeType==1){let _t=V.docView.nearestDesc(ee.target,!0);_t&&_t.node.type.spec.draggable&&_t!=V.docView&&V.dispatch(V.state.tr.setSelection(o.qv.create(V.state.doc,_t.posBefore)))}}let Te=V.state.selection.content(),{dom:Ue,text:tt}=Dn(V,Te);ee.dataTransfer.clearData(),ee.dataTransfer.setData(kt?"Text":"text/html",Ue.innerHTML),ee.dataTransfer.effectAllowed="copyMove",kt||ee.dataTransfer.setData("text/plain",tt),V.dragging=new Ke(Te,!ee[ht])},Or.dragend=V=>{let $=V.dragging;window.setTimeout(()=>{V.dragging==$&&(V.dragging=null)},50)},Gr.dragover=Gr.dragenter=(V,$)=>$.preventDefault(),Gr.drop=(V,$)=>{let ee=$,R=V.dragging;if(V.dragging=null,!ee.dataTransfer)return;let te=V.posAtCoords(si(ee));if(!te)return;let ue=V.state.doc.resolve(te.pos),Te=R&&R.slice;Te?V.someProp("transformPasted",Fn=>{Te=Fn(Te,V)}):Te=an(V,ee.dataTransfer.getData(kt?"Text":"text/plain"),kt?null:ee.dataTransfer.getData("text/html"),!1,ue);let Ue=!!(R&&!ee[ht]);if(V.someProp("handleDrop",Fn=>Fn(V,ee,Te||f.p2.empty,Ue))){ee.preventDefault();return}if(!Te)return;ee.preventDefault();let tt=Te?(0,u.nj)(V.state.doc,ue.pos,Te):ue.pos;tt==null&&(tt=ue.pos);let _t=V.state.tr;Ue&&_t.deleteSelection();let dt=_t.mapping.map(tt),Zt=Te.openStart==0&&Te.openEnd==0&&Te.content.childCount==1,bn=_t.doc;if(Zt?_t.replaceRangeWith(dt,dt,Te.content.firstChild):_t.replaceRange(dt,dt,Te),_t.doc.eq(bn))return;let Pn=_t.doc.resolve(dt);if(Zt&&o.qv.isSelectable(Te.content.firstChild)&&Pn.nodeAfter&&Pn.nodeAfter.sameMarkup(Te.content.firstChild))_t.setSelection(new o.qv(Pn));else{let Fn=_t.mapping.map(tt);_t.mapping.maps[_t.mapping.maps.length-1].forEach((qn,nr,mo,zo)=>Fn=zo),_t.setSelection(Ur(V,Pn,_t.doc.resolve(Fn)))}V.focus(),V.dispatch(_t.setMeta("uiEvent","drop"))},Or.focus=V=>{V.input.lastFocus=Date.now(),V.focused||(V.domObserver.stop(),V.dom.classList.add("ProseMirror-focused"),V.domObserver.start(),V.focused=!0,setTimeout(()=>{V.docView&&V.hasFocus()&&!V.domObserver.currentSelection.eq(V.domSelectionRange())&&Un(V)},20))},Or.blur=(V,$)=>{let ee=$;V.focused&&(V.domObserver.stop(),V.dom.classList.remove("ProseMirror-focused"),V.domObserver.start(),ee.relatedTarget&&V.dom.contains(ee.relatedTarget)&&V.domObserver.currentSelection.clear(),V.focused=!1)},Or.beforeinput=(V,$)=>{if(Z&&W&&$.inputType=="deleteContentBackward"){V.domObserver.flushSoon();let{domChangeCount:R}=V.input;setTimeout(()=>{if(V.input.domChangeCount!=R||(V.dom.blur(),V.focus(),V.someProp("handleKeyDown",ue=>ue(V,d(8,"Backspace")))))return;let{$cursor:te}=V.state.selection;te&&te.pos>0&&V.dispatch(V.state.tr.delete(te.pos-1,te.pos).scrollIntoView())},50)}};for(let V in Gr)Or[V]=Gr[V];function vt(V,$){if(V==$)return!0;for(let ee in V)if(V[ee]!==$[ee])return!1;for(let ee in $)if(!(ee in V))return!1;return!0}class Ot{constructor($,ee){this.toDOM=$,this.spec=ee||nn,this.side=this.spec.side||0}map($,ee,R,te){let{pos:ue,deleted:Te}=$.mapResult(ee.from+te,this.side<0?-1:1);return Te?null:new Ut(ue-R,ue-R,this)}valid(){return!0}eq($){return this==$||$ instanceof Ot&&(this.spec.key&&this.spec.key==$.spec.key||this.toDOM==$.toDOM&&vt(this.spec,$.spec))}destroy($){this.spec.destroy&&this.spec.destroy($)}}class It{constructor($,ee){this.attrs=$,this.spec=ee||nn}map($,ee,R,te){let ue=$.map(ee.from+te,this.spec.inclusiveStart?-1:1)-R,Te=$.map(ee.to+te,this.spec.inclusiveEnd?1:-1)-R;return ue>=Te?null:new Ut(ue,Te,this)}valid($,ee){return ee.from<ee.to}eq($){return this==$||$ instanceof It&&vt(this.attrs,$.attrs)&&vt(this.spec,$.spec)}static is($){return $.type instanceof It}destroy(){}}class Wt{constructor($,ee){this.attrs=$,this.spec=ee||nn}map($,ee,R,te){let ue=$.mapResult(ee.from+te,1);if(ue.deleted)return null;let Te=$.mapResult(ee.to+te,-1);return Te.deleted||Te.pos<=ue.pos?null:new Ut(ue.pos-R,Te.pos-R,this)}valid($,ee){let{index:R,offset:te}=$.content.findIndex(ee.from),ue;return te==ee.from&&!(ue=$.child(R)).isText&&te+ue.nodeSize==ee.to}eq($){return this==$||$ instanceof Wt&&vt(this.attrs,$.attrs)&&vt(this.spec,$.spec)}destroy(){}}class Ut{constructor($,ee,R){this.from=$,this.to=ee,this.type=R}copy($,ee){return new Ut($,ee,this.type)}eq($,ee=0){return this.type.eq($.type)&&this.from+ee==$.from&&this.to+ee==$.to}map($,ee,R){return this.type.map($,this,ee,R)}static widget($,ee,R){return new Ut($,$,new Ot(ee,R))}static inline($,ee,R,te){return new Ut($,ee,new It(R,te))}static node($,ee,R,te){return new Ut($,ee,new Wt(R,te))}get spec(){return this.type.spec}get inline(){return this.type instanceof It}}const un=[],nn={};class dn{constructor($,ee){this.local=$.length?$:un,this.children=ee.length?ee:un}static create($,ee){return ee.length?Sr(ee,$,0,nn):An}find($,ee,R){let te=[];return this.findInner($==null?0:$,ee==null?1e9:ee,te,0,R),te}findInner($,ee,R,te,ue){for(let Te=0;Te<this.local.length;Te++){let Ue=this.local[Te];Ue.from<=ee&&Ue.to>=$&&(!ue||ue(Ue.spec))&&R.push(Ue.copy(Ue.from+te,Ue.to+te))}for(let Te=0;Te<this.children.length;Te+=3)if(this.children[Te]<ee&&this.children[Te+1]>$){let Ue=this.children[Te]+1;this.children[Te+2].findInner($-Ue,ee-Ue,R,te+Ue,ue)}}map($,ee,R){return this==An||$.maps.length==0?this:this.mapInner($,ee,0,0,R||nn)}mapInner($,ee,R,te,ue){let Te;for(let Ue=0;Ue<this.local.length;Ue++){let tt=this.local[Ue].map($,R,te);tt&&tt.type.valid(ee,tt)?(Te||(Te=[])).push(tt):ue.onRemove&&ue.onRemove(this.local[Ue].spec)}return this.children.length?_r(this.children,Te||[],$,ee,R,te,ue):Te?new dn(Te.sort(Ir),un):An}add($,ee){return ee.length?this==An?dn.create($,ee):this.addInner($,ee,0):this}addInner($,ee,R){let te,ue=0;$.forEach((Ue,tt)=>{let _t=tt+R,dt;if(dt=dr(ee,Ue,_t)){for(te||(te=this.children.slice());ue<te.length&&te[ue]<tt;)ue+=3;te[ue]==tt?te[ue+2]=te[ue+2].addInner(Ue,dt,_t+1):te.splice(ue,0,tt,tt+Ue.nodeSize,Sr(dt,Ue,_t+1,nn)),ue+=3}});let Te=ar(ue?lr(ee):ee,-R);for(let Ue=0;Ue<Te.length;Ue++)Te[Ue].type.valid($,Te[Ue])||Te.splice(Ue--,1);return new dn(Te.length?this.local.concat(Te).sort(Ir):this.local,te||this.children)}remove($){return $.length==0||this==An?this:this.removeInner($,0)}removeInner($,ee){let R=this.children,te=this.local;for(let ue=0;ue<R.length;ue+=3){let Te,Ue=R[ue]+ee,tt=R[ue+1]+ee;for(let dt=0,Zt;dt<$.length;dt++)(Zt=$[dt])&&Zt.from>Ue&&Zt.to<tt&&($[dt]=null,(Te||(Te=[])).push(Zt));if(!Te)continue;R==this.children&&(R=this.children.slice());let _t=R[ue+2].removeInner(Te,Ue+1);_t!=An?R[ue+2]=_t:(R.splice(ue,3),ue-=3)}if(te.length){for(let ue=0,Te;ue<$.length;ue++)if(Te=$[ue])for(let Ue=0;Ue<te.length;Ue++)te[Ue].eq(Te,ee)&&(te==this.local&&(te=this.local.slice()),te.splice(Ue--,1))}return R==this.children&&te==this.local?this:te.length||R.length?new dn(te,R):An}forChild($,ee){if(this==An)return this;if(ee.isLeaf)return dn.empty;let R,te;for(let Ue=0;Ue<this.children.length;Ue+=3)if(this.children[Ue]>=$){this.children[Ue]==$&&(R=this.children[Ue+2]);break}let ue=$+1,Te=ue+ee.content.size;for(let Ue=0;Ue<this.local.length;Ue++){let tt=this.local[Ue];if(tt.from<Te&&tt.to>ue&&tt.type instanceof It){let _t=Math.max(ue,tt.from)-ue,dt=Math.min(Te,tt.to)-ue;_t<dt&&(te||(te=[])).push(tt.copy(_t,dt))}}if(te){let Ue=new dn(te.sort(Ir),un);return R?new zn([Ue,R]):Ue}return R||An}eq($){if(this==$)return!0;if(!($ instanceof dn)||this.local.length!=$.local.length||this.children.length!=$.children.length)return!1;for(let ee=0;ee<this.local.length;ee++)if(!this.local[ee].eq($.local[ee]))return!1;for(let ee=0;ee<this.children.length;ee+=3)if(this.children[ee]!=$.children[ee]||this.children[ee+1]!=$.children[ee+1]||!this.children[ee+2].eq($.children[ee+2]))return!1;return!0}locals($){return ro(this.localsInner($))}localsInner($){if(this==An)return un;if($.inlineContent||!this.local.some(It.is))return this.local;let ee=[];for(let R=0;R<this.local.length;R++)this.local[R].type instanceof It||ee.push(this.local[R]);return ee}}dn.empty=new dn([],[]),dn.removeOverlap=ro;const An=dn.empty;class zn{constructor($){this.members=$}map($,ee){const R=this.members.map(te=>te.map($,ee,nn));return zn.from(R)}forChild($,ee){if(ee.isLeaf)return dn.empty;let R=[];for(let te=0;te<this.members.length;te++){let ue=this.members[te].forChild($,ee);ue!=An&&(ue instanceof zn?R=R.concat(ue.members):R.push(ue))}return zn.from(R)}eq($){if(!($ instanceof zn)||$.members.length!=this.members.length)return!1;for(let ee=0;ee<this.members.length;ee++)if(!this.members[ee].eq($.members[ee]))return!1;return!0}locals($){let ee,R=!0;for(let te=0;te<this.members.length;te++){let ue=this.members[te].localsInner($);if(ue.length)if(!ee)ee=ue;else{R&&(ee=ee.slice(),R=!1);for(let Te=0;Te<ue.length;Te++)ee.push(ue[Te])}}return ee?ro(R?ee:ee.sort(Ir)):un}static from($){switch($.length){case 0:return An;case 1:return $[0];default:return new zn($.every(ee=>ee instanceof dn)?$:$.reduce((ee,R)=>ee.concat(R instanceof dn?R:R.members),[]))}}}function _r(V,$,ee,R,te,ue,Te){let Ue=V.slice();for(let _t=0,dt=ue;_t<ee.maps.length;_t++){let Zt=0;ee.maps[_t].forEach((bn,Pn,Fn,qn)=>{let nr=qn-Fn-(Pn-bn);for(let mo=0;mo<Ue.length;mo+=3){let zo=Ue[mo+1];if(zo<0||bn>zo+dt-Zt)continue;let Qo=Ue[mo]+dt-Zt;Pn>=Qo?Ue[mo+1]=bn<=Qo?-2:-1:Fn>=te&&nr&&(Ue[mo]+=nr,Ue[mo+1]+=nr)}Zt+=nr}),dt=ee.maps[_t].map(dt,-1)}let tt=!1;for(let _t=0;_t<Ue.length;_t+=3)if(Ue[_t+1]<0){if(Ue[_t+1]==-2){tt=!0,Ue[_t+1]=-1;continue}let dt=ee.map(V[_t]+ue),Zt=dt-te;if(Zt<0||Zt>=R.content.size){tt=!0;continue}let bn=ee.map(V[_t+1]+ue,-1),Pn=bn-te,{index:Fn,offset:qn}=R.content.findIndex(Zt),nr=R.maybeChild(Fn);if(nr&&qn==Zt&&qn+nr.nodeSize==Pn){let mo=Ue[_t+2].mapInner(ee,nr,dt+1,V[_t]+ue+1,Te);mo!=An?(Ue[_t]=Zt,Ue[_t+1]=Pn,Ue[_t+2]=mo):(Ue[_t+1]=-2,tt=!0)}else tt=!0}if(tt){let _t=In(Ue,V,$,ee,te,ue,Te),dt=Sr(_t,R,0,Te);$=dt.local;for(let Zt=0;Zt<Ue.length;Zt+=3)Ue[Zt+1]<0&&(Ue.splice(Zt,3),Zt-=3);for(let Zt=0,bn=0;Zt<dt.children.length;Zt+=3){let Pn=dt.children[Zt];for(;bn<Ue.length&&Ue[bn]<Pn;)bn+=3;Ue.splice(bn,0,dt.children[Zt],dt.children[Zt+1],dt.children[Zt+2])}}return new dn($.sort(Ir),Ue)}function ar(V,$){if(!$||!V.length)return V;let ee=[];for(let R=0;R<V.length;R++){let te=V[R];ee.push(new Ut(te.from+$,te.to+$,te.type))}return ee}function In(V,$,ee,R,te,ue,Te){function Ue(tt,_t){for(let dt=0;dt<tt.local.length;dt++){let Zt=tt.local[dt].map(R,te,_t);Zt?ee.push(Zt):Te.onRemove&&Te.onRemove(tt.local[dt].spec)}for(let dt=0;dt<tt.children.length;dt+=3)Ue(tt.children[dt+2],tt.children[dt]+_t+1)}for(let tt=0;tt<V.length;tt+=3)V[tt+1]==-1&&Ue(V[tt+2],$[tt]+ue+1);return ee}function dr(V,$,ee){if($.isLeaf)return null;let R=ee+$.nodeSize,te=null;for(let ue=0,Te;ue<V.length;ue++)(Te=V[ue])&&Te.from>ee&&Te.to<R&&((te||(te=[])).push(Te),V[ue]=null);return te}function lr(V){let $=[];for(let ee=0;ee<V.length;ee++)V[ee]!=null&&$.push(V[ee]);return $}function Sr(V,$,ee,R){let te=[],ue=!1;$.forEach((Ue,tt)=>{let _t=dr(V,Ue,tt+ee);if(_t){ue=!0;let dt=Sr(_t,Ue,ee+tt+1,R);dt!=An&&te.push(tt,tt+Ue.nodeSize,dt)}});let Te=ar(ue?lr(V):V,-ee).sort(Ir);for(let Ue=0;Ue<Te.length;Ue++)Te[Ue].type.valid($,Te[Ue])||(R.onRemove&&R.onRemove(Te[Ue].spec),Te.splice(Ue--,1));return Te.length||te.length?new dn(Te,te):An}function Ir(V,$){return V.from-$.from||V.to-$.to}function ro(V){let $=V;for(let ee=0;ee<$.length-1;ee++){let R=$[ee];if(R.from!=R.to)for(let te=ee+1;te<$.length;te++){let ue=$[te];if(ue.from==R.from){ue.to!=R.to&&($==V&&($=V.slice()),$[te]=ue.copy(ue.from,R.to),co($,te+1,ue.copy(R.to,ue.to)));continue}else{ue.from<R.to&&($==V&&($=V.slice()),$[ee]=R.copy(R.from,ue.from),co($,te,R.copy(ue.from,R.to)));break}}}return $}function co(V,$,ee){for(;$<V.length&&Ir(ee,V[$])>0;)$++;V.splice($,0,ee)}function So(V){let $=[];return V.someProp("decorations",ee=>{let R=ee(V.state);R&&R!=An&&$.push(R)}),V.cursorWrapper&&$.push(dn.create(V.state.doc,[V.cursorWrapper.deco])),zn.from($)}const Bo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ko=A&&k<=11;class Vo{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set($){this.anchorNode=$.anchorNode,this.anchorOffset=$.anchorOffset,this.focusNode=$.focusNode,this.focusOffset=$.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq($){return $.anchorNode==this.anchorNode&&$.anchorOffset==this.anchorOffset&&$.focusNode==this.focusNode&&$.focusOffset==this.focusOffset}}class vi{constructor($,ee){this.view=$,this.handleDOMChange=ee,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Vo,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(R=>{for(let te=0;te<R.length;te++)this.queue.push(R[te]);A&&k<=11&&R.some(te=>te.type=="childList"&&te.removedNodes.length||te.type=="characterData"&&te.oldValue.length>te.target.nodeValue.length)?this.flushSoon():this.flush()}),ko&&(this.onCharData=R=>{this.queue.push({target:R.target,type:"characterData",oldValue:R.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Bo)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let $=this.observer.takeRecords();if($.length){for(let ee=0;ee<$.length;ee++)this.queue.push($[ee]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_o(this.view)){if(this.suppressingSelectionUpdates)return Un(this.view);if(A&&k<=11&&!this.view.state.selection.empty){let $=this.view.domSelectionRange();if($.focusNode&&y($.focusNode,$.focusOffset,$.anchorNode,$.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange($){if(!$.focusNode)return!0;let ee=new Set,R;for(let ue=$.focusNode;ue;ue=g(ue))ee.add(ue);for(let ue=$.anchorNode;ue;ue=g(ue))if(ee.has(ue)){R=ue;break}let te=R&&this.view.docView.nearestDesc(R);if(te&&te.ignoreMutation({type:"selection",target:R.nodeType==3?R.parentNode:R}))return this.setCurSelection(),!0}flush(){let{view:$}=this;if(!$.docView||this.flushingSoon>-1)return;let ee=this.observer?this.observer.takeRecords():[];this.queue.length&&(ee=this.queue.concat(ee),this.queue.length=0);let R=$.domSelectionRange(),te=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(R)&&_o($)&&!this.ignoreSelectionChange(R),ue=-1,Te=-1,Ue=!1,tt=[];if($.editable)for(let dt=0;dt<ee.length;dt++){let Zt=this.registerMutation(ee[dt],tt);Zt&&(ue=ue<0?Zt.from:Math.min(Zt.from,ue),Te=Te<0?Zt.to:Math.max(Zt.to,Te),Zt.typeOver&&(Ue=!0))}if(L&&tt.length>1){let dt=tt.filter(Zt=>Zt.nodeName=="BR");if(dt.length==2){let Zt=dt[0],bn=dt[1];Zt.parentNode&&Zt.parentNode.parentNode==bn.parentNode?bn.remove():Zt.remove()}}let _t=null;ue<0&&te&&$.input.lastFocus>Date.now()-200&&Math.max($.input.lastTouch,$.input.lastClick.time)<Date.now()-300&&_(R)&&(_t=zt($))&&_t.eq(o.Y1.near($.state.doc.resolve(0),1))?($.input.lastFocus=0,Un($),this.currentSelection.set(R),$.scrollToSelection()):(ue>-1||te)&&(ue>-1&&($.docView.markDirty(ue,Te),Fo($)),this.handleDOMChange(ue,Te,Ue,tt),$.docView&&$.docView.dirty?$.updateState($.state):this.currentSelection.eq(R)||Un($),this.currentSelection.set(R))}registerMutation($,ee){if(ee.indexOf($.target)>-1)return null;let R=this.view.docView.nearestDesc($.target);if($.type=="attributes"&&(R==this.view.docView||$.attributeName=="contenteditable"||$.attributeName=="style"&&!$.oldValue&&!$.target.getAttribute("style"))||!R||R.ignoreMutation($))return null;if($.type=="childList"){for(let dt=0;dt<$.addedNodes.length;dt++)ee.push($.addedNodes[dt]);if(R.contentDOM&&R.contentDOM!=R.dom&&!R.contentDOM.contains($.target))return{from:R.posBefore,to:R.posAfter};let te=$.previousSibling,ue=$.nextSibling;if(A&&k<=11&&$.addedNodes.length)for(let dt=0;dt<$.addedNodes.length;dt++){let{previousSibling:Zt,nextSibling:bn}=$.addedNodes[dt];(!Zt||Array.prototype.indexOf.call($.addedNodes,Zt)<0)&&(te=Zt),(!bn||Array.prototype.indexOf.call($.addedNodes,bn)<0)&&(ue=bn)}let Te=te&&te.parentNode==$.target?c(te)+1:0,Ue=R.localPosFromDOM($.target,Te,-1),tt=ue&&ue.parentNode==$.target?c(ue):$.target.childNodes.length,_t=R.localPosFromDOM($.target,tt,1);return{from:Ue,to:_t}}else return $.type=="attributes"?{from:R.posAtStart-R.border,to:R.posAtEnd+R.border}:{from:R.posAtStart,to:R.posAtEnd,typeOver:$.target.nodeValue==$.oldValue}}}let Vi=new WeakMap,Ti=!1;function Fo(V){if(!Vi.has(V)&&(Vi.set(V,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(V.dom).whiteSpace)!==-1)){if(V.requiresGeckoHackNode=L,Ti)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ti=!0}}function ot(V){let $;function ee(tt){tt.preventDefault(),tt.stopImmediatePropagation(),$=tt.getTargetRanges()[0]}V.dom.addEventListener("beforeinput",ee,!0),document.execCommand("indent"),V.dom.removeEventListener("beforeinput",ee,!0);let R=$.startContainer,te=$.startOffset,ue=$.endContainer,Te=$.endOffset,Ue=V.domAtPos(V.state.selection.anchor);return y(Ue.node,Ue.offset,ue,Te)&&([R,te,ue,Te]=[ue,Te,R,te]),{anchorNode:R,anchorOffset:te,focusNode:ue,focusOffset:Te}}function at(V,$,ee){let{node:R,fromOffset:te,toOffset:ue,from:Te,to:Ue}=V.docView.parseRange($,ee),tt=V.domSelectionRange(),_t,dt=tt.anchorNode;if(dt&&V.dom.contains(dt.nodeType==1?dt:dt.parentNode)&&(_t=[{node:dt,offset:tt.anchorOffset}],_(tt)||_t.push({node:tt.focusNode,offset:tt.focusOffset})),Z&&V.input.lastKeyCode===8)for(let nr=ue;nr>te;nr--){let mo=R.childNodes[nr-1],zo=mo.pmViewDesc;if(mo.nodeName=="BR"&&!zo){ue=nr;break}if(!zo||zo.size)break}let Zt=V.state.doc,bn=V.someProp("domParser")||f.aw.fromSchema(V.state.schema),Pn=Zt.resolve(Te),Fn=null,qn=bn.parse(R,{topNode:Pn.parent,topMatch:Pn.parent.contentMatchAt(Pn.index()),topOpen:!0,from:te,to:ue,preserveWhitespace:Pn.parent.type.whitespace=="pre"?"full":!0,findPositions:_t,ruleFromNode:St,context:Pn});if(_t&&_t[0].pos!=null){let nr=_t[0].pos,mo=_t[1]&&_t[1].pos;mo==null&&(mo=nr),Fn={anchor:nr+Te,head:mo+Te}}return{doc:qn,sel:Fn,from:Te,to:Ue}}function St(V){let $=V.pmViewDesc;if($)return $.parseRule();if(V.nodeName=="BR"&&V.parentNode){if(q&&/^(ul|ol)$/i.test(V.parentNode.nodeName)){let ee=document.createElement("div");return ee.appendChild(document.createElement("li")),{skip:ee}}else if(V.parentNode.lastChild==V||q&&/^(tr|table)$/i.test(V.parentNode.nodeName))return{ignore:!0}}else if(V.nodeName=="IMG"&&V.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Qt(V,$,ee,R,te){if($<0){let Zr=V.input.lastSelectionTime>Date.now()-50?V.input.lastSelectionOrigin:null,yi=zt(V,Zr);if(yi&&!V.state.selection.eq(yi)){if(Z&&W&&V.input.lastKeyCode===13&&Date.now()-100<V.input.lastKeyCodeTime&&V.someProp("handleKeyDown",Pa=>Pa(V,d(13,"Enter"))))return;let Ki=V.state.tr.setSelection(yi);Zr=="pointer"?Ki.setMeta("pointer",!0):Zr=="key"&&Ki.scrollIntoView(),V.dispatch(Ki)}return}let ue=V.state.doc.resolve($),Te=ue.sharedDepth(ee);$=ue.before(Te+1),ee=V.state.doc.resolve(ee).after(Te+1);let Ue=V.state.selection,tt=at(V,$,ee),_t=V.state.doc,dt=_t.slice(tt.from,tt.to),Zt,bn;V.input.lastKeyCode===8&&Date.now()-100<V.input.lastKeyCodeTime?(Zt=V.state.selection.to,bn="end"):(Zt=V.state.selection.from,bn="start"),V.input.lastKeyCode=null;let Pn=$n(dt.content,tt.doc.content,tt.from,Zt,bn);if((ne&&V.input.lastIOSEnter>Date.now()-225||W)&&te.some(Zr=>Zr.nodeName=="DIV"||Zr.nodeName=="P"||Zr.nodeName=="LI")&&(!Pn||Pn.endA>=Pn.endB)&&V.someProp("handleKeyDown",Zr=>Zr(V,d(13,"Enter")))){V.input.lastIOSEnter=0;return}if(!Pn)if(R&&Ue instanceof o.Bs&&!Ue.empty&&Ue.$head.sameParent(Ue.$anchor)&&!V.composing&&!(tt.sel&&tt.sel.anchor!=tt.sel.head))Pn={start:Ue.from,endA:Ue.to,endB:Ue.to};else{if(tt.sel){let Zr=rn(V,V.state.doc,tt.sel);Zr&&!Zr.eq(V.state.selection)&&V.dispatch(V.state.tr.setSelection(Zr))}return}if(Z&&V.cursorWrapper&&tt.sel&&tt.sel.anchor==V.cursorWrapper.deco.from&&tt.sel.head==tt.sel.anchor){let Zr=Pn.endB-Pn.start;tt.sel={anchor:tt.sel.anchor+Zr,head:tt.sel.anchor+Zr}}V.input.domChangeCount++,V.state.selection.from<V.state.selection.to&&Pn.start==Pn.endB&&V.state.selection instanceof o.Bs&&(Pn.start>V.state.selection.from&&Pn.start<=V.state.selection.from+2&&V.state.selection.from>=tt.from?Pn.start=V.state.selection.from:Pn.endA<V.state.selection.to&&Pn.endA>=V.state.selection.to-2&&V.state.selection.to<=tt.to&&(Pn.endB+=V.state.selection.to-Pn.endA,Pn.endA=V.state.selection.to)),A&&k<=11&&Pn.endB==Pn.start+1&&Pn.endA==Pn.start&&Pn.start>tt.from&&tt.doc.textBetween(Pn.start-tt.from-1,Pn.start-tt.from+1)==" \xA0"&&(Pn.start--,Pn.endA--,Pn.endB--);let Fn=tt.doc.resolveNoCache(Pn.start-tt.from),qn=tt.doc.resolveNoCache(Pn.endB-tt.from),nr=_t.resolve(Pn.start),mo=Fn.sameParent(qn)&&Fn.parent.inlineContent&&nr.end()>=Pn.endA,zo;if((ne&&V.input.lastIOSEnter>Date.now()-225&&(!mo||te.some(Zr=>Zr.nodeName=="DIV"||Zr.nodeName=="P"))||!mo&&Fn.pos<tt.doc.content.size&&(zo=o.Y1.findFrom(tt.doc.resolve(Fn.pos+1),1,!0))&&zo.head==qn.pos)&&V.someProp("handleKeyDown",Zr=>Zr(V,d(13,"Enter")))){V.input.lastIOSEnter=0;return}if(V.state.selection.anchor>Pn.start&&Cn(_t,Pn.start,Pn.endA,Fn,qn)&&V.someProp("handleKeyDown",Zr=>Zr(V,d(8,"Backspace")))){W&&Z&&V.domObserver.suppressSelectionUpdates();return}Z&&W&&Pn.endB==Pn.start&&(V.input.lastAndroidDelete=Date.now()),W&&!mo&&Fn.start()!=qn.start()&&qn.parentOffset==0&&Fn.depth==qn.depth&&tt.sel&&tt.sel.anchor==tt.sel.head&&tt.sel.head==Pn.endA&&(Pn.endB-=2,qn=tt.doc.resolveNoCache(Pn.endB-tt.from),setTimeout(()=>{V.someProp("handleKeyDown",function(Zr){return Zr(V,d(13,"Enter"))})},20));let Qo=Pn.start,_i=Pn.endA,jo,Ai,ta;if(mo){if(Fn.pos==qn.pos)A&&k<=11&&Fn.parentOffset==0&&(V.domObserver.suppressSelectionUpdates(),setTimeout(()=>Un(V),20)),jo=V.state.tr.delete(Qo,_i),Ai=_t.resolve(Pn.start).marksAcross(_t.resolve(Pn.endA));else if(Pn.endA==Pn.endB&&(ta=vn(Fn.parent.content.cut(Fn.parentOffset,qn.parentOffset),nr.parent.content.cut(nr.parentOffset,Pn.endA-nr.start()))))jo=V.state.tr,ta.type=="add"?jo.addMark(Qo,_i,ta.mark):jo.removeMark(Qo,_i,ta.mark);else if(Fn.parent.child(Fn.index()).isText&&Fn.index()==qn.index()-(qn.textOffset?0:1)){let Zr=Fn.parent.textBetween(Fn.parentOffset,qn.parentOffset);if(V.someProp("handleTextInput",yi=>yi(V,Qo,_i,Zr)))return;jo=V.state.tr.insertText(Zr,Qo,_i)}}if(jo||(jo=V.state.tr.replace(Qo,_i,tt.doc.slice(Pn.start-tt.from,Pn.endB-tt.from))),tt.sel){let Zr=rn(V,jo.doc,tt.sel);Zr&&!(Z&&W&&V.composing&&Zr.empty&&(Pn.start!=Pn.endB||V.input.lastAndroidDelete<Date.now()-100)&&(Zr.head==Qo||Zr.head==jo.mapping.map(_i)-1)||A&&Zr.empty&&Zr.head==Qo)&&jo.setSelection(Zr)}Ai&&jo.ensureMarks(Ai),V.dispatch(jo.scrollIntoView())}function rn(V,$,ee){return Math.max(ee.anchor,ee.head)>$.content.size?null:Ur(V,$.resolve(ee.anchor),$.resolve(ee.head))}function vn(V,$){let ee=V.firstChild.marks,R=$.firstChild.marks,te=ee,ue=R,Te,Ue,tt;for(let dt=0;dt<R.length;dt++)te=R[dt].removeFromSet(te);for(let dt=0;dt<ee.length;dt++)ue=ee[dt].removeFromSet(ue);if(te.length==1&&ue.length==0)Ue=te[0],Te="add",tt=dt=>dt.mark(Ue.addToSet(dt.marks));else if(te.length==0&&ue.length==1)Ue=ue[0],Te="remove",tt=dt=>dt.mark(Ue.removeFromSet(dt.marks));else return null;let _t=[];for(let dt=0;dt<$.childCount;dt++)_t.push(tt($.child(dt)));if(f.HY.from(_t).eq(V))return{mark:Ue,type:Te}}function Cn(V,$,ee,R,te){if(!R.parent.isTextblock||ee-$<=te.pos-R.pos||Ln(R,!0,!1)<te.pos)return!1;let ue=V.resolve($);if(ue.parentOffset<ue.parent.content.size||!ue.parent.isTextblock)return!1;let Te=V.resolve(Ln(ue,!0,!0));return!Te.parent.isTextblock||Te.pos>ee||Ln(Te,!0,!1)<ee?!1:R.parent.content.cut(R.parentOffset).eq(Te.parent.content)}function Ln(V,$,ee){let R=V.depth,te=$?V.end():V.pos;for(;R>0&&($||V.indexAfter(R)==V.node(R).childCount);)R--,te++,$=!1;if(ee){let ue=V.node(R).maybeChild(V.indexAfter(R));for(;ue&&!ue.isLeaf;)ue=ue.firstChild,te++}return te}function $n(V,$,ee,R,te){let ue=V.findDiffStart($,ee);if(ue==null)return null;let{a:Te,b:Ue}=V.findDiffEnd($,ee+V.size,ee+$.size);if(te=="end"){let tt=Math.max(0,ue-Math.min(Te,Ue));R-=Te+tt-ue}if(Te<ue&&V.size<$.size){let tt=R<=ue&&R>=Te?ue-R:0;ue-=tt,Ue=ue+(Ue-Te),Te=ue}else if(Ue<ue){let tt=R<=ue&&R>=Ue?ue-R:0;ue-=tt,Te=ue+(Te-Ue),Ue=ue}return{start:ue,endA:Te,endB:Ue}}const sr=null,er=null,Wr=null;class Hr{constructor($,ee){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Yo,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=ee,this.state=ee.state,this.directPlugins=ee.plugins||[],this.directPlugins.forEach(Vr),this.dispatch=this.dispatch.bind(this),this.dom=$&&$.mount||document.createElement("div"),$&&($.appendChild?$.appendChild(this.dom):typeof $=="function"?$(this.dom):$.mount&&(this.mounted=!0)),this.editable=Pr(this),Mr(this),this.nodeViews=pr(this),this.docView=H(this.state.doc,xr(this),So(this),this.dom,this),this.domObserver=new vi(this,(R,te,ue,Te)=>Qt(this,R,te,ue,Te)),this.domObserver.start(),Mo(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let $=this._props;this._props={};for(let ee in $)this._props[ee]=$[ee];this._props.state=this.state}return this._props}update($){$.handleDOMEvents!=this._props.handleDOMEvents&&ho(this);let ee=this._props;this._props=$,$.plugins&&($.plugins.forEach(Vr),this.directPlugins=$.plugins),this.updateStateInner($.state,ee)}setProps($){let ee={};for(let R in this._props)ee[R]=this._props[R];ee.state=this.state;for(let R in $)ee[R]=$[R];this.update(ee)}updateState($){this.updateStateInner($,this._props)}updateStateInner($,ee){let R=this.state,te=!1,ue=!1;$.storedMarks&&this.composing&&(Xe(this),ue=!0),this.state=$;let Te=R.plugins!=$.plugins||this._props.plugins!=ee.plugins;if(Te||this._props.plugins!=ee.plugins||this._props.nodeViews!=ee.nodeViews){let bn=pr(this);Rr(bn,this.nodeViews)&&(this.nodeViews=bn,te=!0)}(Te||ee.handleDOMEvents!=this._props.handleDOMEvents)&&ho(this),this.editable=Pr(this),Mr(this);let Ue=So(this),tt=xr(this),_t=R.plugins!=$.plugins&&!R.doc.eq($.doc)?"reset":$.scrollToSelection>R.scrollToSelection?"to selection":"preserve",dt=te||!this.docView.matchesNode($.doc,tt,Ue);(dt||!$.selection.eq(R.selection))&&(ue=!0);let Zt=_t=="preserve"&&ue&&this.dom.style.overflowAnchor==null&&G(this);if(ue){this.domObserver.stop();let bn=dt&&(A||Z)&&!this.composing&&!R.selection.empty&&!$.selection.empty&&Er(R.selection,$.selection);if(dt){let Pn=Z?this.trackWrites=this.domSelectionRange().focusNode:null;(te||!this.docView.update($.doc,tt,Ue,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=H($.doc,tt,Ue,this.dom,this)),Pn&&!this.trackWrites&&(bn=!0)}bn||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&no(this))?Un(this,bn):(to(this,$.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(R),_t=="reset"?this.dom.scrollTop=0:_t=="to selection"?this.scrollToSelection():Zt&&se(Zt)}scrollToSelection(){let $=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",ee=>ee(this)))if(this.state.selection instanceof o.qv){let ee=this.docView.domAfterPos(this.state.selection.from);ee.nodeType==1&&oe(this,ee.getBoundingClientRect(),$)}else oe(this,this.coordsAtPos(this.state.selection.head,1),$)}destroyPluginViews(){let $;for(;$=this.pluginViews.pop();)$.destroy&&$.destroy()}updatePluginViews($){if(!$||$.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let ee=0;ee<this.directPlugins.length;ee++){let R=this.directPlugins[ee];R.spec.view&&this.pluginViews.push(R.spec.view(this))}for(let ee=0;ee<this.state.plugins.length;ee++){let R=this.state.plugins[ee];R.spec.view&&this.pluginViews.push(R.spec.view(this))}}else for(let ee=0;ee<this.pluginViews.length;ee++){let R=this.pluginViews[ee];R.update&&R.update(this,$)}}someProp($,ee){let R=this._props&&this._props[$],te;if(R!=null&&(te=ee?ee(R):R))return te;for(let Te=0;Te<this.directPlugins.length;Te++){let Ue=this.directPlugins[Te].props[$];if(Ue!=null&&(te=ee?ee(Ue):Ue))return te}let ue=this.state.plugins;if(ue)for(let Te=0;Te<ue.length;Te++){let Ue=ue[Te].props[$];if(Ue!=null&&(te=ee?ee(Ue):Ue))return te}}hasFocus(){if(A){let $=this.root.activeElement;if($==this.dom)return!0;if(!$||!this.dom.contains($))return!1;for(;$&&this.dom!=$&&this.dom.contains($);){if($.contentEditable=="false")return!1;$=$.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ve(this.dom),Un(this),this.domObserver.start()}get root(){let $=this._root;if($==null){for(let ee=this.dom.parentNode;ee;ee=ee.parentNode)if(ee.nodeType==9||ee.nodeType==11&&ee.host)return ee.getSelection||(Object.getPrototypeOf(ee).getSelection=()=>ee.ownerDocument.getSelection()),this._root=ee}return $||document}posAtCoords($){return Ve(this,$)}coordsAtPos($,ee=1){return bt(this,$,ee)}domAtPos($,ee=0){return this.docView.domFromPos($,ee)}nodeDOM($){let ee=this.docView.descAt($);return ee?ee.nodeDOM:null}posAtDOM($,ee,R=-1){let te=this.docView.posFromDOM($,ee,R);if(te==null)throw new RangeError("DOM position not inside the editor");return te}endOfTextblock($,ee){return Ct(this,ee||this.state,$)}pasteHTML($,ee){return we(this,"",$,!1,ee||new ClipboardEvent("paste"))}pasteText($,ee){return we(this,$,null,!0,ee||new ClipboardEvent("paste"))}destroy(){this.docView&&(Jo(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],So(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent($){return ni(this,$)}dispatch($){let ee=this._props.dispatchTransaction;ee?ee.call(this,$):this.updateState(this.state.apply($))}domSelectionRange(){return q&&this.root.nodeType===11&&s(this.dom.ownerDocument)==this.dom?ot(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function xr(V){let $=Object.create(null);return $.class="ProseMirror",$.contenteditable=String(V.editable),$.translate="no",V.someProp("attributes",ee=>{if(typeof ee=="function"&&(ee=ee(V.state)),ee)for(let R in ee)R=="class"&&($.class+=" "+ee[R]),R=="style"?$.style=($.style?$.style+";":"")+ee[R]:!$[R]&&R!="contenteditable"&&R!="nodeName"&&($[R]=String(ee[R]))}),[Ut.node(0,V.state.doc.content.size,$)]}function Mr(V){if(V.markCursor){let $=document.createElement("img");$.className="ProseMirror-separator",$.setAttribute("mark-placeholder","true"),$.setAttribute("alt",""),V.cursorWrapper={dom:$,deco:Ut.widget(V.state.selection.head,$,{raw:!0,marks:V.markCursor})}}else V.cursorWrapper=null}function Pr(V){return!V.someProp("editable",$=>$(V.state)===!1)}function Er(V,$){let ee=Math.min(V.$anchor.sharedDepth(V.head),$.$anchor.sharedDepth($.head));return V.$anchor.start(ee)!=$.$anchor.start(ee)}function pr(V){let $=Object.create(null);function ee(R){for(let te in R)Object.prototype.hasOwnProperty.call($,te)||($[te]=R[te])}return V.someProp("nodeViews",ee),V.someProp("markViews",ee),$}function Rr(V,$){let ee=0,R=0;for(let te in V){if(V[te]!=$[te])return!0;ee++}for(let te in $)R++;return ee!=R}function Vr(V){if(V.spec.state||V.spec.filterTransaction||V.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},83757:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>lt,kY:()=>rt});var o=e(98661),f=e(61688);const u=()=>{},c=u(),g=Object,v=et=>et===c,E=et=>typeof et=="function",y=(et,Ae)=>ir(ir({},et),Ae),p=et=>E(et.then),T=new WeakMap;let O=0;const I=et=>{const Ae=typeof et,H=et&&et.constructor,Q=H==Date;let ce,Pe;if(g(et)===et&&!Q&&H!=RegExp){if(ce=T.get(et),ce)return ce;if(ce=++O+"~",T.set(et,ce),H==Array){for(ce="@",Pe=0;Pe<et.length;Pe++)ce+=I(et[Pe])+",";T.set(et,ce)}if(H==g){ce="#";const Me=g.keys(et).sort();for(;!v(Pe=Me.pop());)v(et[Pe])||(ce+=Pe+":"+I(et[Pe])+",");T.set(et,ce)}}else ce=Q?et.toJSON():Ae=="symbol"?et.toString():Ae=="string"?JSON.stringify(et):""+et;return ce},S=new WeakMap,_={},d={},s="undefined",w=typeof window!=s,P=typeof document!=s,x=()=>w&&typeof window.requestAnimationFrame!=s,M=(et,Ae)=>{const H=S.get(et);return[()=>!v(Ae)&&et.get(Ae)||_,Q=>{if(!v(Ae)){const ce=et.get(Ae);Ae in d||(d[Ae]=ce),H[5](Ae,y(ce,Q),ce||_)}},H[6],()=>!v(Ae)&&Ae in d?d[Ae]:!v(Ae)&&et.get(Ae)||_]};let N=!0;const C=()=>N,[A,k]=w&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[u,u],L=()=>{const et=P&&document.visibilityState;return v(et)||et!=="hidden"},K=et=>(P&&document.addEventListener("visibilitychange",et),A("focus",et),()=>{P&&document.removeEventListener("visibilitychange",et),k("focus",et)}),Z=et=>{const Ae=()=>{N=!0,et()},H=()=>{N=!1};return A("online",Ae),A("offline",H),()=>{k("online",Ae),k("offline",H)}},J={isOnline:C,isVisible:L},q={initFocus:K,initReconnect:Z},ne=!o.default.useId,F=!w||"Deno"in window,W=et=>x()?window.requestAnimationFrame(et):setTimeout(et,1),ie=F?o.useEffect:o.useLayoutEffect,he=typeof navigator!="undefined"&&navigator.connection,ye=!F&&he&&(["slow-2g","2g"].includes(he.effectiveType)||he.saveData),fe=et=>{if(E(et))try{et=et()}catch(H){et=""}const Ae=et;return et=typeof et=="string"?et:(Array.isArray(et)?et.length:et)?I(et):"",[et,Ae]};let ae=0;const oe=()=>++ae,G=0,re=1,se=2;var Ee={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:G,MUTATE_EVENT:se,RECONNECT_EVENT:re};function ve(...et){return Tu(this,null,function*(){const[Ae,H,Q,ce]=et,Pe=y({populateCache:!0,throwOnError:!0},typeof ce=="boolean"?{revalidate:ce}:ce||{});let Me=Pe.populateCache;const $e=Pe.rollbackOnError;let ct=Pe.optimisticData;const ut=Pe.revalidate!==!1,Et=Nn=>typeof $e=="function"?$e(Nn):$e!==!1,Nt=Pe.throwOnError;if(E(H)){const Nn=H,Vt=[],rr=Ae.keys();for(const Tr of rr)!/^\$(inf|sub)\$/.test(Tr)&&Nn(Ae.get(Tr)._k)&&Vt.push(Tr);return Promise.all(Vt.map($t))}return $t(H);function $t(Nn){return Tu(this,null,function*(){const[Vt]=fe(Nn);if(!Vt)return;const[rr,Tr]=M(Ae,Vt),[cr,Lr,Br,Cr]=S.get(Ae),Dt=cr[Vt],Ft=()=>ut&&(delete Br[Vt],delete Cr[Vt],Dt&&Dt[0])?Dt[0](se).then(()=>rr().data):rr().data;if(et.length<3)return Ft();let zt=Q,sn;const Un=oe();Lr[Vt]=[Un,0];const gr=!v(ct),Dr=rr(),Fr=Dr.data,jr=Dr._c,kr=v(jr)?Fr:jr;if(gr&&(ct=E(ct)?ct(kr,Fr):ct,Tr({data:ct,_c:kr})),E(zt))try{zt=zt(kr)}catch(to){sn=to}if(zt&&p(zt))if(zt=yield zt.catch(to=>{sn=to}),Un!==Lr[Vt][0]){if(sn)throw sn;return zt}else sn&&gr&&Et(sn)&&(Me=!0,zt=kr,Tr({data:zt,_c:c}));Me&&(sn||(E(Me)&&(zt=Me(zt,kr)),Tr({data:zt,error:c,_c:c}))),Lr[Vt][1]=oe();const uo=yield Ft();if(Tr({_c:c}),sn){if(Nt)throw sn;return}return Me?uo:zt})}})}const pe=(et,Ae)=>{for(const H in et)et[H][0]&&et[H][0](Ae)},me=(et,Ae)=>{if(!S.has(et)){const H=y(q,Ae),Q={},ce=ve.bind(c,et);let Pe=u;const Me={},$e=(Et,Nt)=>{const $t=Me[Et]||[];return Me[Et]=$t,$t.push(Nt),()=>$t.splice($t.indexOf(Nt),1)},ct=(Et,Nt,$t)=>{et.set(Et,Nt);const Nn=Me[Et];if(Nn)for(const Vt of Nn)Vt(Nt,$t)},ut=()=>{if(!S.has(et)&&(S.set(et,[Q,{},{},{},ce,ct,$e]),!F)){const Et=H.initFocus(setTimeout.bind(c,pe.bind(c,Q,G))),Nt=H.initReconnect(setTimeout.bind(c,pe.bind(c,Q,re)));Pe=()=>{Et&&Et(),Nt&&Nt(),S.delete(et)}}};return ut(),[et,ce,ut,Pe]}return[et,S.get(et)[4]]},Ie=(et,Ae,H,Q,ce)=>{const Pe=H.errorRetryCount,Me=ce.retryCount,$e=~~((Math.random()+.5)*(1<<(Me<8?Me:8)))*H.errorRetryInterval;!v(Pe)&&Me>Pe||setTimeout(Q,$e,ce)},_e=(et,Ae)=>I(et)==I(Ae),[de,Re]=me(new Map),ke=y({onLoadingSlow:u,onSuccess:u,onError:u,onErrorRetry:Ie,onDiscarded:u,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ye?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ye?5e3:3e3,compare:_e,isPaused:()=>!1,cache:de,mutate:Re,fallback:{}},J),Ve=(et,Ae)=>{const H=y(et,Ae);if(Ae){const{use:Q,fallback:ce}=et,{use:Pe,fallback:Me}=Ae;Q&&Pe&&(H.use=Q.concat(Pe)),ce&&Me&&(H.fallback=y(ce,Me))}return H},Ge=(0,o.createContext)({}),Qe=et=>{const{value:Ae}=et,H=(0,o.useContext)(Ge),Q=E(Ae),ce=(0,o.useMemo)(()=>Q?Ae(H):Ae,[Q,H,Ae]),Pe=(0,o.useMemo)(()=>Q?ce:Ve(H,ce),[Q,H,ce]),Me=ce&&ce.provider,$e=(0,o.useRef)(c);Me&&!$e.current&&($e.current=me(Me(Pe.cache||de),ce));const ct=$e.current;return ct&&(Pe.cache=ct[0],Pe.mutate=ct[1]),ie(()=>{if(ct)return ct[2]&&ct[2](),ct[3]},[]),(0,o.createElement)(Ge.Provider,y(et,{value:Pe}))},bt=w&&window.__SWR_DEVTOOLS_USE__,Ce=bt?window.__SWR_DEVTOOLS_USE__:[],We=()=>{bt&&(window.__SWR_DEVTOOLS_REACT__=o.default)},xe=et=>E(et[1])?[et[0],et[1],et[2]||{}]:[et[0],null,(et[1]===null?et[2]:et[1])||{}],rt=()=>y(ke,(0,o.useContext)(Ge)),Je=(et,Ae)=>{const[H,Q]=fe(et),[,,,ce]=S.get(de);if(ce[H])return ce[H];const Pe=Ae(Q);return ce[H]=Pe,Pe},ft=et=>(Ae,H,Q)=>et(Ae,H&&((...Pe)=>{const[Me]=fe(Ae),[,,,$e]=S.get(de),ct=$e[Me];return v(ct)?H(...Pe):(delete $e[Me],ct)}),Q),je=Ce.concat(ft),Rt=et=>function(...H){const Q=rt(),[ce,Pe,Me]=xe(H),$e=Ve(Q,Me);let ct=et;const{use:ut}=$e,Et=(ut||[]).concat(je);for(let Nt=Et.length;Nt--;)ct=Et[Nt](ct);return ct(ce,Pe||$e.fetcher||null,$e)},Jt=et=>{const Ae=useState({})[1],H=useRef(!1),Q=useRef(et),ce=useRef({data:!1,error:!1,isValidating:!1}),Pe=useCallback(Me=>{let $e=!1;const ct=Q.current;for(const ut in Me){const Et=ut;ct[Et]!==Me[Et]&&(ct[Et]=Me[Et],ce.current[Et]&&($e=!0))}$e&&!H.current&&(ne?Ae({}):React.startTransition(()=>Ae({})))},[Ae]);return ie(()=>(H.current=!1,()=>{H.current=!0})),[Q,ce.current,Pe]},Ct=(et,Ae,H)=>{const Q=Ae[et]||(Ae[et]=[]);return Q.push(H),()=>{const ce=Q.indexOf(H);ce>=0&&(Q[ce]=Q[Q.length-1],Q.pop())}},Le=(et,Ae)=>(...H)=>{const[Q,ce,Pe]=xe(H),Me=(Pe.use||[]).concat(Ae);return et(Q,ce,Ro(ir({},Pe),{use:Me}))};We();const He=et=>serialize(et)[0],it=o.default.use||(et=>{if(et.status==="pending")throw et;if(et.status==="fulfilled")return et.value;throw et.status==="rejected"?et.reason:(et.status="pending",et.then(Ae=>{et.status="fulfilled",et.value=Ae},Ae=>{et.status="rejected",et.reason=Ae}),et)}),Ne={dedupe:!0},Be=(et,Ae,H)=>{const{cache:Q,compare:ce,suspense:Pe,fallbackData:Me,revalidateOnMount:$e,revalidateIfStale:ct,refreshInterval:ut,refreshWhenHidden:Et,refreshWhenOffline:Nt,keepPreviousData:$t}=H,[Nn,Vt,rr,Tr]=S.get(Q),[cr,Lr]=fe(et),Br=(0,o.useRef)(!1),Cr=(0,o.useRef)(!1),Dt=(0,o.useRef)(cr),Ft=(0,o.useRef)(Ae),zt=(0,o.useRef)(H),sn=()=>zt.current,Un=()=>sn().isVisible()&&sn().isOnline(),[gr,Dr,Fr,jr]=M(Q,cr),kr=(0,o.useRef)({}).current,uo=v(Me)?H.fallback[cr]:Me,to=(Tt,Lt)=>{for(const Yt in kr){const ln=Yt;if(ln==="data"){if(!ce(Tt[ln],Lt[ln])&&(!v(Tt[ln])||!ce(Co,Lt[ln])))return!1}else if(Lt[ln]!==Tt[ln])return!1}return!0},ao=(0,o.useMemo)(()=>{const Tt=(()=>!cr||!Ae?!1:v($e)?sn().isPaused()||Pe?!1:v(ct)?!0:ct:$e)(),Lt=Mn=>{const Jn=y(Mn);return delete Jn._k,Tt?ir({isValidating:!0,isLoading:!0},Jn):Jn},Yt=gr(),ln=jr(),hn=Lt(Yt),Dn=Yt===ln?hn:Lt(ln);let an=hn;return[()=>{const Mn=Lt(gr());return to(Mn,an)?(an.data=Mn.data,an.isLoading=Mn.isLoading,an.isValidating=Mn.isValidating,an.error=Mn.error,an):(an=Mn,Mn)},()=>Dn]},[Q,cr]),Ur=(0,f.useSyncExternalStore)((0,o.useCallback)(Tt=>Fr(cr,(Lt,Yt)=>{to(Yt,Lt)||Tt()}),[Q,cr]),ao[0],ao[1]),_o=!Br.current,fo=Nn[cr]&&Nn[cr].length>0,no=Ur.data,so=v(no)?uo:no,go=Ur.error,Zo=(0,o.useRef)(so),Co=$t?v(no)?Zo.current:no:so,Oo=(()=>fo&&!v(go)?!1:_o&&!v($e)?$e:sn().isPaused()?!1:Pe?v(so)?!1:ct:v(so)||ct)(),vo=!!(cr&&Ae&&_o&&Oo),on=v(Ur.isValidating)?vo:Ur.isValidating,On=v(Ur.isLoading)?vo:Ur.isLoading,Tn=(0,o.useCallback)(Tt=>Tu(qp,null,function*(){const Lt=Ft.current;if(!cr||!Lt||Cr.current||sn().isPaused())return!1;let Yt,ln,hn=!0;const Dn=Tt||{},an=!rr[cr]||!Dn.dedupe,Mn=()=>ne?!Cr.current&&cr===Dt.current&&Br.current:cr===Dt.current,Jn={isValidating:!1,isLoading:!1},pt=()=>{Dr(Jn)},Mt=()=>{const qt=rr[cr];qt&&qt[1]===ln&&delete rr[cr]},Kt={isValidating:!0};v(gr().data)&&(Kt.isLoading=!0);try{if(an&&(Dr(Kt),H.loadingTimeout&&v(gr().data)&&setTimeout(()=>{hn&&Mn()&&sn().onLoadingSlow(cr,H)},H.loadingTimeout),rr[cr]=[Lt(Lr),oe()]),[Yt,ln]=rr[cr],Yt=yield Yt,an&&setTimeout(Mt,H.dedupingInterval),!rr[cr]||rr[cr][1]!==ln)return an&&Mn()&&sn().onDiscarded(cr),!1;Jn.error=c;const qt=Vt[cr];if(!v(qt)&&(ln<=qt[0]||ln<=qt[1]||qt[1]===0))return pt(),an&&Mn()&&sn().onDiscarded(cr),!1;const mn=gr().data;Jn.data=ce(mn,Yt)?mn:Yt,an&&Mn()&&sn().onSuccess(Yt,cr,H)}catch(qt){Mt();const mn=sn(),{shouldRetryOnError:En}=mn;mn.isPaused()||(Jn.error=qt,an&&Mn()&&(mn.onError(qt,cr,mn),(En===!0||E(En)&&En(qt))&&Un()&&mn.onErrorRetry(qt,cr,mn,wn=>{const Hn=Nn[cr];Hn&&Hn[0]&&Hn[0](Ee.ERROR_REVALIDATE_EVENT,wn)},{retryCount:(Dn.retryCount||0)+1,dedupe:!0})))}return hn=!1,pt(),!0}),[cr,Q]),Bn=(0,o.useCallback)((...Tt)=>ve(Q,Dt.current,...Tt),[]);if(ie(()=>{Ft.current=Ae,zt.current=H,v(no)||(Zo.current=no)}),ie(()=>{if(!cr)return;const Tt=Tn.bind(c,Ne);let Lt=0;const ln=Ct(cr,Nn,(hn,Dn={})=>{if(hn==Ee.FOCUS_EVENT){const an=Date.now();sn().revalidateOnFocus&&an>Lt&&Un()&&(Lt=an+sn().focusThrottleInterval,Tt())}else if(hn==Ee.RECONNECT_EVENT)sn().revalidateOnReconnect&&Un()&&Tt();else{if(hn==Ee.MUTATE_EVENT)return Tn();if(hn==Ee.ERROR_REVALIDATE_EVENT)return Tn(Dn)}});return Cr.current=!1,Dt.current=cr,Br.current=!0,Dr({_k:Lr}),Oo&&(v(so)||F?Tt():W(Tt)),()=>{Cr.current=!0,ln()}},[cr]),ie(()=>{let Tt;function Lt(){const ln=E(ut)?ut(gr().data):ut;ln&&Tt!==-1&&(Tt=setTimeout(Yt,ln))}function Yt(){!gr().error&&(Et||sn().isVisible())&&(Nt||sn().isOnline())?Tn(Ne).then(Lt):Lt()}return Lt(),()=>{Tt&&(clearTimeout(Tt),Tt=-1)}},[ut,Et,Nt,cr]),(0,o.useDebugValue)(Co),Pe&&v(so)&&cr){if(!ne&&F)throw new Error("Fallback data is required when using suspense in SSR.");Ft.current=Ae,zt.current=H,Cr.current=!1;const Tt=Tr[cr];if(!v(Tt)){const Lt=Bn(Tt);it(Lt)}if(v(go)){const Lt=Tn(Ne);v(Co)||(Lt.status="fulfilled",Lt.value=!0),it(Lt)}else throw go}return{mutate:Bn,get data(){return kr.data=!0,Co},get error(){return kr.error=!0,go},get isValidating(){return kr.isValidating=!0,on},get isLoading(){return kr.isLoading=!0,On}}},ze=g.defineProperty(Qe,"defaultValue",{value:ke}),lt=Rt(Be)},33952:(z,l,e)=>{"use strict";e.d(l,{YG:()=>O,ue:()=>o});for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},f={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},u=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),c=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),g=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),v=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),E=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),y=u&&(v||+u[1]<57)||g&&v,p=0;p<10;p++)o[48+p]=o[96+p]=String(p);for(var p=1;p<=24;p++)o[p+111]="F"+p;for(var p=65;p<=90;p++)o[p]=String.fromCharCode(p+32),f[p]=String.fromCharCode(p);for(var T in o)f.hasOwnProperty(T)||(f[T]=o[T]);function O(I){var S=y&&(I.ctrlKey||I.altKey||I.metaKey)||(c||E)&&I.shiftKey&&I.key&&I.key.length==1,_=!S&&I.key||(I.shiftKey?f:o)[I.keyCode]||I.key||"Unidentified";return _=="Esc"&&(_="Escape"),_=="Del"&&(_="Delete"),_=="Left"&&(_="ArrowLeft"),_=="Up"&&(_="ArrowUp"),_=="Right"&&(_="ArrowRight"),_=="Down"&&(_="ArrowDown"),_}},33600:z=>{"use strict";z.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:z=>{"use strict";z.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},Lo={};function wt(z){var l=Lo[z];if(l!==void 0)return l.exports;var e=Lo[z]={id:z,loaded:!1,exports:{}};return No[z].call(e.exports,e,e.exports,wt),e.loaded=!0,e.exports}wt.m=No,wt.n=z=>{var l=z&&z.__esModule?()=>z.default:()=>z;return wt.d(l,{a:l}),l},(()=>{var z=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l;wt.t=function(e,o){if(o&1&&(e=this(e)),o&8||typeof e=="object"&&e&&(o&4&&e.__esModule||o&16&&typeof e.then=="function"))return e;var f=Object.create(null);wt.r(f);var u={};l=l||[null,z({}),z([]),z(z)];for(var c=o&2&&e;typeof c=="object"&&!~l.indexOf(c);c=z(c))Object.getOwnPropertyNames(c).forEach(g=>u[g]=()=>e[g]);return u.default=()=>e,wt.d(f,u),f}})(),wt.d=(z,l)=>{for(var e in l)wt.o(l,e)&&!wt.o(z,e)&&Object.defineProperty(z,e,{enumerable:!0,get:l[e]})},wt.f={},wt.e=z=>Promise.all(Object.keys(wt.f).reduce((l,e)=>(wt.f[e](z,l),l),[])),wt.u=z=>""+z+"."+{156:"c535336326a92b8b53c2",171:"21332e9293764b0e8e02",313:"c4fc6cdbcee0a508ac7f",411:"652ca3b230d5f693c337",486:"04ad6f1ba43e000a0a29",525:"8def53e76e2bcc06c4b6",563:"f4dd421c2c6e24f35593",631:"c7880711d133e4697f7b",661:"63787eb75193b588e66c",679:"81b43f2e1bd1945b14e1",693:"33b50ab2c91ae084944d",695:"db1cfe0153dd5c1caba5",707:"719b5800af50c925f697",829:"80bc72a4491d466c1dfe",853:"3a9ed3d5b9bc0ba3bed4",915:"1fa7a08fc8d20e592590",918:"e6fdbe8908fbb5369610",968:"15d69d9e99191458ff43"}[z]+".chunk.js",wt.miniCssF=z=>""+z+"."+{156:"1ebef32be312774e4c14",411:"6155c11039f07f8e1411",525:"8def60d8c8783adbfb58",661:"f8f19cfac1ae955e7dd3",707:"b30bd138ac153055ebdd",829:"620ff2ea405d85894bcf",853:"7f17ef46759c5d91e115"}[z]+".css",wt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(z){if(typeof window=="object")return window}}(),wt.hmd=z=>(z=Object.create(z),z.children||(z.children=[]),Object.defineProperty(z,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+z.id)}}),z),wt.o=(z,l)=>Object.prototype.hasOwnProperty.call(z,l),(()=>{var z={},l="substack:";wt.l=(e,o,f,u)=>{if(z[e]){z[e].push(o);return}var c,g;if(f!==void 0)for(var v=document.getElementsByTagName("script"),E=0;E<v.length;E++){var y=v[E];if(y.getAttribute("src")==e||y.getAttribute("data-webpack")==l+f){c=y;break}}c||(g=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,wt.nc&&c.setAttribute("nonce",wt.nc),c.setAttribute("data-webpack",l+f),c.src=e),z[e]=[o];var p=(O,I)=>{c.onerror=c.onload=null,clearTimeout(T);var S=z[e];if(delete z[e],c.parentNode&&c.parentNode.removeChild(c),S&&S.forEach(_=>_(I)),O)return O(I)},T=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),g&&document.head.appendChild(c)}})(),wt.r=z=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})},wt.nmd=z=>(z.paths=[],z.children||(z.children=[]),z),wt.j=179,wt.p="https://substackcdn.com/bundle/",(()=>{if(typeof document!="undefined"){var z=(f,u,c,g,v)=>{var E=document.createElement("link");E.rel="stylesheet",E.type="text/css";var y=p=>{if(E.onerror=E.onload=null,p.type==="load")g();else{var T=p&&(p.type==="load"?"missing":p.type),O=p&&p.target&&p.target.href||u,I=new Error("Loading CSS chunk "+f+` failed.
(`+O+")");I.code="CSS_CHUNK_LOAD_FAILED",I.type=T,I.request=O,E.parentNode&&E.parentNode.removeChild(E),v(I)}};return E.onerror=E.onload=y,E.href=u,c?c.parentNode.insertBefore(E,c.nextSibling):document.head.appendChild(E),E},l=(f,u)=>{for(var c=document.getElementsByTagName("link"),g=0;g<c.length;g++){var v=c[g],E=v.getAttribute("data-href")||v.getAttribute("href");if(v.rel==="stylesheet"&&(E===f||E===u))return v}for(var y=document.getElementsByTagName("style"),g=0;g<y.length;g++){var v=y[g],E=v.getAttribute("data-href");if(E===f||E===u)return v}},e=f=>new Promise((u,c)=>{var g=wt.miniCssF(f),v=wt.p+g;if(l(g,v))return u();z(f,v,null,u,c)}),o={179:0,661:0,313:0};wt.f.miniCss=(f,u)=>{var c={156:1,411:1,525:1,661:1,707:1,829:1,853:1};o[f]?u.push(o[f]):o[f]!==0&&c[f]&&u.push(o[f]=e(f).then(()=>{o[f]=0},g=>{throw delete o[f],g}))}}})(),(()=>{var z={179:0,661:0,313:0};wt.f.j=(o,f)=>{var u=wt.o(z,o)?z[o]:void 0;if(u!==0)if(u)f.push(u[2]);else if(o!=411){var c=new Promise((y,p)=>u=z[o]=[y,p]);f.push(u[2]=c);var g=wt.p+wt.u(o),v=new Error,E=y=>{if(wt.o(z,o)&&(u=z[o],u!==0&&(z[o]=void 0),u)){var p=y&&(y.type==="load"?"missing":y.type),T=y&&y.target&&y.target.src;v.message="Loading chunk "+o+` failed.
(`+p+": "+T+")",v.name="ChunkLoadError",v.type=p,v.request=T,u[1](v)}};wt.l(g,E,"chunk-"+o,o)}else z[o]=0};var l=(o,f)=>{var[u,c,g]=f,v,E,y=0;if(u.some(T=>z[T]!==0)){for(v in c)wt.o(c,v)&&(wt.m[v]=c[v]);if(g)var p=g(wt)}for(o&&o(f);y<u.length;y++)E=u[y],wt.o(z,E)&&z[E]&&z[E][0](),z[E]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(l.bind(null,0)),e.push=l.bind(null,e.push.bind(e))})();var sa={};(()=>{"use strict";var z=wt(1824),l=wt(72496),e=wt(6400),o=wt(30396),f=wt(94184),u=wt.n(f),c=wt(1469),g=wt.n(c),v=wt(20042),E=wt(56232),y=wt(13045),p=wt(15045),T=wt(39419),O=wt(26059),I=wt(81243);const S=[["global_admin","Global Admin"],["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function _(n,t,r){return!t||!n?!1:r==="owner"?n.author_id===t.id:t.email===`${r}_for_${n.subdomain}@example.com`}const d=({setExpanded:n})=>(0,e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>n(!0)},(0,e.h)(I.Z,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),s=({pub:n,user:t,setExpanded:r})=>{const[i,a]=(0,o.eJ)("");return(0,e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},(0,e.h)("div",null,"Sign in as",(0,e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>r(!1)},(0,e.h)(O.Z,{height:20}))),S.map(([D,B])=>(0,e.h)("div",null,(0,e.h)("a",{className:u()("button",_(n,t,D)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=(0,p.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:D,orig_url:window.location.href})}},B))),(0,e.h)("form",{onSubmit:D=>{D.preventDefault(),i&&(window.location.href=(0,p.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:i,orig_url:window.location.href}))}},(0,e.h)("input",{value:i,onChange:D=>{var B;a((B=D.target)==null?void 0:B.value)},type:"email"}),(0,e.h)("button",{type:"submit"},"Sign in as")))};class w extends e.Component{constructor(t,r){super(t,r),this.onDocumentMouseUp=i=>{!(0,T.isRootOrChild)(i.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:t,user:r},{expanded:i}){var a;return null}}var P=wt(28488),x=wt(43887),M=wt(76193),N=wt(18597),C=wt(3258),A=wt(89018),k=wt(34755),L=Object.defineProperty,K=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,F=(n,t,r)=>t in n?L(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,W=(n,t)=>{for(var r in t||(t={}))q.call(t,r)&&F(n,r,t[r]);if(J)for(var r of J(t))ne.call(t,r)&&F(n,r,t[r]);return n},ie=(n,t)=>K(n,Z(t)),he=(n,t)=>{var r={};for(var i in n)q.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&J)for(var i of J(n))t.indexOf(i)<0&&ne.call(n,i)&&(r[i]=n[i]);return r};const fe=n=>{var t=n,{svgParams:r}=t,i=he(t,["svgParams"]);return(0,e.h)(k.l,ie(W({},i),{name:"SubstackIcon",svgParams:W({height:1e3,width:1e3,fill:A.substack_color,stroke:"none"},r)}),(0,e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))};var ae=wt(33705),oe=wt(20501);function G(n,t){return[...Array(2*n.length-1)].map((r,i)=>i%2?t:n[i/2])}const re=({publication:n})=>{switch(n==null?void 0:n.subdomain){case"activisionblizzard":return(0,e.h)(Ee,null);case"demographyunplugged":return(0,e.h)(ve,null);default:return(0,e.h)(le,null)}},se=({publication:n})=>{const{iString:t}=(0,P.M1)();if((n==null?void 0:n.subdomain)==="demographyunplugged")return(0,e.h)(e.Fragment,null,(0,e.h)(x.xv,{translated:!0,size:14,className:"tos"},"Substack's"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy"),","," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms")," ","and"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),(0,e.h)(x.xv,{translated:!0,size:14,className:"tos"},"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")));const r=[(0,e.h)("a",{href:(0,p.getPrivacyUrl)({pub:n,utm_source:""}),target:"__blank"},t("Privacy")),(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},t("Terms")),(0,e.h)("a",{href:`${(0,oe.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"__blank"},t("Collection notice"))];return(n==null?void 0:n.subdomain)==="activisionblizzard"&&r.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"))),(n==null?void 0:n.subdomain)==="demographyunplugged"&&(r.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy"))),r.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")))),(0,e.h)(e.Fragment,null,G(r,(0,e.h)("span",null," \u2219 ")))},le=()=>(0,e.h)(x.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),Ee=()=>(0,e.h)(x.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),", and Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy")),ve=()=>(0,e.h)("div",{className:"tos"},(0,e.h)(x.xv,{translated:!0,size:14,color:"tertiary"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."),(0,e.h)(x.xv,{translated:!0,size:14,color:"tertiary"},"You also agree to receive marketing emails from Hedgeye Risk Management, LLC pursuant to its"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms of Service"),"."),(0,e.h)(x.xv,{translated:!0,size:14,color:"tertiary"},"You may unsubscribe at any time by clicking the unsubscribe link in one of the emails."));var pe=wt(56617);const me={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"},Ie=({publication:n,user:t,path:r,hideTerms:i,showIntrinioAttrib:a})=>{const{iString:D}=(0,P.M1)();typeof i=="undefined"&&(i=!1);const B=(0,N.Tf)(),j=(0,M.isMobile)(),U=(0,M.isIos)(),Y=(0,M.isAndroid)(),ge=j&&(U||Y),Se=t&&!t.reader_installed_at,De=ge&&Se;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(pe.Z,{onVisible:()=>{(0,C.j)(C.FP.PUBLICATION_FOOTER_SEEN,{publication_id:n==null?void 0:n.id,user_id:t==null?void 0:t.id,source:_e(r)})}}),(0,e.h)("div",{className:u()("footer",{"themed-background":B})},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",n&&n.copyright||"Substack Inc"),a&&(0,e.h)(x.xv,{translated:!0,as:"div",className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!i&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(se,{publication:n}))),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:u()("footer-substack-cta","start-publishing",De&&"app-upsell"),native:!0,href:t!=null&&t.has_publication?`${(0,p.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,p.getSubstackUrl)()}/signup?${(0,p.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},(0,e.h)(fe,null)," ",D("Start Writing")),!De&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},D("Get the app")),De&&U&&(0,e.h)("a",{className:me.appBadge,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,p.imginary)("/img/app_page/app-store.png",160*2)})),De&&Y&&(0,e.h)("a",{className:me.appBadge,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,p.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)(x.xv,{translated:!0,as:"div",className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,p.getSubstackUrl)()}`,native:!0},"Substack")," ","is the home for great writing"))))};function _e(n){return n?n==="/"?"pub-homepage":n.startsWith("/p")?"pub-post":n:"unknown"}const de=()=>h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,"Read"),h("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Discover"),h("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get the app"),h("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Featured"),h("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Substack Reader"),h("a",{href:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in culture"),h("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top podcasts"),h("a",{href:"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in food & drink"),h("a",{href:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in finance"),h("a",{href:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in sports"),h("a",{href:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in politics"),h("a",{href:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in technology"),h("a",{href:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in faith"),h("a",{href:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in business"),h("a",{href:"/sitemap",native:!0},"Sitemap")),h("div",{className:"footer-info-col"},h("h3",null,"Writers"),h("a",{href:"/switch-to-substack?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch to Substack"),h("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Ghost"),h("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get started"),h("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Go paid"),h("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For podcasts"),h("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For bloggers"),h("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For finance writers"),h("a",{href:"/book?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For authors"),h("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For comic creators"),h("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For food writers"),h("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For local news")),h("div",{className:"footer-info-col"},h("h3",null,"Company"),h("a",{href:getAboutUrl(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},"About"),h("a",{href:getSupportUrl()},"Help"),h("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Jobs"),h("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Blog"),h("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Vulnerability Policy"),h("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Contact")),h("div",{className:"footer-info-col"},h("h3",null,"Resources"),h("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Resource center"),h("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Guide to going paid"),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},"Help center"),h("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Community and programs"),h("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Brand assets"))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},"Substack is the home for great writing")))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getPrivacyUrl(),native:!0},"Privacy"),h("a",{className:"bottom-item",href:"/tos",native:!0},"Terms"),h("a",{className:"bottom-item",href:`${getSubstackUrl()}/ccpa#personal-data-collected`,native:!0},"Collection notice"))));class Re extends e.Component{render({html:t,children:r,metadata:i}){return(0,e.h)("div",{className:"container-border"},(0,T.setMetaData)(i),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},r,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:t}}))))}}var ke=wt(36808);const Ve="balance-text",Ge=100,Qe=10,bt=4;function Ce(n){xe(n)&&(n.style.maxWidth="",We(n,n.clientHeight,0,n.clientWidth)),n.classList.add("visible")}function We(n,t,r,i){if(i-r<bt){n.clientHeight>t?n.style.maxWidth=`${i}px`:n.style.maxWidth=`${n.scrollWidth+1}px`;return}if(r>=i){n.style.maxWidth=`${i}px`;return}const a=(r+i)/2;n.style.maxWidth=`${a}px`,n.clientHeight>t?We(n,t,a,i):We(n,t,r,a)}function xe(n){var t;const r=n.innerHTML,i=n.textContent.split(" "),a=document.createElement("span");a.id="element-first-word",a.textContent=i.shift(),n.innerHTML="",n.appendChild(a),n.appendChild(document.createTextNode(` ${i.join(" ")}`));const D=((t=document.getElementById("element-first-word"))==null?void 0:t.offsetHeight)||a.offsetHeight,B=n.offsetHeight;return n.innerHTML=r,B-Qe>D}class rt extends e.Component{constructor(t,r){super(t,r),this.debouncedRebalance=(0,T.debounce)(()=>this.rebalance(),Ge)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(t){return t.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&Ce(this.base)}render({text:t}){return(0,e.h)("span",{"data-testid":"balanced-text",className:Ve,style:{display:"inline-block"}},t)}}var Je=wt(7922),ft=wt(84040),je=wt(51126),Rt=wt(23890);const Ct=({allowAllDay:n,redirect:t,onCancel:r})=>{const[i,a]=(0,o.eJ)(!1);return(0,e.h)(Rt.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=t||"/",autoLock:!0},(0,e.h)(je.tu,{gap:8},(0,e.h)(x.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(x.xv.H2,null,"Support Mode"),(0,e.h)(x.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),n&&(0,e.h)("label",null,(0,e.h)(je.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:D=>a(D.target.checked)})," ",(0,e.h)(x.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),i&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:i?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(je.gq,{gap:8,paddingTop:8},(0,e.h)(ft.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),r&&(0,e.h)(ft.zx,{priority:"secondary",onClick:r},"Cancel"))))};var Le=wt(41406),He=wt(11851),it=Object.defineProperty,Ne=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,Ae=(n,t,r)=>t in n?it(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,H=(n,t)=>{for(var r in t||(t={}))lt.call(t,r)&&Ae(n,r,t[r]);if(ze)for(var r of ze(t))et.call(t,r)&&Ae(n,r,t[r]);return n},Q=(n,t)=>Ne(n,Be(t));const Pe=n=>(0,e.h)(k.l,Q(H({},n),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Me({text:n,maxLines:t,ellipsesText:r="..."}){const i=(0,o.sO)(null),[a,D]=(0,o.eJ)(n);return(0,o.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";const U=(i.current.clientHeight+1)*t+1;let Y=0,ge=0,Se=n.length;for(;Y<=Se;){if(ge=Math.floor((Y+Se)/2),i.current.innerText=n.slice(0,ge),ge===n.length&&i.current.clientHeight<=U){i.current.innerText="",D(n);return}i.current.clientHeight<=U?Y=ge+1:Se=ge-1}const De=n.slice(0,ge-r.length-2);i.current.innerText="",D(De+r)})()},[i,n,t,r]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,a),(0,e.h)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var $e=wt(96789),ct=wt(79786),ut=wt(32076),Et=wt(63270),Nt=wt(80569),$t=wt.n(Nt),Nn=wt(94930),Vt=wt(83322),rr=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Tr={};function cr(n,t,r,i,a){return rr(this,arguments,function*(D,B,j,{required:U=!1,group:Y=!1,gift:ge=!1},Se){if(!j){Se(null);return}j in Tr||(Se({id:j,required:U,loading:!0}),Tr[j]=yield Br(j));const De=Tr[j],Fe=De&&De.type==="FREE_TRIAL"&&B&&(yield Cr(j));Fe&&Fe.length&&U?Se({id:De&&De.id||j,code:De&&De.code,name:De&&De.name,required:U,error:!0,message:"This coupon has already been redeemed by this user."}):(0,Nn.isCouponValid)(De,{is_group:Y,is_gift:ge,paywallFreeTrialEnabled:D.paywall_free_trial_enabled})&&(D.plans||[]).filter(qe=>(0,Nn.isCouponValidForPlan)(De,qe)).length>0?Se(Object.assign({required:U},De)):Se(U?{id:De&&De.id||j,code:De&&De.code,name:De&&De.name,required:U,error:!0,message:"The coupon is not valid or has expired."}:null)})}function Lr(n){return rr(this,null,function*(){let t;try{if(t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,t&&t.length&&n){const i=yield Cr(t[0].id);if(i&&i.length)throw new AppError("User has already redeemed this free trial coupon")}}catch(r){return console.error("Failed to fetch coupons:",r),null}return t.length>0?t[0]:null})}function Br(n){return rr(this,null,function*(){try{return(yield $t().get(`/api/v1/coupon/${n}`)).body}catch(t){return console.error("Failed to fetch coupon:",t),null}})}function Cr(n){return rr(this,null,function*(){try{return(yield $t().get(`/api/v1/coupon_redemption/${n}`).query()).body}catch(t){return console.error("Failed to fetch coupon redemptions:",t),null}})}function Dt(n){return rr(this,null,function*(){try{const r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!r||r.length===0){const i={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(i)}else r[0].valid===!1?yield request.put(`/api/v1/coupon/${r[0].id}`).send(Object.assign({},r[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${r[0].id} already enabled but attempted to be enabled`);return 0}catch(t){return console.error("Failed to create free trial coupon:",t),1}})}function Ft(){return rr(this,null,function*(){try{const t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!t||t.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${t[0].id}`).send(Object.assign({},t[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(n){return console.error("Failed to disable free trial coupon:",n),null}})}var zt=wt(1852),sn=wt(56242),Un=Object.defineProperty,gr=Object.defineProperties,Dr=Object.getOwnPropertyDescriptors,Fr=Object.getOwnPropertySymbols,jr=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,uo=(n,t,r)=>t in n?Un(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,to=(n,t)=>{for(var r in t||(t={}))jr.call(t,r)&&uo(n,r,t[r]);if(Fr)for(var r of Fr(t))kr.call(t,r)&&uo(n,r,t[r]);return n},ao=(n,t)=>gr(n,Dr(t)),Ur=(n,t)=>{var r={};for(var i in n)jr.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Fr)for(var i of Fr(n))t.indexOf(i)<0&&kr.call(n,i)&&(r[i]=n[i]);return r};const _o=n=>{var t=n,{color:r="#1C110B",strokeWidth:i=1}=t,a=Ur(t,["color","strokeWidth"]);return h(SvgIcon,ao(to({},a),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),h("path",{d:"M1 13L7 7L1 1",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":i}))},fo=null;var no=Object.defineProperty,so=Object.defineProperties,go=Object.getOwnPropertyDescriptors,Zo=Object.getOwnPropertySymbols,Co=Object.prototype.hasOwnProperty,Oo=Object.prototype.propertyIsEnumerable,vo=(n,t,r)=>t in n?no(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,on=(n,t)=>{for(var r in t||(t={}))Co.call(t,r)&&vo(n,r,t[r]);if(Zo)for(var r of Zo(t))Oo.call(t,r)&&vo(n,r,t[r]);return n},On=(n,t)=>so(n,go(t));const Tn=n=>h(SvgIcon,On(on({},n),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),h("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),h("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"})),Bn=null;var Tt=wt(59736),Lt=wt(65726),Yt=wt(81671),ln=wt(85564),hn=wt(84753),Dn=wt(43174),an=wt(89734),Mn=wt.n(an),Jn=wt(45578),pt=wt(85928),Mt=wt.n(pt),Kt=Object.defineProperty,qt=Object.defineProperties,mn=Object.getOwnPropertyDescriptors,En=Object.getOwnPropertySymbols,wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,wr=(n,t,r)=>t in n?Kt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zr=(n,t)=>{for(var r in t||(t={}))wn.call(t,r)&&wr(n,r,t[r]);if(En)for(var r of En(t))Hn.call(t,r)&&wr(n,r,t[r]);return n},$r=(n,t)=>qt(n,mn(t));const Gr=n=>(0,e.h)(k.l,$r(zr({},n),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"})),yo=()=>h(Yo,null,h(PodcastIcon,{height:10,stroke:"white"}),"Podcast"),Yo=({children:n,className:t})=>h("div",{className:cn("pill",t)},h("span",null,n)),Mo=null,po=({publication:n,logo_size:t=60,isStatic:r=!1,children:i})=>r?h(Jo,{publication:n,logo_size:t,children:i}):h("div",{className:"publication card"},t&&h("figure",{className:"logo"},h(PubIcon,{pub:n,logo_url:n.logo_url,size:t})),h("div",{className:"title"},h("div",{className:"name"},n.name),h("div",{className:"description"},n.hero_text),i)),Jo=({publication:n,logo_size:t=60,className:r="",children:i})=>h("table",{role:"presentation",className:classnames("publication","card",r,n.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},h("tr",{cellpadding:"0",height:"100%"},t&&h("td",{rowspan:"3",className:"logo"},h("figure",{className:"logo"},n.logo_url?h(PubIcon,{pub:n,logo_url:n.logo_url,size:t,isStatic:!0}):h(SubstackIcon,{isStatic:!0,fill:n.theme_var_background_pop||substack_color,width:t,height:t}))),h("td",null,h("table",{cellpadding:"0",cellspacing:"0"},h("tr",null,h("td",{className:"title"},n.name)),h("tr",{cellpadding:"0",height:"80%"},h("td",{className:"description"},n.hero_text)),i)))),ho=null;var Eo=wt(84017),Si=Object.defineProperty,ni=Object.defineProperties,si=Object.getOwnPropertyDescriptors,fi=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,ii=Object.prototype.propertyIsEnumerable,Di=(n,t,r)=>t in n?Si(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Mi=(n,t)=>{for(var r in t||(t={}))oi.call(t,r)&&Di(n,r,t[r]);if(fi)for(var r of fi(t))ii.call(t,r)&&Di(n,r,t[r]);return n},pi=(n,t)=>ni(n,si(t)),hi=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const mi=({onClick:n,checked:t})=>h("div",{className:"select-all"},h("input",{name:"all",type:"checkbox",onInput:n,checked:t}),h("label",{for:"all",onClick:n},"Select ",t?"none":"all")),Xo=({disabled:n,onClick:t,children:r})=>h(Button,{type:"submit",className:"primary xl",disabled:n,onClick:t},r),Ao=({isStatic:n=!1,extraProps:t={},linkType:r=null,discoverable:i=null,text:a,icon:D=!0,onClick:B=null})=>{const j={};r!==null&&(j.type=r),i!==null&&(j.discoverable=i);const U=getFindTwitterPubsUrl(j);return h("div",Mi({className:"twitter-discover"},t),h("a",pi(Mi({className:"twitter-link",href:U},B&&{onClick:B}),{native:!0}),h("div",{className:"inner"},D&&h(TwitterIcon,{stroke:"white",fill:"white",isStatic:n}),h("span",{className:"twitter-link-text"},a||"Find writers I follow"))))},li=({pub:n,checked:t,onToggle:r,isSubscribed:i,author:a,screenName:D})=>h("li",{className:"linked-pub"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h("div",{className:"subscribed-status"},h("input",{type:"checkbox",checked:t||i,disabled:i,onInput:()=>r(n.id)})),h(UserProfilePhoto,{size:60,photo_url:a.photo_url}),h("div",{className:"twitter-handle"},h("span",{className:"author"},a==null?void 0:a.name),h("span",{className:"handle"}," @",D))),h("div",{className:"info"},h("div",{className:"publication-row"},h("a",{className:"publication",href:updateQuery(`${getBaseUrl(n)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},h(PubCard,{publication:n,logo_size:30},i?h("div",{className:"subscribed"},h(Pill,null,"Subscribed")):null)))))),ui=({result:n,selectedPubs:t,onToggle:r})=>{var i;const{publicationAuthor:a,screen_name:D,publication_id:B}=n,{name:j,ownedPublications:U}=a,Y=uniqBy(U,De=>De.id),ge=sortBy(Y,De=>De.latestPost[0]?dayjs(De.latestPost[0].post_date).toDate():dayjs.unix(1).toDate()).reverse(),Se=a.photo_url||((i=U.find(De=>De.id===B))==null?void 0:i.logo_url);return ge.map(De=>{const Fe=De.subscriptions.length;return h(li,{author:a,screenName:D,authorName:j,showLogo:Se!==a.photo_url,pub:De,checked:t.has(De.id),onToggle:r,isSubscribed:Fe})})},ci=({user:n,freeSignupEmail:t,twitterEmail:r,twitterToken:i,onConfirmed:a,onSubscribed:D,formAction:B,pubIds:j,subscribeToken:U,redirect:Y,showDiscover:ge,editable:Se,showLogout:De})=>{const Fe=(n==null?void 0:n.email)||t||r,[qe,Ye]=useState(!1),[st,gt]=useState(!0),[yt,At]=useState(Fe);j?Y=updateQuery(Y,{pubIds:j,t:i}):Y=updateQuery(Y,{t:i,d:st});const Bt=xt=>{const{userExists:Ht,subscribed:en}=xt.body;en?D(en):Ht?Ht&&(window.location.href=pathWithQuery(`${getSubstackUrl()}/sign-in`,{with_password:!1,email:yt,redirect:Y})):a()};return h("div",{className:"twitter-publications container"},h("section",null,h("div",{className:"terms-check"},h(FancyForm,{onSuccess:xt=>Bt(xt),method:"post",action:B,loading:!1,autoLock:!0},h("input",{name:"t",type:"hidden",value:i}),j&&h("input",{name:"pubIds",type:"hidden",value:j}),U&&h("input",{name:"subscribeToken",type:"hidden",value:U}),h("input",{name:"email",type:"text",disabled:!Se&&Fe,value:yt,onInput:xt=>At(xt.target.value)}),h("label",null,h("input",{type:"checkbox",checked:qe,onInput:()=>Ye(!qe)}),"I accept the"," ",h("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),ge&&h("label",null,h("input",{name:"allow_discover",type:"checkbox",checked:st,onInput:()=>gt(!qe)}),"Allow people to find my publications via Twitter"),De&&h("label",null,h("a",{className:"login-button",href:getSignoutUrl(),native:!0},"Not you?")),h(Xo,{disabled:!qe},"Next \u2192")))))},nt=()=>h("div",{className:"twitter-publications container landing"},h("h2",null,"Thousands of writers and readers are already on Substack"),h("section",null,h("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",h("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),h("div",{className:"banner"},h(Ao,null)))),Ze=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:a})=>!a&&!n||t=="connect"?h(nt,null):h(Xe,Mi({},{user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:a})),Xe=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:a,buttonText:D=null,onSignup:B=null,requireSignup:j=!0,needsEmailConfirm:U=!0,renderIfNoneFound:Y=null,useProfilePrefix:ge=!1})=>{const[Se,De]=useState(null),[Fe,qe]=useState(null),[Ye,st]=useState(null),[gt,yt]=useState(null),[At,Bt]=useState(!U),[xt,Ht]=useState(null),[en,Xt]=useState(!1),[tn,fn]=useState(new Set),[xn,yn]=useState(null),Gn=getQueryItem("subscribed"),pn=ge?"/profile":"";Gn?B?B():(st(Gn.split(",")),route("/discover-twitter/success")):t&&t!=="connect"&&!Se&&!Ye&&route("/discover-twitter");const Sn=gn=>{const kn=new Set(tn);tn.has(gn)?kn.delete(gn):kn.add(gn),fn(kn)},ur=gn=>flatten(gn.map(kn=>{var Gt;return((Gt=kn.publicationAuthor)==null?void 0:Gt.ownedPublications)||[]}));useEffect(()=>hi(void 0,null,function*(){if(!en){Xt(!0);try{const gn=yield request.get("/api/v1/twitter/publications"),{results:kn,subscribeToken:Gt,needsConnect:or,needsTwitterConfirm:_n}=gn.body;if(or)route("/discover-twitter/connect");else{const fr=ur(kn),yr=new Set(fr.filter(Yn=>Yn.subscriptions.length===0).map(Yn=>Yn.id));let Ar;yr.size<=30?Ar=new Set(yr):Ar=new Set,De(kn),Ht(!1),yn(Gt),qe(yr),fn(Ar),yt(!_n)}}catch(gn){Ht(gn)}Xt(!1)}}),[]);let Qn;Se&&(Se.length>0?gt?Qn=`We found ${Se.length} account${Se.length>1?"s":""} you follow on Twitter`:Qn=`Confirm your email to see ${Se.length} account${Se.length>1?"s":""} you follow on Twitter`:gt||(Qn="Confirm your email to continue")),t==="confirm"&&(Qn="Confirm your email"),Ye&&(Qn="Success!");const jn=Se?ur(Se):null,Kn=()=>{Bt(!0),yt(!0)},Wn=()=>hi(void 0,null,function*(){Xt(!0);try{const gn=yield request.post("/api/v1/twitter/subscribe").send({pubIds:[...tn].join(","),t:a,subscribeToken:xn});if(B)B();else{const{subscribed:kn}=gn.body;st(kn),route("/discover-twitter/success")}}catch(gn){console.error("error subscribing",gn)}Xt(!1)}),tr=gn=>{st(gn),route("/discover-twitter/success")},Rn=gn=>{let kn;gn?kn=new Set(Fe):kn=new Set,fn(kn)},Zn=()=>{!U||At?Wn():route("/discover-twitter/confirm")};return h("div",{className:"twitter-publications pub-list"},h("h2",{className:t},Qn),en&&h("p",{className:"loading"},"Loading..."),xt&&h(Fragment,null,h("p",{className:"error"},"Sorry, there was an error getting your results!"),h("div",{className:"banner"},h(Ao,null))),h(Router,null,Se&&!Ye&&gt&&!en&&h(kt,{path:`${pn}/discover-twitter`,results:Se,selectedPubs:tn,subscribablePubs:Fe,onToggleChecked:Sn,onToggleAll:Rn,onNext:Zn,loading:en,buttonText:D,requireSignup:j,renderIfNoneFound:Y}),gt==!1&&h(ci,{path:`${pn}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:n,onConfirmed:Kn,twitterEmail:r,twitterToken:a,freeSignupEmail:i,pubIds:[...tn],showDiscover:!0}),!At&&h(ci,{path:`${pn}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:n,onSubscribed:tr,twitterEmail:r,twitterToken:a,freeSignupEmail:i,pubIds:[...tn],subscribeToken:xn,editable:!1,showLogout:!0}),Se&&Ye&&h(Pt,{path:`${pn}/discover-twitter/success`,user:n,subscribed:Ye,pubs:jn,results:Se})))},mt=({pub:n,result:t})=>{const{hero_text:r,stripeAccount:i,logo_url:a}=n,{screen_name:D,publicationAuthor:{name:B,photo_url:j}}=t,U=i==null?void 0:i.plans;return h("li",{className:"linked-pub subscribed"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h(UserProfilePhoto,{size:60,photo_url:a||j})),h("div",{className:"info"},h("div",{className:"publication-row"},h("div",{className:"publication"},h("div",{className:"name"},"@",D," - ",B),h("div",{className:"description"},r)),h("div",null,U&&h(LinkButton,{className:"outline small button",href:`${getBaseUrl(n)}/subscribe`,target:"_blank"},"Upgrade"))))))},Pt=({subscribed:n,pubs:t,results:r})=>{const i=uniqBy(t.filter(U=>n.find(Y=>Y===U.subdomain)),U=>U.id),[a,D]=partition(i,U=>{var Y;return(Y=U.stripeAccount)==null?void 0:Y.plans}),B=[...a,...D].length>1,j=a.length>1;return h("ul",null,h("div",{className:"sign-up"},a.length>0?h(Fragment,null,j?`${a.length} of the newsletters`:B?"One of the newsletters":"The newsletter"," ","you subscribed to ",j?"have":"has"," a paid version. You can upgrade"," ",j?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${B?"these newsletters":"this newsletter"}.  Happy reading!`),[...a,...D].map(U=>{const Y=r.find(ge=>ge.screen_name===U.twitterAccount.screen_name);return Y?h(mt,{pub:U,result:Y}):null}))},jt=({onNext:n})=>h("div",null,h("ul",null,h("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),h(LinkButton,{className:"primary button",onClick:()=>{n()}},"Continue"))),kt=({results:n,selectedPubs:t,onNext:r,onToggleChecked:i,onToggleAll:a,subscribablePubs:D,loading:B,buttonText:j,requireSignup:U,renderIfNoneFound:Y})=>{if(n.length===0)return Y||h(jt,{onNext:r});const ge=sortBy(n,gt=>{var yt;let At;return gt.publicationAuthor.ownedPublications?At=maxBy(gt.publicationAuthor.ownedPublications,Bt=>Bt.latestPost[0]?dayjs(Bt.latestPost[0].post_date).toDate():null):At=null,At!=null&&At.latestPost[0]?dayjs((yt=At.latestPost[0])==null?void 0:yt.post_date).toDate():dayjs.unix(1).toDate()}).reverse(),[Se,De]=partition(ge,gt=>(gt.publicationAuthor.ownedPublications||[]).some(yt=>yt.subscriptions.length===0)),Fe=D.size===t.size,qe=()=>{a(!Fe)},Ye=(!U||t.size>0)&&!B,st=!U||D.size>0?h(Xo,{onClick:r,disabled:!Ye},j?(t.size>0?"Subscribe and ":"")+j:"Sign up \u2192"):null;return h("div",null,h("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),h("ul",null,(!U||D.size>0)&&h(Fragment,null,(D.size>3||!U)&&st,h("li",null,D.size<30&&h(mi,{checked:Fe,onClick:qe}))),[...Se,...De].map(gt=>h(ui,{result:gt,selectedPubs:t,onToggle:i})),st))};var Oe=Object.defineProperty,be=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,ht=(n,t,r)=>t in n?Oe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vt=(n,t)=>{for(var r in t||(t={}))we.call(t,r)&&ht(n,r,t[r]);if(be)for(var r of be(t))Ke.call(t,r)&&ht(n,r,t[r]);return n};const Ot=(0,e.createContext)({});Ot.displayName="WWWContext";const It=n=>{const t=r=>{const i=useContext(Ot);return h(n,vt(vt({},i),r))};return t.displayName=`withWWWContext(${n.name||n.displayName||"Anonymous"})`,t},Wt=()=>useContext(Ot);var Ut=wt(8479),un=Object.defineProperty,nn=Object.getOwnPropertySymbols,dn=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable,zn=(n,t,r)=>t in n?un(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_r=(n,t)=>{for(var r in t||(t={}))dn.call(t,r)&&zn(n,r,t[r]);if(nn)for(var r of nn(t))An.call(t,r)&&zn(n,r,t[r]);return n},ar=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});function In(n){const t=useWWWContext(),{categories:r,publications:i=[],categoryId:a,featuredPublications:D=[],communityPicksPublications:B=[],tastemakerPublications:j=[],user:U,categorySlug:Y,rankingSlug:ge,hasMore:Se,updateUrl:De=!1,maxPublications:Fe,showTwitterBanner:qe,readerOnboardingModal:Ye}=_r(_r({},t),n),[st,gt]=useState(r),[yt,At]=useState(dr(i,Fe)),[Bt,xt]=useState(a),[Ht,en]=useState(dr(D,Fe)),[Xt,tn]=useState(dr(B,Fe)),[fn,xn]=useState(dr(j,Fe)),[yn,Gn]=useState(null),[pn,Sn]=useState("paid"),[ur,Qn]=useState(null),[jn,Kn]=useState(0),[Wn,tr]=useState(Se);useEffect(()=>{const Gt=ge||"paid";Sn(Gt),st||lr().then(({categories:or,publications:_n,featuredPublications:fr,communityPicksPublications:yr,tastemakerPublications:Ar})=>{gt(or);const Yn=getCategoryIdFromSlug(Y,or);return xt(Yn),en(dr(fr,Fe)),tn(dr(yr,Fe)),xn(dr(Ar,Fe)),Yn==="featured"?_n:Sr(Yn,Gt,0).then(({publications:vr,more:mr})=>(Kn(0),Fe||tr(mr),vr))}).then(or=>{At(dr(or,Fe))})},[st,Y,ge,Fe]);const Rn=useCallback(()=>{const Gt=jn+1;track(EVENTS.VIEWED_MORE_CATEGORY,{categoryId:Bt,ranking:pn,page:Gt}),Sr(Bt,pn,Gt).then(({publications:or,more:_n})=>{const fr=new Set(yt.map(yr=>yr.id));Kn(Gt),At(yt.concat(or.filter(yr=>!fr.has(yr.id)))),tr(_n)})},[Bt,pn,jn,yt,Kn,At,tr]),Zn=({categoryId:Gt,ranking:or,categories:_n})=>{track(EVENTS.CLICKED_CATEGORY,{categoryId:Gt,ranking:or}),De&&route(Ir({categoryId:Gt,categories:_n,ranking:or}),!0),kn({categoryId:Gt,ranking:or})},gn=Gt=>{Sn(Gt),De&&route(Ir({categoryId:Bt,categories:st,ranking:Gt}),!0),kn({categoryId:Bt,ranking:Gt})},kn=useCallback(Gt=>ar(this,[Gt],function*({categoryId:or,ranking:_n}){if(xt(or),Kn(0),or==="featured"||or==="twitter"){Gn(null),Qn(null),tr(!1),or==="featured"&&At(dr(Ht,Fe));return}Gn(or),Qn(_n),At([]),tr(!1);const{publications:fr,more:yr}=yield Sr(or,_n,0);xt(or),Gn(null),Qn(null),Sn(_n),Kn(0),Fe||tr(yr),At(dr(fr,Fe))}),[Gn,Qn,xt,Kn,tr,At,Ht,Fe]);return{categories:st,publications:Bt==="featured"?Ht:yt,categoryId:Bt,ranking:pn,loadingCategoryId:yn,loadingRanking:ur,featuredPublications:Ht,user:U,categorySlug:Y,rankingSlug:ge,hasMore:Wn,viewMore:Rn,loadPublications:kn,onCategoryClicked:Zn,getCategoryIdFromSlug,setCategoryId:xt,setRanking:Sn,onRankingChange:gn,maxPublications:Fe,showTwitterBanner:qe,readerOnboardingModal:Ye}}const dr=(n,t)=>t?n.slice(0,t):n,lr=()=>fetchJson("/api/v1/homepage/initial-category-data"),Sr=(n,t="paid",r=0)=>fetchJson(`/api/v1/category/public/${n}/${t}?page=${r}`),Ir=({categoryId:n,ranking:t,categories:r})=>{let i="";["twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(n)&&(i=n);const a=r.find(D=>D.id===n);return a!=null&&a.slug&&(i=`${a.slug}/${t}`),i?`/discover/category/${i}`:"/discover"},ro=({children:n,separator:t})=>{const r=[],i=(0,e.toChildArray)(n);return i.forEach((a,D)=>{r.push(a),D!==i.length-1&&r.push(t)}),(0,e.h)(e.Fragment,null,r)};var co=wt(95297),So=Object.defineProperty,Bo=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,Vo=Object.prototype.propertyIsEnumerable,vi=(n,t,r)=>t in n?So(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vi=(n,t)=>{for(var r in t||(t={}))ko.call(t,r)&&vi(n,r,t[r]);if(Bo)for(var r of Bo(t))Vo.call(t,r)&&vi(n,r,t[r]);return n},Ti=(n,t)=>{var r={};for(var i in n)ko.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Bo)for(var i of Bo(n))t.indexOf(i)<0&&Vo.call(n,i)&&(r[i]=n[i]);return r};function Fo(n){const t=!n.disable_monthly_subscriptions&&n.plans&&n.plans.filter(a=>a.interval==="month").sort((a,D)=>a.amount-D.amount)[0],r=n.plans&&n.plans.filter(a=>a.interval==="year").sort((a,D)=>a.amount-D.amount)[0],i=t||r;if(i)return(0,Vt.planBasePricing)(i)}const ot={desktop:15,mobile:6};function at(n,{includePrice:t=!0,includeRankingDetail:r=!0,includeByline:i=!0,includeBadge:a=!1,rankingDetailOverrideText:D=null}={}){const{iTemplate:B}=I18N.i(n.language),j=(0,Vt.getByLine)(n);let U=null;return r&&(U=D||n.rankingDetail),(0,e.h)(ro,{separator:" \xB7 "},i&&j&&(0,e.h)(je.hs,{inline:!0,gap:4},B`By ${j}`,a&&(0,e.h)(co.s,{size:"sm",tier:n.author_bestseller_tier,userId:n.author_id})),U,t&&Fo(n))}const St=({className:n,hasFeatured:t,categories:r,categoryId:i,categoryIds:a,loadingCategoryId:D,ranking:B,onCategoryClicked:j,defaultExpanded:U,isReaderOnboarding:Y})=>{const[ge,Se]=useState(U||!1),De=useMediaQuery({query:"only screen and (max-width: 650px)"}),Fe=ot[De?"mobile":"desktop"],qe=ge?r:r.slice(0,Fe),Ye=st=>st.id===i||(a==null?void 0:a.includes(st.id));return h("div",{className:cn("categories",n)},t?h(Button,{className:cn({active:i==="featured"&&(!D||D==="featured"),loading:D==="featured"&&i!=="featured"}),onClick:()=>j({categoryId:"featured",ranking:"all",categories:r})},"Featured"):null,qe.map(st=>h(Button,{key:st.id,className:cn({active:Ye(st)&&(!D||D===st.id),loading:D===st.id&&i!==st.id}),onClick:()=>j({categoryId:st.id,ranking:B,categories:r})},st.id==="twitter"&&h(TwitterIcon,{width:De?12:15,height:De?12:15,strokeWidth:0}),toTitleCase(st.canonical_name||""))),!Y&&h(Button,{className:cn({active:i===COMMUNITY_PICKS_CATEGORY_NAME&&(!D||D===COMMUNITY_PICKS_CATEGORY_NAME),loading:D===COMMUNITY_PICKS_CATEGORY_NAME&&i!==COMMUNITY_PICKS_CATEGORY_NAME}),onClick:()=>j({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:r})},"Writer favorites"),!Y&&h(Button,{className:cn({active:i===TASTEMAKER_CATEGORY_NAME&&(!D||D===TASTEMAKER_CATEGORY_NAME),loading:D===TASTEMAKER_CATEGORY_NAME&&i!==TASTEMAKER_CATEGORY_NAME}),onClick:()=>j({categoryId:TASTEMAKER_CATEGORY_NAME,ranking:"all",categories:r})},"Featured recommenders"),r.length>Fe&&!ge&&h(Button,{className:"show-more",onClick:()=>Se(!0)},h(LargePlusIcon,null)))},Qt=({publications:n,explanations:t,ranking:r,openInNew:i,startRankAt:a=0,source:D,onPublicationVisited:B=null,user:j,categoryId:U})=>h(Fragment,null,h("div",{className:"publications"},n.map((Y,ge)=>{var Se,De,Fe;let qe=t&&t[ge];if(!Y)return;qe||(qe=[]);const Ye=qe.filter(en=>["posts.title","posts.subtitle"].includes(en.type)),st=!!((De=(Se=Ye[0])==null?void 0:Se.posts[0][0])!=null&&De.slug);let gt;st&&(gt=(Fe=Ye[0])==null?void 0:Fe.posts[0][0]);const yt=qe.filter(en=>en.type==="description")[0],At=qe.filter(en=>["name","subdomain","hero_text","custom_domain","author_name"].includes(en.type)).length>0||!yt&&!gt,Bt=qe.filter(en=>en.type==="description").map(en=>en.keyword),xt=qe.filter(en=>["posts.title","posts.subtitle"].includes(en.type)).map(en=>en.keyword),Ht=getPubUrl(Y,{params:{utm_source:D||"discover"},signedIn:!!j});return h("a",{key:Y.id,className:"publication",href:Ht,native:!0,target:i?"_blank":null,onClick:en=>{trackPublicationVisit(Y,D||"leaderboards",{position:ge+1,category:U}),B&&B(Y)},rel:"noopener"},r==="paid"?h("div",{className:"publication-rank"},ge+1+a):null,h("div",{className:"publication-content"},h(PubIcon,{pub:Y,href:Ht,logo_url:Y.logo_url||Y.author_photo_url,linkify:!1,belowTheFold:!0}),h("div",{className:"publication-text-area"},h("div",{className:"publication-title"},Y.name),(At||gt)&&h("div",{className:"publication-description"},Y.editorial_bio||rn(Y.hero_text,Bt)),!At&&yt&&!gt&&h("div",{className:"publication-description"},rn(yt.sentence,Bt)),!At&&gt&&h("div",{className:"publication-explanation-box"},st&&h("a",{className:"title",href:getPostUrl(Y,gt)},h("div",{className:"post-preview-content"},h("div",{className:"left-flex"},h("p",{className:"title"},rn(gt.title,xt)),h("p",{className:"subtitle"},rn(gt.subtitle,xt))),h("div",{className:"right-flex"},h("img",{src:gt.cover_image,className:gt.cover_image?"":"no-preview"}))))),h("div",{className:"publication-author"},at(Y)))))})));function rn(n,t){if(!n)return"";const r=new RegExp(t.join("|"),"ig"),i=n.split(r),a=[...n.matchAll(r)];return h("span",null,i.map((D,B)=>h(Fragment,null,D,B!==i.length-1&&h("b",null,a[B]))))}const vn=({onCategoryClicked:n,categoryId:t,ranking:r,loadingRanking:i,categories:a})=>["featured","twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(t)?null:h("div",{className:"ranking-toggle"},h(LinkButton,{className:cn({active:r==="paid"&&!i||i==="paid",loading:i==="paid"&&r!=="paid"}),onClick:()=>n({categoryId:t,ranking:"paid",categories:a})},"Top paid"),"  \xB7  ",h(LinkButton,{className:cn({active:r==="all"&&!i||i==="all",loading:i==="all"&&r!=="all"}),onClick:()=>n({categoryId:t,ranking:"all",categories:a})},"All")),Cn=n=>{var t=n,{Component:r=Ln}=t,i=Ti(t,["Component"]);const a=useLeaderboards(i);return a.categories?h(r,Vi({},a)):null};class Ln extends null{componentDidUpdate(t){if(this.props.categorySlug===t.categorySlug&&this.props.rankingSlug===t.rankingSlug)return;const r=getCategoryIdFromSlug(this.props.categorySlug,this.props.categories),i=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:r,ranking:i})}startReading(t){window.sessionStorage.setItem("initialJoinSubstack","true"),track(EVENTS.HOMEPAGE_READER_LINK_CLICKED,{url:getBaseReaderUrl()}),redirect(getBaseReaderUrl(),{event:t})}render({categories:t,publications:r,categoryId:i,loadingCategoryId:a,ranking:D,loadingRanking:B,onCategoryClicked:j,hasMore:U,viewMore:Y,featuredPublications:ge,underratedPublications:Se,tastemakerPublications:De,maxPublications:Fe,showTwitterBanner:qe,user:Ye}){const st=i==="featured",gt=i===COMMUNITY_PICKS_CATEGORY_NAME,yt=i===TASTEMAKER_CATEGORY_NAME,At=i==="twitter",Bt=t.find(xt=>xt.id===i);return st&&!ge.length&&typeof window!="undefined"&&j({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:t}),h("div",{className:cn("new-landing-page reader-landing-page page",{"category-featured":st})},h("div",{className:"container"},h("div",{className:"landing-content"},h("div",{className:"landing-section landing-publications"},h("div",{className:"publications-header not-mobile"},h(vn,{categories:t,categoryId:i,ranking:D,onCategoryClicked:j})),h(Qt,{publications:r,ranking:st||gt||yt?"all":D,categoryId:i}),D==="all"&&!st&&!gt&&!yt&&!At&&!Fe&&U&&h("div",{className:"view-more"},h(Button,{className:"primary top-pad",onClick:Y},"View more")),Fe&&i!=="featured"&&h("div",{className:"see-all",style:{paddingLeft:D==="all"?"108px":"146px"}},h("a",{href:st?getDiscoverCategoryUrl():[TASTEMAKER_CATEGORY_NAME,COMMUNITY_PICKS_CATEGORY_NAME].includes(i)?getDiscoverCategoryUrl({slug:i},D):getDiscoverCategoryUrl(Bt,D),native:!0},"See all"," ",h(CaretRightIcon,{width:7,height:11,color:"var(--color-primary-themed)",style:{marginLeft:"3px"}})))),h("div",{className:"landing-section landing-categories"},h("div",{className:"only-mobile"},h("div",{className:"mobile-toggle"},h(vn,{categories:t,categoryId:i,ranking:D,onCategoryClicked:j}))),h(St,{hasFeatured:ge&&ge.length>0,hasUnderrated:Se&&Se.length>0,hasTastemakers:De&&De.length>0,categories:t,categoryId:i,loadingCategoryId:a,onCategoryClicked:j,ranking:D,loadingRanking:B}))),qe&&i==="featured"&&!(Ye!=null&&Ye.has_linked_twitter)?h(TwitterBanner,null):null))}}const $n=null;var sr=wt(6385),er=Object.defineProperty,Wr=Object.defineProperties,Hr=Object.getOwnPropertyDescriptors,xr=Object.getOwnPropertySymbols,Mr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,Er=(n,t,r)=>t in n?er(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pr=(n,t)=>{for(var r in t||(t={}))Mr.call(t,r)&&Er(n,r,t[r]);if(xr)for(var r of xr(t))Pr.call(t,r)&&Er(n,r,t[r]);return n},Rr=(n,t)=>Wr(n,Hr(t)),Vr=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const V="intro_popup_last_hidden_at";function $({publication:n,user:t,post:r,onHide:i,freeSignup:a,hidden:D,alwaysShow:B,showOnMount:j,freeSignupEmail:U,coupon:Y,email:ge,referralCode:Se,noBalance:De,blurbs:Fe,launchWelcomePage:qe}){const[Ye,st]=(0,o.eJ)(null),[gt,yt]=(0,o.eJ)(!1),[At,Bt]=(0,o.eJ)(!!(qe||B));(0,o.d4)(()=>(qe&&!Xt()||Ht()?(typeof window!="undefined"&&((0,T.addClass)(document.documentElement,"has-intro-popup"),cr(n,t,Y,{required:!0},yn=>st(yn))),xt()):(i&&i(),(0,z.a)({hide_intro_popup:!0})),()=>{typeof window!="undefined"&&(0,T.removeClass)(document.documentElement,"has-intro-popup"),en(!0)}),[]);const xt=()=>{typeof window!="undefined"&&((0,T.addClass)(document.documentElement,"show-intro-popup"),(0,C.j)(C.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!n.cover_photo_url,has_free_signup_email:!!U,has_free_signup:!!a,functional_version:!0,launch_welcome_page:qe,always_show:B,hidden:D}),B||(0,C.XY)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`})),Bt(!0)},Ht=()=>B?!0:D?!1:j||gt?!0:!(Xt()||!(typeof r=="undefined"||r===null||r&&!(0,sr.isPaidAudience)(r.audience))||a||t&&(t.is_free_subscribed||t.is_subscribed)),en=yn=>{yn||(tn(),setTimeout(()=>{(0,z.a)({hide_intro_popup:!0})},500)),i&&i(),!B&&typeof window!="undefined"&&(0,T.hasClass)(document.documentElement,"show-intro-popup")&&(0,T.removeClass)(document.documentElement,"show-intro-popup")},Xt=()=>{const yn=ke.get(V);if(yn){const Gn=new Date(yn),pn=new Date(Date.now()-24*60*60*1e3);if(Gn>pn)return!0}return!1},tn=()=>{ke.set(V,new Date().toJSON(),{expires:365*10})},fn=yn=>Vr(this,null,function*(){(0,C.j)(C.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!yn.body.prompt_to_login,has_plans:!!n.plans,functional_version:!0}),tn(),yt(!0),(0,z.a)({freeSignup:!0,freeSignupEmail:yn.body.email});const Gn=B?"/":document.location.href;yn.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,p.pathWithQuery)("/account/login",{redirect:Gn,email:yn.body.email})},30):document.location.href=(0,p.pathWithQuery)("/subscribe",Rr(pr(pr({next:Gn,later:!0,just_signed_up:!0},yn.body.subscription_id&&{subscription_id:yn.body.subscription_id}),yn.body.referral_token&&{referral_token:yn.body.referral_token}),{coupon:Y,requires_confirmation:yn.body.requires_confirmation?"true":"",utm_source:"cover_page",email:yn.body.email,skip_redirect_check:!0}))}),xn=()=>{(0,C.j)(C.FP.COVER_PAGE_MAYBE_LATER_CLICKED,{functional_version:!0}),en()};return!At||!Ht()?null:(0,e.h)("div",{className:"intro-popup"},(0,e.h)("div",{className:"intro-popup-page"},(0,e.h)(R,{source:"cover_page",email:ge,pub:n,user:t,freeSignup:a,freeSignupEmail:U,referralCode:Se,forceSignup:(0,p.getQueryItem)("force"),coupon:Ye!=null?Ye:void 0,onMaybeLater:xn,onFreeSignup:fn,markAsHidden:tn,blurbs:Fe,noBalance:De})))}const ee=n=>h("div",{className:"intro-inline"},h(R,pr({},n))),R=({pub:n,user:t,email:r,freeSignup:i,freeSignupEmail:a,referralCode:D,source:B,coupon:j,forceSignup:U,submitButtonText:Y,onMaybeLater:ge,onFreeSignup:Se,noBalance:De,markAsHidden:Fe,blurbs:qe})=>{const Ye=(0,o.qp)(ut.vz),{iString:st}=(0,P.M1)(),gt=(0,p.getQueryItem)("referralCode"),yt=(0,p.getQueryItem)("refSource"),At=st("Learn More"),Bt=(0,p.getAboutUrl)(n,{params:pr(pr({utm_source:"subscribe_email",utm_content:"learn_more"},gt&&{referralCode:gt}),yt&&{refSource:yt})});(0,o.d4)(()=>{B==="subscribe_page"&&(0,C.j)(C.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN,{functional_version:!0}),(0,C.j)(C.FP.FULL_EMAIL_FORM_SHOWN,{source:B,functional_version:!0})},[B]);const xt=qe?qe.filter(Ht=>Ht.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},ge&&!n.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:ge,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(O.Z,null)),(0,e.h)(ue,{pub:n,noBalance:De}),j&&j.required&&(0,e.h)("p",{className:`coupon ${j.loading?"loading":""} ${j.error?"error":""}`},j.loading?st("Loading coupon"):j.error?st("Invalid coupon!"):st("Valid coupon!"),` ${(j.name||j.id).toUpperCase()}`),n.invite_only&&(!t||!t.is_free_subscribed)?(0,e.h)(te,{pub:n,user:t,freeSignupEmail:a}):(0,e.h)(e.Fragment,null,(0,e.h)(y.gq,{justifyContent:"center",style:{width:"100%"}},(0,e.h)(Le.Z,{email:r,freeSignup:i,freeSignupEmail:a,markWelcomePageAsHidden:Fe,pub:n,referralCode:D,source:B,submitButtonText:Y,user:t,onConfirmationRequired:n.payments_state==="enabled"?()=>null:void 0,onMaybeLater:ge,onSuccess:Se||(()=>document.location.href="/")})),!U&&(ge?(0,e.h)("a",{onClick:Ht=>Ht.preventDefault(),className:"no-styles"},(0,e.h)(Je.Z,{className:"maybe-later",onClick:ge},Ye.getSettingFor("welcome_page_opt_out_text")==="No thanks"?st("No thanks"):Ye.getSettingFor("welcome_page_opt_out_text"),(0,e.h)(Pe,null))):(0,e.h)(Je.Z,{className:"maybe-later",href:Bt},At,(0,e.h)(Pe,null)))),!!(xt!=null&&xt.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(xt!=null&&xt.length)&&(0,e.h)(y.gq,{className:"blurbs",gap:20},xt.map(Ht=>(0,e.h)(y.tu,{gap:8,className:"blurb"},(0,e.h)(y.xv.B4,{className:"blurb-text"},(0,e.h)(Me,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${Ht.description}\u201D`})),(0,e.h)(y.xv.B4,{weight:"semibold",className:"blurb-text"},Ht.author_name||Ht.recommendingPublication.email_from_name||Ht.recommendingPublication.copyright,","," ",(0,e.h)("a",{href:(0,p.getBaseUrl)(Ht.recommendingPublication)},Ht.recommendingPublication.name)))))),(0,e.h)(re,{publication:n}))};class te extends e.Component{constructor(){super(...arguments),this.emailInput=null,this.customerSupportModeModal=null,this.form=null,this.canTurnOnCustomerSupportMode=()=>{const t=this.props.user;return(t==null?void 0:t.is_global_admin)&&!(t!=null&&t.is_admin)},this.showCustomerSupportModeModal=()=>{var t;this.canTurnOnCustomerSupportMode()&&((t=this.customerSupportModeModal)==null||t.open())}}componentDidMount(){const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&this.emailInput&&(this.emailInput.value=t)}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)($e.p,{className:"account-info-customer-support-mode-modal",ref:t=>this.customerSupportModeModal=t},(0,e.h)(Ct,{redirect:(0,p.getQueryItem)("redirect")||"/publish/home",onCancel:t=>{var r;return(r=this.customerSupportModeModal)==null?void 0:r.close(t)},allowAllDay:!1}))}render({pub:t,user:r,freeSignupEmail:i},{loading:a,success:D}){const B=i||r&&r.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(Rt.ZP,{className:"subscription-request-form",ref:j=>this.form=j,noInlineErrors:!0,action:(0,p.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,p.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:j=>{this.setState({loading:!1}),alert((0,T.getNetworkErrorMessage)(j,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:l.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:l.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:l.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:l.xU}),!!B&&(0,T.inputPrefillHack)(),(0,e.h)(y.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:j=>this.emailInput=j,readOnly:!!(B||a),disabled:!!(a||D||B),autoFocus:!B&&!(0,T.isMobileBrowser)(),placeholder:"Type your email\u2026"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Je.Z,{className:u()(D?"secondary":"primary"),type:"submit",disabled:!!(a||D),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},D?"Requested":"Subscribe")))),(0,e.h)(y.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(He.Z,{className:"private-lock-icon"}),(0,e.h)(y.tu,{gap:2},(0,e.h)(y.xv.B4,{weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(y.xv.B4,{className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:t.subdomain,redirect:"/",change_user:!!(r||i)}),native:!0},"Already a member? ",(0,e.h)("b",null,r||i?"Switch accounts":"Sign in")))}}te.state={loading:!1,success:!1};const ue=({pub:n,noBalance:t})=>{var r;const{getSettingFor:i}=(0,ut.So)(),{getConfigFor:a}=(0,Et.xR)(),D=a("section_specific_welcome_pages");let B,j,U,Y,ge,Se;D&&n.section?(B=n.section.name,j=n.section.description,U=(r=n.section.logo_url)!=null?r:n.logo_url,Y=n.section.cover_photo_url,ge=!!(Y&&n.section.hide_intro_title),Se=!!(Y&&n.section.hide_intro_subtitle)):(B=n.name,j=n.hero_text,U=n.logo_url,Y=n.cover_photo_url,ge=!!(Y&&n.hide_intro_title),Se=!!(Y&&n.hide_intro_subtitle));const De=i("display_welcome_page_details");return(0,e.h)(e.Fragment,null,Y?(0,e.h)(ct.e,{className:"publication-cover-photo",src:Y,imageProps:{quality:"auto:best"},maxWidth:1360,alt:B,loading:"eager"}):U&&(0,e.h)(ct.e,{className:"publication-logo",src:U,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${B} Logo`,loading:"eager"}),!ge&&(0,e.h)("h1",{className:u()("publication-name",{"no-logo":!U,"with-cover":Y})},t?B:(0,e.h)(rt,{text:B})),!Se&&j&&(0,e.h)("p",{className:u()("publication-tagline with-cover",{verbose:!0,"with-cover":Y})},t?j:(0,e.h)(rt,{text:j})),(0,e.h)("div",{className:"publication-meta"},at(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:!!De})))};function Te(n,t){for(const[r,i]of Object.entries(t))i!=null&&(n[r]=i);return n}function Ue(n){var t,r,i;return n.link_title||((t=n.postTag)==null?void 0:t.name)||((r=n.section)==null?void 0:r.name)||((i=n.post)==null?void 0:i.title)||""}function tt(n){var t;return n.postTag?"tag":n.section?"section":((t=n.post)==null?void 0:t.type)==="page"?"page":n.post?"post":"link"}function _t(n,{isPodcastActive:t,isChatActive:r,isMeetingsActive:i,hasMultipleNewsletters:a,isChatEnabled:D,isFeedEnabled:B,isReaderReferralsLeaderboardActive:j,language:U="en"}){var Y;const ge=n.filter(qe=>!qe.standard_key),Se=new Map(n.filter(qe=>qe.standard_key).map(qe=>[qe.standard_key,qe])),{iString:De}=I18N.i(U);for(const qe of ge)(Y=qe.section)!=null&&Y.hide_from_navbar&&(qe.is_hidden=!0);const Fe=[B&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},D&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!r},i&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...ge,{standard_key:"archive",link_title:De("Archive"),link_url:"/archive"},a&&{standard_key:"newsletters",link_title:De("Newsletters"),link_url:"/newsletters",is_hidden:!0},j&&{standard_key:"leaderboard",link_title:De("Leaderboard"),link_url:"/leaderboard"},{standard_key:"about",link_title:De("About"),link_url:"/about"}].filter(qe=>!!qe);for(const qe of Fe)if(qe.standard_key){const Ye=Se.get(qe.standard_key);Ye&&Te(qe,Ye)}return Fe}var dt=wt(98661),Zt=wt(4190),bn=Object.defineProperty,Pn=Object.defineProperties,Fn=Object.getOwnPropertyDescriptors,qn=Object.getOwnPropertySymbols,nr=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable,zo=(n,t,r)=>t in n?bn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qo=(n,t)=>{for(var r in t||(t={}))nr.call(t,r)&&zo(n,r,t[r]);if(qn)for(var r of qn(t))mo.call(t,r)&&zo(n,r,t[r]);return n},_i=(n,t)=>Pn(n,Fn(t)),jo;const Ai=typeof window!="undefined"&&window._preloads||Zt.xu,ta=typeof window!="undefined"?(jo=window._preloads)==null?void 0:jo.siteConfigs:{},Zr=(n,t)=>Qo(Qo({},(0,Zt.ng)(n,t)),(0,Et.Xz)(n)),yi=(0,e.createContext)(Zr(ta,Ai));yi.displayName="ExperimentsAndSiteConfigContext";function Ki({siteConfigs:n={},experimentInfo:t,children:r}){const i=t||Ai,a=(0,o.Ye)(()=>Zr(n,i),[n,i]);return(0,e.h)(yi.Provider,{value:a},r)}function Pa(){return useContext(yi)}const fl=n=>{const t=forwardRef((r,i)=>{const a=Pa();return h(n,_i(Qo(Qo({},a),r),{ref:i}))});return t.displayName=`withExperimentsAndSiteConfigContext(${n.displayName||n.name||"Anonymous"})`,t};var Ni=wt(44396),$i=wt(19826),Po=wt(87021);const Ua=(0,Po.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),as=(0,Po.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Ns=(0,Po.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var Rs=Object.defineProperty,ma=Object.defineProperties,Ea=Object.getOwnPropertyDescriptors,Fa=Object.getOwnPropertySymbols,xa=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable,ls=(n,t,r)=>t in n?Rs(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ls=(n,t)=>{for(var r in t||(t={}))xa.call(t,r)&&ls(n,r,t[r]);if(Fa)for(var r of Fa(t))ss.call(t,r)&&ls(n,r,t[r]);return n},Bs=(n,t)=>ma(n,Ea(t));const bd=n=>(0,e.h)(k.l,Bs(Ls({},n),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Pd=Object.defineProperty,Ed=Object.defineProperties,wd=Object.getOwnPropertyDescriptors,Iu=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,Nr=Object.prototype.propertyIsEnumerable,Yr=(n,t,r)=>t in n?Pd(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,To=(n,t)=>{for(var r in t||(t={}))Vn.call(t,r)&&Yr(n,r,t[r]);if(Iu)for(var r of Iu(t))Nr.call(t,r)&&Yr(n,r,t[r]);return n},bo=(n,t)=>Ed(n,wd(t));const zi=n=>(0,e.h)(k.l,bo(To({},n),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var ja=Object.defineProperty,xu=Object.defineProperties,Da=Object.getOwnPropertyDescriptors,ks=Object.getOwnPropertySymbols,Us=Object.prototype.hasOwnProperty,Wa=Object.prototype.propertyIsEnumerable,Du=(n,t,r)=>t in n?ja(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hl=(n,t)=>{for(var r in t||(t={}))Us.call(t,r)&&Du(n,r,t[r]);if(ks)for(var r of ks(t))Wa.call(t,r)&&Du(n,r,t[r]);return n},Fs=(n,t)=>xu(n,Da(t));const e2=n=>(0,e.h)(k.l,Fs(hl({},n),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var t2=Object.defineProperty,n2=Object.defineProperties,r2=Object.getOwnPropertyDescriptors,eh=Object.getOwnPropertySymbols,o2=Object.prototype.hasOwnProperty,i2=Object.prototype.propertyIsEnumerable,th=(n,t,r)=>t in n?t2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,a2=(n,t)=>{for(var r in t||(t={}))o2.call(t,r)&&th(n,r,t[r]);if(eh)for(var r of eh(t))i2.call(t,r)&&th(n,r,t[r]);return n},s2=(n,t)=>n2(n,r2(t));const l2=n=>(0,e.h)(k.l,s2(a2({},n),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"}));var u2=Object.defineProperty,c2=Object.defineProperties,d2=Object.getOwnPropertyDescriptors,nh=Object.getOwnPropertySymbols,f2=Object.prototype.hasOwnProperty,p2=Object.prototype.propertyIsEnumerable,rh=(n,t,r)=>t in n?u2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,h2=(n,t)=>{for(var r in t||(t={}))f2.call(t,r)&&rh(n,r,t[r]);if(nh)for(var r of nh(t))p2.call(t,r)&&rh(n,r,t[r]);return n},m2=(n,t)=>c2(n,d2(t));const _2=n=>(0,e.h)(k.l,m2(h2({},n),{name:"LucideTabNotes",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M9.82746 10.2663H17.2941M10.2039 14.533H14.4706M6 19.1L2.42832 18.1872C1.53922 17.949 1.0116 17.0351 1.24983 16.146L4.52816 3.91113C4.76639 3.02202 5.68029 2.49438 6.5694 2.73262L19 6M6.00001 7.66666V20.3331C6.00001 21.2536 6.74619 21.9998 7.66665 21.9998L20.3333 22C21.2538 22 22 21.2538 22 20.3333V7.66666C22 6.74619 21.2538 5.99999 20.3333 5.99999H7.66667C6.7462 5.99999 6.00001 6.74619 6.00001 7.66666Z","stroke-linecap":"round","stroke-linejoin":"round"})),oh=(0,e.createContext)(!1);var Mu=wt(85065);function g2(n,t){if(n){if(!n.has_publication&&!n.subdomain)return{type:"no-dashboard",url:(0,p.getStartPublishingUrl)(t)};if(n.subdomain)return{type:"dashboard",url:(0,p.getDashboardUrlForSubdomain)(n.subdomain,{params:t})}}return null}function v2(n,t){return n!=null&&n.profile_set_up_at?(0,p.getReaderProfileUrl)(n,t):(0,p.getProfileSetupUrl)(t!=null&&t.utm_source?{utm_source:t.utm_source}:void 0)}var ih=wt(47585);const Cd={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function y2({className:n,responsive:t,count:r}){return(0,e.h)(je.hs,{alignItems:"center",justifyContent:"center",radius:12,className:u()(Cd.badge,t&&Cd.responsive,!r&&Cd.binary,n)},r&&(0,e.h)(x.xv.Digit,{color:"bg-light"},r<100?r:"99+"))}var Au=wt(74285);const na="user-menu",b2=`https://support.substack.com/hc/en-us/?utm_source=${na}`,Nu=40;function P2({className:n,user:t,pub:r,enableCustomerServiceMode:i,disableCustomerServiceMode:a,freeSignup:D,fixedTooltip:B,showBadge:j=!0}){const[U,Y]=(0,$i.EJ)(),{activityUnreadCount:ge}=(0,Mu.lR)(),Se=(0,o.qp)(oh);let De="",Fe="";t&&(De=t!=null&&t.profile_set_up_at&&t.name?t.name:t.email,Fe=t!=null&&t.profile_set_up_at?t.name?t.email:null:"Set up your profile");const qe=({active:Bt})=>{(0,C.j)(Bt?C.FP.USER_MENU_OPENED:C.FP.USER_MENU_DISMISSED)},Ye=t?g2(t,{utm_source:na}):null,st=r&&(D||t&&(t.is_subscribed||t.is_free_subscribed)),gt=v2(t,{utm_source:na}),yt=!1,At=(0,Ni.XA)()&&!Se;return(0,e.h)(e.Fragment,null,t?(0,e.h)(Je.Z,{className:u()(n,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":Se}),onClick:Y},At&&j&&ge>0&&(0,e.h)(ih.in,{className:u()("user-indicator-badge",ge<10&&"user-indicator-badge-circle")},(0,e.h)(y.hs,{alignItems:"center",justifyContent:"center"},ge<100?ge:"99+")),(0,e.h)(Ua,{className:u()("user-indicator-icon",{"force-desktop":Se}),size:20,strokeWidth:2}),(0,e.h)("img",{className:u()("menu-trigger-image",{"force-desktop":Se}),src:(0,p.imginary)((0,p.getUserPhotoUrl)(t),2*Nu,{height:2*Nu,crop:"fill"})}),(0,e.h)(Au.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)($i.ZP,{className:u()({"fixed-tooltip":B}),ref:U,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:qe},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:gt,className:"profile-header",onClick:()=>(0,C.j)(C.FP.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,p.imginary)((0,p.getUserPhotoUrl)(t),2*Nu,{height:2*Nu,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},De),Fe&&(0,e.h)("div",{className:"h2"},Fe))),(0,e.h)("hr",null),t&&(0,e.h)(e.Fragment,null,(0,e.h)(Gi,{url:(0,p.getBaseReaderUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_READER_CLICKED},(0,e.h)(js,{Icon:l2})," Inbox"),(0,e.h)(Gi,{url:(0,p.getFeedUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_FEED_CLICKED},(0,e.h)(js,{Icon:_2})," Notes"),(0,e.h)(Gi,{url:(0,p.getDiscoverCategoryUrl)(),analyticsEvent:C.FP.USER_MENU_DISCOVER_CLICKED},(0,e.h)(js,{Icon:e2})," Explore"),(0,e.h)(Gi,{url:(0,p.getChatUrl)(),analyticsEvent:C.FP.USER_MENU_CHAT_CLICKED},(0,e.h)(js,{Icon:zi})," Chat"),(0,e.h)(Gi,{url:(0,p.getNotificationsUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(js,{Icon:bd})," Activity",ge>0?(0,e.h)(y2,{className:"indicator-badge",count:ge}):null),(0,e.h)(Gi,{url:Ye.url},(0,e.h)(js,{Icon:Ye.type==="no-dashboard"?as:Ns,className:"start-writing-icon"})," ",Ye.type==="no-dashboard"?"Start writing":"Writer dashboard")),(0,e.h)("hr",null),st&&(0,e.h)(Gi,{className:"secondary-item",url:(0,p.pathWithQuery)("/account",{utm_source:na}),analyticsEvent:C.FP.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},"Manage subscription"),(0,e.h)(Gi,{className:"secondary-item",url:(0,p.getGlobalAccountSettingsUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_ACCOUNT_SETTINGS_CLICKED},"Settings"),(0,e.h)(Gi,{className:"secondary-item",url:b2},"Support"),(0,e.h)(Gi,{className:"secondary-item",url:(0,p.getSignoutUrl)({utm_source:na,for_pub:r==null?void 0:r.subdomain})},"Sign out"),i&&(0,e.h)(Gi,{className:"secondary-item",onClick:()=>{var Bt;(Bt=U.current)==null||Bt.close(),i()}},"Enter support mode"),a&&(0,e.h)(Gi,{className:"secondary-item",onClick:a},"Exit support mode"),r&&(t==null?void 0:t.is_global_admin)&&(0,e.h)(Gi,{className:"secondary-item",url:`${(0,p.getBaseUrl)({subdomain:"admin"})}/publications/${r.id}`},"Open in underground"),!(t!=null&&t.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(Gi,{className:"special-item",url:(0,p.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},"Get the app ",(0,e.h)(ae.Z,{className:"item-badge branded",color:A.substack_color}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,p.getHomeUrl)({utm_source:na})},"About"),(0,e.h)("a",{href:(0,p.getPrivacyUrl)({pub:r,utm_source:na})},"Privacy"),(0,e.h)("a",{href:(0,p.getTermsUrl)({utm_source:na})},"Terms"),(0,e.h)("a",{href:(0,p.getInfoCollectionUrl)({utm_source:na})},"Collection notice"))))))):(0,e.h)(Je.Z,{href:(0,p.getSigninUrl)({for_pub:r==null?void 0:r.subdomain}),native:"true",className:u()("sign-in-link outline-grayscale",{"rounded-btn":yt,"force-desktop":Se})},"Sign in"))}function Gi({className:n,url:t,analyticsEvent:r,onClick:i,children:a}){return(0,e.h)("a",{className:`indicator-menu-item ${n}`,onClick:D=>{r&&(0,C.j)(r),i&&i(D)},href:t,native:!0},a)}const E2=20;function js({Icon:n,className:t}){return(0,e.h)(n,{className:u()(t,"indicator-item-icon"),height:E2,stroke:"var(--color-primary)",strokeWidth:2})}var w2=Object.defineProperty,C2=Object.defineProperties,O2=Object.getOwnPropertyDescriptors,Ru=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,sh=Object.prototype.propertyIsEnumerable,lh=(n,t,r)=>t in n?w2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,uh=(n,t)=>{for(var r in t||(t={}))ah.call(t,r)&&lh(n,r,t[r]);if(Ru)for(var r of Ru(t))sh.call(t,r)&&lh(n,r,t[r]);return n},S2=(n,t)=>C2(n,O2(t)),T2=(n,t)=>{var r={};for(var i in n)ah.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ru)for(var i of Ru(n))t.indexOf(i)<0&&sh.call(n,i)&&(r[i]=n[i]);return r};const Lu=(0,e.createContext)({country:"US"});Lu.displayName="LocaleContext";function I2(){return useContext(Lu)}function x2(n){var t=n,{children:r}=t,i=T2(t,["children"]);const a=(0,o.Ye)(()=>i,Object.values(i));return(0,e.h)(Lu.Provider,{value:a},r)}function ZV(n){const t=forwardRef((r,i)=>{const a=I2();return h(n,S2(uh(uh({},a),r),{ref:i}))});return t.displayName=`withLocaleContext(${n.displayName||n.name||"Anonymous"})`,t}const D2=(0,Po.Z)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);var wo=wt(76235),ml=wt(11688),M2=wt(5285),A2=wt(27484),Ws=wt.n(A2),us=wt(67963);const cs={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},N2=n=>{const t=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,C.j)(C.FP.NOTIFICATIONS_ALERT_SHOWN,t.reduce((r,i)=>(r[i]=n==null?void 0:n[i],r),{}))};function R2(){var n;const{activityUnreadCount:t}=(0,Mu.lR)(),{exposeExperiment:r,getExperimentVariant:i}=(0,Zt.jc)(),{isLoading:a,result:D,refetch:B}=(0,Ut.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,o.d4)(()=>{t>0&&B()},[t]);const[j,U]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)(!1),{isLoading:Se,fetch:De,result:Fe}=(0,ml.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([wt.e(693),wt.e(525)]).then(wt.bind(wt,23525)),fetchImmediately:!1}),qe=Ws()(),{userSettings:Ye,changeSetting:st}=(0,us.SE)(),gt=(n=D==null?void 0:D.activityItems)==null?void 0:n[0],yt=gt!=null&&gt.created_at?Ws()(gt==null?void 0:gt.created_at):qe.subtract(100,"year"),At=Ye!=null&&Ye.last_notification_alert_shown_at?Ws()(Ye.last_notification_alert_shown_at):qe.subtract(100,"year"),Bt=qe.diff(yt,"day")<7&&yt.diff(At,"hour")>2,xt=(0,o.sO)(null),Ht=2e3,en=6e3,Xt=()=>{xt.current&&window.clearTimeout(xt.current)},tn=()=>{Xt(),xt.current=window.setTimeout(()=>{U(!1)},en)};return(0,o.d4)(()=>{Bt&&t>0&&(r("notification_alert_improved"),i("notification_alert_improved")==="treatment"&&(Fe&&!j?window.setTimeout(()=>{U(!0),st("last_notification_alert_shown_at",Ws()().toISOString()),N2(gt),tn()},Ht):!Fe&&!Se&&De()))},[a,D,t,Se,Bt,j,U]),(0,e.h)(e.Fragment,null,(j||Y)&&(0,e.h)(M2.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:j,beforeEnter:()=>ge(!0),afterLeave:()=>ge(!1),enter:cs.transition,enterFrom:cs.enterFrom,enterTo:cs.enterTo,leave:cs.transition,leaveFrom:cs.leaveFrom,leaveTo:cs.leaveTo},(0,e.h)(je.hs,{radius:12,border:"detail",className:cs.alert,onMouseEnter:Xt,onMouseLeave:tn,shadow:"lg",bg:"elevated"},(0,e.h)(ml.cr,{module:"./MiniNotificationsViewer",resolve:fn=>fn.MiniNotificationsStack,onRequest:()=>Promise.all([wt.e(693),wt.e(525)]).then(wt.bind(wt,23525)),result:D,isReadOnly:!0}))))}var Od=wt(95042);function L2({fill:n="outline",canShowAlerts:t=!1}){const r=(0,Mu.lR)(),i=(0,Et.xR)(),a=(0,Ut.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,o.d4)(()=>{r.activityUnreadCount>0&&(0,C.j)(C.FP.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:r.activityUnreadCount})},[r.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(wo.v2,{trigger:(0,e.h)(ft.hU,{className:Od.Z.trigger,"aria-label":"View activity",size:40,fill:n,priority:"secondary",onMouseEnter:()=>Promise.all([wt.e(693),wt.e(525)]).then(wt.bind(wt,23525))},(0,e.h)(D2,{"aria-hidden":!0,size:20,strokeWidth:2}),r.activityUnreadCount>0&&(0,e.h)(ih.in,{className:u()(Od.Z.badge,r.activityUnreadCount<10&&Od.Z.circle)},(0,e.h)(je.hs,{alignItems:"center",justifyContent:"center"},r.activityUnreadCount<100?r.activityUnreadCount:"99+"))),onOpen:()=>a.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(ml.cr,{module:"./activity/MiniNotificationsViewer",resolve:D=>D.MiniNotificationsViewer,onRequest:()=>Promise.all([wt.e(693),wt.e(525)]).then(wt.bind(wt,23525)),resource:a,whileLoading:(0,e.h)(je.hs,{style:{width:400}})})),t&&i.getConfigFor("show_first_notification_enabled")&&(0,e.h)(R2,null))}var B2=wt(91041),ei=wt(75425);const ch={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"},dh=(0,Po.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]]);var k2=wt(89581),Ha=wt(33510),Sd=wt(63295),Td=wt(12650),Ko=wt(56838);const Ii={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var U2=Object.defineProperty,F2=Object.defineProperties,j2=Object.getOwnPropertyDescriptors,fh=Object.getOwnPropertySymbols,W2=Object.prototype.hasOwnProperty,H2=Object.prototype.propertyIsEnumerable,ph=(n,t,r)=>t in n?U2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hh=(n,t)=>{for(var r in t||(t={}))W2.call(t,r)&&ph(n,r,t[r]);if(fh)for(var r of fh(t))H2.call(t,r)&&ph(n,r,t[r]);return n},mh=(n,t)=>F2(n,j2(t));const _h=({pub:n,isSignedIn:t})=>{var r;const[i,a]=(0,o.eJ)(!1),[D,B]=(0,o.eJ)(""),{getConfigFor:j}=(0,Et.xR)(),U=!!((r=j("platform_searcher_enabled"))!=null&&r),{result:Y,refetch:ge,error:Se,isLoading:De,hasLoadedOnce:Fe}=(0,Ut.ib)({pathname:"/api/v1/post/search",query:{query:D,focusedPublicationId:n.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(U)},deps:[D],auto:!1}),qe=(U?Y==null?void 0:Y.focused:Y==null?void 0:Y.results)||[],Ye=U?(Y==null?void 0:Y.results)||[]:[],st=(Y==null?void 0:Y.publications)||[],{triggerProps:gt,layerProps:yt,renderLayer:At,isOpen:Bt,setOpen:xt}=(0,k2.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}}),{iString:Ht,iTemplate:en}=(0,P.M1)();(0,o.d4)(()=>{if(D.length){xt(!0);const fn=setTimeout(ge,300);return()=>clearTimeout(fn)}xt(!1)},[D,xt]);const Xt=(0,o.sO)(null),tn=(0,o.I4)(fn=>{if(fn.key==="Enter"){if(!Bt||!D||!i)return;window.location.href=(0,p.getDiscoverSearchUrl)({query:D,params:{focusedPublicationId:n.id}})}else if(fn.key==="Escape"){if(!i)return;B(""),a(!1),xt(!1)}},[i,Bt,D]);return(0,e.h)(e.Fragment,null,(0,e.h)(je.gq,mh(hh({},gt),{className:u()(Ii.searchWrapper,i&&Ii.active,t?Ii.marginLeft:Ii.marginRight),style:{width:i?"400px":"40px"},paddingLeft:i?16:0,alignItems:"center",justifyContent:i?"space-between":"center",onClick:i?void 0:()=>{a(!i),i||(setTimeout(()=>{var fn;(fn=Xt.current)==null||fn.focus()},10),B(""))},gap:4}),(0,e.h)(dh,{className:Ii.trigger,"area-hidden":!0,size:20,strokeWidth:2}),i&&(0,e.h)("input",{ref:Xt,className:u()(Ii.searcher),placeholder:Ht("Search..."),value:D,onChange:fn=>{B(fn.target.value)},onKeyDown:tn})),Bt&&At((0,e.h)(je.tu,mh(hh({},yt),{radius:12,className:Ii.dropdown,border:"detail-themed"}),!Fe||De&&!qe.length&&!Ye.length?(0,e.h)(je.gq,{radius:12,paddingY:20,className:Ii.loading,justifyContent:"center"},(0,e.h)(Ha.Sv,{size:40})):Se?(0,e.h)(je.gq,{radius:12,className:Ii.error,justifyContent:"start"},(0,e.h)(x.xv.B3,{translated:!0,color:"pub-primary-text"},"Something went wrong.")):!qe.length&&!Ye.length?(0,e.h)(je.gq,{radius:12,padding:20,className:Ii.empty,justifyContent:"start"},(0,e.h)(x.xv.B3,{translated:!0,color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',I18N.p(D),'"'))):(0,e.h)(e.Fragment,null,qe.map((fn,xn)=>(0,e.h)(gh,{key:fn.id,pub:n,post:fn,isFirst:xn===0,isLast:!Ye.length&&xn===qe.length-1,hideBottomBorder:Ye.length>0})),Ye.length>0&&(0,e.h)(je.gq,{className:Ii.more,paddingX:24,paddingY:8},(0,e.h)(x.xv.B4,{weight:"semibold",color:"pub-primary-text"},qe.length?en`More results from across Substack`:en`No results found on ${n.name}. More results from across Substack`)),Ye.map((fn,xn)=>{const yn=st.find(Gn=>Gn.id===fn.publication_id);return yn?(0,e.h)(gh,{key:fn.id,pub:yn,post:fn,isLast:xn===Ye.length-1,includePublication:!0}):null}),(0,e.h)(je.gq,{className:Ii.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,p.getDiscoverSearchUrl)({query:D,params:{focusedPublicationId:n.id}})}},(0,e.h)(x.xv.B4,{translated:!0,color:"pub-primary-text",weight:"semibold"},"See more results..."))))))},gh=({pub:n,post:t,includePublication:r=!1,hideBottomBorder:i=!1,isLast:a=!1,isFirst:D=!1})=>{var B;const j=(B=t.reactions["\u2764"])!=null?B:0,{language:U}=(0,P.M1)();return(0,e.h)(je.gq,{paddingX:12,onClick:()=>{window.location.href=(0,p.getPostUrl)(n,t)},width:"100%"},(0,e.h)(je.tu,{marginHeight:4,paddingTop:D?12:8,paddingBottom:a?12:8,borderBottom:i?void 0:"detail-themed"},(0,e.h)(je.gq,{className:Ii.result,gap:16,padding:12,radius:12},t.cover_image&&(0,e.h)("img",{src:(0,p.imginary)(t.cover_image,120,{height:80,smartCrop:!0}),alt:t.cover_image_alt||"",className:Ii.photo}),(0,e.h)(je.tu,{gap:4,className:Ii.metadata},r&&(0,e.h)(x.xv.Meta,null,n.name),(0,e.h)(x.xv.H4,{color:"pub-primary-text"},t.title),!!t.subtitle&&(0,e.h)(x.xv.B4,{color:"pub-primary-text"},t.subtitle),(0,e.h)(je.gq,{alignItems:"center",gap:4},(0,e.h)(x.xv.Meta,{color:"pub-secondary-text",className:u()(Ii.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:Mt()(t.post_date).toISOString()},(0,Ko.fh)({post:t,showDatetime:!1,language:U}))),j>0&&(0,e.h)(e.Fragment,null,(0,e.h)(Td.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(x.xv.Meta,{color:"pub-secondary-text",className:Ii.paddingRight},j)),t.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(Sd.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(x.xv.Meta,{color:"pub-secondary-text"},t.comment_count)))))))};var Bu=wt(96098);const V2={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function K2({children:n}){return(0,e.h)("div",{className:V2.pubAccentTheme},n)}var _l=wt(32224),$2=Object.defineProperty,z2=Object.defineProperties,G2=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,vh=Object.prototype.hasOwnProperty,yh=Object.prototype.propertyIsEnumerable,bh=(n,t,r)=>t in n?$2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ph=(n,t)=>{for(var r in t||(t={}))vh.call(t,r)&&bh(n,r,t[r]);if(ku)for(var r of ku(t))yh.call(t,r)&&bh(n,r,t[r]);return n},Eh=(n,t)=>z2(n,G2(t)),Z2=(n,t)=>{var r={};for(var i in n)vh.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ku)for(var i of ku(n))t.indexOf(i)<0&&yh.call(n,i)&&(r[i]=n[i]);return r},Uu=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Va=wt(6378),Y2=({className:n,baseRef:t,user:r,freeSignup:i,freeSignupEmail:a,pub:D,hide_subscribe_cta:B,showCustomerSupportModeModal:j,hideCta:U,hideNotifications:Y,hideUserIndicator:ge,hideSearch:Se,isPublishContext:De,isMeetingsActive:Fe,fixedTooltip:qe=!0})=>{const{iString:Ye,iTemplate:st}=(0,P.M1)(),gt=(0,o.sO)(null),{getSettingFor:yt}=(0,ut.So)(),[At,Bt]=(0,o.eJ)(!1),[xt,Ht]=(0,o.eJ)(!1),en=(0,ei.pm)(),Xt=(r==null?void 0:r.is_global_admin)&&!(r!=null&&r.is_admin),tn=(r==null?void 0:r.is_global_admin)&&(r==null?void 0:r.is_admin)&&!(r!=null&&r.is_author),fn=(0,Zt.jc)(),xn=(0,o.I4)(()=>Uu(void 0,null,function*(){try{yield $t().del("/api/v1/customer_support_mode"),document.location.href="/"}catch(Sn){alert((0,T.getNetworkErrorMessage)(Sn))}}),[]),yn=()=>Uu(void 0,null,function*(){Bt(!0);try{yield $t().post("/api/v1/subscription/reactivate").send({}),Ht(!0),en.popToast(Sn=>(0,e.h)(ei.FN,Eh(Ph({},Sn),{text:Ye("Your subscription has been renewed!")})))}catch(Sn){console.error("Failed to set to renew:",Sn),alert((0,T.getNetworkErrorMessage)(Sn))}finally{Bt(!1)}}),Gn=(0,o.I4)(()=>Uu(void 0,null,function*(){var Sn;(Sn=gt.current)==null||Sn.open()}),[gt]),pn=De?K2:Bu.h;return(0,e.h)("div",{className:u()("navbar-buttons",n),ref:t},(0,e.h)(pn,null,(0,e.h)(Et.QA.Consumer,null,Sn=>(0,e.h)(Lu.Consumer,null,ur=>(0,e.h)(e.Fragment,null,!Se&&!(0,T.isMobileBrowser)()&&!r&&(0,e.h)(_h,{pub:D,isSignedIn:!1}),!U&&X2({pub:D,user:r,freeSignup:i,freeSignupEmail:a,hide_subscribe_cta:B,viralGiftsConfig:D.viralGiftsConfig,isPublishContext:De,localeContext:ur,siteConfigContext:Sn,isMeetingsActive:Fe,getSettingFor:yt,renewing:At,renewed:xt,setToRenew:yn,experiments:fn}),!Se&&!(0,T.isMobileBrowser)()&&r&&(0,e.h)(_h,{pub:D,isSignedIn:!0}),!Y&&r&&!(0,T.isMobileBrowser)()&&(0,e.h)(L2,{fill:"borderless",canShowAlerts:!D||De}),!ge&&(0,e.h)(P2,{pub:D,user:r,enableCustomerServiceMode:Xt?Gn:null,disableCustomerServiceMode:tn?xn:null,fixedTooltip:qe}))))),Xt&&(0,e.h)(Au.h,null,(0,e.h)($e.p,{className:"account-info-customer-support-mode-modal",ref:gt,openByDefault:j&&Xt},(0,e.h)(Ct,{redirect:(0,p.getQueryItem)("redirect")||"/publish/home",onCancel:Sn=>{var ur;return(ur=gt.current)==null?void 0:ur.close(Sn)}}))))},J2=({pub:n,dashboardPubs:t})=>{const r=(0,Ni.XA)(),{getConfigFor:i}=(0,Et.xR)(),{iString:a}=(0,P.M1)();return(0,e.h)(B2.a,{priority:"primary",fill:"outline",size:r?"small":"medium",menuItems:t.map(({logo_url:D,name:B,subdomain:j})=>(0,e.h)(wo.sN,{className:ch.menuItem,href:(0,p.getDashboardUrlForSubdomain)(j,{params:{utm_source:"substack",utm_context:"dashboard_pub_switcher"}}),icon:(0,e.h)("img",{className:ch.menuIcon,width:20,src:(0,p.imginary)(D||"/img/substack-nomargin.png",20)}),priority:n.subdomain===j?"selected":"primary"},B)),href:(0,oe.getDashboardHomeUrl)(n,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:a("Dashboard"),mobileBottomSheetSubtitle:a("Select a publication")}},a("Dashboard"))},wh=({dashboardPubs:n,pub:t})=>{const{iString:r}=(0,P.M1)();return n.length>1?(0,e.h)(J2,{pub:t,dashboardPubs:n}):(0,e.h)(la,{className:"outline",href:(0,oe.getDashboardHomeUrl)(t,{addBase:!0}),"data-testid":"menu-dashboard-button"},r("Dashboard"))};function X2({user:n,pub:t,freeSignup:r,freeSignupEmail:i,hide_subscribe_cta:a,isPublishContext:D,isMeetingsActive:B,siteConfigContext:j,getSettingFor:U,renewing:Y,renewed:ge,setToRenew:Se,experiments:De}){var Fe,qe,Ye,st,gt,yt,At,Bt,xt,Ht;const{iString:en,iPlural:Xt}=I18N.i({pub:t});t.invite_only&&!(n!=null&&n.subscription_id||n!=null&&n.is_free_subscribed)&&(a=!0);const tn=n==null?void 0:n.is_contributor,fn=(n==null?void 0:n.is_subscribed)||tn,xn=(n==null?void 0:n.is_free_subscribed)||r,{getExperimentVariant:yn,exposeExperiment:Gn}=De,pn=Va.paymentsAreEnabled(t)&&fn&&["gift","comp"].includes(n.subscription_type)&&Mt()(n.subscription_expiry).subtract(30,"days").isBeforeNow(),Sn=Va.paymentsAreEnabled(t)&&Va.userIsFreeOnly(n)&&n.comp_expired_recently,ur=(n==null?void 0:n.is_free_subscribed)&&(n==null?void 0:n.is_paused),Qn=((Fe=n==null?void 0:n.dashboard_pubs)==null?void 0:Fe.length)===1;if(tn){const jn=(n==null?void 0:n.dashboard_pubs)||[];return D&&jn.length===1?[]:!t.has_posts&&!(0,T.isMobileBrowser)()?[(0,e.h)(la,{className:"primary fill new-post-btn",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,T.redirect)((0,p.getCreatePostUrl)(t,{type:"newsletter"}),{local_navigation:!1})}},en("New post")),(0,e.h)(wh,{dashboardPubs:jn,pub:t,useNewDashLink:Qn})]:(0,e.h)(wh,{dashboardPubs:jn,pub:t,useNewDashLink:Qn})}else{if(ur)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,T.redirect)((0,p.getCancelOrUncancelUrl)(t,{addBase:!0}),{local_navigation:!1})}},en("Unpause my subscription"));if(pn||Sn){if(!a)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,T.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:pn&&(n!=null&&n.is_founding)?t.plans.find(jn=>jn.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},en("Subscribe")),(0,e.h)("span",{className:"desktop-only"},en("Continue your support")))}else if(Va.paymentsAreEnabled(t)&&xn&&!fn&&!["thebulwark"].includes(t.subdomain)){if(!a)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,T.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,Vt.getSubscribeText)(t,{isFreeSubscribed:!0,isMobile:(0,T.isMobileBrowser)()}))}else if(Va.paymentsAreEnabled(t)?!fn:!(xn||fn)){if(!a){const jn=(st=(Ye=(qe=(0,p.getQueryItem)("referring_pub_ids"))==null?void 0:qe.split)==null?void 0:Ye.call(qe,","))==null?void 0:st[0],Kn=(At=(yt=(gt=(0,p.getQueryItem)("referring_pub_ids"))==null?void 0:gt.split)==null?void 0:yt.call(gt,","))==null?void 0:At.slice(1);return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>Uu(this,null,function*(){const Wn=n&&!n.is_magic&&n.email||i;if((0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),Wn){let tr;try{tr=(yield $t().post("/api/v1/free").send({source:"menu",email:Wn,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU,referring_pub_id:jn,additional_referring_pub_ids:Kn})).body.referral_token}catch(Rn){(0,C.j)(C.FP.FREE_SIGNUP_FAILED,{reason:Rn.message,source:"menu"})}window.location.href=(0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0,referral_token:tr})}else window.location.href=(0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,e.h)(y.gq,{alignItems:"center",gap:8},(0,e.h)(_l.Z,{size:20}),(0,Vt.getSubscribeText)(t,{isFreeSubscribed:xn,isMobile:(0,T.isMobileBrowser)()})))}}else{if(t.invite_only&&fn&&n.invites<t.subscriber_invites)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,T.redirect)((0,p.getInviteUrl)(t),{local_navigation:!1})}},(0,e.h)("span",null,Xt("1 invite left","%1 invites left",t.subscriber_invites-n.invites)));if(Va.paymentsAreEnabled(t)&&B&&!j.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,T.redirect)((0,oe.getMeetingsUrl)(t,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},en("Book meeting")),(0,e.h)("span",{className:"desktop-only"},en("Book a meeting")));if(Va.paymentsAreEnabled(t)&&n.is_subscribed&&n.subscription_unsubscribed_at&&!["gift","comp"].includes(n.subscription_type))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"renew"}),Se()},disabled:Y||ge,style:{visibility:ge?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},en("Renew")),(0,e.h)("span",{className:"desktop-only"},en("Renew subscription")));if(Va.paymentsAreEnabled(t)&&!n.is_founding&&Mt()(n.subscription_first_payment_at).isBefore(Mt()().subtract(48,"hours"))&&((Ht=(xt=(Bt=t==null?void 0:t.plans)==null?void 0:Bt.find(jn=>jn.metadata.founding))==null?void 0:xt.metadata)==null?void 0:Ht.short_description)==="Founding Member")return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,T.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0,selectedPlanId:t.plans.find(jn=>jn.metadata.founding).id}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},en("Upgrade")),(0,e.h)("span",{className:"desktop-only"},en("Upgrade to founding")));if(t.payments_state==="disabled"&&!t.invite_only&&U("payment_pledges_enabled")&&xn&&!(n!=null&&n.is_pledged))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,T.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},en("Pledge your support"));if(t.is_on_substack&&!(n!=null&&n.has_publication))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,T.redirect)((0,p.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},en("Start publishing"))}}return null}function la(n){var t=n,{className:r="primary subscribe-cta subscribe-btn"}=t,i=Z2(t,["className"]);const a=(0,o.qp)(oh),D=!1;return(0,e.h)(Je.Z,Eh(Ph({},i),{className:u()(r,{"rounded-btn":D,"force-desktop":a})}))}const Q2=Y2;var q2=wt(49336),ew=wt(56743),gl=wt(2564);const vl={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},Ch=10,tw=250;function nw({className:n,items:t,menuItemClassName:r,selectedMenuItemClassName:i,selectedSlug:a,pub:D}){const B=(0,o.sO)(null),[j,U]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)(!1);function Se(qe){const{scrollLeft:Ye,scrollWidth:st,clientWidth:gt}=qe;U(Ye>Ch),ge(st-(gt+Ye)>Ch)}const De=qe=>Se(qe.target),Fe=qe=>()=>{const{current:Ye}=B;Ye&&Ye.scrollBy({left:qe*tw,behavior:"smooth"})};return(0,o.d4)(()=>{Se(B.current)},[]),(0,e.h)("div",{className:u()("overflow-list-container",n)},(0,e.h)("div",{className:u()("section-bar",{scroll:!0,"overflow-left":j,"overflow-right":Y})},(0,e.h)("div",{className:"overflow-items",ref:B,onScroll:De},t.map(({label:qe,href:Ye,slug:st,isNative:gt,onClick:yt,noFollow:At,subItems:Bt})=>Bt?(0,e.h)(wo.v2,{trigger:(0,e.h)("div",{className:u()("menu-item",{selected:st===a},r,i&&{[i]:st===a})},(0,e.h)(Lt.Z,{className:vl.subMenuTrigger,onClick:yt,native:gt,rel:At?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},qe),(0,e.h)(q2.Z,{className:vl.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:qe},Bt.map(({label:xt,href:Ht,slug:en,isNative:Xt,onClick:tn,noFollow:fn,logoUrl:xn})=>{const yn=parseInt(en)===(D==null?void 0:D.id);return(0,e.h)(wo.sN,{icon:(0,e.h)("img",{className:vl.logo,width:20,src:(0,p.imginary)(xn||"/img/substack-nomargin.png",40)}),href:Ht,onClick:tn,native:Xt,rel:fn?"nofollow":void 0,priority:"primary",disabled:yn,className:u()(vl.subMenuItem,{[vl.disabled]:yn})},xt)})):(0,e.h)("div",{className:u()("menu-item",{selected:st===a},r,i&&{[i]:st===a})},(0,e.h)(Lt.Z,{href:Ye,onClick:yt,native:gt,rel:At?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},qe))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Fe(-1)},(0,e.h)(ew.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Fe(1)},(0,e.h)(gl.Z,{strokeWidth:1.5})))))}const Oh=(n,t)=>n.subItems?new sw(n,t):n.base_url?new rw(n):n.name&&n.id&&n.url?new aw(n,t):n.isPodcast?new ow(n):new iw(n,t);class yl{constructor(t,r){this._obj=t,this._pub=r}truncatedName(){return(0,Vt.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(t,r){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class rw extends yl{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(t){return this._obj.id===t.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,oe.getBaseUrl)(this._obj)}}class ow extends yl{isPodcast(){return!0}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return(0,oe.getBaseUrl)(this._obj)}}class iw extends yl{constructor(t,r){super(t,r),this._homepageUrl=(0,oe.getSectionUrl)(r,{section:t})}isPodcast(){return this._obj.is_podcast}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return this._homepageUrl}logoUrl(){var t,r,i;if(this._obj.is_podcast){const a=(t=this._pub.sections)==null?void 0:t.find(D=>D.id===this._obj.id);return(i=(r=a==null?void 0:a.podcastSettings)==null?void 0:r.podcast_art_url)!=null?i:this._obj.logo_url}return this._obj.logo_url}}class aw extends yl{constructor(t,r){super(t,r),this._maybeNoFollow=t.noFollow,this._pubTier=(r==null?void 0:r.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class sw extends yl{isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(t=>Oh(t,this._pub))}}const lw=({pub:n,selectedSectionId:t,sectionRawItems:r,isPublishContext:i})=>{const a=r.map(B=>Oh(B,n)),D=B=>{var j,U;return{label:B.truncatedName(),href:B.homepageUrl(),slug:B.item.id,isNative:B.isNative(),noFollow:B.noFollow(),logoUrl:(j=B.logoUrl)==null?void 0:j.call(B),subItems:(U=B.subItems())==null?void 0:U.map(D)}};return(0,e.h)(nw,{items:a.map(D),className:u()("sections-overflow",{"publish-menu":i}),selectedSlug:t,useHorizontalScrolling:i,pub:n})};var uw=Object.defineProperty,Sh=Object.getOwnPropertySymbols,cw=Object.prototype.hasOwnProperty,dw=Object.prototype.propertyIsEnumerable,Id=(n,t,r)=>t in n?uw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,fw=(n,t)=>{for(var r in t||(t={}))cw.call(t,r)&&Id(n,r,t[r]);if(Sh)for(var r of Sh(t))dw.call(t,r)&&Id(n,r,t[r]);return n},Ka=(n,t,r)=>(Id(n,typeof t!="symbol"?t+"":t,r),r),xd,Th,Dd,Ih;const Md=wt(6378),xh=(n,t)=>{var r,i;return((r=n.sibling_rank)!=null?r:1/0)-((i=t.sibling_rank)!=null?i:1/0)||(n.name<t.name?-1:n.name>t.name?1:0)};class Fu extends e.Component{constructor(){super(...arguments),Ka(this,"menuHeight",0),Ka(this,"state",{animated:!0,hiding:!!(typeof window!="undefined"&&((Th=(xd=window.location.hash)==null?void 0:xd.startsWith)!=null&&Th.call(xd,"#footnote")||(Ih=(Dd=window.location.hash)==null?void 0:Dd.startsWith)!=null&&Ih.call(Dd,"#tiktok")))}),Ka(this,"onClick",t=>{var r,i;((r=t.target)!=null&&r.classList.contains("footnote-number")||(i=t.target)!=null&&i.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),Ka(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const t=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,r=document.body.clientWidth,i=this.buttonsContainer.getBoundingClientRect().width,a=r>630,D=a?24*2:12*2,B=a&&.5*r-i-D>.5*t;this.setState({buttonsContainerWidth:B?`${i}px`:"auto",centerTitle:B})}),Ka(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const t=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const r=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,T.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,T.maxScroll)()))if(this.scrollTop<t){const i=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>r?(this.menuTop=r,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<i)&&(this.menuTop=i,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>t&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=r,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<r-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),Ka(this,"onHeadlineClick",t=>{this.publicationPicker?(t.preventDefault(),this.publicationPicker.open()):(0,C.j)(C.FP.NAV_BAR_HOME_LINK_CLICKED)}),Ka(this,"hide",()=>{const t=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=t-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return Md.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:t,user:r,freeSignup:i,freeSignupEmail:a,pub:D,publicationPicker:B,publicationPickerPath:j,lowChrome:U,hide_subscribe_cta:Y,isPublishContext:ge,hideTitle:Se,showCustomerSupportModeModal:De,signupForFreeVariant:Fe,isMeetingsActive:qe,hideNavbarSearch:Ye},{animated:st,buttonsContainerWidth:gt,centerTitle:yt}){const At=!B&&(D==null?void 0:D.parent_publication)||D,Bt=typeof window=="undefined";return(0,e.h)("div",{"data-testid":"navbar",className:u()("main-menu",t,{animated:st,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":U})},(0,e.h)("div",{className:"main-menu-content",ref:xt=>this.menuContent=xt},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},B&&!U&&(D.parent_publication||D.child_publications.length>0)&&(0,e.h)($i.ZP,{ref:xt=>this.publicationPicker=xt,className:"publication-picker",noPlace:!0,noTail:!0},[D,D.parent_publication].concat(D.child_publications.concat(D.sibling_publications).sort((xt,Ht)=>xt.name.toLowerCase().localeCompare(Ht.name.toLowerCase()))).filter(xt=>xt).map(xt=>(0,e.h)("a",{href:xt.base_url+(xt.id===D.id?"/":j||"/")},xt.name))),!U&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()("navbar-logo-container",At.logo_url?"":"no-logo"),style:{width:gt}},At.logo_url&&(0,e.h)("a",{href:(0,oe.getBaseUrl)(At),onClick:this.onHeadlineClick},(0,e.h)("img",{className:"navbar-logo",src:(0,oe.imginary)(At.logo_url,96)}))),!Se&&(0,e.h)("h1",{className:u()("navbar-title",{"left-align":!yt,loading:Bt})},(0,e.h)("a",{className:"navbar-title-link",href:(0,oe.getBaseUrl)(At),ref:xt=>this.largeMenuPubTitle=xt},At.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${At?"":"substack-logo-wordmark"}`,src:(0,oe.imginary)(At?At.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:At?At.name:"Substack"}):At.name),!ge&&D.parent_publication&&(0,e.h)(pw,{title:D.name})),(0,e.h)(Q2,{baseRef:xt=>this.buttonsContainer=xt,user:r,freeSignup:i,freeSignupEmail:a,hide_subscribe_cta:Y,isPublishContext:ge,pub:D,hideSearch:ge||!!Ye,signupForFreeVariant:Fe,showCustomerSupportModeModal:De,isMeetingsActive:qe}))),this.shouldShowSectionsNavBar()&&(0,e.h)(hw,fw({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}Ka(Fu,"contextType",yi);const pw=({title:n})=>{const t=(0,Ni.XA)();return(0,e.h)(x.xv,{size:t?14:24,weight:"light",as:"span"},(0,e.h)("span",null," | "),n)};function hw({isPublishContext:n,pub:t,user:r,isChatActive:i,isMeetingsActive:a,hasMeetingsBooked:D,selectedSectionId:B}){const{getSettingFor:j}=(0,ut.So)(),U=j("notes_feed_enabled"),Y=!!(j("reader_referrals_enabled")&&j("reader_referrals_leaderboard_enabled")),ge=j("group_sections_and_podcasts_in_menu_enabled"),Se=_t(t.navigationBarItems||[],{isFeedEnabled:U,isPodcastActive:t.podcast_enabled&&t.show_pub_podcast_tab,isChatActive:i,isChatEnabled:!!t.threads_v2_enabled,isMeetingsActive:a,hasMultipleNewsletters:t.sections&&t.sections.length>0,isReaderReferralsLeaderboardActive:Y,language:t.language}).filter(Fe=>!Fe.is_hidden),De=n?mw({isAdmin:!!(r!=null&&r.is_admin),pub:t,showMeetings:a||D}):_w({groupNewsletters:ge,navBarItems:Se,pub:t});return(0,e.h)(lw,{pub:t,selectedSectionId:B,sectionRawItems:De,isPublishContext:n})}const mw=({isAdmin:n,pub:t,showMeetings:r})=>{const{iString:i}=I18N.i({pub:t}),a=[];return a.push({id:"/publish/home",url:(0,oe.getDashboardHomeUrl)(t,{addBase:!0}),name:i("Home")}),a.push({id:"/publish/posts",url:"/publish/posts",name:i("Posts")},{id:"/publish/podcasting",url:(0,p.getPodcastingUrl)(t,{addBase:!0}),name:i("Podcast")},{id:"/publish/subscribers",url:(0,p.getSubscriberStatsUrl)(t,{addBase:!0}),name:i("Subscribers")}),n&&(a.push({id:"/publish/stats",url:"/publish/stats",name:i("Stats")}),a.push({id:"/publish/recommendations",url:"/publish/recommendations",name:i("Recommendations")}),r&&a.push({id:"/publish/meetings",url:"/publish/meetings",name:i("Meetings")}),a.push({id:"/publish/settings",url:(0,oe.getPublishSettingsUrl)(t,{addBase:!0}),name:i("Settings")})),a},_w=({groupNewsletters:n=!1,navBarItems:t,pub:r})=>{var i,a;const{iString:D,iTemplate:B}=I18N.i({pub:r}),j=[];let U=[];if((i=r.child_publications)!=null&&i.length)j.push({id:"/home",url:"/",name:D("Home")}),U.push(...r.child_publications.sort(xh));else if(r.parent_publication||(a=r.sibling_publications)!=null&&a.length){const Y=[r,...r.sibling_publications].sort(xh).map(ge=>ge.id===r.id&&!Md.isBulwarkPub(r)?{id:"/home",url:"/",name:r.name}:ge);j.push({id:"/parent",url:(0,oe.getBaseUrl)(r.parent_publication),name:D("Home")}),U.push(...Y)}else j.push({id:"/home",url:"/",name:D("Home")}),r.podcast_enabled&&r.show_pub_podcast_tab&&U.push({id:"/podcast",url:"/podcast",name:D("Podcast"),isPodcast:!0});for(const Y of t){const ge=tt(Y);Y.section?U.push(Y.section):U.push({id:(0,oe.getNavigationBarItemUrl)(r.parent_publication||r,Y,{addBase:!1}),url:(0,oe.getNavigationBarItemUrl)(r.parent_publication||r,Y,{addBase:!Y.standard_key}),name:Ue(Y),noFollow:!Y.standard_key&&ge==="link"})}return n?U=Dh({items:U,groups:[{name:D("Newsletters"),condition:Y=>gw(Y)},{name:D("Podcasts"),condition:Y=>vw(Y)}]}):Md.isBulwarkPub(r)&&(U=Dh({items:U,groups:[{name:D("Newsletters"),condition:Y=>Y.type==="newsletter"},{name:D("Podcasts"),condition:Y=>Y.type==="podcast"}]})),[...j,...U]},gw=n=>!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&!n.is_podcast,vw=n=>n.isPodcast||!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&n.is_podcast,Dh=({items:n,groups:t})=>{const r=[];let i=n;for(const a of t){const D=i.filter(a.condition);D.length>0&&(r.push({name:a.name,subItems:D}),i=i.filter(B=>!a.condition(B)))}return[...r,...i]},Mh=({pub:n,url:t})=>{var r,i;if(!t.includes("api.substack.com"))return null;if(t.includes(`/feed/podcast/${n.id}.rss`))return n.podcast_title||n.name;if(t.includes(`/feed/podcast/${n.id}/s/`)){const a=(i=(r=t.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:r.groups)==null?void 0:i.sectionId;if(!a)return"Unknown section";const D=n.sections.find(B=>B.id===parseInt(a));return D?D.name:"Unknown Section"}return"another podcast"},Ah=({pub:n,url:t})=>t.includes("api.substack.com")?t.includes(`/feed/podcast/${n.id}/s/`)||t.includes(`/feed/podcast/${n.id}.rss`):!1,yw=n=>{if(!n)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!n.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!n.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const t=Mh({pub:n,url:n.podcast_feed_url});return t?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${t}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${n.podcast_feed_url}.`}},bw=({pub:n,section:t})=>{var r;if(!t.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;if(!i)return{can_syndicate:!0,hover_text:null};const a=Mh({pub:n,url:i});return a?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${a}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${i}.`}},JV=({pub:n})=>{var t;const r=[];if(n.podcast_enabled||n.podcast_title){const i=yw(n);r.push({name:n.podcast_title||n.name,description:n.podcast_description||"",can_publish_to:i.can_syndicate,hover_text:i.hover_text,publication_id:n.id,section_id:null})}for(const i of(t=n.sections)!=null?t:[]){if(!i.is_podcast)continue;const a=bw({pub:n,section:i});r.push({name:i.name,description:i.description,can_publish_to:a.can_syndicate,hover_text:a.hover_text,publication_id:n.id,section_id:i.id})}return r},Pw=n=>!n||!n.podcast_enabled?!1:n.podcast_feed_url?!Ah({pub:n,url:n.podcast_feed_url}):!0,Ew=({pub:n,section:t})=>{var r;if(!t.is_podcast)return!1;const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;return i?!Ah({pub:n,url:i}):!0},XV=(n,t=0)=>t?ww(n,t):n.email_disabled?"none":n.receive_podcast_emails?"all":"allButPodcasts",ww=(n,t)=>{var r;return!n.email_settings||!n.email_settings[t]?null:n.email_settings[t]==="disabled"?"none":(r=n.section_podcasts_enabled)!=null&&r.includes(t)?"all":"allButPodcasts"},Cw=({pub:n,includeMainPub:t})=>{var r;if(!n)return[];const i=[];return t&&i.push({name:n.name,description:n.hero_text,logoUrl:n.logo_url,sectionId:null,linkUrl:(0,p.getArchiveUrl)(n),defaultOn:!0}),(r=n.sections)==null||r.forEach(a=>{i.push({name:a.name,description:a.description,logoUrl:a.logo_url,sectionId:a.id,linkUrl:(0,oe.getSectionUrl)(n,{section:a}),defaultOn:a.is_default_on})}),i};var Ow=Object.defineProperty,Sw=Object.defineProperties,Tw=Object.getOwnPropertyDescriptors,Nh=Object.getOwnPropertySymbols,Iw=Object.prototype.hasOwnProperty,xw=Object.prototype.propertyIsEnumerable,Rh=(n,t,r)=>t in n?Ow(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Dw=(n,t)=>{for(var r in t||(t={}))Iw.call(t,r)&&Rh(n,r,t[r]);if(Nh)for(var r of Nh(t))xw.call(t,r)&&Rh(n,r,t[r]);return n},Mw=(n,t)=>Sw(n,Tw(t));const Lh=n=>(0,e.h)(k.l,Mw(Dw({},n),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:n.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var Aw=Object.defineProperty,Nw=Object.defineProperties,Rw=Object.getOwnPropertyDescriptors,Bh=Object.getOwnPropertySymbols,Lw=Object.prototype.hasOwnProperty,Bw=Object.prototype.propertyIsEnumerable,kh=(n,t,r)=>t in n?Aw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Uh=(n,t)=>{for(var r in t||(t={}))Lw.call(t,r)&&kh(n,r,t[r]);if(Bh)for(var r of Bh(t))Bw.call(t,r)&&kh(n,r,t[r]);return n},Fh=(n,t)=>Nw(n,Rw(t)),Ad=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const bi=()=>{const n=(0,zt.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),t=(0,zt.useMediaQuery)({query:"only screen and (max-width: 768px)"});let r;return typeof window=="undefined"?r=(0,M.isMobile)()?"mobile":"desktop":r=t?"mobile":n?"tablet":"desktop",{breakpoint:r,isMobile:r==="mobile",isTablet:r==="tablet",isDesktop:r==="desktop"}},qV=({pubId:n})=>{const[t,r]=useState([]),[i,a]=useState([]),[D,B]=useState([]),[j,U]=useState([]),[Y,ge]=useState(!1),[Se,De]=useState([]),[Fe,qe]=useState([]);return useEffect(()=>{request.get("/api/v1/publication_user/homepage_preview").then(({body:Ye})=>{r(Ye)}),request.get("/api/v1/homepage_links").then(({body:Ye})=>a(Ye)),request.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:Ye})=>{B(Ye),ge(!0)}),request.get("/api/v1/archive").query({sort:"pinned"}).then(({body:Ye})=>U(Ye)),request.get(`/api/v1/recommendations/from/${n}`).query({limit:5}).then(Ye=>{De(Ye.body)}),request.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:Ye})=>qe(Ye))},[n]),useMemo(()=>({contributors:t,homepageLinks:i,newPosts:D,pinnedPosts:j,postsLoaded:Y,recommendations:Se,topPosts:Fe}),[t,i,D,j,Y,Se,Fe])},eK=()=>{const[n,t]=useState([]),[r,i]=useState({}),[a,D]=useState({});return useEffect(()=>{(()=>Ad(void 0,null,function*(){for(const j of n){if(j.post_source==="section"&&j.section_id&&!r[j.section_id]){const{body:U}=yield request.get("/api/v1/archive").query({section_id:j.section_id,sort:"new",limit:13});i(Y=>Fh(Uh({},Y),{[String(j.section_id)]:U}))}if(j.post_source==="tag"&&j.post_tag_id&&!a[j.post_tag_id]){const{body:U}=yield request.get("/api/v1/archive").query({post_tag_id:j.post_tag_id,sort:"new",limit:13});D(Y=>Fh(Uh({},Y),{[String(j.post_tag_id)]:U}))}}}))()},[n,r,a]),{contentBlocks:n,onChangeContentBlocks:t,postsBySectionId:r,postsByTagId:a}},kw=n=>{const[t,r]=(0,o.eJ)(n.newPosts),[i,a]=(0,o.eJ)(n.pinnedPosts),[D,B]=(0,o.eJ)(n.topPosts),j=new Set((i||[]).map(ge=>ge.id)),U=(i||[]).concat((t||[]).filter(ge=>!j.has(ge.id)));(0,o.d4)(()=>{var ge,Se,De;((ge=n.newPosts)==null?void 0:ge.length)!==t.length&&r(n.newPosts),((Se=n.pinnedPosts)==null?void 0:Se.length)!==i.length&&a(n.pinnedPosts),((De=n.topPosts)==null?void 0:De.length)!==D.length&&B(n.topPosts)},[n.newPosts,n.pinnedPosts,n.topPosts,t==null?void 0:t.length,i==null?void 0:i.length,D==null?void 0:D.length]);const Y=(0,o.I4)(({post:ge})=>{if(!ge)return;const Se=[{list:D,setter:B},{list:i,setter:a},{list:t,setter:r}];for(const De of Se){if(!De.list)return;const Fe=De.list.findIndex(qe=>qe.id===ge.id);if(Fe!==-1){const qe=[...De.list];qe.splice(Fe,1,ge),De.setter(qe)}}},[t,i,D]);return{posts:U,topPosts:D,onChange:Y}},tK=({bodyId:n})=>{const[t,r]=useState(null),[i,a]=useState(null);return useEffect(()=>{n==="grid-groups"&&(i||Ad(void 0,null,function*(){try{const B=yield request.get("/api/v1/publication/sections");a(B.body)}catch(B){console.error(B)}}),t||Ad(void 0,null,function*(){try{const B=yield request.get("/api/v1/publication/post-tag");r(B.body)}catch(B){console.error(B)}}))},[n,t,i]),{postTags:t,sections:i}},Pi={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},Uw=({newsletter:n,hideLink:t=!1,onToggle:r,onClick:i})=>{const{isMobile:a}=bi();i&&r&&console.error("you cannot pass both onToggle and onClick");const D=j=>{j.stopPropagation(),r==null||r({sectionId:n.sectionId,isSelected:!n.selected})},B=!!r;return a?(0,e.h)(Fw,{newsletter:n,hideLink:t,onClick:i,onToggle:r}):(0,e.h)(y.tu,{className:u()(Pi.container,{[Pi.selectedContainer]:B&&n.selected,[Pi.selectableContainer]:B,[Pi.clickableContainer]:!!i}),justifyContent:"space-between",radius:12,padding:16,onClick:B?D:i!=null?i:void 0},B&&n.selected?(0,e.h)(Lh,{className:u()(Pi.selector)}):B?(0,e.h)("div",{className:u()(Pi.unselected,Pi.selector)}):null,(0,e.h)(y.tu,{gap:24},n.logoUrl&&(0,e.h)("div",{className:Pi.img},n.logoUrl&&(0,e.h)("img",{className:Pi.img,src:(0,p.imginary)(n.logoUrl,64)})),(0,e.h)(y.tu,{gap:8},(0,e.h)(y.xv.H3,{paddingRight:n.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},n.name),(0,e.h)(y.xv.B4,{color:"pub-secondary-text",clamp:4},n.description))),!t&&(0,e.h)(y.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:Pi.seeLatest,href:n.linkUrl,native:!0},"See the latest")))},Fw=({newsletter:n,hideLink:t,onClick:r,onToggle:i})=>{const a=!!i,D=B=>{B.stopPropagation(),i==null||i({sectionId:n.sectionId,isSelected:!n.selected})};return(0,e.h)(y.tu,{className:u()(Pi.containerMobile,{[Pi.selectedContainer]:a&&n.selected,[Pi.selectableContainer]:a,[Pi.clickableContainer]:!!D}),justifyContent:"space-between",radius:12,padding:16,onClick:a?D:r!=null?r:void 0},a&&n.selected?(0,e.h)(Lh,{className:u()(Pi.selector)}):a?(0,e.h)("div",{className:u()(Pi.unselected,Pi.selector)}):null,(0,e.h)(y.tu,{gap:8},(0,e.h)(y.gq,{gap:8},n.logoUrl&&(0,e.h)("img",{className:Pi.imgMobile,src:(0,p.imginary)(n.logoUrl,64)}),(0,e.h)(y.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},n.name)),(0,e.h)(y.xv.B4,{color:"secondary",clamp:2,font:"text"},n.description)),!t&&(0,e.h)(y.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:n.linkUrl,native:!0},"See the latest")))},jw={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},Ww=({newsletters:n,hideLinks:t,onNewsletterClick:r,justifyItems:i})=>{const{iString:a}=(0,P.M1)();return(0,e.h)(je.gq,{className:jw.container,wrap:"wrap",justifyContent:i,gap:24},n.length===0&&(0,e.h)("div",null,a("No additional newsletters")),n.map((D,B)=>(0,e.h)(Uw,{newsletter:D,key:B,hideLink:t,onToggle:r?({sectionId:j,isSelected:U})=>{r({sectionId:j,isSelected:U})}:void 0,onClick:t?void 0:()=>{(0,T.redirect)(D.linkUrl,{local_navigation:!1})}})))},Nd={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var Hw=Object.defineProperty,Vw=Object.defineProperties,Kw=Object.getOwnPropertyDescriptors,jh=Object.getOwnPropertySymbols,$w=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable,Wh=(n,t,r)=>t in n?Hw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Gw=(n,t)=>{for(var r in t||(t={}))$w.call(t,r)&&Wh(n,r,t[r]);if(jh)for(var r of jh(t))zw.call(t,r)&&Wh(n,r,t[r]);return n},Zw=(n,t)=>Vw(n,Kw(t));const Yw=({pub:n,user:t})=>{const r=Cw({pub:n,includeMainPub:!0}).map(i=>Zw(Gw({},i),{linkUrl:(0,p.updateQuery)(i.linkUrl,{utm_source:"newsletter_page"}),selected:i.defaultOn}));return r.length===0?(typeof window!="undefined"&&(window.location.href=(0,oe.getBaseUrl)(n)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:u()("page","typography",Nd.container)},(0,e.h)(y.tu,null,(0,e.h)(y.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(y.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(y.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(y.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",n.name," in your inbox.",t!=null&&t.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:Nd.accountLink,href:(0,p.getPubAccountSettingsUrl)(n),native:!0},"account settings"),"."):"")),(!t||!t.is_subscribed)&&(0,e.h)(y.zx,{priority:"primary-theme",href:(0,p.getSubscribeUrl)(n,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),(0,e.h)(y.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:Nd.newsletterList},(0,e.h)(Ww,{newsletters:r,hideLinks:!1,justifyItems:"start"}))))};var Jw=Object.defineProperty,Xw=Object.defineProperties,Qw=Object.getOwnPropertyDescriptors,Hh=Object.getOwnPropertySymbols,qw=Object.prototype.hasOwnProperty,eC=Object.prototype.propertyIsEnumerable,Vh=(n,t,r)=>t in n?Jw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bl=(n,t)=>{for(var r in t||(t={}))qw.call(t,r)&&Vh(n,r,t[r]);if(Hh)for(var r of Hh(t))eC.call(t,r)&&Vh(n,r,t[r]);return n},ju=(n,t)=>Xw(n,Qw(t)),tC=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())}),Kh;const nC=typeof window!="undefined"?(Kh=window._preloads)==null?void 0:Kh.publicationUserSettings:{},$h=n=>({getSettingForPubUser:r=>{if(!r||!n)return null;const i=n[r];return i===void 0?null:i}}),Rd=(0,e.createContext)(ju(bl({},$h(nC)),{changeUserSetting:()=>Promise.resolve(void 0)}));Rd.displayName="PublicationUserSettingsContext";const nK=n=>{const t=forwardRef((r,i)=>{const a=oC();return h(n,ju(bl(bl({},a),r),{ref:i}))});return t.displayName=`withPubUserSettingsContext(${n.displayName||n.name||"Anonymous"})`,t};function rC({preloadPubUserSettings:n={},children:t}){const[r,i]=(0,o.eJ)(n),a=(0,o.I4)((B,j)=>tC(this,null,function*(){i(U=>ju(bl({},U),{[B]:j}));try{yield(0,Ut.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:B,value:j}})}catch(U){console.error(U)}}),[i]),D=(0,o.Ye)(()=>ju(bl({},$h(r)),{changeUserSetting:a}),[r,a]);return(0,e.h)(Rd.Provider,{value:D},t)}function oC(){return useContext(Rd)}var iC=wt(92643),Wu=wt(10174),Ld=wt(72307),Bd=wt(71720);function aC({user:n=void 0,pub:t=null,children:r=void 0,siteConfigs:i={},hasThemedBackground:a=void 0,language:D="en",country:B=void 0,experimentInfo:j={},portalRoot:U=void 0,shouldLoad:Y=void 0,shouldPollNotifications:ge=!1,publicationSettings:Se={},userSettings:De=void 0,publicationUserSettings:Fe={}}){Y===void 0&&(Y=!!n);const qe=(0,Ld.lV)(!!n);return(0,e.h)(x2,{country:B},(0,e.h)(P._7,{language:D},(0,e.h)(N.ze,{value:{hasThemedBackground:a}},(0,e.h)(Et.vC,{siteConfigs:i},(0,e.h)(Zt.Vt,{siteConfigs:i,experimentInfo:j},(0,e.h)(Ki,{siteConfigs:i,experimentInfo:j},(0,e.h)(ut.Iz,{settings:Se},(0,e.h)(rC,{preloadPubUserSettings:Fe},(0,e.h)(Mu.N$,{shouldLoad:Y,shouldPoll:ge},(0,e.h)(Au.X,{root:U},(0,e.h)(us.dr,{defaultValue:n,settings:De},(0,e.h)(iC.am,null,(0,e.h)(ei.VW,null,(0,e.h)(Ld.e.Provider,{value:qe},(0,e.h)(Wu.Au,null,(0,e.h)(Bd.G.Provider,{value:t},r))))))))))))))))}var ds=wt(4605);function sC(){return(0,e.h)(ml.cr,{module:"../feed/PublicationPage",onRequest:()=>wt.e(853).then(wt.bind(wt,88853)),resolve:n=>n.PublicationFeedPage,whileLoading:(0,e.h)(lC,null)})}function lC(){return(0,e.h)(Bu.h,null,(0,e.h)(je.hs,{bg:"primary",style:{minHeight:800}}))}var uC=Object.defineProperty,cC=Object.defineProperties,dC=Object.getOwnPropertyDescriptors,zh=Object.getOwnPropertySymbols,fC=Object.prototype.hasOwnProperty,pC=Object.prototype.propertyIsEnumerable,Gh=(n,t,r)=>t in n?uC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hC=(n,t)=>{for(var r in t||(t={}))fC.call(t,r)&&Gh(n,r,t[r]);if(zh)for(var r of zh(t))pC.call(t,r)&&Gh(n,r,t[r]);return n},mC=(n,t)=>cC(n,dC(t));function _C(){const n=(0,ei.pm)();return(0,o.d4)(()=>{const t=new URL(location.toString());t.searchParams.get("founding-member-confirmation")&&(t.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",t),n.popToast(i=>(0,e.h)(ei.FN,mC(hC({},i),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var Pl=wt(63030),Hs=wt(71375),Zh=wt(16527),ua=wt(92271);const kd={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var gC=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const vC=(n,t,r,i,a)=>{if(!t)return null;switch(n){case"post-login":return t.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,p.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return i?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,p.getReaderOnboardingUrl)(t,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:i?i.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!i||!t.profile_set_up_at?null:{title:`Welcome to ${i?i.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:i?(0,p.getArchiveUrl)(i):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,p.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(je.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,oe.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(x.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(x.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,Vt.numberToOrdinal)(a)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,p.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function yC({user:n,pub:t=null,noBase:r=!1}){const i=(0,ei.pm)();return(0,o.d4)(()=>{function a(){return gC(this,null,function*(){yield $t().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const D=new URL(location.toString()),B=D.searchParams.get("profile-setup-message");if(!B)return;const j=B==="start-writing"?Number(D.searchParams.get("nthPub")):void 0;if(D.searchParams.delete("nthPub"),D.searchParams.delete("profile-setup-message"),history.replaceState({},"",D),!(B!=="post-subscribe-prompt"))return;const Y=vC(B,n,r,t,j);Y&&(B==="start-writing"&&a(),i.popToast(({onClose:ge})=>(0,e.h)(je.tu,{className:kd.wrapper,justifyContent:"space-between"},(0,e.h)(je.tu,{gap:8},(0,e.h)(je.gq,{className:kd.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(ua.z,{look:"flex",onClick:ge},(0,e.h)(Hs.Z,{size:20}))),(0,e.h)(x.xv.H3,{className:kd.header},Y.title),Y.body),(0,e.h)(ua.z,{variant:Y.ctaVariant,fill:"filled",onClick:Se=>{(0,Zh.Q)(Se,Y.ctaLink,{native:!0}),ge()}},Y.ctaText)),{ttl:null}))},[]),null}var Li=wt(58884);const bC=["sort"],PC=["sort","selection"];function Yh(n,t){let r;try{r=new URL(`${location.protocol}//${location.host}${n}`)}catch(i){r=new URL(n)}for(const i of r.searchParams.keys())(t?PC:bC).includes(i)||r.searchParams.delete(i);return r.toString()}function EC({previous:n,url:t}){var r,i;if(typeof window=="undefined")return;const a=Yh(t,!1),D=Yh(t,!0),{head:B}=document;(r=B.querySelector("link[rel=canonical]"))==null||r.setAttribute("href",a),(i=B.querySelector('meta[property="og:url"]'))==null||i.setAttribute("content",D),(0,C.jA)({previous:n,url:t})}var Jh=wt(35225),wC=wt(3312),Ud=wt.n(wC),CC=wt(92592),Fd=wt(82771),OC=wt(28175),Xh=wt.n(OC),Qh=wt(80587);const SC=(0,Po.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),TC=(0,Po.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),jd=(0,Po.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var El=wt(99869);const qh=(0,Po.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),IC=(0,Po.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);var em=wt(5149),xC=wt(49770),tm=wt(17048);const DC=(0,Po.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Hu=wt(13639),ca=wt(80332);const MC=(0,Po.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);var AC=Object.defineProperty,NC=Object.defineProperties,RC=Object.getOwnPropertyDescriptors,nm=Object.getOwnPropertySymbols,LC=Object.prototype.hasOwnProperty,BC=Object.prototype.propertyIsEnumerable,rm=(n,t,r)=>t in n?AC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kC=(n,t)=>{for(var r in t||(t={}))LC.call(t,r)&&rm(n,r,t[r]);if(nm)for(var r of nm(t))BC.call(t,r)&&rm(n,r,t[r]);return n},UC=(n,t)=>NC(n,RC(t));const FC=n=>(0,e.h)(k.l,UC(kC({},n),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(MC,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var om=wt(85344),Wd=wt(86602),im=wt(15748),jC=wt(62372);const WC={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var HC=Object.defineProperty,VC=Object.defineProperties,KC=Object.getOwnPropertyDescriptors,Vu=Object.getOwnPropertySymbols,am=Object.prototype.hasOwnProperty,sm=Object.prototype.propertyIsEnumerable,lm=(n,t,r)=>t in n?HC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vs=(n,t)=>{for(var r in t||(t={}))am.call(t,r)&&lm(n,r,t[r]);if(Vu)for(var r of Vu(t))sm.call(t,r)&&lm(n,r,t[r]);return n},$C=(n,t)=>VC(n,KC(t)),zC=(n,t)=>{var r={};for(var i in n)am.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Vu)for(var i of Vu(n))t.indexOf(i)<0&&sm.call(n,i)&&(r[i]=n[i]);return r};const um=n=>{var t=n,{className:r="",children:i,layerClassName:a,hideOnScroll:D=!1,onClose:B}=t,j=zC(t,["className","children","layerClassName","hideOnScroll","onClose"]);const[U,Y]=(0,o.eJ)(!1),ge=ZC(Vs({open:U,onClose:()=>{Y(!1),B==null||B()},hideOnScroll:D,className:a},j));return GC({hideOnScroll:D,setOpen:Y,open:U}),(0,e.h)("div",$C(Vs({className:r},ge.triggerProps),{onClick:Se=>{Y(!U),Se.stopPropagation()}}),typeof i=="function"?i({isOpen:U}):i,ge.layer)};function GC({hideOnScroll:n,setOpen:t,open:r}){const i=(0,o.I4)(a=>{requestAnimationFrame(()=>{var D;const j=(D=a.target.classList)==null?void 0:D.contains("popoverLayerForScrollDetection");r&&n&&!j&&t(!1)})},[n,t,r]);(0,o.d4)(()=>{if(n)return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[i,n])}function ZC({open:n,onClose:t,disabled:r,possiblePlacements:i=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:a,snap:D=!1,onOpen:B,content:j,className:U,layerOptions:Y,closeOnOutsideClick:ge=!0}){const Se=(0,o.sO)(!1);(0,o.d4)(()=>{n&&!Se.current&&B&&(Se.current=!0,B())},[n,B]);const{triggerProps:De,layerProps:Fe,renderLayer:qe}=(0,jC.sJ)(Vs(Vs(Vs({isOpen:r?!1:n,overflowContainer:!1,auto:!0,snap:D,possiblePlacements:i,placement:a,containerOffset:10,triggerOffset:8},ge&&{onOutsideClick:()=>t()}),a&&{placement:a}),Y));return{triggerProps:De,layer:n&&qe((0,e.h)("div",Vs({className:u()("popoverLayerForScrollDetection",WC.popoverBase,U)},Fe),typeof j=="function"?j({closePopover:t}):j))}}var Ks=wt(10186),oK=wt(28599),iK=wt(10928),aK=wt(44908),sK=wt(73955),lK=wt(71171),YC=wt(23279),Ku=wt.n(YC);const Hd={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var JC=Object.defineProperty,$u=Object.getOwnPropertySymbols,cm=Object.prototype.hasOwnProperty,dm=Object.prototype.propertyIsEnumerable,fm=(n,t,r)=>t in n?JC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,XC=(n,t)=>{for(var r in t||(t={}))cm.call(t,r)&&fm(n,r,t[r]);if($u)for(var r of $u(t))dm.call(t,r)&&fm(n,r,t[r]);return n},QC=(n,t)=>{var r={};for(var i in n)cm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$u)for(var i of $u(n))t.indexOf(i)<0&&dm.call(n,i)&&(r[i]=n[i]);return r};function qC({items:n,getKeys:t,sort:r=!0,sortFunc:i,deps:a}){const D=(Se,De)=>{const Fe=t(Se),qe=t(De);for(let Ye=0;Ye<Math.min(Fe.length,qe.length);Ye++){const st=Fe[Ye].localeCompare(qe[Ye]);if(st!==0)return st}return Fe.length-qe.length},[B,j]=(0,o.eJ)(""),U=(0,o.Ye)(()=>Ku()(j,100),[j]),Y=B.trim(),ge=(0,o.Ye)(()=>{if(!Y)return n;let Se=n.filter(De=>t(De).some(qe=>qe.toLowerCase().includes(Y.toLowerCase())));if(r||i){const De=i||D;Se=Se.sort(De)}return Se},a?[Y,...a]:[Y,n]);return{setQuery:U,filteredItems:ge,hasFiltered:Y!==""}}function eO(n){var t=n,{setQuery:r,placeholder:i="Search...",size:a="medium"}=t,D=QC(t,["setQuery","placeholder","size"]);const B=U=>{r(U.currentTarget.value)},j=(0,o.sO)(null);return(0,e.h)(je.hs,XC({className:u()(Hd.searchContainer,Hd[a]),bg:"secondary",paddingX:a==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var U;return(U=j.current)==null?void 0:U.focus()}},D),(0,e.h)(dh,{size:a==="small"?16:20,color:"var(--color-secondary)"}),(0,e.h)("input",{type:"search",className:Hd.searchInput,ref:j,placeholder:i,onInput:B}))}var uK=wt(21125),tO=(n=>(n.CONTRIBUTOR="contributor",n.FOUNDING="founding",n.PAID="paid",n.FREE="free_subscriber",n))(tO||{}),nO=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const cK=n=>{const t=useUserSettings();useEffect(()=>{const r=()=>nO(void 0,null,function*(){try{yield fetchJson("/api/v1/user-setting",{method:"PUT",json:{type:"last_home_tab",value_text:n}})}catch(i){}});t!=null&&t.user_id&&t.last_home_tab!==n&&r()},[t,n])};var dK=wt(95582),fK=wt(11533),ra=wt(62246),pK=wt(65414);function hK({title:n,body:t,children:r}){return h(FlexColumn,{flex:"grow",alignItems:"center",justifyContent:"center",gap:16,padding:20},h(MessageCircle,{stroke:"var(--color-secondary)"}),h(rO,{title:n,body:t},r))}function rO({title:n,body:t,children:r}){return h(FlexColumn,{gap:8,alignItems:"center"},h(Text.B4,{weight:"semibold",color:"secondary",align:"center"},n),h(Text.B4,{color:"secondary",align:"center"},t),r)}var oO=Object.defineProperty,iO=Object.defineProperties,aO=Object.getOwnPropertyDescriptors,pm=Object.getOwnPropertySymbols,sO=Object.prototype.hasOwnProperty,lO=Object.prototype.propertyIsEnumerable,hm=(n,t,r)=>t in n?oO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,uO=(n,t)=>{for(var r in t||(t={}))sO.call(t,r)&&hm(n,r,t[r]);if(pm)for(var r of pm(t))lO.call(t,r)&&hm(n,r,t[r]);return n},cO=(n,t)=>iO(n,aO(t));function mK(n){return h(LazyComponent,cO(uO({},n),{module:"./ChatTextEditor",resolve:t=>t.ChatTextEditor,onRequest:()=>Promise.all([wt.e(313),wt.e(171),wt.e(679),wt.e(156)]).then(wt.bind(wt,35156))}))}var _K=wt(50292),Vd=wt(68262);const gK={columnsContainer:"frontend-reader2-ChatPage-module__columnsContainer--vSo7y",pubChatColumn:"frontend-reader2-ChatPage-module__pubChatColumn--TGWIO",pubChatFull:"frontend-reader2-ChatPage-module__pubChatFull--SgFBJ",chatPublication:"frontend-reader2-ChatPage-module__chatPublication--vTh0w",selected:"frontend-reader2-ChatPage-module__selected--qTKem",currentVisibilityBox:"frontend-reader2-ChatPage-module__currentVisibilityBox--wzRt6",headerPubLink:"frontend-reader2-ChatPage-module__headerPubLink--CNIMt",sidebarPubName:"frontend-reader2-ChatPage-module__sidebarPubName--_d42t",sidebarChatText:"frontend-reader2-ChatPage-module__sidebarChatText--mgmc1",headerPubIcon:"frontend-reader2-ChatPage-module__headerPubIcon--UDOLY",inputBox:"frontend-reader2-ChatPage-module__inputBox--PSYZ5",modalContext:"frontend-reader2-ChatPage-module__modalContext--PpHDJ",textInputInset:"frontend-reader2-ChatPage-module__textInputInset--ieJk5",invisible:"frontend-reader2-ChatPage-module__invisible--CAUpR",textInput:"frontend-reader2-ChatPage-module__textInput--G9KKe",latestButton:"frontend-reader2-ChatPage-module__latestButton--zG35Y",submitButton:"frontend-reader2-ChatPage-module__submitButton--G9Oqa",newThreadButton:"frontend-reader2-ChatPage-module__newThreadButton--FBBiq",roundedFooterPlaceholder:"frontend-reader2-ChatPage-module__roundedFooterPlaceholder--T3lK7",addImage:"frontend-reader2-ChatPage-module__addImage--zUuSW",quoteReplyComposer:"frontend-reader2-ChatPage-module__quoteReplyComposer--CcUzS",composerLinkPreview:"frontend-reader2-ChatPage-module__composerLinkPreview--_zuKv",imageBox:"frontend-reader2-ChatPage-module__imageBox--GmsiK",image:"frontend-reader2-ChatPage-module__image--fF4sS",deleteFile:"frontend-reader2-ChatPage-module__deleteFile--yFMKJ",deleteQuote:"frontend-reader2-ChatPage-module__deleteQuote--MAU9f",communityViewContainer:"frontend-reader2-ChatPage-module__communityViewContainer--jcdQX",modalColumn:"frontend-reader2-ChatPage-module__modalColumn--ZMWSC",visibilityDropdown:"frontend-reader2-ChatPage-module__visibilityDropdown--jficQ",visibilityDropdownText:"frontend-reader2-ChatPage-module__visibilityDropdownText--EVLZC",loadingBubble:"frontend-reader2-ChatPage-module__loadingBubble--Q0iQy",loadingComposer:"frontend-reader2-ChatPage-module__loadingComposer--UAgpV",messageSquareIcon:"frontend-reader2-ChatPage-module__messageSquareIcon--tg8dR",paywall:"frontend-reader2-ChatPage-module__paywall--eejvK",footer:"frontend-reader2-ChatPage-module__footer--F2GfP",disabled:"frontend-reader2-ChatPage-module__disabled--UZZTE",header:"frontend-reader2-ChatPage-module__header--JYlUY",modalChatEditor:"frontend-reader2-ChatPage-module__modalChatEditor--__z0U"};var dO=Object.defineProperty,fO=Object.defineProperties,pO=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,mm=Object.prototype.hasOwnProperty,_m=Object.prototype.propertyIsEnumerable,gm=(n,t,r)=>t in n?dO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xn=(n,t)=>{for(var r in t||(t={}))mm.call(t,r)&&gm(n,r,t[r]);if(zu)for(var r of zu(t))_m.call(t,r)&&gm(n,r,t[r]);return n},hr=(n,t)=>fO(n,pO(t)),vm=(n,t)=>{var r={};for(var i in n)mm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&zu)for(var i of zu(n))t.indexOf(i)<0&&_m.call(n,i)&&(r[i]=n[i]);return r},oa=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const hO=30,mO=2,_O=5,gO=5,vO=6,yO=1;function vK({}){var n,t,r;useNavContextAndTitle("Chat",{shouldShowGetAppPill:!1});const{user:i,userSettings:a,changeSetting:D}=useUserContext(),B=a.newest_seen_chat_item_published_at;useStickyTab("chat");const[j,U]=useRouter(),[Y,ge,Se,De]=(n=j.path.match(/^\/chat(?:\/(\d+)(?:\/post\/([^\/]+)(?:\/reply\/([^\/]+))?)?)?$/))!=null?n:[],Fe=Number(ge),qe=new URL(j.url,"https://monograph.dev"),Ye=(t=qe.searchParams)==null?void 0:t.get("targetReplyId"),st=!!((r=qe.searchParams)!=null&&r.get("showTarget")),gt=useSubscriptionsContext(),yt=Wn=>{var tr;const{publicationUserMap:Rn}=(tr=gt.result)!=null?tr:{publicationUserMap:new Map},Zn=Rn.get(Wn);return!!(Zn&&["contributor","admin"].includes(Zn.role))},[At,Bt]=useThunkReducer(HO,{user:i,inbox:{threads:[],isLoading:!0},communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map});useEffect(()=>{let Wn;const tr=()=>{if(!document.hidden){const Rn=Fm({changeSetting:D,storedNewestSeenChatItemPublishedAt:B});Bt($O({maybeUpdateNewestSeenChatSetting:Rn}))}Wn=setTimeout(tr,hO*1e3+JO(mO))};return tr(),()=>{Wn&&clearTimeout(Wn)}},[Bt,B,D]);const xt=At.inbox.isLoading,Ht=useMemo(()=>{const Wn=[];for(const tr of At.inbox.threads){if(!tr.communityPostId&&yt(tr.publication.id)){Wn.push(hr(Xn({},tr),{communityPost:null,user:i}));continue}const Rn=tr.communityPostId&&At.communityPosts.get(tr.communityPostId);Rn&&!Rn.isNew&&Wn.push(Xn(Xn({},tr),Rn))}return Wn},[At.inbox.threads,At.communityPosts,i]),en=Wn=>{var tr,Rn,Zn;return[Wn.publication.name,...Wn.publication.contributors.map(gn=>gn.name),(tr=Wn.user)==null?void 0:tr.name,(Zn=(Rn=Wn.communityPost)==null?void 0:Rn.body)==null?void 0:Zn.substring(0,80)].filter(Boolean)},{setQuery:Xt,filteredItems:tn}=useSearch({items:Ht,getKeys:en}),[fn,xn]=useState(new Map),yn=new Map((Ht||[]).map(Wn=>fn.has(Wn.publication.id)?[Wn.publication.id,fn.get(Wn.publication.id)]:Wn.lastViewedAt?[Wn.publication.id,dayjs(Wn.lastViewedAt)]:null).filter(Boolean));useEffect(()=>{typeof Fe!="number"||isNaN(Fe)||(fetch(`/api/v1/community/publications/${Fe}/seen`,{method:"POST"}).then(()=>{}),xn(fn.set(Fe,dayjs())))},[Fe]),useEffect(()=>{xt||track(EVENTS.THREADS_INBOX_SCREEN_VIEWED,{unread_count:Ht.filter(Wn=>bm(Wn,yn)).length,thread_count:Ht.length})},[xt]);const Gn=(Wn,tr,Rn,Zn)=>{U(pathWithQuery(`/chat${Wn!=null?`/${Wn}`:""}${tr!=null?`/post/${tr}`:""}${Rn!=null?`/reply/${Rn}`:""}`,{targetReplyId:Zn}))},pn=Wn=>{Gn(Wn)},Sn=Wn=>{Gn(Fe,Wn)},ur=(Wn,tr=null)=>{Gn(Fe,Se,Wn,tr)},Qn=useMemo(()=>({dispatch:Bt}),[]),jn=useRef(null);jn.current!==Fe&&(jn.current=null);const Kn=!!jn.current;return useEffect(()=>{if(!xt&&Ht.length&&!Fe){const Wn=Ht[0].publication.id;jn.current=Wn,Gn(Wn)}},[xt]),h(xm.Provider,{value:Qn},h(FlexRow,{className:css.columnsContainer,flex:"grow"},setMetaData({title:"Chat | Substack",description:"Chat with your favorite writers on Substack",image:imginary("/img/reader/chat-page-thumb.jpg")}),h(FlexColumn,{overflowY:"auto",borderRight:"detail",width:350},h(FlexColumn,{flex:"auto",padding:20,borderBottom:"detail"},xt?h(Placeholder,{height:42,width:"100%",type:"circle"}):h(SearchBox,{setQuery:Xt,placeholder:"Search chats..."})),xt?h(bO,null):tn.length>0?h(PageStack2,{gap:0},tn.map(Wn=>(Wn.communityPost&&Wn.user||yt(Wn.publication.id))&&h(EO,{key:Wn.publication.id,item:Wn,onSelect:pn,isSelected:Fe===Wn.publication.id,isUnread:bm(Wn,yn)}))):Ht.length>0?h(FlexColumn,{paddingTop:8},h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"fill",padding:32},h(TextZero,{title:"No chats found",body:"Please try again with a different search term."}))):h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:"You don\u2019t have any threads",body:"When one of your subscriptions starts a new thread, it will appear here."}))),De!=null?h(wm,{key:"replies",postId:Se,pubId:Fe,parentCommentId:De,state:At,onBack:()=>ur(null,De),navigateToChat:()=>Sn(null),targetReplyId:Ye,showTarget:st,isAutoSelected:Kn}):Se!=null?h(wm,{key:"comments",postId:Se,pubId:Fe,state:At,onBack:()=>Sn(null),onSelect:ur,navigateToChat:()=>Sn(null),targetReplyId:Ye,showTarget:st,isAutoSelected:Kn}):Fe?h(OO,{key:Fe,pubId:Fe,state:At,onSelect:Sn,isAutoSelected:Kn}):xt?h(ym,null):h(ChatZero,{title:"Click on a chat in the sidebar to get started.",body:"Once you do, it will appear here."})))}function ym(){return h(FlexColumn,null,h(FlexBox,{paddingX:24},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"bar",width:300,height:20}),h(Placeholder,{type:"circle",size:40}))),h(Kd,{direction:"column-reverse"},h(fs,{numberToLoad:2})),h(FlexBox,{justifyContent:"center",alignItems:"center",borderTop:"detail",className:css.footer},h(Placeholder,{type:"bar",height:48,width:360,className:css.roundedFooterPlaceholder})))}function bO(){return h(PageStack2,null,Array(8).fill(0).map(()=>h(PO,null)))}function PO(){return h(FlexBox,{gap:16,padding:20},h(Placeholder,{type:"circle",size:56}),h(FlexColumn,{gap:8,flex:"grow"},h(Placeholder,{type:"bar",maxWidth:100}),h(Placeholder,{type:"bar",maxWidth:300}),h(Placeholder,{type:"bar",maxWidth:200})))}function EO({item:n,onSelect:t,isSelected:r,isUnread:i}){return h(FlexRow,{onClick:()=>t(n.publication.id),className:classnames(css.chatPublication,{[css.selected]:r}),alignItems:"start",gap:16,padding:20},n.user&&h(AvatarWithPub,{user:n.user,size:56,pub:n.publication}),h(FlexColumn,{gap:4,flex:"grow",minWidth:0},h(FlexBox,{justifyContent:"space-between",alignItems:"center",gap:8},h(Text.Meta,{className:css.sidebarPubName,ellipsis:!0},n.publication.name),n.communityPost&&h(Text.Meta,{ellipsis:!0},dayjs(n.communityPost.created_at).fromNowShort()),i&&h(UnreadDot,null)),h(Text,{clamp:2,size:14,isParagraph:!0,className:css.sidebarChatText},n.user&&h(Text.B4,{as:"span",color:"primary",weight:"semibold"},n.user.name,":"," "),n.communityPost&&h(Text.B4,{as:"span",color:"secondary"},h(wO,{post:n.communityPost})))))}function wO({post:n}){var t;const{isPaid:r,isFounding:i,isAuthor:a}=useSubscriptionStatus(n.publication_id);return n.reported_by_user?h("em",null,"You flagged this thread."):!(i||a)&&n.audience==="only_founding"?h("em",null,"started a thread for founding subscribers."):!(r||i||a)&&n.audience==="only_paid"?h("em",null,"started a thread for paid subscribers."):n.link_url?h(CO,{linkMetadata:n.link_metadata}):n.media_assets&&((t=n.media_assets)==null?void 0:t.length)>0?h(Fragment,null,h("em",null,`shared ${n.media_assets.length} ${n.media_assets.length>1?"photos":"photo"}.`),n.body&&` ${n.body}`):h(Fragment,null,n.body)}function CO({linkMetadata:n}){return h(Fragment,null,h("em",null,"shared a link."),n&&` "${n.title}"`)}function bm(n,t){if(!n.communityPost)return!1;const r=t.get(n.publication.id);return r?dayjs(n.communityPost.created_at).isAfter(r):!0}function OO({pubId:n,onSelect:t,state:r,isAutoSelected:i}){var a,D,B,j,U,Y;const{changeSetting:ge,userSettings:Se}=useUserContext(),De=Se.newest_seen_chat_item_published_at,Fe=Ma(),qe=(a=r.chats.get(n))!=null?a:Gu,Ye=r.inbox.isLoading&&r.inbox.threads.length===0,st=(D=qe.publication)==null?void 0:D.threads_v2_settings,gt=!!((B=qe.publication)!=null&&B.threads_v2_enabled),yt=useRef(null),At=useRef(0),{getConfigFor:Bt}=useSiteConfigs(),xt=!!Bt("chat_founding_tier");useEffect(()=>{qe.publication&&track(EVENTS.PUBLICATION_THREADS_SCREEN_VIEWED,{publicationId:qe.publication.id,isAutoSelected:i})},[n,!!qe.publication]),useLayoutEffect(()=>{var _n;const fr=yt.current;fr&&(fr.scrollTop=(_n=qe.scrollPosition)!=null?_n:0);const yr=()=>{Fe({type:"posts-save_scroll_position",payload:{publication_id:n,scrollPosition:At.current}})},Ar=()=>{var Yn;At.current=(Yn=fr==null?void 0:fr.scrollTop)!=null?Yn:0};return fr==null||fr.addEventListener("scroll",Ar,{passive:!0}),()=>{fr==null||fr.removeEventListener("scroll",Ar),yr()}},[n,!!yt.current]),useEffect(()=>{let _n;const fr=()=>{if(!document.hidden){const yr=Fm({changeSetting:ge,storedNewestSeenChatItemPublishedAt:De});Fe(Im(n,!0,{maybeUpdateNewestSeenChatSetting:yr}))}_n=setTimeout(fr,_O*1e3)};return Fe({type:"posts-request_initial",payload:{publication_id:n}}).then(fr),()=>{_n&&clearTimeout(_n)}},[n,Fe,De,ge]);const Ht=useFetch({pathname:`/api/v1/community/publications/${n}/posts`,method:"POST",deps:[n]}),en=()=>{setTimeout(()=>{var _n;(_n=yt.current)==null||_n.scrollTo({top:0})},0)},{isPaid:Xt,isAuthor:tn,isFreeSubscribed:fn,isFounding:xn}=useSubscriptionStatus(n),yn=(st==null?void 0:st.create_thread_minimum_role)===CreateThreadRole.FOUNDING,Gn=(st==null?void 0:st.create_thread_minimum_role)===CreateThreadRole.PAID,pn=(st==null?void 0:st.create_thread_minimum_role)===CreateThreadRole.FREE,Sn=tn||yn&&xn||Gn&&(Xt||xn)||pn&&(fn||Xt||xn),ur=_n=>oa(this,[_n],function*({value:fr,mediaAssets:yr,sendAsEmail:Ar,audience:Yn,linkUrl:vr}){const mr=uniqueId();Fe({type:"posts-new",payload:{publication_id:n,body:fr,media_assets:yr,link_url:vr,type:yr?"media":vr?"link":"text",audience:Yn!=null?Yn:"all_subscribers",id:mr}}),en();const br=yield Ht.refetch({json:{body:fr,media_urls:yr==null?void 0:yr.map(lo=>lo.url),audience:Yn!=null?Yn:"all_subscribers",type:yr?"media":"text",send_email:!!Ar,link_url:vr}});br instanceof Error?alert("We failed to post your thread. Please try again later."):(Fe({type:"posts-commit",payload:{publication_id:n,id:mr,chatItem:br}}),ge("newest_seen_chat_item_published_at",br.communityPost.created_at))}),Qn=()=>{Fe(zO(n))},jn=!1,Kn=_n=>{if(jn||!qe.hasMore||qe.isLoadingMore)return;const{currentTarget:fr}=_n;fr.scrollTop<fr.offsetHeight-fr.scrollHeight+100&&Qn()},tr=(qe.posts.length===0||qe.posts.every(_n=>{const fr=r.communityPosts.get(_n);return!fr||Aa(fr)&&fr.communityPost.status!=="published"}))&&!qe.isLoadingMore&&!qe.hasMore,Rn=tn&&tr,Zn=qe.posts.map(_n=>r.communityPosts.get(_n)).filter(_n=>_n!==void 0&&_n.communityPost.status==="published");let gn;const kn=[];let Gt=[];for(const _n of Zn){const fr=dayjs(_n.communityPost.created_at);gn&&!fr.isSame(gn,"day")&&(kn.push({day:gn,group:Gt}),Gt=[]),Gt.push(_n),gn=fr}gn&&Gt.length>0&&kn.push({group:Gt,day:gn});const or=qe.error;return or?h(Nm,{pubErr:or}):!gt&&!Ye?tn?h(xi,{title:"You haven't enabled chat for this publication yet.",body:"Once you do, you can access its chat here."},qe.publication&&h($a,{onClick:()=>{qe.publication&&(window.location.href=`${getPublishSettingsUrl(qe.publication,{addBase:!0,section:"chat-settings"})}`)}},"Enable chat")):h(xi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."}):Ye?h(ym,null):h(xO,null,qe.publication&&h(Em,{pub:qe.publication}),Rn?h(xi,{title:"You haven't started any threads yet.",body:"Once you do, they'll appear here."}):tr?h(xi,{title:"This publication has not started any threads.",body:"Once it does, they'll appear here."}):h(Kd,{direction:"column-reverse",onScroll:Kn,forwardRef:yt},kn.map(({day:_n,group:fr})=>h(qO,{key:_n.toISOString(),day:_n,items:fr,onSelect:t,isPaid:Xt||xn||tn,isFounding:xn||tn})),qe.isLoadingMore?h(fs,{numberToLoad:2}):qe.hasMore&&h(zd,{onClick:Qn})),Sn?h(NO,{publicationId:n,placeholder:"Start a new thread",maxImagesToUpload:vO,disabled:Ht.isLoading,onSubmit:ur,publishOptionsEnabled:tn,visibilityOptions:{hasPaid:!!((j=qe.publication)!=null&&j.plans),hasFounding:xt&&!!((Y=(U=qe.publication)==null?void 0:U.plans)!=null&&Y.find(_n=>{var fr;return(fr=_n.metadata)==null?void 0:fr.founding}))}}):h(FlexBox,{justifyContent:"center",alignItems:"center",paddingX:24,borderTop:"detail",className:classnames(css.footer,css.disabled)},h(FlexRow,{gap:8,alignItems:"center"},h(MessageSquare,{size:16,className:css.messageSquareIcon}),h(Text.B4,{color:"secondary"},"Click any thread to reply"))))}function SO({item:n,onSelect:t,isPaid:r,isFounding:i}){const{communityPost:a}=n,D=!r&&a.audience==="only_paid"||!i&&a.audience==="only_founding",B=()=>t(a.id),j=U=>{U.defaultPrevented||B()};return h(FlexColumn,{onClick:j,className:classnames(!D&&css.communityViewContainer)},D?h(Rm,{user:n.user,commenters:a.recent_commenters,count:a.comment_count,audience:a.audience}):h(CommunityPostView,{communityPost:a,author:n.user,onReply:B}))}function Pm({pub:n,children:t,className:r}){return h(FlexBox,{justifyContent:"center",alignItems:"center",as:"a",target:"_blank",href:getPubUrl(n,{signedIn:!0}),className:r},t)}function Em({pub:n}){return h(FlexBox,{paddingX:24,key:n.id},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Pm,{pub:n,className:css.headerPubLink},h(PubIcon,{className:css.headerPubIcon,pub:n,size:40})),h(Pm,{pub:n,className:css.headerPubLink},h(Text.H4,null,n.name)),h(FlexBox,{justifyContent:"center",alignItems:"center"},h(ChatAvatar,{user:{id:n.author_id,name:n.author_name,photo_url:n.author_photo_url},size:40}))))}function wm({postId:n,pubId:t,parentCommentId:r,onBack:i,isAutoSelected:a,onSelect:D,state:B,navigateToChat:j,targetReplyId:U,showTarget:Y}){var ge,Se,De,Fe,qe,Ye,st,gt,yt,At,Bt;const xt=r?(ge=B.replies.get(r))!=null?ge:Zu:(Se=B.comments.get(n))!=null?Se:Zu,Ht=B.communityPosts.get(n),en=r&&B.communityComments.get(r),Xt=B.inbox.isLoading&&B.inbox.threads.length===0,tn=B.chats.get(t),fn=B.inbox,xn=(qe=(Fe=(De=tn==null?void 0:tn.publication)==null?void 0:De.threads_v2_settings)==null?void 0:Fe.photo_replies_enabled)!=null?qe:!1,[yn,Gn]=useState(null),pn=`${r?`replies-${r}`:`comments-${n}`}-${xt.comments.length}${yn?`-${yn.comment.id}`:""}`,{isAuthor:Sn,isFounding:ur,isPaid:Qn,isFreeSubscribed:jn}=useSubscriptionStatus(t),Kn={quoteReply:yn,cancelQuoteReply:()=>Gn(null)},Wn=qr=>{var io;const Wo=(io=B.communityComments.get(qr.id))==null?void 0:io.user;Wo?Gn({comment:qr,user:Wo}):alert("Could not create a quote reply for this comment. Please try again.")};useEffect(()=>{r?en&&Na(en)&&track(EVENTS.THREAD_REPLY_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,community_comment_id:r,isAutoSelected:a}):Ht&&Aa(Ht)&&track(EVENTS.THREAD_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,type:Ht.communityPost.type,audience:Ht.communityPost.audience,isAutoSelected:a})},[r,n,t,!!Ht,!!en]);const tr=useUser(),Rn=useRef(),Zn=useRef(),gn=Ma(),[kn,Gt]=useState(null),[or,_n]=r?["replies",{parentCommentId:r}]:["comments",{postId:n}],fr=!xt.before.isLoading&&!xt.after.isLoading&&xt.comments.length===0,yr=r!=null?`/api/v1/community/comments/${r}/comments`:`/api/v1/community/posts/${n}/comments`,Ar=r!=null?r:n,Yn=(qr,io)=>oa(this,null,function*(){gn({type:`${or}-request_initial`,payload:hr(Xn({},_n),{order:qr})});const Wo=qr==="desc"?"before":"after";try{const qo=yield fetchJson(yr,{query:{order:qr,targetReplyId:io!=null?io:void 0}});gn({type:`${or}-load_edge`,payload:hr(Xn({},_n),{edge:Wo,result:qo})})}catch(qo){return console.warn(qo),gn({type:`${or}-error`,payload:hr(Xn({},_n),{edge:Wo,error:qo})}),qr==="desc"&&vr(),qo}return io?(setTimeout(()=>{const Ho=document.getElementById(`comment-${io}`);Ho&&(Y?Ho.scrollIntoView({behavior:"smooth",block:"center"}):Ho.scrollIntoView({behavior:"auto",block:"center"}))},Y?250:50),null):(qr==="desc"&&vr(),null)}),vr=()=>{setTimeout(()=>{var qr;(qr=Rn.current)==null||qr.scrollTo({top:1e7})},0)},mr={before:!1,after:!1},br=(qr,io)=>{if(!(mr[qr]||xt[qr].isLoading))return mr[qr]=!0,lo(qr,io)},lo=(qr,io)=>oa(this,null,function*(){var Wo,qo,Ho,ya;gn({type:`${or}-request_edge`,payload:hr(Xn({},_n),{edge:qr})});const Ia=last(xt.comments),ns=xt.comments[0],dl=qr==="before"?{order:"desc",before:Ia&&((Wo=B.communityComments.get(Ia))==null?void 0:Wo.comment.created_at)}:{order:"asc",after:ns&&((qo=B.communityComments.get(ns))==null?void 0:qo.comment.created_at)};try{const ha=yield fetchJson(yr,hr(Xn({},io),{query:dl})),{current:ba}=Rn,As=(ya=(Ho=Zn.current)==null?void 0:Ho.offsetHeight)!=null?ya:0;gn({type:`${or}-load_edge`,payload:hr(Xn({},_n),{edge:qr,result:ha})}),setTimeout(()=>{var Cu,Ou;if(xt.order==="desc"&&ba){const{scrollTop:vd}=ba;ba.scrollTo({top:vd+(((Ou=(Cu=Zn.current)==null?void 0:Cu.offsetHeight)!=null?Ou:0)-As)})}},0)}catch(ha){console.warn(ha),gn({type:`${or}-error`,payload:hr(Xn({},_n),{edge:qr,error:ha})})}}),Kr=qr=>{xt[qr].hasMore&&br(qr)},oo=qr=>{const{currentTarget:io}=qr,{scrollTop:Wo,offsetHeight:qo,scrollHeight:Ho}=io;Ho>qo&&(Wo<100?Kr("before"):Wo>qo-Ho-100&&Kr("after"))};useEffect(()=>{Yn("asc",U).then(qr=>{qr&&Gt(qr)})},[Ar,U]);const Wi=useRef(lo);Wi.current=lo,useEffect(()=>{if(!fr&&xt.order==="desc"){let qr=new AbortController;const io=()=>{setTimeout(()=>oa(this,null,function*(){qr.signal.aborted||(qr=new AbortController,yield Wi.current("after",{signal:qr.signal}),io())}),gO*1e3)};return io(),()=>{qr.abort()}}},[Ar,fr,xt.order]);const Uo=useFetch({pathname:`/api/v1/community/posts/${n}/comments`,method:"POST",deps:[Ar]}),Hi=(qr,io,Wo)=>oa(this,null,function*(){const qo="We failed to upload your media. Please try again later.",Ho=qr[0],{contentType:ya}=Ho,Ia=yield XO(io,Wo,ya);if(Ia instanceof Error){alert(qo);return}const{url:ns}=Ia;(yield QO(Ho,ns))instanceof Error&&alert(qo)}),Qi=qr=>oa(this,[qr],function*({value:io,mediaAssets:Wo,mentions:qo}){const Ho=io!=null?io:"",ya=uuid();xt.order==="asc"&&Yn("desc");let Ia=null;Wo&&(Ia=Wo.map(ba=>({id:uuid(),url:ba.url,content_type:ba.contentType,type:"image",file:ba.file})));const ns={is_founding:!!ur,membership_state:Qn?"subscribed":"free_signup",role:Sn?"admin":null};gn({type:`${or}-new`,payload:hr(Xn({},_n),{id:ya,body:Ho,postId:n,mediaUploads:Ia,quoteReply:yn,mentions:qo,pubRoles:ns})});const dl=yn==null?void 0:yn.comment.id;yn&&Gn(null),vr(),Wo&&(yield Hi(Wo,ya,t));const ha=yield Uo.refetch({json:{id:ya,body:Ho,parent_id:r,quote_id:dl,mentions:qo}});if(!(ha instanceof Error))gn({type:`${or}-commit`,payload:hr(Xn({},_n),{id:ya,reply:ha})});else if(ha instanceof FetchError){const ba=ha.body.status==="PUBLICATION_BAN";alert(ba?`You are not allowed to post to this chat. ${ha.body.error}`:"We failed to post your comment. Please try again later.")}}),Oi=kn&&((Ye=kn.body)==null?void 0:Ye.status)==="PUBLICATION_NOT_FOUND";if(useEffect(()=>{!tn&&!fn.isLoading&&!Oi&&j()},[fn.isLoading]),Oi)return h(xi,{title:"We could not find this publication.",body:"Please select another publication and try again."});if(!tn&&!Xt)return h(xi,{title:"Something went wrong",body:"Navigate back to the publication chat by clicking the button below"},h($a,{onClick:j},"Back to chat"));if(tn&&tn.error)return h(Nm,{pubErr:tn.error});if(kn&&((st=kn.body)==null?void 0:st.status)==="POST_NOT_FOUND")return h(xi,{title:"We could not find the parent post",body:"Navigate back to the publication chat by clicking the button below"},h($a,{onClick:j},"Back to chat"));if(U&&kn&&((gt=kn.body)==null?void 0:gt.status)==="COMMENT_NOT_FOUND")return h(xi,{title:"We could not find this reply",body:"Navigate back by clicking the button below"},h($a,{onClick:i},"Go back"));if(kn&&((yt=kn.body)==null?void 0:yt.status)==="COMMENT_NOT_FOUND")return h(xi,{title:"We could not find the parent comment",body:"Navigate back by clicking the button below"},h($a,{onClick:i},"Go back"));if(Ht&&Ht.isNew||en&&en.isNew)return h(xi,{title:"You cannot comment on this post yet",body:"Navigate back by clicking the button below"},h($a,{onClick:i},"Go back"));if(Ht&&Ht.communityPost.publication_id!==t)return h(xi,{title:"This post does not belong to this publication",body:"Navigate back to the publication chat by clicking the button below"},h($a,{onClick:j},"Back to chat"));if(en&&en.comment.post_id!==n)return h(xi,{title:"This comment does not belong to this post",body:"Navigate back to the publication chat by clicking the button below"},h($a,{onClick:j},"Back to chat"));const Ta=kn&&((At=kn.body)==null?void 0:At.status)==="PAID_SUBSCRIPTION_REQUIRED",qi=kn&&((Bt=kn.body)==null?void 0:Bt.status)==="FOUNDING_MEMBERSHIP_REQUIRED",Pu=Ta||qi,Ms=Ht&&Aa(Ht)&&!Ht.communityPost.is_locked,Qp=Sn||!Pu&&Ms&&(r?en&&Na(en)&&!en.comment.is_locked:!0),Eu=qr=>io=>{if(!qr)return;io.preventDefault();const Wo=qr.comment.id;xt.comments.find(Ho=>Ho===Wo)&&setTimeout(()=>{const Ho=document.getElementById(`comment-${Wo}`);Ho&&Ho.scrollIntoView({behavior:"smooth",block:"start"})},100)},wu=Uo.isLoading||Xt;return h(DO,null,(tn==null?void 0:tn.publication)&&h(Em,{pub:tn.publication}),h(IO,{onClick:i}),h(FlexColumn,{style:{position:"relative"},flex:"grow"},h(Kd,{onScroll:oo,forwardRef:Rn,fullWidth:!0},Xt?h(fs,{showReplyBubble:!1}):Pu?h(Rm,{user:en?en.user:Ht?Ht.user:null,showReply:!1,analyticsParams:{publication_id:t,community_post_id:n},audience:Ta?"only_paid":qi?"only_founding":void 0}):en||Ht?h(FlexColumn,{className:css.communityViewContainer},en&&!en.isNew?h(CommunityCommentView,{key:en.comment.id,communityComment:en.comment,isBanned:en.is_banned,pubRole:en.pub_roles,chatPublicationId:t,author:en.user,quoteReply:en.quote,onDelete:i,hideReply:!0}):Ht&&!Ht.isNew&&h(CommunityPostView,{key:Ht.communityPost.id,communityPost:Ht.communityPost,author:Ht.user,onDelete:i,hideReply:!0})):h(fs,{showReplyBubble:!1}),h(TO,null),Xt?h(fs,{numberToLoad:2}):Ta?h(ChatZero,{title:"Only paid subscribers can read comments",body:"Upgrade to a paid subscription to access the chat"},(tn==null?void 0:tn.publication)&&h(Gd,{pub:tn.publication,utm_source:"web-chat-paywall"})):qi?h(ChatZero,{title:"Only founding members can read comments",body:"Upgrade to a founding membership to access the chat"},(tn==null?void 0:tn.publication)&&h(Gd,{pub:tn.publication,utm_source:"web-chat-paywall"})):fr?h(ChatZero,{title:"No replies yet",body:"Be the first to add a reply below"}):h(Fragment,null,xt.before.error&&h(Am,null),xt.before.isLoading?h(fs,null):xt.before.hasMore&&h(zd,{onClick:()=>br("before")}),h(FlexColumn,{ref:Zn,gap:24},xt.comments.slice().reverse().map(qr=>{const io=B.communityComments.get(qr);if(io&&io.comment.status==="published"){const Wo=!io.isNew&&D?()=>D(io.comment.id):void 0,qo=Ho=>{Ho.defaultPrevented||Wo==null||Wo()};return h(FlexColumn,{alignItems:"start",onClick:qo,className:css.communityViewContainer},h(CommunityCommentView,{key:io.comment.id,communityComment:io.comment,isBanned:io.is_banned,chatPublicationId:t,quoteReply:io.quote,pubRole:io.pub_roles,onQuoteReplyClick:Eu(io.quote),onNewQuote:Wn,author:io.isNew?tr:io.user,onReply:Wo,isTargeted:Y&&U===io.comment.id}))}})),xt.after.error&&h(Am,null),xt.after.isLoading&&xt.order==="asc"?h(fs,null):xt.after.hasMore&&h(zd,{onClick:()=>br("after")}))),xt.order==="asc"&&xt.after.hasMore&&h(Button,{className:css.latestButton,onClick:()=>Yn("desc"),rounded:!0},"Latest")),Qp&&(wu?h(jO,null):h(LO,{stateChangeKey:pn,placeholder:"Add a reply...",maxImagesToUpload:yO,photosEnabled:xn,onSubmit:Qi,quoteHandler:Kn,mentionsContext:{publication_id:t,community_post_id:n,community_comment_id:r}})))}function TO(){return h(FlexBox,{borderTop:"detail",alignSelf:"stretch"})}function IO({onClick:n}){return h(FlexBox,{paddingX:24,paddingTop:16},h(IconButton,{size:40,onClick:n,fill:"outline",priority:"secondary"},h(ArrowLeft,{size:20})))}function xO(n){return h(FlexColumn,Xn({},n))}function DO(n){return h(FlexColumn,Xn({},n))}function Kd({children:n,direction:t="column",onScroll:r,forwardRef:i,fullWidth:a}){return h(FlexBox,{className:css.pubChatColumn,overflowY:"auto",padding:24,flex:"grow",direction:t,onScroll:r,ref:i,alignItems:a?"stretch":"start"},h(FlexBox,{className:css.pubChatFull,gap:24,direction:t},n))}function MO(){const[n,t]=useState([]);return{files:n,clearFiles:()=>{t([])},addFiles:D=>{t(B=>[...B,...D])},removeFile:D=>{t(B=>B.filter(j=>j!==D))}}}function AO(n){return Promise.all(n.map(t=>oa(this,null,function*(){return{file:t,imageData:yield getImageDataFromFileInput({files:[t]})}}))).then(t=>t.map(r=>{var i;return{contentType:r==null?void 0:r.file.type,url:(i=r==null?void 0:r.imageData)==null?void 0:i.url,bytes:r==null?void 0:r.file.size,file:r==null?void 0:r.file}}))}function Cm(n,t){const r=useUser(),[i,a]=useState(!1),D={value:i,flip:()=>a(pn=>!pn)},[B,j]=useState("all_subscribers"),U={value:B,set:j},[Y,ge]=useState(""),[Se,De]=useState(),[Fe,qe]=useState(null),Ye=useRef(null),{files:st,clearFiles:gt,addFiles:yt,removeFile:At}=MO(),Bt=`You can only upload ${n} ${n>1?"images":"image"} at a time.`,xt=Y.trim()!==""||st.length>0||Fe!==null,[Ht,en]=useState(!1),Xt={isSubmitting:Ht,clearSubmission:()=>en(!1)},tn=pn=>oa(this,null,function*(){pn==null||pn.preventDefault();const Sn=Y.trim(),ur=st.slice(),Qn=Se?Xn({},Se):void 0,jn=Fe;if(xt){ge(""),gt(),De(void 0),en(!0),qe(null);let Kn;if(ur.length>0)try{Kn=yield AO(ur)}catch(Wn){console.error("error getting media urls",Wn)}t({value:Sn,sendAsEmail:i,audience:B,mediaAssets:Kn,mentions:Qn,linkUrl:jn})}}),fn=(pn,Sn=!0)=>{xt&&Sn&&pn.key==="Enter"&&!pn.shiftKey&&!pn.altKey&&tn(pn)},xn=useRef(null),yn=()=>{var pn;st.length>=n?alert(Bt):(pn=xn.current)==null||pn.click()},Gn=pn=>{pn.stopPropagation(),pn.preventDefault();const Sn=[...pn.target.files];Sn.length+st.length>n?alert(`${Bt} Please try again.`):yt(Sn),xn!=null&&xn.current&&(xn.current.value="")};return useEffect(()=>(Ye.current&&clearTimeout(Ye.current),Ye.current=setTimeout(()=>{const pn=parseValidLinks(Y);qe(Sn=>pn.length>0?pn[0].href:Sn)},500),()=>{Ye.current&&clearTimeout(Ye.current)}),[Y,qe]),{user:r,canSubmit:xt,files:st,linkUrl:Fe,setLinkUrl:qe,handleSubmit:tn,inputFile:xn,removeFile:At,onChangeFile:Gn,onImageButtonClick:yn,textValue:Y,setTextValue:ge,setMentionMap:De,handleKeyDown:fn,sendAsEmailHandler:D,postAudienceHandler:U,submissionTracker:Xt}}function NO({publicationId:n,placeholder:t,maxImagesToUpload:r,publishOptionsEnabled:i,visibilityOptions:a,disabled:D,onSubmit:B}){const[j,U]=useState(!1),Y=()=>U(!1);return useEffect(()=>{j&&track(EVENTS.THREADS_COMPOSER_SCREEN_VIEWED,{publication_id:n})},[j]),h(Fragment,null,h(FlexBox,{justifyContent:"center",alignItems:"center",flex:"auto",borderTop:"detail",className:css.footer},h(Button,{className:css.newThreadButton,priority:"primary",fill:"filled",onClick:()=>U(!0),disabled:j||D,rounded:!0},t)),h(Modal,{isOpen:j,onClose:Y,fullscreenMobile:!0},h(RO,{maxImagesToUpload:r,publishOptionsEnabled:i,visibilityOptions:a,onSubmit:B,handleCloseModal:Y})))}function RO({maxImagesToUpload:n,publishOptionsEnabled:t,visibilityOptions:r,onSubmit:i,handleCloseModal:a}){const{user:D,files:B,handleSubmit:j,inputFile:U,removeFile:Y,onChangeFile:ge,onImageButtonClick:Se,textValue:De,setTextValue:Fe,handleKeyDown:qe,sendAsEmailHandler:Ye,postAudienceHandler:st,canSubmit:gt,linkUrl:yt,setLinkUrl:At}=Cm(n,i),Bt=useCallback((xt,Ht)=>{Fe(xt)},[Fe]);return h(FlexColumn,{className:css.modalColumn},h(FlexRow,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},h(FlexBox,{alignItems:"center",gap:8},h(Text.H3,null,"New Thread")),h(IconButton,{size:40,"aria-label":"Close",onClick:a},h(X,{size:20,"aria-hidden":"true"}))),h(FlexColumn,{gap:16,padding:16,flex:"grow"},h(FlexBox,{gap:12,className:classnames(css.inputBox,css.modalContext),flex:"grow",paddingRight:8},h(Avatar,{size:48,user:D}),h(FlexBox,{flex:"grow"},h(LazyChatTextEditor,{defaultValue:De,placeholder:"Write something...",onChange:Bt,onReturn:j,className:css.modalChatEditor}))),B.length>0&&h(Sm,{files:B,deleteFile:Y}),yt&&h(kO,{linkUrl:yt,deleteLink:()=>At(null)})),t&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8},h(Mail,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Also send as email")),h(Switch,{checked:Ye.value,onChange:Ye.flip,color:"default"})),t&&r.hasPaid&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(Popover,{content:({closePopover:xt})=>h(BO,{visibilityOptions:r,currentVisibility:st.value,onPick:Ht=>{st.set(Ht),xt()}}),preferPlacement:"top-start"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8,className:css.currentVisibilityBox},st.value==="all_subscribers"?h(Fragment,null,h(Unlock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Visible to ",h("b",null,"all subscribers"))):st.value==="only_paid"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"paid subscribers"))):st.value==="only_founding"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"founding members"))):null))),h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h("input",{type:"file",accept:"image/*",id:"file",ref:U,style:{display:"none"},onChange:ge,"aria-label":"Add image",multiple:!0}),h(Om,{onClick:Se,fontWeight:"medium",size:24,color:"primary-text"}),h(Button,{className:css.submitButton,priority:"primary",disabled:!gt,onClick:xt=>{j(xt),a()}},"Post")))}function LO({stateChangeKey:n,onSubmit:t,placeholder:r,maxImagesToUpload:i,photosEnabled:a,quoteHandler:D,mentionsContext:B}){const{user:j,files:U,handleSubmit:Y,inputFile:ge,removeFile:Se,onChangeFile:De,onImageButtonClick:Fe,textValue:qe,setTextValue:Ye,setMentionMap:st,canSubmit:gt,submissionTracker:yt}=Cm(i,t),At=useCallback((Bt,xt)=>{Ye(Bt),st(xt.size===0?void 0:Object.fromEntries(xt))},[Ye,st]);return h(FlexColumn,{alignItems:"start",justifyContent:"center",as:"form",paddingX:24,paddingY:24,gap:16,onSubmit:Y,borderTop:"detail",alignSelf:"stretch"},U.length>0&&h(Sm,{files:U,deleteFile:Se,paddingLeft:56}),D.quoteReply&&h(UO,{quoteReply:D.quoteReply,cancelQuoteReply:D.cancelQuoteReply}),h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Avatar,{user:j,size:40}),h(FlexBox,null,h("input",{type:"file",accept:"image/*",id:"file",ref:ge,style:{display:"none"},"aria-label":"Add image",onChange:De,multiple:!0})),h(FlexBox,{className:css.inputBox,overflowY:"auto",overflowX:"hidden",paddingY:8,paddingX:16,radius:24,border:"detail",justifyContent:"space-between",alignItems:"start",flex:"grow",gap:8},h(LazyChatTextEditor,{defaultValue:qe,placeholder:r,onChange:At,onReturn:Y,mentionsContext:B,submitOnEnter:!0,focusKey:n,submissionTracker:yt})),a&&!D.quoteReply&&h(Om,{onClick:Fe,fill:"outline"}),gt&&h(IconButton,{priority:"primary",fill:"filled",size:40,type:"submit"},h(ArrowUp,{size:20}))))}function Om({onClick:n,fontWeight:t="normal",size:r=20,containerSize:i=40,fill:a="empty",color:D}){return h(IconButton,{size:i,onClick:n,color:D,fill:a},h(Image,{size:r,fontWeight:t,className:css.addImage}))}function BO({visibilityOptions:n,currentVisibility:t,onPick:r}){return h(FlexColumn,{gap:4},h(FlexRow,{borderBottom:"detail",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:8,paddingX:8},h(Text.B3,{className:css.visibilityDropdownText},"Choose who can see this:")),h(DropdownMenuItem,{onClick:()=>r("all_subscribers"),icon:h(Unlock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"All subscribers",t==="all_subscribers"&&h(Check,{size:20}))),n.hasPaid&&h(DropdownMenuItem,{onClick:()=>r("only_paid"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Paid subscribers",t==="only_paid"&&h(Check,{size:20}))),n.hasFounding&&h(DropdownMenuItem,{onClick:()=>r("only_founding"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Founding members",t==="only_paid"&&h(Check,{size:20}))))}function kO({linkUrl:n,deleteLink:t}){return h(FlexRow,{className:css.composerLinkPreview,alignSelf:"start"},h(LinkBubble,{linkUrl:n}),h($d,{onDelete:t,className:css.deleteFile}))}function Sm(n){var t=n,{files:r,deleteFile:i}=t,a=vm(t,["files","deleteFile"]);return h(FlexBox,hr(Xn({},a),{gap:8,wrap:"wrap"}),r.map(D=>h(FO,{key:D.name,file:D,deleteFile:i})))}function UO({quoteReply:n,cancelQuoteReply:t}){var r;return h(FlexBox,{paddingLeft:56,className:css.quoteReplyComposer},h(QuoteBox,{authorName:(r=n.user.name)!=null?r:"Substack user",communityEntity:n.comment}),h($d,{onDelete:t,className:css.deleteQuote,iconSize:16,xSize:14}))}function $d({onDelete:n,className:t,iconSize:r=32,xSize:i=20}){return h(IconButton,{className:t,size:r,priority:"media",onClick:n},h(X,{size:i}))}function FO({file:n,deleteFile:t}){return h(FlexRow,{className:css.imageBox},h("img",{className:css.image,src:URL.createObjectURL(n),alt:n.name}),h($d,{onDelete:()=>t(n),className:css.deleteFile}))}function zd({onClick:n}){return h(FlexBox,{justifyContent:"center",padding:8},h(Button,{fill:"empty",onClick:n},"Load more"))}function jO(){return h(FlexColumn,{padding:24,borderTop:"detail",alignSelf:"stretch",gap:16,alignItems:"start",justifyContent:"center"},h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{className:css.loadingComposer,height:40,type:"bar"})))}function fs({numberToLoad:n=1,showReplyBubble:t=!0}){return h(FlexColumn,{gap:32},Array(n).fill(0).map(()=>h(WO,{showReplyBubble:t})))}function WO({showReplyBubble:n=!0}){return h(FlexRow,{gap:12,flex:"grow",alignItems:"start"},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:4,flex:"grow"},h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:70+Math.random()*80}),n&&h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:50})))}function HO(n,t){return t.type.startsWith("inbox-")?VO(n,t):t.type.startsWith("posts-")?KO(n,t):t.type.startsWith("replies-")||t.type.startsWith("comments-")?GO(n,t):n}const Gu={isLoadingMore:!1,hasMore:!1,posts:[],error:null,publication:null,scrollPosition:0};function VO(n,t){switch(t.type){case"inbox-new_items":{const{threads:r}=t.payload;return hr(Xn({},n),{inbox:hr(Xn({},n.inbox),{isLoading:!1,threads:r.map(i=>{var a=i,{communityPost:D,user:B}=a,j=vm(a,["communityPost","user"]),U;return hr(Xn({},j),{communityPostId:(U=D==null?void 0:D.id)!=null?U:null})})}),communityPosts:new Map([...n.communityPosts,...r.map(i=>i&&i.communityPost&&i.user?[i.communityPost.id,{user:i.user,communityPost:i.communityPost,isNew:!1}]:null).filter(i=>i!==null)]),chats:new Map([...n.chats,...r.map(i=>{var a;if(i&&i.publication){const D=(a=n.chats.get(i.publication.id))!=null?a:Gu;return[i.publication.id,hr(Xn({},D),{publication:i.publication})]}return null}).filter(i=>i!==null)])})}default:return n}}function KO(n,t){var r,i,a,D,B,j;const{publication_id:U}=t.payload,Y=(r=n.chats.get(U))!=null?r:Gu;switch(t.type){case"posts-request_initial":return hr(Xn({},n),{chats:Io(n.chats,U,hr(Xn({},Y),{isLoadingMore:!0}))});case"posts-request_more":return hr(Xn({},n),{chats:Io(n.chats,U,hr(Xn({},Y),{isLoadingMore:!0}))});case"posts-load_more":{const{result:ge,direction:Se}=t.payload,De=ge.threads.find(yt=>yt.communityPost.status!=="deleted"),qe=km({getPubChatItemFromId:yt=>yt===(De==null?void 0:De.communityPost.id)?De:n.communityPosts.get(yt)}),Ye=new Map([...ge.threads.map(yt=>[yt.communityPost.id,yt])]),gt=rS({getPubChatItemFromId:yt=>Ye.has(yt)?Ye.get(yt):n.communityPosts.get(yt)});return hr(Xn({},n),{communityPosts:Um(n.communityPosts,Ye,yt=>new Date(yt.communityPost.updated_at)),chats:Io(n.chats,U,hr(Xn({},Y),{isLoadingMore:!1,hasMore:ge.more,posts:uniq([...Y.posts,...ge.threads.map(yt=>yt.communityPost.id)]).sort(gt)})),inbox:Se==="after"?n.inbox:hr(Xn({},n.inbox),{threads:[...n.inbox.threads.map(yt=>{var At;return yt.publication.id===U?hr(Xn({},yt),{communityPostId:(At=De==null?void 0:De.communityPost.id)!=null?At:yt.communityPostId,lastViewedAt:null}):yt})].sort(qe)})})}case"posts-error":return hr(Xn({},n),{chats:Io(n.chats,U,hr(Xn({},Y),{isLoadingMore:!1,error:t.payload}))});case"posts-new":{const ge=new Date().toISOString(),Se={communityPost:hr(Xn({},t.payload),{status:"published",created_at:ge,updated_at:ge,is_locked:!1,user_id:(a=(i=n.user)==null?void 0:i.id)!=null?a:0}),isNew:!0};return hr(Xn({},n),{communityPosts:Io(n.communityPosts,Se.communityPost.id,Se),chats:Io(n.chats,U,hr(Xn({},Y),{posts:[Se.communityPost.id,...Y.posts]}))})}case"posts-commit":{const{id:ge,chatItem:Se,publication_id:De}=t.payload,Fe=new Map(n.communityPosts);Fe.delete(ge),Fe.set(Se.communityPost.id,Se);const qe=n.inbox.threads.slice(),Ye=qe.findIndex(st=>st.publication.id===De);if(Ye!==-1){let st=qe[Ye];st=hr(Xn({},st),{communityPostId:Se.communityPost.id}),qe.splice(Ye,1),qe.unshift(st)}return hr(Xn({},n),{inbox:hr(Xn({},n.inbox),{threads:qe}),communityPosts:Fe,chats:Io(n.chats,De,hr(Xn({},Y),{posts:Y.posts.map(st=>st===ge?Se.communityPost.id:st)}))})}case"posts-new_reaction":{const{id:ge,reaction:Se}=t.payload,De=n.communityPosts.get(ge);return!De||!Aa(De)||!((D=De.communityPost)!=null&&D.reactions)?(console.warn("chat item does not exist"),n):De.communityPost.reaction===Se?(console.warn("already set this reaction",Se),n):hr(Xn({},n),{communityPosts:Io(n.communityPosts,ge,hr(Xn({},De),{communityPost:Yu(De.communityPost,Se,!0)}))})}case"posts-remove_reaction":{const{id:ge,reaction:Se}=t.payload,De=n.communityPosts.get(ge);return!De||!Aa(De)||!((B=De.communityPost)!=null&&B.reactions)?(console.warn("chat item does not exist"),n):hr(Xn({},n),{communityPosts:Io(n.communityPosts,ge,hr(Xn({},De),{communityPost:Yu(De.communityPost,Se,!1)}))})}case"posts-delete_post":{const{id:ge,publication_id:Se}=t.payload,De=n.communityPosts.get(ge);if(!De)return console.warn("chat item does not exist"),n;const Fe=new Map(n.communityComments),qe=n.comments.get(ge);qe&&qe.comments.forEach(yt=>{Lm(yt,Fe);const At=n.replies.get(yt);At&&At.comments.forEach(Bt=>{Lm(Bt,Fe)})});const Ye=(j=n.chats.get(Se))==null?void 0:j.posts.find(yt=>{var At;if(yt===ge)return!1;const Bt=n.communityPosts.get(yt);return((At=Bt==null?void 0:Bt.communityPost)==null?void 0:At.status)!=="deleted"}),gt=km({getPubChatItemFromId:yt=>n.communityPosts.get(yt)});return hr(Xn({},n),{communityPosts:Io(n.communityPosts,ge,hr(Xn({},De),{communityPost:hr(Xn({},De.communityPost),{status:"deleted",updated_at:new Date().toISOString()})})),communityComments:Fe,inbox:hr(Xn({},n.inbox),{threads:[...n.inbox.threads.map(yt=>yt.publication.id===Se?hr(Xn({},yt),{communityPostId:Ye!=null?Ye:null}):yt)].sort(gt)})})}case"posts-flag_post":{const{id:ge}=t.payload,Se=n.communityPosts.get(ge);return!Se||!Aa(Se)?(console.warn("chat item does not exist"),n):hr(Xn({},n),{communityPosts:Io(n.communityPosts,ge,hr(Xn({},Se),{communityPost:hr(Xn({},Se.communityPost),{reported_by_user:!0})}))})}case"posts-lock_replies":{const{id:ge,isLocked:Se}=t.payload,De=n.communityPosts.get(ge);return!De||!Aa(De)?(console.warn("chat item does not exist"),n):hr(Xn({},n),{communityPosts:Io(n.communityPosts,ge,hr(Xn({},De),{communityPost:hr(Xn({},De.communityPost),{is_locked:Se})}))})}case"posts-link_metadata":{const{id:ge,link_metadata:Se}=t.payload,De=n.communityPosts.get(ge);return De?hr(Xn({},n),{communityPosts:Io(n.communityPosts,ge,hr(Xn({},De),{communityPost:hr(Xn({},De.communityPost),{link_metadata:Se})}))}):(console.warn("chat item does not exist"),n)}case"posts-save_scroll_position":{const{publication_id:ge,scrollPosition:Se}=t.payload;return hr(Xn({},n),{chats:Io(n.chats,ge,hr(Xn({},Y),{scrollPosition:Se}))})}case"posts-update_post":{const{id:ge,post:Se}=t.payload,De=n.communityPosts.get(ge);return!De||!Aa(De)?(console.warn("post does not exist"),n):hr(Xn({},n),{communityPosts:Io(n.communityPosts,ge,hr(Xn({},De),{communityPost:Xn(Xn({},De.communityPost),Se)}))})}default:throw new Error("Invalid action type")}}function Tm(n,t){var r;return(r=n.chats.get(t))!=null?r:Gu}const $O=({maybeUpdateNewestSeenChatSetting:n})=>(t,r)=>oa(void 0,null,function*(){var i,a,D;try{const B=yield fetchJson("/api/v1/community/posts",{method:"GET"});t({type:"inbox-new_items",payload:{threads:B==null?void 0:B.threads}});const j=(D=(a=(i=B==null?void 0:B.threads)==null?void 0:i[0])==null?void 0:a.communityPost)==null?void 0:D.created_at;n&&j&&n(j)}catch(B){console.warn("error",B)}}),Im=(n,t=!1,{maybeUpdateNewestSeenChatSetting:r}={})=>(i,a)=>oa(void 0,null,function*(){var D;const B=Tm(a(),n),j=B.posts[B.posts.length-1],U=a().communityPosts.get(j);try{const Y=yield fetchJson(`/api/v1/community/publications/${n}/posts`,{query:{before:U&&!t?U.communityPost.created_at:void 0}});if(Array.isArray(Y)&&Y.length===0){const Se=new Error("FLAGGED_AS_SPAM");i({type:"posts-error",payload:{publication_id:n,error:Se}});return}i({type:"posts-load_more",payload:{publication_id:n,result:Y,direction:t?"before":"after"}});const ge=Y==null?void 0:Y.threads.find(Se=>Se.communityPost.status!=="deleted");t&&r&&r((D=ge==null?void 0:ge.communityPost)==null?void 0:D.created_at)}catch(Y){console.warn("error",Y),i({type:"posts-error",payload:{publication_id:n,error:Y}})}}),zO=n=>(t,r)=>oa(void 0,null,function*(){const i=Tm(r(),n);if(!(!i.hasMore||i.isLoadingMore))return yield t({type:"posts-request_more",payload:{publication_id:n}}),t(Im(n))}),wl={isLoading:!1,hasMore:!1,error:null},Zu={before:wl,after:hr(Xn({},wl),{isLoading:!0}),order:"asc",comments:[]};function GO(n,t){var r,i,a,D,B,j,U;let Y=null,ge=null;YO(t)?ge=t.payload.parentCommentId:"postId"in t.payload&&(Y=t.payload.postId);const Se=Ye=>ge?{replies:Ye}:{comments:Ye};let De;ge?De=(r=n.replies.get(ge))!=null?r:Zu:Y&&(De=(i=n.comments.get(Y))!=null?i:Zu);const Fe=ge?n.replies:n.comments,qe=ge!=null?ge:Y;switch(t.type){case"replies-request_initial":case"comments-request_initial":{const{order:Ye}=t.payload,st=hr(Xn({},wl),{isLoading:!0,hasMore:!1});return Xn(Xn({},n),Se(Io(Fe,qe,hr(Xn({},De),{before:Ye==="desc"?st:wl,after:Ye==="asc"?st:wl,order:Ye}))))}case"replies-request_edge":case"comments-request_edge":{const{edge:Ye}=t.payload;return Xn(Xn({},n),Se(Io(Fe,qe,hr(Xn({},De),{[Ye]:hr(Xn({},De[Ye]),{isLoading:!0,error:null})}))))}case"replies-load_edge":case"comments-load_edge":{const{edge:Ye,result:{post:st,parent:gt,replies:yt,more:At}}=t.payload,Bt=yt.map(tn=>tn.comment.id),xt=new Map([...yt.map(tn=>[tn.comment.id,tn])]),Ht=Um(n.communityComments,xt,tn=>new Date(tn.comment.updated_at));gt&&Ht.set(gt.comment.id,gt);const Xt=oS({getCommunityCommentFromId:tn=>Ht.get(tn)});return Xn(hr(Xn({},n),{communityPosts:st?Io(n.communityPosts,st.communityPost.id,st):n.communityPosts,communityComments:Ht}),Se(Io(Fe,qe,hr(Xn({},De),{comments:uniq([...De.comments,...Bt]).sort(Xt),[Ye]:{isLoading:!1,hasMore:At,error:null},order:Ye==="after"&&!At?"desc":De.order}))))}case"replies-new":case"comments-new":{const Ye={comment:hr(Xn({},ZO()),{id:t.payload.id,body:t.payload.body,raw_body:t.payload.mentions?t.payload.body:void 0,post_id:t.payload.postId,parent_id:ge,media_uploads:(a=t.payload.mediaUploads)!=null?a:null,user_id:(B=(D=n.user)==null?void 0:D.id)!=null?B:0,quote_id:t.payload.quoteReply?t.payload.quoteReply.comment.id:null,mentions:t.payload.mentions}),isNew:!0,is_banned:!1,quote:t.payload.quoteReply,user:n.user,pub_roles:t.payload.pubRoles},st=Xn(hr(Xn({},n),{communityComments:Io(n.communityComments,Ye.comment.id,Ye)}),Se(Io(Fe,qe,hr(Xn({},De),{comments:[Ye.comment.id,...De.comments]}))));if(ge){const yt=n.communityComments.get(ge);if(yt&&Na(yt)){const At=Bm(yt.comment,n.user,t.payload.postId);st.communityComments.set(ge,hr(Xn({},yt),{comment:At}))}}const gt=n.communityPosts.get(t.payload.postId);if(gt&&Aa(gt)){const yt=Bm(gt.communityPost,n.user,t.payload.postId);st.communityPosts=Io(n.communityPosts,t.payload.postId,hr(Xn({},gt),{communityPost:yt}))}return st}case"replies-commit":case"comments-commit":{const{id:Ye,reply:st}=t.payload,gt=new Map(n.communityComments);return gt.delete(Ye),gt.set(st.comment.id,st),Xn(hr(Xn({},n),{communityComments:gt}),Se(Io(Fe,qe,hr(Xn({},De),{comments:De.comments.map(yt=>yt===Ye?st.comment.id:yt)}))))}case"replies-error":case"comments-error":{const{edge:Ye,error:st}=t.payload;return Xn(Xn({},n),Se(Io(Fe,qe,hr(Xn({},De),{[Ye]:hr(Xn({},De[Ye]),{error:st})}))))}case"comments-new_reaction":{const{id:Ye,reaction:st}=t.payload,gt=n.communityComments.get(Ye);return!gt||!Na(gt)||!((j=gt.comment)!=null&&j.reactions)?(console.warn("comment does not exist"),n):gt.comment.reaction===st?(console.warn("reaction already set"),n):hr(Xn({},n),{communityComments:Io(n.communityComments,Ye,hr(Xn({},gt),{comment:Yu(gt.comment,st,!0)}))})}case"comments-remove_reaction":{const{id:Ye,reaction:st}=t.payload,gt=n.communityComments.get(Ye);return!gt||!Na(gt)||!((U=gt.comment)!=null&&U.reactions)?(console.warn("comment does not exist"),n):hr(Xn({},n),{communityComments:Io(n.communityComments,Ye,hr(Xn({},gt),{comment:Yu(gt.comment,st,!1)}))})}case"comments-delete_comment":{const{id:Ye}=t.payload,st=n.communityComments.get(Ye);return st?hr(Xn({},n),{communityComments:Io(n.communityComments,Ye,hr(Xn({},st),{comment:hr(Xn({},st.comment),{status:"deleted",updated_at:new Date().toISOString()})}))}):(console.warn("comment does not exist, cannot delete"),n)}case"comments-update_comment":{const{id:Ye,comment:st}=t.payload,gt=n.communityComments.get(Ye);return!gt||!Na(gt)?(console.warn("comment does not exist"),n):hr(Xn({},n),{communityComments:Io(n.communityComments,Ye,hr(Xn({},gt),{comment:Xn(Xn({},gt.comment),st)}))})}case"comments-flag_comment":{const{id:Ye}=t.payload,st=n.communityComments.get(Ye);return!st||!Na(st)?(console.warn("comment does not exist"),n):hr(Xn({},n),{communityComments:Io(n.communityComments,Ye,hr(Xn({},st),{comment:hr(Xn({},st.comment),{reported_by_user:!0})}))})}case"comments-ban_author":{const{id:Ye,ban:st}=t.payload,gt=n.communityComments.get(Ye);return!gt||!Na(gt)?(console.warn("comment does not exist"),n):hr(Xn({},n),{communityComments:Io(n.communityComments,Ye,hr(Xn({},gt),{is_banned:st}))})}case"comments-lock_replies":{const{id:Ye,isLocked:st}=t.payload,gt=n.communityComments.get(Ye);return!gt||!Na(gt)?(console.warn("comment does not exist"),n):gt.comment.parent_id?(console.warn("cannot lock replies on a reply to a comment"),n):hr(Xn({},n),{communityComments:Io(n.communityComments,Ye,hr(Xn({},gt),{comment:hr(Xn({},gt.comment),{is_locked:st})}))})}default:throw new Error("Invalid type")}}function ZO(){const n=new Date().toISOString();return{id:"",created_at:n,updated_at:n,user_id:0,post_id:"",body:"",raw_body:"",media_uploads:null,parent_id:null,is_locked:!1,quote_id:null,status:"published"}}const xm=(0,e.createContext)({dispatch:()=>Promise.resolve()});function Ma(){var n;return(n=(0,o.qp)(xm))==null?void 0:n.dispatch}function Io(n,t,r){const i=new Map(n);return i.set(t,r),i}function Aa(n){return n.isNew!==!0}function Na(n){return n.isNew!==!0}function Dm(n){return"communityPost"in n}function Mm(n){return"comment"in n}function YO(n){return"parentCommentId"in n.payload}function Yu(n,t,r){var i,a;const D=n.reaction,B=Xn({},n.reactions);return B[t]=((i=B[t])!=null?i:0)+(r?1:-1),r&&D&&(B[D]=((a=B[D])!=null?a:0)-1),hr(Xn({},n),{reactions:B,reaction:r?t:null})}function JO(n){return Math.floor(Math.random()*n*1e3)}function XO(n,t,r){return oa(this,null,function*(){try{return yield fetchJson("/api/v1/thread_media_uploads",{method:"POST",json:{publication_id:t,comment_id:n,content_type:r}})}catch(i){return i}})}function QO(n,t){return oa(this,null,function*(){try{return yield fetch(t,{method:"PUT",headers:{"Content-Type":n.contentType},body:n.file})}catch(r){return r}})}function qO({day:n,items:t,onSelect:r,isPaid:i,isFounding:a}){const D=useUser();return h(Fragment,null,t.map(B=>h(SO,{key:B.communityPost.id,item:B.isNew?hr(Xn({},B),{user:D}):B,onSelect:r,isPaid:i,isFounding:a})),h(nS,{day:n}))}const eS=new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric"}),tS=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"});function nS({day:n}){const t=dayjs();return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:16},h(Text.B3,{weight:"medium",size:14,color:"secondary"},n.isSame(t,"day")?"Today":n.isSame(t.subtract(1,"day"),"day")?"Yesterday":n.isSame(t,"year")?eS.format(n.toDate()):tS.format(n.toDate())))}function xi({title:n,body:t,children:r}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:n,body:t,children:r}))}function Am(){return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:12},h(Text.B3,{color:"error"},"Error loading chats"))}function Nm({pubErr:n}){if(n.error instanceof FetchError){const t=n.error.body.status==="CHAT_NOT_ENABLED",r=n.error.body.status==="FREE_SUBSCRIPTION_REQUIRED",i=n.error.body.status==="PUBLICATION_NOT_FOUND";if(t)return h(xi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."});if(r)return h(xi,{title:"You need to subscribe to this publication to view its chat.",body:"Once you do, its chat will appear here."},n.error.body.publication&&h(Gd,{pub:n.error.body.publication,utm_source:"web-chat-navigation",isSubscribeWall:!0}));if(i)return h(xi,{title:"We could not find this publication.",body:"Please select another publication and try again."})}return n.error instanceof Error&&n.error.message==="FLAGGED_AS_SPAM"?h(xi,{title:"We could not find this publication.",body:"Please select another publication and try again."}):h(xi,{title:"Something went wrong loading the chat.",body:"Please check back in again."})}function Rm({user:n,showReply:t=!0,analyticsParams:r,commenters:i,count:a,audience:D}){return h(FlexBox,null,h(FlexColumn,{className:css.paywall},h(CommunityPostPaywall,{author:n,showReply:t,analyticsParams:r,commenters:i,count:a,audience:D})))}function $a({onClick:n,children:t}){return h(Button,{priority:"secondary",onClick:n},t)}function Lm(n,t){const r=t.get(n);return!r||r.comment.status==="deleted"?!1:(t.set(n,hr(Xn({},r),{comment:hr(Xn({},r.comment),{status:"deleted",updated_at:new Date().toISOString()})})),!0)}function Bm(n,t,r){var i,a;let D;return t&&t.photo_url&&(D=[{id:t.id,name:t.name,photo_url:t.photo_url,post_id:r}],n.recent_commenters&&(D=uniqBy([...D,...n.recent_commenters],B=>B.id))),"reply_count"in n?hr(Xn({},n),{recent_commenters:D,reply_count:1+((i=n.reply_count)!=null?i:0)}):"comment_count"in n?hr(Xn({},n),{recent_commenters:D,comment_count:1+((a=n.comment_count)!=null?a:0)}):n}function Gd({pub:n,utm_source:t,isSubscribeWall:r}){useEffect(()=>{r&&track(EVENTS.THREAD_SUBSCRIBE_WALL_VIEWED,{publication_id:n.id})},[]);const i=()=>{const a=getSubscribeUrl(n,{addBase:!0,params:{next:document.location.href,utm_source:t}});window.open(a,"_blank")||(window.location.href=a)};return h(Button,{priority:"primary",onClick:i},`Subscribe to ${n.name}`)}function km({getPubChatItemFromId:n}){return(t,r)=>{const i=t.communityPostId?n(t.communityPostId):null,a=r.communityPostId?n(r.communityPostId):null;return Zd(i,a,"post")}}function rS({getPubChatItemFromId:n}){return(t,r)=>{const i=n(t),a=n(r);return Zd(i,a,"post")}}function oS({getCommunityCommentFromId:n}){return(t,r)=>{const i=n(t),a=n(r);return Zd(i,a,"comment")}}function Zd(n,t,r="post"){const i=!n,a=!t;if(i&&a)return 0;if(i&&!a)return 1;if(!i&&a)return-1;const D=r==="post"?n&&Dm(n)&&n.communityPost.created_at:n&&Mm(n)&&n.comment.created_at,B=new Date(D||0),j=r==="post"?t&&Dm(t)&&t.communityPost.created_at:t&&Mm(t)&&t.comment.created_at;return new Date(j||0).getTime()-B.getTime()}function Um(n,t,r){const i=new Map(t);for(const[a,D]of n){const B=i.get(a);if(!B){i.set(a,D);continue}r(D)>r(B)&&i.set(a,Xn(Xn({},B),D))}return i}function Fm({changeSetting:n,storedNewestSeenChatItemPublishedAt:t}){return r=>{r&&new Date(r)>new Date(t!=null?t:0)&&n("newest_seen_chat_item_published_at",r)}}var iS=Object.defineProperty,aS=Object.defineProperties,sS=Object.getOwnPropertyDescriptors,jm=Object.getOwnPropertySymbols,lS=Object.prototype.hasOwnProperty,uS=Object.prototype.propertyIsEnumerable,Wm=(n,t,r)=>t in n?iS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,cS=(n,t)=>{for(var r in t||(t={}))lS.call(t,r)&&Wm(n,r,t[r]);if(jm)for(var r of jm(t))uS.call(t,r)&&Wm(n,r,t[r]);return n},dS=(n,t)=>aS(n,sS(t));const fS=n=>(0,e.h)(k.l,dS(cS({},n),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,e.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,e.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var Yd=wt(94016),Hm=wt(15822);const Zi={avatarContainer:"frontend-community-Reaction-module__avatarContainer--_8l4V",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"},pS=3,Vm=6;function hS({context:n,reactions:t,currentReaction:r,onReactionClick:i,isReadOnly:a}){const D=t&&Object.keys(t).some(Y=>t[Y]>0),{result:B,isLoading:j}=(0,Ut.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),U=(0,o.Ye)(()=>!t||!(B!=null&&B.reactionTypes)?[]:Object.entries(t).sort((ge,Se)=>Se[1]===ge[1]?ge[0].localeCompare(Se[0]):Se[1]-ge[1]).filter(([ge,Se])=>Se>0&&B.reactionTypes[ge]).slice(0,pS),[t,B]);return B!=null&&B.reactionTypes?(0,e.h)(y.tu,null,(0,e.h)(y.gq,{onClick:Xd,className:u()(Zi.reactionsContainer,{[Zi.show]:D})},U.map(([Y,ge])=>(0,e.h)(Yd.z,{layerClassName:Zi.nameCard,content:(0,e.h)(gS,{context:n,reaction:Y}),layerOptions:{placement:"bottom-center"}},(0,e.h)(y.gq,{key:Y,className:u()(Zi.reaction,{[Zi.blue]:Y===r}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>i&&i(Y)},(0,e.h)(PS,{reaction:B.reactionTypes[Y]}),(0,e.h)(bS,{count:ge,textColor:Y===r?"bg-light":"primary"})))),!a&&(0,e.h)(um,{content:({closePopover:Y})=>(0,e.h)(_S,{emojis:B,isLoading:j,currentReaction:r,onPick:ge=>{i&&i(ge),Y()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Zi.emojiPickerLayer},(0,e.h)(mS,null)))):null}function mS(){return(0,e.h)(y.hs,{className:Zi.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,e.h)(fS,null))}function _S({emojis:n,isLoading:t,currentReaction:r,onPick:i}){var a;const D=(0,o.Ye)(()=>!(n!=null&&n.reactionTypes)||t?[]:Object.keys(n.reactionTypes),[n==null?void 0:n.reactionTypes,t]),{result:B,isLoading:j}=(0,Ut.Wf)(()=>wt.e(695).then(wt.t.bind(wt,64695,19)),[],{auto:!0}),U=(0,o.I4)(De=>[De,...(B==null?void 0:B[De])||[]],[B]),{filteredItems:Y,setQuery:ge,hasFiltered:Se}=qC({items:D,getKeys:U,deps:[D,U]});return t||j?(0,e.h)(Hm.S,null):(0,e.h)(y.tu,{gap:12,className:Zi.emojiPicker,onClick:Xd,overflowY:"auto"},(0,e.h)(eO,{setQuery:ge,placeholder:"Search emoji...",size:"small"}),Se&&(Y&&Y.length>0?(0,e.h)(Jd,{reactions:Y,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:null}):(0,e.h)(y.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!Se&&(0,e.h)(e.Fragment,null,(0,e.h)(Jd,{reactions:n.suggestedReactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:"Suggested Reactions"}),(a=n.categories)==null?void 0:a.map(De=>(0,e.h)(Jd,{reactions:De.reactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:De.title}))))}function gS({reaction:n,context:t}){var r;const i=t.type==="posts"?`/api/v1/community/posts/${t.id}/reactions`:`/api/v1/community/comments/${t.id}/reactions`,{result:a,isLoading:D}=(0,Ut.ib)({pathname:i,method:"GET",auto:!0});if(D)return(0,e.h)(Hm.S,null);const j=((r=a==null?void 0:a.reactions.filter(ge=>ge.reaction===n))!=null?r:[]).map(ge=>ge.user.name),U=j.slice(0,Vm),Y=Math.max(0,j.length-Vm);return(0,e.h)(y.tu,{gap:2,className:Zi.emojiPicker,onClick:Xd,overflowY:"auto"},U.map(ge=>(0,e.h)(Km,{text:ge})),Y>0&&(0,e.h)(Km,{text:`+ ${Y} ${Y===1?"other":"others"}`}))}function vS({title:n}){return(0,e.h)(y.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},n)}function yS({reactions:n,currentReaction:t,onPick:r,emojiMap:i}){return(0,e.h)(y.gq,{className:Zi.reactionSection,gap:8},n==null?void 0:n.map(a=>(0,e.h)(y.hs,{key:a,onClick:()=>r(a),className:u()(Zi.reactionToPick,{[Zi.blue]:a===t}),bg:"primary",alignItems:"center"},(0,e.h)(ES,{reaction:i[a]}))))}function Jd({reactions:n,currentReaction:t,onPick:r,emojiMap:i,title:a}){return(0,e.h)(y.tu,{gap:12},a&&(0,e.h)(vS,{title:a}),(0,e.h)(yS,{reactions:n,currentReaction:t,onPick:r,emojiMap:i}))}function bS({count:n,textColor:t}){return(0,e.h)(y.xv,{className:Zi.count,color:t,lineHeight:20},n)}function Km({text:n}){return(0,e.h)(y.xv,{size:12,color:"primary",weight:"medium",font:"text"},n)}function PS({reaction:n}){return(0,e.h)(y.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}function ES({reaction:n}){return(0,e.h)(y.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}const Xd=n=>{n.stopPropagation(),n.preventDefault()},$o={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"};var wS=Object.defineProperty,CS=Object.defineProperties,OS=Object.getOwnPropertyDescriptors,Ju=Object.getOwnPropertySymbols,$m=Object.prototype.hasOwnProperty,zm=Object.prototype.propertyIsEnumerable,Gm=(n,t,r)=>t in n?wS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ps=(n,t)=>{for(var r in t||(t={}))$m.call(t,r)&&Gm(n,r,t[r]);if(Ju)for(var r of Ju(t))zm.call(t,r)&&Gm(n,r,t[r]);return n},SS=(n,t)=>CS(n,OS(t)),Zm=(n,t)=>{var r={};for(var i in n)$m.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ju)for(var i of Ju(n))t.indexOf(i)<0&&zm.call(n,i)&&(r[i]=n[i]);return r},Go=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const TS="ffe5d072-ae52-11ed-afa1-0242ac120002";function Ym({communityPost:n,author:t,extras:r,withAttribution:i,flex:a,hideReply:D,isReadOnly:B,onReply:j,onDelete:U}){const Y=(0,o.sO)(null),ge={type:"posts",id:n.id},Se=Ma(),De=!(n.type==="media"&&n.media_assets);return(0,e.h)(Xu,{user:t,flex:a,containerRef:Y},i&&(0,e.h)(tf,{text:`From ${t.name}\u2019s subscriber chat`}),(0,e.h)(Jm,{actionMenuProps:{communityEntity:n,publicationId:n.publication_id,onReply:j,onDelete:U,isReadOnly:B,isFlagged:n.reported_by_user},flex:a},(0,e.h)(Qu,null,n.type==="media"&&n.media_assets&&(0,e.h)(Cl,{context:ge,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:Ol(n.id,"posts",Se,n.reaction),isReadOnly:B},(0,e.h)(om.q,{assets:n.media_assets.map(Fe=>Fe.url),className:$o.imageGroup,readOnly:B})),n.link_url&&(0,e.h)(Cl,{context:ge,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:Ol(n.id,"posts",Se,n.reaction),setReactions:De,isReadOnly:B},(0,e.h)(_5,{linkUrl:n.link_url,linkMetadata:n.link_metadata,postId:n.id})),n.body&&(0,e.h)(Cl,{context:ge,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:Ol(n.id,"posts",Se,n.reaction),setReactions:De&&!n.link_url,isReadOnly:B},(0,e.h)(qm,{authorName:t.name,communityEntity:n})))),!D&&(0,e.h)(Qm,null,(0,e.h)(qu,{commenters:n.recent_commenters,count:n.comment_count,audience:n.audience})),r)}function Jm({children:n,actionMenuProps:t,flex:r="grow"}){return(0,e.h)(je.gq,{alignItems:"start",gap:12,flex:r},(0,e.h)(je.tu,null,n),(0,e.h)(r5,ps({},t)))}function Cl({children:n,context:t,reactions:r,currentReaction:i,setReactions:a=!0,onReactionClick:D,isReadOnly:B}){return a?(0,e.h)(je.gq,{className:$o.reactionsWrapper},n,(0,e.h)(hS,{context:t,reactions:r,currentReaction:i,onReactionClick:D,isReadOnly:B})):(0,e.h)(e.Fragment,null,n)}const Ol=(n,t,r,i)=>a=>Go(void 0,null,function*(){r(i===a?xS(a,n,t):IS(a,n,t,i))}),IS=(n,t,r,i)=>(a,D)=>Go(void 0,null,function*(){a({type:`${r}-new_reaction`,payload:{id:t,reaction:n}}),(yield zS(n,t,r))instanceof Error&&a(i?{type:`${r}-new_reaction`,payload:{id:t,reaction:i}}:{type:`${r}-remove_reaction`,payload:{id:t,reaction:n}})}),xS=(n,t,r)=>(i,a)=>Go(void 0,null,function*(){i({type:`${r}-remove_reaction`,payload:{id:t,reaction:n}}),(yield GS(n,t,r))instanceof Error&&i({type:`${r}-new_reaction`,payload:{id:t,reaction:n}})}),DS=(n,t)=>(r,i)=>Go(void 0,null,function*(){r({type:"posts-delete_post",payload:{id:n,publication_id:t}});const a=yield $S(n);a instanceof Error&&console.warn("error deleting thread",a)}),MS=(n,t,r)=>(i,a)=>Go(void 0,null,function*(){i({type:"comments-delete_comment",payload:{id:n,postId:t}});const D=yield HS(n);if(D instanceof Error&&console.warn("error deleting comment",D),r){const j=yield VS(r);j instanceof Error||i({type:"comments-update_comment",payload:{id:r,comment:j.comment}})}const B=yield KS(t);B instanceof Error||i({type:"posts-update_post",payload:{id:t,post:B.communityPost}})}),AS=(n,t)=>(r,i)=>Go(void 0,null,function*(){r({type:"posts-lock_replies",payload:{id:n,isLocked:t}});const a=yield kS(n,t);a instanceof Error&&(console.warn("error locking post",a),alert(`There was an error ${t?"locking":"unlocking"} replies to this post. Please try again later.`),r({type:"posts-lock_replies",payload:{id:n,isLocked:!t}}))}),NS=(n,t)=>(r,i)=>Go(void 0,null,function*(){r({type:"comments-lock_replies",payload:{id:n,isLocked:t}});const a=yield US(n,t);a instanceof Error&&(console.warn("error locking comment",a),alert(`There was an error ${t?"locking":"unlocking"} replies to this comment. Please try again later.`),r({type:"comments-lock_replies",payload:{id:n,isLocked:!t}}))}),RS=n=>(t,r)=>Go(void 0,null,function*(){t({type:"posts-flag_post",payload:{id:n}});const i=yield jS(n);i instanceof Error&&console.warn("error flagging post",i)}),LS=n=>(t,r)=>Go(void 0,null,function*(){t({type:"comments-flag_comment",payload:{id:n}});const i=yield WS(n);i instanceof Error&&console.warn("error flagging comment",i)}),BS=(n,t)=>(r,i)=>Go(void 0,null,function*(){r({type:"comments-ban_author",payload:{id:n,ban:t}});const a=yield FS(n,t);a instanceof Error&&(console.warn("error toggling ban for comment author",a),alert(`There was an error ${t?"banning":"unbanning"} this user. Please try again later.`),r({type:"comments-ban_author",payload:{id:n,ban:!t}}))});function kS(n,t){return Go(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function US(n,t){return Go(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function FS(n,t){return Go(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}/publication_bans?ban=${t.toString()}`,{method:"POST"})}catch(r){return r}})}function jS(n){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/posts/${n}/reports`,{method:"POST",json:{postId:n}})}catch(t){return t}})}function WS(n){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/comments/${n}/reports`,{method:"POST",json:{commentId:n}})}catch(t){return t}})}function HS(n){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/comments/${n}`,{method:"DELETE",json:{commentId:n}})}catch(t){return t}})}function VS(n){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/comments/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function KS(n){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/posts/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function $S(n){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/posts/${n}`,{method:"DELETE",json:{postId:n}})}catch(t){return t}})}function zS(n,t,r){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"POST",json:{reaction:n}})}catch(i){return i}})}function GS(n,t,r){return Go(this,null,function*(){try{return yield(0,Ut.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"DELETE",query:{reaction:n}})}catch(i){return i}})}function Qd({author:n,extras:t,showReply:r=!0,analyticsParams:i,commenters:a,count:D,audience:B}){return(0,o.d4)(()=>{i&&(0,C.j)(C.FP.THREAD_PAYWALL_SCREEN_VIEWED,i)},[]),(0,e.h)(Xu,{user:n},(0,e.h)(Qu,null,(0,e.h)(h5,{audience:B}),r&&(0,e.h)(qu,{isLocked:!0,commenters:a,count:D})),t)}function ZS({author:n,extras:t,showReply:r=!0,commenters:i,count:a}){return(0,e.h)(Xu,{user:n},(0,e.h)(Qu,null,(0,e.h)(m5,null),r&&(0,e.h)(qu,{isLocked:!0,commenters:i,count:a})),t)}function qd(n){return typeof n.message=="string"}function YS({text:n,rawText:t,specialText:r,mentionMap:i,limit:a=600}){const[D,B]=(0,o.eJ)(!1);if(r)return(0,e.h)("em",null,r);if(!n)return(0,e.h)(e.Fragment,null);let j=[{characters:n.length,message:n}];t&&i&&(j=XS(t,i));const{alwaysShow:U,afterExpansion:Y}=JS(j,a),ge=Y.length>0;return(0,e.h)(e.Fragment,null,U.map(Se=>qd(Se)?(0,e.h)(Xm,null,Se.message):Se.message),ge&&!D&&(0,e.h)(e.Fragment,null,(0,e.h)("span",null," "),(0,e.h)(ft.kG,{resetCss:!0,className:$o.readMore,onClick:Se=>{Se.preventDefault(),B(!0)}},"Read more")),ge&&D&&(0,e.h)(e.Fragment,null,Y.map(Se=>qd(Se)?(0,e.h)(Xm,null,Se.message):Se.message)))}function Xm({children:n}){return(0,e.h)(Xh(),{options:{attributes:{rel:"nofollow ugc",onClick:t=>t.stopPropagation()}}},n)}function JS(n,t){let r=0;const i=[],a=[];for(const D of n){let B=D;if(r<t){if(r+B.characters>t&&qd(B)){const j=t-r,U={characters:j,message:B.message.slice(0,j)},Y={characters:B.characters-j,message:B.message.slice(j)};B=U,a.push(Y)}r+=B.characters,i.push(B)}else a.push(B)}return{alwaysShow:i,afterExpansion:a}}function XS(n,t){const r=/\$\{(\d+)\}/g;let i=r.exec(n);const a=n,D=[];let B=0;for(;i;){const j=Number(i[1]),U=t[j];U?(i.index>B&&D.push({characters:i.index-B,message:a.slice(B,i.index)}),D.push({characters:U.text.length,message:qS(U.user_id,QS(U.text),U.text)})):D.push({characters:r.lastIndex-B,message:a.slice(B,r.lastIndex)}),B=r.lastIndex,i=r.exec(n)}return B<a.length&&D.push({characters:a.length-B,message:a.slice(B)}),D}function QS(n){return n.slice(1)}function qS(n,t,r){return(0,e.h)(Wd.default,{name:t,id:n,mentionText:r,type:"user",uuid:TS,isStatic:!1,isEditorContext:!1})}function e5(n){var t=n,{communityComment:r,quoteReply:i,isTargeted:a,isBanned:D,pubRole:B}=t,j=Zm(t,["communityComment","quoteReply","isTargeted","isBanned","pubRole"]);return(0,e.h)(t5,ps({isTargeted:a,commentInfoArr:[{communityComment:r,quoteReply:i,isBanned:D,pubRole:B}]},j))}function t5({commentInfoArr:n,author:t,chatPublicationId:r,hideReply:i,onReply:a,onNewQuote:D,onQuoteReplyClick:B,onDelete:j,commentRef:U,isTargeted:Y,isReadOnly:ge,chatAuthorNameAttribution:Se,extras:De,flex:Fe}){const qe=Ma(),Ye=n[n.length-1].communityComment,{reply_count:st=0,recent_commenters:gt=[]}=Ye!=null?Ye:{};return(0,e.h)(Xu,{user:t,pubRole:n[0].pubRole,containerRef:U,id:`comment-${Ye==null?void 0:Ye.id}`,flex:Fe},Se&&(0,e.h)(tf,{text:`Comment from ${Se}\u2019s subscriber chat`}),(0,e.h)(Jm,{actionMenuProps:{communityEntity:n[0].communityComment,isBanned:n[0].isBanned,isFlagged:n[0].communityComment.reported_by_user,onReply:a,onDelete:j,onNewQuote:D,isReadOnly:ge,publicationId:r},flex:Fe},(0,e.h)(Qu,null,n.map(({communityComment:{id:yt,body:At,quote_id:Bt,media_uploads:xt,reactions:Ht,reaction:en,reported_by_user:Xt},quoteReply:tn},fn)=>{var xn;return(0,e.h)(e.Fragment,{key:yt},!Xt&&xt&&xt.length>0&&Bt===null&&(0,e.h)(Cl,{context:{type:"comments",id:yt},reactions:Ht,currentReaction:en,onReactionClick:Ol(yt,"comments",qe,en),isReadOnly:ge},(0,e.h)(om.q,{assets:xt.map(yn=>yn.url),className:$o.imageGroup,readOnly:ge})),Bt&&tn&&(0,e.h)(p5,{authorName:(xn=tn.user.name)!=null?xn:"Substack User",communityEntity:tn.comment,onClick:B}),At&&(0,e.h)(Cl,{context:{type:"comments",id:yt},reactions:Ht,currentReaction:en,onReactionClick:Ol(yt,"comments",qe,en),setReactions:!xt||xt.length===0,isReadOnly:ge},(0,e.h)(qm,{authorName:t.name,communityEntity:n[fn].communityComment,isTargeted:Y})))}))),!i&&st>0&&(0,e.h)(Qm,null,(0,e.h)(qu,{commenters:gt,count:st})),De)}function hs(n){return n.post_id===void 0}function Xu({user:n,children:t,flex:r="grow",containerRef:i,id:a,pubRole:D}){return(0,e.h)(je.hs,{id:a,alignItems:"start",gap:12,flex:r,ref:i,className:u()(Zi.avatarContainer,$o.avatarContainer)},(0,e.h)(je.hs,{paddingTop:4},n?(0,e.h)(n0,{user:n,pubRole:D,size:40}):(0,e.h)(Ha.Vm,{type:"circle",size:40})),(0,e.h)(je.tu,{flex:"grow",gap:4},t))}function n5(){return(0,e.h)(je.hs,{className:$o.actionButton,paddingX:4,alignItems:"center"},(0,e.h)(Qh.Z,null))}function r5({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:a,isBanned:D,isFlagged:B,onNewQuote:j}){const U=(0,o.sO)(!1),Y=ge=>{U.current=ge};return(0,e.h)(je.hs,{alignItems:"center",className:$o.actions},(0,e.h)(um,{content:({closePopover:ge})=>(0,e.h)(o5,{communityEntity:n,onReply:t,onDelete:r,closePopover:ge,isReadOnly:i,publicationId:a,isBanned:D,isFlagged:B,onNewQuote:j}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:$o.actionMenuLayer,onOpen:()=>Y&&Y(!0),onClose:()=>Y&&Y(!1)},(0,e.h)(n5,null)))}function o5({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:a,isBanned:D,isFlagged:B,closePopover:j,onNewQuote:U}){const Y=(0,us.aF)(),{isAuthor:ge}=(0,Ld.Y0)(a!=null?a:0),Se=a&&ge,De=n&&Y&&n.user_id===Y.id,Fe=n&&!hs(n),qe=Fe&&"parent_id"in n&&n.parent_id!==null,Ye=De||Se,st=De||Se,gt=!De&&!B,yt=Se&&Fe&&!De;return(0,e.h)(je.tu,{className:$o.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!i&&t&&(0,e.h)(a5,{disabled:!!(n!=null&&n.is_locked),onReply:t}),!i&&U&&Fe&&(0,e.h)(i5,{onNewQuote:U,communityComment:n,closePopover:j}),n&&n.body&&(0,e.h)(s5,{communityEntity:n,closePopover:j}),n&&(0,e.h)(l5,{communityEntity:n,closePopover:j}),!i&&n&&!qe&&st&&(0,e.h)(u5,{communityEntity:n,closePopover:j}),!i&&n&&Ye&&(0,e.h)(f5,{communityEntity:n,closePopover:j,onDelete:r}),!i&&n&&gt&&(0,e.h)(c5,{communityEntity:n,closePopover:j}),!i&&n&&D!==void 0&&yt&&(0,e.h)(d5,{communityEntity:n,closePopover:j,isBanned:D}))}function i5({onNewQuote:n,communityComment:t,closePopover:r}){return(0,e.h)(wo.sN,{icon:(0,e.h)(SC,null),onClick:()=>{n(t),r()}},"Quote")}function a5({disabled:n,onReply:t}){return(0,e.h)(wo.sN,{icon:(0,e.h)(TC,null),onClick:t,disabled:n},"Reply")}function s5({communityEntity:n,closePopover:t}){const r=(0,ei.pm)(),i=()=>{if(n){const{body:a}=n;(0,T.copyToClipboard)(a),r.popToast(D=>(0,e.h)(ei.FN,SS(ps({},D),{text:"Text copied",Icon:jd})))}t()};return(0,e.h)(wo.sN,{icon:(0,e.h)(jd,null),onClick:i},"Copy Text")}function l5({communityEntity:n,closePopover:t}){const r=(0,im.g)(),{id:i}=n,a=hs(n),D=()=>{var B;let j;a?j=(0,oe.getCommunityPostAppLinkUrl)({postId:i}):j=(0,oe.getCommunityCommentAppLinkUrl)({commentId:(B=n.parent_id)!=null?B:i,targetReplyId:n.parent_id?i:void 0}),r(j),t()};return(0,e.h)(wo.sN,{icon:(0,e.h)(El.Z,null),onClick:D},"Copy Link")}function u5({communityEntity:n,closePopover:t}){const r=Ma(),{id:i,is_locked:a}=n,D=hs(n),B=()=>Go(this,null,function*(){r(D?AS(i,!a):NS(i,!a)),t()});return(0,e.h)(wo.sN,{icon:a?(0,e.h)(qh,null):(0,e.h)(IC,null),onClick:B,priority:a?"primary":"destructive"},a?"Turn on replies":"Turn off replies")}function c5({communityEntity:n,closePopover:t}){const r=Ma(),i=hs(n),a=()=>Go(this,null,function*(){if(confirm(`Are you sure you want to flag this ${i?"thread":"reply"}?`)){const{id:B}=n;r(i?RS(B):LS(B)),t()}});return(0,e.h)(wo.sN,{icon:(0,e.h)(em.Z,null),onClick:a,priority:"destructive"},i?"Flag thread":"Flag reply")}function d5({communityEntity:n,closePopover:t,isBanned:r}){const i=Ma(),a=()=>Go(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:B}=n;i(BS(B,!r)),t()}});return(0,e.h)(wo.sN,{icon:r?(0,e.h)(xC.Z,null):(0,e.h)(tm.Z,null),onClick:a,priority:"destructive"},r?"Unban user":"Ban user")}function f5({communityEntity:n,closePopover:t,onDelete:r}){const i=Ma(),a=hs(n),D=()=>Go(this,null,function*(){if(confirm(`Are you sure you want to delete this ${a?"thread":"comment"}?`)){const{id:j}=n;if(a){const{publication_id:U}=n;i(DS(j,U))}else{const{post_id:U,parent_id:Y}=n;i(MS(j,U,Y))}r&&setTimeout(r,500)}t()});return(0,e.h)(wo.sN,{icon:(0,e.h)(DC,null),onClick:D,priority:"destructive"},a?"Delete thread":"Delete reply")}function Qm(n){return(0,e.h)(je.tu,ps({className:$o.replyContainer,alignItems:"start"},n))}function Qu(n){return(0,e.h)(je.tu,ps({className:$o.bubbleStack,gap:4,alignItems:"start"},n))}function ef(n){var t=n,{isTargeted:r}=t,i=Zm(t,["isTargeted"]);return(0,e.h)(je.hs,ps({className:u()($o.bubble,r&&$o.targetedAnimation),padding:12,bg:"secondary",minWidth:0},i))}function qm({authorName:n,communityEntity:t,isTargeted:r}){return(0,e.h)(ef,{isTargeted:r},(0,e.h)(e0,{authorName:n,communityEntity:t}))}function p5({authorName:n,communityEntity:t,onClick:r}){return(0,e.h)(je.hs,{className:u()($o.bubble,$o.quoteBox),onClick:r,padding:12,minWidth:0},(0,e.h)(e0,{authorName:n,communityEntity:t}))}function e0({authorName:n,communityEntity:t}){var r,i,a,D;let B=null;const j=hs(t)?"thread":"reply";return t.reported_by_user&&(B=`You flagged this ${j}`),(t.status==="deleted"||!t.body)&&(B=`This ${j} is not available`),t.body||(hs(t)?(r=t.media_assets)!=null&&r.length?B=`${t.media_assets.length} ${t.media_assets.length>1?"photos":"photo"}.`:t.link_url&&(B=`Link: ${t.link_url}`,(i=t.link_metadata)!=null&&i.title&&(B=`Link: "${t.link_metadata.title}"`)):(a=t.media_uploads)!=null&&a.length&&(B=`${t.media_uploads.length} ${t.media_uploads.length>1?"photos":"photo"}.`)),(0,e.h)(x.Zx,{isParagraph:!0,className:$o.bubbleText},(0,e.h)(x.Zx,{weight:"semibold",className:$o.authorName},n||"Substack user")," ",(t.body||B)&&(0,e.h)(YS,{text:(D=t.raw_body)!=null?D:t.body,rawText:t.raw_body,specialText:B,mentionMap:t.mentions}))}function qu({isLocked:n,count:t=0,commenters:r,audience:i}){const a=n?Hu.Z:gl.Z;return(0,e.h)(ef,{alignSelf:"stretch"},(0,e.h)(je.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,e.h)(je.hs,{alignItems:"center",gap:8},r&&(0,e.h)(je.hs,{className:$o.facepile,alignItems:"center"},r.map(D=>(0,e.h)(n0,{className:$o.facepileAvatar,user:D,size:24}))),(0,e.h)(x.Zx,{color:"secondary"},t>0?`${t.toLocaleString()} replies...`:"Reply...")),(0,e.h)(je.hs,{gap:4,alignItems:"center"},n||!i||i==="all_subscribers"?void 0:(0,e.h)(x.Zx,{color:"secondary"},i==="only_founding"?"Founding":"Paid"),(0,e.h)(a,{size:20,stroke:"var(--color-secondary)"}))))}function h5({audience:n}){const t=n==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,e.h)(je.tu,{className:$o.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(je.hs,{alignItems:"center",gap:4},(0,e.h)(Hu.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(x.xv.Meta,{weight:"semibold"},t)))}function m5(){return(0,e.h)(je.tu,{className:$o.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(je.hs,{alignItems:"center",gap:4},(0,e.h)(Hu.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(x.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function _5({linkUrl:n,linkMetadata:t,postId:r}){var i,a,D;const B=Ma();let j;try{const Fe=new URL((i=t==null?void 0:t.url)!=null?i:n);j=`${Fe.host}${Fe.pathname}${Fe.search}${Fe.hash}`}catch(Fe){j=n}const{result:U,isLoading:Y,error:ge}=(0,Ut.ib)({pathname:"/api/v1/link-metadata",query:{url:n},auto:!t,deps:[n]});U&&!t&&r&&B({type:"posts-link_metadata",payload:{id:r,link_metadata:U}});const Se=(a=t==null?void 0:t.title)!=null?a:U==null?void 0:U.title,De=(D=t==null?void 0:t.image)!=null?D:U==null?void 0:U.image;return(0,e.h)(ef,null,(0,e.h)(je.hs,{as:"a",href:n,target:"_blank",justifyContent:"space-between",gap:12,className:$o.linkBubble,onClick:Fe=>Fe.stopPropagation()},(0,e.h)(je.tu,{gap:4},Se&&(0,e.h)(x.xv,{font:"serif",weight:"semibold",className:$o.linkTitle},Se),(0,e.h)(x.xv.Detail,{ellipsis:!0,className:$o.linkUrl},j)),De&&(0,e.h)(ct.e,{className:$o.linkImg,src:De,maxWidth:72*2})))}function t0(n){return(0,e.h)(ft.zx,ps({className:$o.ctaButton,priority:"primary-theme"},n))}function tf({text:n,isStatic:t}){return(0,e.h)(je.hs,{paddingX:8,paddingY:4},(0,e.h)(x.xv.Detail,{weight:"semibold"},(0,e.h)(FC,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:t})," ",n))}function n0({user:n,size:t,pubRole:r,className:i}){let a;(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="contributor"?a="author":r!=null&&r.is_founding?a="founding":(r==null?void 0:r.membership_state)==="subscribed"&&(a="paid");const D=(0,ca.L0)(n);return(0,e.h)(je.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,oe.getReaderProfileUrl)(n,{noBase:!0}),target:"_blank"},(0,e.h)(Ks.YY,{showProfileHovercard:D,className:i,size:t,user:n,subscriptionType:a}))}function*bK(n,t,r=1){for(let i=n;i<t;i+=r)yield i}function PK({utm_campaign:n,utm_source:t,abTestingId:r}={}){const[i,a]=useState(!1);return{open:()=>{a(!0),track(EVENTS.APP_INSTALL_MODAL_OPENED,{utm_campaign:n,utm_source:t})},modal:h(y5,{isOpen:i,onClose:()=>a(!1),utm_campaign:n,utm_source:t,abTestingId:r})}}function r0({label:n}){return(0,e.h)(je.hs,{gap:16,alignItems:"center",className:me.divider},(0,e.h)("hr",{className:me.dividerLine}),n&&(0,e.h)(e.Fragment,null,(0,e.h)(x.xv.Meta,null,n),(0,e.h)("hr",{className:me.dividerLine})))}function g5({utm_campaign:n,utm_source:t,hideQrInstructions:r=!0,darkMode:i=!1,abTestingId:a}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:32,padding:32},!isMobile()&&h(Fragment,null,!r&&h(Text.B3,{weight:"semibold"},"Scan the QR code below"),h(FlexBox,{className:css.qrCode,padding:20},h(b5,{utm_campaign:n,utm_source:t,abTestingId:a})),h(r0,{label:"OR"})),h(v5,{utm_campaign:n,utm_source:t,darkMode:i}))}function v5({utm_campaign:n,utm_source:t,darkMode:r=!1}){return h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:n,utm_source:t})},h("img",{src:imginary(r?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:n,utm_source:t})},h("img",{src:imginary(r?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",160*2),height:48})))}function y5({isOpen:n,onClose:t,utm_campaign:r,utm_source:i,abTestingId:a}){return h(Modal,{isOpen:n,onClose:t,width:500},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,null,"Download the Substack app"),h(IconButton,{size:40,onClick:t,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),h(g5,{utm_campaign:r,utm_source:i,abTestingId:a})))}function b5({utm_campaign:n,utm_source:t,abTestingId:r}){const i=useRef(),a=P5({width:240,height:240,type:"svg",data:getAppStoreRedirectUrl({utm_campaign:n,utm_source:t,abti:r}),dotsOptions:{color:"var(--color-primary)",type:"dots"},backgroundOptions:{color:"var(--color-bg-elevated)"},cornersSquareOptions:{color:"var(--color-primary)",type:"extra-rounded"},cornersDotOptions:{color:"var(--color-primary)",type:"rounded"},qrOptions:{errorCorrectionLevel:"L"}});return useEffect(()=>{const{current:D}=i;if(!(!D||typeof window=="undefined"||!a)){for(;D.firstChild;)D.removeChild(D.firstChild);a.append(D)}},[a]),h("div",{ref:i})}function P5(n){const{result:t}=useResource(()=>wt.e(915).then(wt.t.bind(wt,91915,23)),[],{auto:!0});return t!=null&&t.default?new t.default(n):null}var E5=wt(30058),o0=Object.getOwnPropertySymbols,w5=Object.prototype.hasOwnProperty,C5=Object.prototype.propertyIsEnumerable,O5=(n,t)=>{var r={};for(var i in n)w5.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&o0)for(var i of o0(n))t.indexOf(i)<0&&C5.call(n,i)&&(r[i]=n[i]);return r};const ec=n=>{var t=n,{size:r="md",shape:i="circle",badgePosition:a="top-right",badge:D,imageUrl:B,onClick:j,className:U,border:Y}=t,ge=O5(t,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);return(0,e.h)(E5.e,{className:U},(0,e.h)("div",{onClick:j,className:u()("tw-relative","tw-inline-block")},(0,e.h)("img",{className:u()("tw-inline-block","tw-object-cover",i==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":r==="sm","tw-h-8 tw-w-8":r==="md","tw-h-10 tw-w-10":r==="lg","tw-h-[64px] tw-w-[64px]":r==="xl","tw-h-[88px] tw-w-[88px]":r==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":Y},j?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null),src:B?(0,p.imginary)(B):void 0}),D!=null?(0,e.h)("span",{className:u()("tw-absolute",{"tw-top-0 tw-right-0":a==="top-right","tw-top-0 tw-left-0":a==="top-left","tw-bottom-0 tw-right-0":a==="bottom-right","tw-bottom-0 tw-left-0":a==="bottom-left"})},D):null))},Yi={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var S5=Object.defineProperty,tc=Object.getOwnPropertySymbols,i0=Object.prototype.hasOwnProperty,a0=Object.prototype.propertyIsEnumerable,s0=(n,t,r)=>t in n?S5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,T5=(n,t)=>{for(var r in t||(t={}))i0.call(t,r)&&s0(n,r,t[r]);if(tc)for(var r of tc(t))a0.call(t,r)&&s0(n,r,t[r]);return n},I5=(n,t)=>{var r={};for(var i in n)i0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&tc)for(var i of tc(n))t.indexOf(i)<0&&a0.call(n,i)&&(r[i]=n[i]);return r};function nf({children:n,pub:t,user:r,showHeader:i,layoutTop:a}){return(0,e.h)("div",{className:u()(Yi.pageContainer,a?Yi.layoutTop:Yi.layoutCentered)},(0,e.h)("div",{className:Yi.header},i&&t&&r&&(0,e.h)(Fu,{pub:t,user:r,hideSections:!0,hideTitle:!0})),n)}function x5({pub:n,utm_campaign:t}){return(0,e.h)(je.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(c0,{utm_campaign:t}),(0,e.h)(x.xv.B4,{size:12,color:"secondary",className:Yi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,p.getThreadDeepLinkUrl)(n)},"Open now")))}function D5({pub:n,utm_campaign:t}){return(0,e.h)(je.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(d0,{utm_campaign:t}),(0,e.h)(x.xv.B4,{size:12,color:"secondary",className:Yi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,p.getThreadDeepLinkUrl)(n)},"Open now")))}function l0({pub:n,communityAction:t}){var r,i;const a=t?`${t.author.name} started a thread`:`Join ${(0,Vt.possessive)(n.author_name)} subscriber chat `,D=t!=null&&t.communityPost?(r=t.communityPost.body)==null?void 0:r.slice(0,128):`Subscribe to ${n.name} and join the conversation.`,B=((i=t==null?void 0:t.communityPost)==null?void 0:i.type)==="media"&&!!(t!=null&&t.communityPost.media_assets),j=B?t.communityPost.media_assets[0].url:n.logo_url,U=(0,oe.getPublicationChatAppLinkUrl)({pubKey:n.subdomain});return(0,e.h)(e.Fragment,null,(0,T.setMetaData)({title:a,socialTitle:a,description:D,image:j,isLargeImage:B}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Ud()((0,Fd.hd)(n,{name:a,url:U,description:D,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function M5({publication:n,communityAction:t,user:r,showHeader:i}){return(0,e.h)(nf,{pub:n,user:r,showHeader:i},(0,e.h)(je.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(je.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(R5,{publication:n,communityAction:t,publicationAuthor:n.author||{id:n.author_id||0,name:n.author_name||"",photo_url:n.author_photo_url},utm_campaign:"threads-page"}))))}function A5({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:a}){const D=(0,Ni.XA)(),[B,j]=(0,o.eJ)(!D&&a),U="thread-page",Y=(0,e.h)(je.tu,{gap:8},(0,e.h)(t0,{href:(0,oe.getCommunityPostAppLinkUrl)({postId:t.communityPost.id,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:U}),onClick:D?null:ge=>{ge.preventDefault(),j(!0)}},"Open in app"),(0,e.h)(rf,{publication:n,postId:t.communityPost.id,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(nf,{pub:n,user:r,layoutTop:i},(0,e.h)(je.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(je.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(je.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="open"?(0,e.h)(Ym,{communityPost:t.communityPost,author:t.author,withAttribution:!0,extras:D?null:Y,flex:"auto",isReadOnly:!0}):(0,e.h)(je.tu,null,(0,e.h)(Qd,{author:t.author,extras:D?null:Y,commenters:t.communityPost.recent_commenters,count:t.communityPost.comment_count,audience:t.communityPost.audience})))),D&&(0,e.h)(je.tu,{className:Yi.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Y),(0,e.h)(l0,{pub:n,communityAction:t})),(0,e.h)(f0,{utm_campaign:U,isOpen:B,postId:t.communityPost.id,onClose:()=>j(!1),subdomain:n.subdomain}))}function N5({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:a}){var D;const B=(0,Ni.XA)(),[j,U]=(0,o.eJ)(!B&&a),Y="comment-page",ge=(D=t.communityComment.parent_id)!=null?D:t.communityComment.id,Se=t.communityComment.parent_id?t.communityComment.id:void 0,De=t.communityComment.post_id,Fe=(0,e.h)(je.tu,{gap:8},(0,e.h)(t0,{href:(0,oe.getCommunityCommentAppLinkUrl)({commentId:ge,targetReplyId:Se,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:Y}),onClick:B?null:qe=>{qe.preventDefault(),U(!0)}},"Open in app"),(0,e.h)(rf,{publication:n,postId:De,commentId:ge,targetReplyId:Se,showTarget:Se?!0:void 0,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(nf,{pub:n,user:r,layoutTop:i},(0,e.h)(je.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(je.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(je.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="VISIBLE"||!t.status?(0,e.h)(e5,{chatPublicationId:n.id,communityComment:t.communityComment,author:t.author,extras:B?null:Fe,isReadOnly:!0,isBanned:!1,quoteReply:t.quote,chatAuthorNameAttribution:n.author_name,flex:"auto"}):t.status==="PAID_SUBSCRIPTION_REQUIRED"||t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(je.tu,null,(0,e.h)(Qd,{author:t.author,extras:B?null:Fe,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count,audience:t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(je.tu,null,(0,e.h)(ZS,{author:t.author,extras:B?null:Fe,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count})))),B&&(0,e.h)(je.tu,{className:Yi.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Fe)),(0,e.h)(f0,{utm_campaign:Y,isOpen:j,postId:De,commentId:ge,targetReplyId:Se,onClose:()=>U(!1),subdomain:n.subdomain}))}function R5({publication:n,communityAction:t,publicationAuthor:r,noFallback:i,utm_campaign:a}){const D=(0,M.isMobile)(),B=(0,M.isAndroid)();return(0,e.h)(je.tu,{gap:D?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(ec,{imageUrl:(0,p.getUserPhotoUrl)(r),size:"xxl",border:!0,badge:(0,e.h)("div",{className:u()(Yi.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(je.tu,{gap:8},(0,e.h)(x.xv.H2,{size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",(0,Vt.possessive)(r.name||"Substack user")," subscriber chat")),!D&&(0,e.h)("div",{className:Yi.threadsLinkContainer},(0,e.h)(u0,{utm_campaign:a,subdomain:n.subdomain})),D&&(B?(0,e.h)(D5,{pub:n,utm_campaign:a}):(0,e.h)(x5,{pub:n,utm_campaign:a})),(0,e.h)(rf,{publication:n,source:"pub-nav-bar"}),(0,e.h)(l0,{pub:n,communityAction:t}))}function rf({publication:n,source:t,postId:r,commentId:i,targetReplyId:a,showTarget:D,text:B="Or open on web"}){return(0,e.h)("a",{href:(0,oe.getWebChatUrl)({pubId:n.id,postId:r,commentId:i,params:{utm_source:t,targetReplyId:a,showTarget:D}}),className:Yi.webChatLink},(0,e.h)(x.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},B))}function u0({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:a}){return(0,e.h)(je.tu,{gap:24,alignItems:"center"},(0,e.h)(je.hs,{justifyContent:"center"},(0,e.h)(x.xv.B4,{as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(je.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:Yi.qrCode},(0,e.h)(L5,{utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:a})),(0,e.h)(r0,{label:"OR"}),(0,e.h)(je.hs,{gap:16,justifyContent:"center"},(0,e.h)(c0,{utm_campaign:n}),(0,e.h)(d0,{utm_campaign:n})))}function L5({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:a}){const D=(0,o.sO)(),B=i?(0,oe.getCommunityCommentAppLinkUrl)({commentId:i,targetReplyId:a,utm_campaign:n}):t?(0,oe.getCommunityPostAppLinkUrl)({postId:t,utm_campaign:n}):(0,oe.getPublicationChatAppLinkUrl)({pubKey:r,redirect:"app-store",utm_campaign:n});return(0,o.d4)(()=>{const{current:j}=D;j&&CC.toCanvas(j,B,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:D})}function c0({utm_campaign:n}){return(0,e.h)("a",{className:Yi.appBadge,href:(0,p.getAppStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,p.imginary)("/img/app_page/app-store.png",400),height:40}))}function d0({utm_campaign:n}){return(0,e.h)("a",{className:Yi.appBadge,href:(0,p.getPlayStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,p.imginary)("/img/app_page/google-play.png",400),height:40}))}function f0(n){var t=n,{postId:r,utm_campaign:i,subdomain:a,commentId:D,targetReplyId:B}=t,j=I5(t,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);return(0,e.h)(ra.u_,T5({},j),(0,e.h)(ra.xB,{title:"Open in the Substack app",includeClose:!0,onClose:j.onClose,bottomBorder:!0}),(0,e.h)(je.tu,{paddingY:32,paddingX:40},(0,e.h)(u0,{utm_campaign:i,postId:r,subdomain:a,commentId:D,targetReplyId:B})))}var Sl=wt(23237),ri=wt(6378),of=function(){return(of=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)},Tl,Il,af=(0,dt.createContext)(void 0),p0="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",h0="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",B5=function(ge){var t=ge.config,r=ge.version,r=r===void 0?3:r,i=ge.src,i=i===void 0?r===2?p0:h0:i,a=ge.onStartup,D=ge.onLoad,B=ge.onError,j=ge.typesettingOptions,U=ge.renderMode,U=U===void 0?"post":U,Y=ge.hideUntilTypeset,ge=ge.children,De=(0,dt.useContext)(af);if((De==null?void 0:De.version)!==void 0&&(De==null?void 0:De.version)!==r)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(r===2&&Il!==void 0||r===3&&Tl!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var Se=(0,dt.useRef)(De),De=(0,dt.useRef)((De==null?void 0:De.version)||null);if(De.current===null)De.current=r;else if(De.current!==r)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var Fe=i||(r===2?p0:h0);function qe(Ye,st){t&&(window.MathJax=t);var gt=document.createElement("script");gt.type="text/javascript",gt.src=Fe,gt.async=!1,gt.addEventListener("load",function(){var yt=window.MathJax;a&&a(yt),Ye(yt),D&&D()}),gt.addEventListener("error",function(yt){return st(yt)}),document.getElementsByTagName("head")[0].appendChild(gt)}return Se.current===void 0&&(De={typesettingOptions:j,renderMode:U,hideUntilTypeset:Y},r===2?Tl===void 0&&(typeof window!="undefined"?(Tl=new Promise(qe)).catch(function(Ye){if(!B)throw Error("Failed to download MathJax version 2 from '".concat(Fe,"' due to: ").concat(Ye));B(Ye)}):(Tl=Promise.reject()).catch(function(Ye){})):Il===void 0&&(typeof window!="undefined"?(Il=new Promise(qe)).catch(function(Ye){if(!B)throw Error("Failed to download MathJax version 3 from '".concat(Fe,"' due to: ").concat(Ye));B(Ye)}):(Il=Promise.reject()).catch(function(Ye){})),Se.current=of(of({},De),r===2?{version:2,promise:Tl}:{version:3,promise:Il})),dt.default.createElement(af.Provider,{value:Se.current},ge)};const k5=B5;var za=function(){return(za=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)},U5=function(n,t){var r={};for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(n);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(r[a[i]]=n[a[i]]);return r},xl=function(n){return"Typesetting failed: ".concat(n.message!==void 0?n.message:n.toString())},F5=function(n){function t(){var xt;Ye==="every"&&yt&&st==="post"&&Fe.current!==null&&(Fe.current.style.visibility=(xt=(xt=Se.style)==null?void 0:xt.visibility)!=null?xt:"visible"),At.current||(Ye==="first"&&Fe.current!==null&&(Fe.current.style.visibility="visible"),a&&a(),At.current=!0),D&&D(),Bt.current=!1}var i=n.inline,r=i!==void 0&&i,i=n.hideUntilTypeset,a=n.onInitTypeset,D=n.onTypeset,B=n.text,j=n.dynamic,U=n.typesettingOptions,Y=n.renderMode,ge=n.children,Se=U5(n,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),De=(0,dt.useRef)(""),Fe=(0,dt.useRef)(null),qe=(0,dt.useContext)(af),Ye=i!=null?i:qe==null?void 0:qe.hideUntilTypeset,st=Y!=null?Y:qe==null?void 0:qe.renderMode,gt=U!=null?U:qe==null?void 0:qe.typesettingOptions,yt=j!==!1&&(j||!1),At=(0,dt.useRef)(!1),Bt=(0,dt.useRef)(!1);return!Bt.current&&Fe.current!==null&&yt&&Ye==="every"&&st==="post"&&(Fe.current.style.visibility="hidden"),(typeof window!="undefined"?dt.useLayoutEffect:dt.useEffect)(function(){if((yt||!At.current)&&Fe.current!==null){if(!qe)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(st==="pre"){if(!(typeof(xt=B)=="string"&&0<xt.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(B,'"'));if(!U||!U.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(qe.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}st!=="post"&&B===De.current||Bt.current||(Bt.current=!0,qe.version===3?qe.promise.then(function(Ht){var en;st==="pre"?(en=function(Xt){De.current=B,Ht.startup.document.clear(),Ht.startup.document.updateDocument(),Fe.current!==null&&(Fe.current.innerHTML=Xt.outerHTML),t()},U.fn.endsWith("Promise")?Ht.startup.promise.then(function(){return Ht[gt.fn](B,za(za({},(gt==null?void 0:gt.options)||{}),{display:!r}))}).then(en).catch(function(Xt){throw t(),Error(xl(Xt))}):Ht.startup.promise.then(function(){var Xt=Ht[gt.fn](B,za(za({},(gt==null?void 0:gt.options)||{}),{display:!r}));en(Xt)}).catch(function(Xt){throw t(),Error(xl(Xt))})):Ht.startup.promise.then(function(){return Ht.typesetClear([Fe.current]),Ht.typesetPromise([Fe.current])}).then(t).catch(function(Xt){throw t(),Error(xl(Xt))})}).catch(function(Ht){throw t(),Error(xl(Ht))}):qe.promise.then(function(Ht){Ht.Hub.Queue(["Typeset",Ht.Hub,Fe.current]),Ht.Hub.Queue(t)}).catch(function(Ht){throw t(),Error(xl(Ht))}))}var xt}),dt.default.createElement("span",za({},Se,{style:za(za({display:r?"inline":"block"},Se.style),{visibility:Ye?"hidden":(n=Se.style)==null?void 0:n.visibility}),ref:Fe}),ge)};const j5=F5;var Ei=wt(82626),W5=wt(42395),wi=wt.n(W5),Xr=wt(18492);const $s={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function H5({pub:n,subdomain:t}){const{iString:r}=(0,P.M1)();return(0,e.h)(je.tu,{className:$s.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:sf(t),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)(ec,{size:"xl",imageUrl:(0,oe.imginary)(n.author_photo_url),border:!0}),(0,e.h)(je.tu,{gap:4,alignItems:"center"},(0,e.h)(x.xv.H3,{translated:!0,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(x.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(je.tu,{alignSelf:"stretch"},(0,e.h)(ft.zx,{priority:"primary-theme",href:sf(t)},r("Join chat"))))}function V5({pub:n,subdomain:t}){const{iString:r}=(0,P.M1)();return(0,e.h)("a",{className:$s.emailWrapper,href:sf(t),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:$s.container},(0,e.h)(Xr.NS,{size:64,src:(0,oe.imginary)(n.author_photo_url),framed:!0}),(0,e.h)("div",{className:$s.text},(0,e.h)(x.xv.H3,{translated:!0,className:$s.title,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(x.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(Xr.Bj,{tableClassName:$s.button},r("Join chat"))))}function sf(n){return(0,oe.getPublicationChatAppLinkUrl)({pubKey:n,utm_source:"chat_embed"})}const nc={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var K5=Object.defineProperty,m0=Object.getOwnPropertySymbols,$5=Object.prototype.hasOwnProperty,z5=Object.prototype.propertyIsEnumerable,_0=(n,t,r)=>t in n?K5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,G5=(n,t)=>{for(var r in t||(t={}))$5.call(t,r)&&_0(n,r,t[r]);if(m0)for(var r of m0(t))z5.call(t,r)&&_0(n,r,t[r]);return n};function Z5({communityPost:n,is_freemail:t,author:r,cta:i,withAttribution:a,attributionText:D,hideReply:B,truncateBodyAt:j}){const U=!n||t&&n.audience==="only_paid";let Y=null;return!U&&n.body&&(Y=j?(0,Vt.truncateText)(n.body,j):n.body),(0,e.h)(Xr.zK,{gap:12,verticalAlign:"top"},(0,e.h)(Xr.NS,{src:r.photo_url,size:40}),(0,e.h)(Xr.i$,{gap:4,style:{lineHeight:0}},a&&(0,e.h)(tf,{isStatic:!0,text:D||`From ${r.name?(0,Vt.possessive)(r.name):"Substack user"} subscriber chat`}),U?(0,e.h)(Y5,null):[n.type==="media"&&n.media_assets?n.media_assets.slice(0,1).map(ge=>(0,e.h)(J5,{key:ge.url,asset:ge})):n.type==="link"&&(0,e.h)(X5,{communityPost:n}),Y&&(0,e.h)(lf,null,(0,e.h)("span",null,(0,e.h)(x.Zx,{weight:"bold"},r.name)," ",Y))],!B&&(0,e.h)(lf,null,(0,e.h)(Xr.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(x.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(gl.Z,{size:20,stroke:"var(--color-secondary}"}))))),i&&(0,e.h)(Xr.b9,{fullWidth:!0,href:i.url},i.text),i&&i.blurb&&(0,e.h)("div",null,(0,e.h)(x.xv,{color:"secondary",align:"center",size:14,lineHeight:20},i.blurb))))}function lf(n){return(0,e.h)("div",G5({className:nc.bubble},n))}function Y5(){return(0,e.h)("div",{className:nc.paywallBubble,style:{backgroundImage:`url(${(0,oe.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(x.xv.Meta,null,"SUBSCRIBERS ONLY"))}function J5({asset:n}){return(0,e.h)("img",{className:nc.img,width:400,src:(0,oe.imginary)(n.url,400*2,{crop:"limit",height:400*2})})}function X5({communityPost:n}){var t,r;const{link_metadata:i,link_url:a}=n,D=(r=(t=i==null?void 0:i.url)!=null?t:a)!=null?r:"";let B;try{const j=new URL(D);B=`${j.host}${j.pathname}${j.search}${j.hash}`}catch(j){B=D}return(0,e.h)(lf,null,(0,e.h)(Xr.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(i==null?void 0:i.title)&&(0,e.h)(x.xv,{font:"serif",lineHeight:24},i.title),(0,e.h)(x.xv.Meta,{color:"secondary"},B)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(i==null?void 0:i.image)&&(0,e.h)("img",{className:nc.linkImg,src:(0,oe.imginary)(i.image,72*2,{height:72*2,smartCrop:!0})})))))}function EK({utm_campaign:n,utm_source:t,style:r}){const i="Chat is a place to hang out with your favorite writers. Every week we\u2019ll send a roundup of Chats you missed from writers you subscribe to.",a=getGlobalAccountSettingsUrl({utm_source:t,section:"notifications",highlightNotification:null}),D=getChatAppLinkUrl({utm_source:t,utm_campaign:n});return h(Box,{padding:12,border:"detail",bg:"secondary",radius:12,style:r},h(Text.H3,null,"Why am I getting this?"),h(Text.B4,{size:14,color:"secondary",style:{marginTop:8}},i,h("br",null),h("br",null),"You can change your notification settings on web ",h("a",{href:a}," here"),"."),h(EmailHStack,{gap:8,style:{marginTop:20}},h(ThemedEmailButtonMod,{priority:"primary",href:D},"Open App"),h(ThemedEmailButtonMod,{priority:"secondary",href:a},"Visit Settings")))}const uf={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var Q5=Object.defineProperty,q5=Object.defineProperties,eT=Object.getOwnPropertyDescriptors,g0=Object.getOwnPropertySymbols,tT=Object.prototype.hasOwnProperty,nT=Object.prototype.propertyIsEnumerable,v0=(n,t,r)=>t in n?Q5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rT=(n,t)=>{for(var r in t||(t={}))tT.call(t,r)&&v0(n,r,t[r]);if(g0)for(var r of g0(t))nT.call(t,r)&&v0(n,r,t[r]);return n},oT=(n,t)=>q5(n,eT(t));function iT({postId:n}){var t;const{isLoading:r,error:i,result:a}=(0,Ut.ib)({pathname:`/api/v1/community/posts/${n}`,auto:!0,deps:[n]}),D=i instanceof Ut.kp&&i.response.status===402&&((t=i.body)==null?void 0:t.status)==="PAID_SUBSCRIPTION_REQUIRED"?i.body:null;return(0,e.h)(je.hs,{as:"a",className:uf.container,target:"_blank",href:(0,oe.getCommunityPostAppLinkUrl)({postId:n,utm_source:"thread_embed"}),"data-component-name":"CommunityPostEmbed"},D?(0,e.h)(Qd,{author:D.user}):i?"Error":a&&(0,e.h)(Ym,{author:a.user,communityPost:a.communityPost,withAttribution:!0,isReadOnly:!0}))}function aT(n){const{postId:t}=n;return(0,e.h)("a",{className:uf.emailWrapper,href:(0,oe.getCommunityPostAppLinkUrl)({postId:t,utm_source:"thread_embed",modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:uf.container},(0,e.h)(Z5,oT(rT({},n),{withAttribution:!0}))))}var sT=wt(31131),y0=wt(81470),Dl=wt(31517),b0=wt(26240),P0=wt(65024),lT=wt(224),rc=wt(50670),uT=wt(4070),cT=wt(6742),E0=wt(41474),w0=wt(55687);const cf={container:"frontend-feed-CommentEmbed-module__container--IBfEM",note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function dT({commentId:n}){const{isLoading:t,error:r,result:i}=(0,Ut.ib)({pathname:`/api/v1/reader/comment/${n}`,auto:!0,deps:[n]});return r instanceof Ut.kp?r.getMessage():!i||t?(0,e.h)(pT,null):(0,e.h)(fT,{feedItem:i.item})}function fT({feedItem:n}){var t,r,i,a,D;const{comment:B,parentComments:j}=n,{truncatedBodyJson:U}=(0,uT.Z)(B),Y=j[j.length-1],ge=(t=B.attachments)==null?void 0:t.find(Fe=>Fe.type!=="image"),Se=(r=B.attachments)==null?void 0:r.filter(Fe=>Fe.type==="image"),De=(0,o.sO)(null);return(0,cT.UM)(De,()=>(0,E0.zi)(n,y0.Uo.PostEmbed),{threshold:.2}),(0,e.h)(je.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:cf.container},(0,e.h)(Bu.h,null,(0,e.h)(je.hs,{as:"a",target:"_blank",href:(0,oe.getFeedCommentUrl)(B),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:cf.note,ref:De},(0,e.h)(je.hs,{flex:"auto"},(0,e.h)(rc.Zb,{user:B})),(0,e.h)(je.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(je.tu,{minWidth:0,flex:"grow"},(0,e.h)(rc.KF,null,(0,e.h)(x.Zx,{weight:"semibold"},B.name),(0,e.h)(co.o,{tier:B.user_bestseller_tier}),(0,e.h)(rc.Ku,{timestamp:B.date})),Y&&(0,e.h)(x.xv.Detail,null,"Replying to ",Y.name),(0,e.h)(je.tu,{gap:12,flex:"grow"},(0,e.h)(rc.sP,null,U&&(0,e.h)(lT.x,{content:U})),(0,e.h)(P0.y,{attachments:ge?[ge]:Se||[],readOnly:!0,onAttachmentClick:({commentId:Fe}={})=>(0,E0.rw)(n,y0.Uo.PostEmbed,"attachment",{extraEventProps:{commentId:Fe}}),utm_content:n.entity_key}))),(0,e.h)(je.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(oc,{icon:(0,e.h)(Td.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(i=B.reaction_count)!=null?i:0}),(0,e.h)(oc,{icon:(0,e.h)(b0.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(a=B.children_count)!=null?a:0}),(0,e.h)(oc,{icon:(0,e.h)(Dl.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(D=B.restacks)!=null?D:0}),(0,e.h)(oc,{icon:(0,e.h)(sT.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function oc({icon:n,count:t}){return(0,e.h)(je.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},n,(0,e.h)(x.xv.Digit,{color:"secondary"},t>0&&(0,w0.u)(t)))}function pT(){return(0,e.h)(Bu.h,null,(0,e.h)(je.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(je.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:cf.note},(0,e.h)(Ha.Vm,{type:"circle",size:48}),(0,e.h)(je.tu,{gap:12,flex:"grow"},(0,e.h)(Ha.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ha.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ha.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ha.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var hT=Object.defineProperty,mT=Object.defineProperties,_T=Object.getOwnPropertyDescriptors,C0=Object.getOwnPropertySymbols,gT=Object.prototype.hasOwnProperty,vT=Object.prototype.propertyIsEnumerable,O0=(n,t,r)=>t in n?hT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,yT=(n,t)=>{for(var r in t||(t={}))gT.call(t,r)&&O0(n,r,t[r]);if(C0)for(var r of C0(t))vT.call(t,r)&&O0(n,r,t[r]);return n},bT=(n,t)=>mT(n,_T(t));const PT=n=>(0,e.h)(k.l,bT(yT({},n),{name:"MoreIcon",svgParams:{height:24,width:24,fill:n.fill,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var zs=wt(84606);function CK({item:n,utmSource:t}){const{comment:r}=n;return h(S0,{comment:r,utmSource:t})}function S0({comment:n,utmSource:t}){var r,i,a,D,B,j,U,Y;const ge=(r=n.attachments)==null?void 0:r.find(Ye=>Ye.type==="image"),Se=(i=n.attachments)==null?void 0:i.find(Ye=>Ye.type==="post"),De=Se==null?void 0:Se.postSelection,Fe=(a=n.attachments)==null?void 0:a.find(Ye=>Ye.type!=="image"),qe=Fe&&(0,P0.k)(Fe);return(0,e.h)(zs.xu,{as:"a",href:(0,oe.getFeedCommentUrl)(n,{urlParams:{utm_source:t}}),padding:16,radius:12,border:"detail",style:{textDecoration:"none",display:"block",minWidth:"410px"},"data-component-name":"EmailCommentEmbed"},(0,e.h)(Xr.zK,{style:{width:"100%"},verticalAlign:"top",gap:12},(0,e.h)(Xr.NS,{src:(B=n.photo_url)!=null?B:(0,p.getDefaultUserPhotoById)((D=n.user_id)!=null?D:0),size:48}),(0,e.h)(Xr.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(zs.xu,null,(0,e.h)(x.xv.B3,null,(0,e.h)(x.Zx,{weight:"semibold"},n.name)," ",(0,e.h)(x.Zx,{color:"secondary"},Mt()(n.date).fromNowShort())),(0,e.h)(x.xv.B3,null,(0,Vt.truncateWords)(n.body,420))),Se&&De&&(0,e.h)(x.xv.B3,null,(0,e.h)(ET,{attachment:Se,selection:De})),qe&&!Se&&(0,e.h)(x.xv.B4,{color:"accent-blue"},qe),ge&&(0,e.h)(wT,{attachment:ge}),(0,e.h)(Xr.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(Td.Z,{width:16,height:16,strokeWidth:1.5,stroke:Ml,style:ic,fill:"none",isStatic:!0}),(0,e.h)(df,{count:(j=n.reaction_count)!=null?j:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(b0.Z,{height:16,width:16,strokeWidth:1.5,stroke:Ml,style:ic,isStatic:!0}),(0,e.h)(df,{count:(U=n.children_count)!=null?U:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(Dl.Z,{height:16,width:16,strokeWidth:1.5,stroke:Ml,style:ic,isStatic:!0}),(0,e.h)(df,{count:(Y=n.restacks)!=null?Y:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(PT,{height:16,width:16,strokeWidth:2,stroke:Ml,fill:Ml,style:ic,isStatic:!0})))))))}const ic={display:"inline-block",verticalAlign:"middle"};function df({count:n}){return(0,e.h)(x.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},n>0?(0,w0.u)(n):" ")}const Ml="#808080";function ET({attachment:n,selection:t}){return(0,e.h)(zs.xu,{padding:12,radius:12,bg:"secondary"},(0,e.h)(x.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},(0,Vt.truncateWords)(t.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014 ",(0,sr.getPostAuthor)(n.publication,n.post).name))}function wT({attachment:n}){return(0,e.h)(zs.xu,{as:"img",src:(0,oe.imginary)(n.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:12,style:{maxHeight:600,objectFit:"cover",margin:0}})}const CT=(0,Po.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Gs={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},OT=({avatarUrl:n,name:t,url:r})=>{const{iString:i}=(0,P.M1)();return(0,e.h)(Xr.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(Xr.zK,{gap:12},(0,e.h)(Xr.NS,{src:n,size:40}),(0,e.h)(Xr.i$,null,(0,e.h)(x.xv.H4,{translated:!0,size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(t)),(0,e.h)(x.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(Xr.Bj,{tableClassName:Gs.emailButton,href:r},i("Book meeting")))},ST=({avatarUrl:n,name:t,url:r})=>{const{iString:i}=(0,P.M1)();return(0,e.h)(je.hs,{direction:{mobile:"column",desktop:"row"},radius:12,padding:24,alignItems:"center",className:Gs.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(je.gq,{className:Gs.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)(ec,{className:Gs.avatar,imageUrl:n,size:"lg",badge:(0,e.h)("div",{className:Gs.badge},(0,e.h)(CT,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(x.xv.H4,{translated:!0,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(t)),(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(ft.zx,{className:Gs.cta,priority:"primary-theme",onClick:()=>{(0,T.redirect)(r,{newTab:!0})}},i("Book meeting")))};var TT=Object.defineProperty,IT=Object.defineProperties,xT=Object.getOwnPropertyDescriptors,T0=Object.getOwnPropertySymbols,DT=Object.prototype.hasOwnProperty,MT=Object.prototype.propertyIsEnumerable,I0=(n,t,r)=>t in n?TT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AT=(n,t)=>{for(var r in t||(t={}))DT.call(t,r)&&I0(n,r,t[r]);if(T0)for(var r of T0(t))MT.call(t,r)&&I0(n,r,t[r]);return n},NT=(n,t)=>IT(n,xT(t));const ff=n=>(0,e.h)(k.l,NT(AT({},n),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}));var RT=Object.defineProperty,LT=Object.defineProperties,BT=Object.getOwnPropertyDescriptors,x0=Object.getOwnPropertySymbols,kT=Object.prototype.hasOwnProperty,UT=Object.prototype.propertyIsEnumerable,D0=(n,t,r)=>t in n?RT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FT=(n,t)=>{for(var r in t||(t={}))kT.call(t,r)&&D0(n,r,t[r]);if(x0)for(var r of x0(t))UT.call(t,r)&&D0(n,r,t[r]);return n},jT=(n,t)=>LT(n,BT(t));const pf=n=>(0,e.h)(k.l,jT(FT({},n),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}));var WT=Object.defineProperty,HT=Object.defineProperties,VT=Object.getOwnPropertyDescriptors,ac=Object.getOwnPropertySymbols,M0=Object.prototype.hasOwnProperty,A0=Object.prototype.propertyIsEnumerable,N0=(n,t,r)=>t in n?WT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,KT=(n,t)=>{for(var r in t||(t={}))M0.call(t,r)&&N0(n,r,t[r]);if(ac)for(var r of ac(t))A0.call(t,r)&&N0(n,r,t[r]);return n},$T=(n,t)=>HT(n,VT(t)),zT=(n,t)=>{var r={};for(var i in n)M0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ac)for(var i of ac(n))t.indexOf(i)<0&&A0.call(n,i)&&(r[i]=n[i]);return r};const GT=n=>{var t=n,{fill:r="white"}=t,i=zT(t,["fill"]);return(0,e.h)(k.l,$T(KT({},i),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,e.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))};var ZT=Object.defineProperty,YT=Object.defineProperties,JT=Object.getOwnPropertyDescriptors,sc=Object.getOwnPropertySymbols,R0=Object.prototype.hasOwnProperty,L0=Object.prototype.propertyIsEnumerable,B0=(n,t,r)=>t in n?ZT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,XT=(n,t)=>{for(var r in t||(t={}))R0.call(t,r)&&B0(n,r,t[r]);if(sc)for(var r of sc(t))L0.call(t,r)&&B0(n,r,t[r]);return n},QT=(n,t)=>YT(n,JT(t)),qT=(n,t)=>{var r={};for(var i in n)R0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&sc)for(var i of sc(n))t.indexOf(i)<0&&L0.call(n,i)&&(r[i]=n[i]);return r};const eI=n=>{var t=n,{fill:r="white"}=t,i=qT(t,["fill"]);return(0,e.h)(k.l,QT(XT({},i),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};var tI=Object.defineProperty,nI=Object.defineProperties,rI=Object.getOwnPropertyDescriptors,k0=Object.getOwnPropertySymbols,oI=Object.prototype.hasOwnProperty,iI=Object.prototype.propertyIsEnumerable,hf=(n,t,r)=>t in n?tI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,aI=(n,t)=>{for(var r in t||(t={}))oI.call(t,r)&&hf(n,r,t[r]);if(k0)for(var r of k0(t))iI.call(t,r)&&hf(n,r,t[r]);return n},sI=(n,t)=>nI(n,rI(t)),mf=(n,t,r)=>(hf(n,typeof t!="symbol"?t+"":t,r),r),lI=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const U0="AudioPlayer.playbackRate",uI=5,F0={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class cI extends e.Component{constructor(t){super(t)}shouldComponentUpdate(t){return this.props.currentPlaybackRate!==t.currentPlaybackRate||this.props.setPlaybackRate!==t.setPlaybackRate}render(){const{currentPlaybackRate:t,setPlaybackRate:r}=this.props;return(0,e.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:i=>r(Number(i.target.value))},(0,e.h)("option",{value:"1",selected:t===1},"1x"),(0,e.h)("option",{value:"1.25",selected:t===1.25},"1.25x"),(0,e.h)("option",{value:"1.5",selected:t===1.5},"1.5x"),(0,e.h)("option",{value:"1.75",selected:t===1.75},"1.75x"),(0,e.h)("option",{value:"2",selected:t===2},"2x"))}}class lc extends e.Component{constructor(t,r){super(t,r),mf(this,"setPlaybackRate",i=>{this.state.playbackRate!==i&&(this.player&&(this.player.playbackRate=i),this.setState({playbackRate:i}),(0,Li.ex)(U0,i))}),mf(this,"maybeAppendIframeVisitId",i=>{var a;const D=(a=(0,C.A)())==null?void 0:a.id;return D&&(i=(0,p.updateQuery)(i,{src_iid:D})),i}),mf(this,"openEpisodePage",()=>{let i=this.props.post.canonical_url;i=this.maybeAppendIframeVisitId(i),i=(0,p.updateQuery)(i,F0),window.open(i,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:t.playbackRate||(0,Li.mM)(U0,1),currentTime:0,waiting:!0,duration:t.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var t,r;(t=T.globalPlaybackNotifier)==null||t.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((r=this.player)==null?void 0:r.duration)&&this.props.onGetDuration(this.player.duration),(0,T.preloadImage)((0,p.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var t;(t=T.globalPlaybackNotifier)==null||t.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(t,r){!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"&&this.track(C.FP.AUDIO_BUFFERING_STARTED),this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(C.FP.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%uI===0&&this.track(C.FP.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&r.playing&&this.player&&this.player.ended&&this.track(C.FP.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var t;(t=T.globalPlaybackNotifier)==null||t.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(t){this.onDragStart(t.clientX)}onMouseMove(t){this.onDragMove(t.clientX)}onTouchStart(t){t.touches&&t.touches.length>0&&this.onDragStart(t.touches[0].pageX)}onTouchMove(t){typeof this.state.dragTime=="number"&&t.preventDefault(),t.touches&&t.touches.length>0&&this.onDragMove(t.touches[0].pageX)}onDragStart(t){typeof this.state.dragTime!="number"&&this.setDragTime(t)}onDragMove(t){typeof this.state.dragTime=="number"&&this.setDragTime(t)}onDragEnd(){this.clearDragTime()}onUnload(t){this.state.playing&&(t.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(t){this!==t&&this.player&&(this.track(C.FP.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return lI(this,null,function*(){if(this.player)if(this.player.paused){this.track(C.FP.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(t){if(t.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw t}}else this.track(C.FP.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const t=Math.max(0,this.state.currentTime-15);this.track(C.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}skipForward(){if(this.player){const t=Math.min(this.state.duration,this.state.currentTime+30);this.track(C.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}setDragTime(t){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const r=document.body.getBoundingClientRect(),i=this.progressBar.getBoundingClientRect(),a=i.left-r.left,D=i.right;let j=(Math.max(a,Math.min(D,t))-a)/(D-a)*this.state.duration;this.isDragTimeCloseToCurrentTime(j)&&(j=this.state.currentTime),this.setState({dragTime:j})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const t=this.state.dragTime;this.track(C.FP.SEEKED_AUDIO,{new_time:t,source:"slider"}),this.isDragTimeCloseToCurrentTime(t)?this.setState({dragTime:null}):(this.setState({currentTime:t,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=t))}isDragTimeCloseToCurrentTime(t){if(typeof this.state.currentTime!="number")return!1;let r;return this.state.duration<10?r=0:this.state.duration<30?r=3:r=5,Math.abs(this.state.currentTime-t)<r}track(t,r={}){const i=this.props.metricsPost;i&&(0,C.j)(t,Object.assign({post_id:i.id,publication_id:i.publication_id,is_podcast_free_preview:(0,ri.podcastPostIsFreePreview)(i),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},r))}render({src:t,autoPlay:r,pub:i,post:a,isFancy:D,showCTAs:B,metricsPost:j,addToPodcastLink:U,isPaywalled:Y,render:ge}){if(ge){const{dragTime:Se,duration:De,currentTime:Fe,playbackRate:qe}=this.state;return(0,e.h)(e.Fragment,null,ge({isPaywalled:Y,progress:De?(typeof Se=="number"?Se:Fe)/De:0,currentTime:De?(0,Vt.secondsToHHMMSS)(Fe):"--:--",remainingTime:De?`-${(0,Vt.secondsToHHMMSS)(De-Math.min(Fe,De))}`:"--:--",isPlaying:this.state.playing,playbackRate:qe,progressBarOnMouseDown:Ye=>{this.onMouseDown(Ye)},progressBarRef:Ye=>{this.progressBar=Ye},setPlaybackRate:Ye=>{this.setPlaybackRate(Ye)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),t&&!Y&&(0,e.h)("audio",{ref:Ye=>{this.player=Ye},src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."))}return D?this.renderFancy({src:t,autoPlay:r,pub:i,post:a,metricsPost:j,showCTAs:B}):this.renderOriginal({src:t,autoPlay:r,pub:i,metricsPost:j,addToPodcastLink:U})}renderFancy({src:t,autoPlay:r,pub:i,post:a,showCTAs:D}){const B=(0,T.getPodcastEpisodeImageUrl)(i,a);return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-wrapper-fancy"},(0,e.h)("div",{className:"audio-player"},(0,e.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,e.h)(ae.Z,{color:"#F8F8F8"})),(0,e.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},B&&(0,e.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,p.imginary)(B,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,e.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},a.title),(0,e.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},a.subtitle),t&&(0,e.h)("audio",{"data-testid":"audio-element",ref:j=>this.player=j,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),D&&(0,e.h)("div",{className:"btn-group"},(0,e.h)(Je.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),(0,e.h)(Je.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,p.getSubscribeUrl)(i,sI(aI({},F0),{simple:!0,next:(0,p.getPostUrl)(i,a)}))),newTab:!0},(0,Vt.getSubscribeText)(i))))))}renderOriginal({src:t,autoPlay:r,pub:i,addToPodcastLink:a}){return(0,e.h)("div",{className:"audio-player-wrapper"},(0,e.h)("div",{className:"audio-player"},t&&(0,e.h)("audio",{ref:D=>this.player=D,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),a&&!i.hide_podcast_feed_link&&(0,e.h)("div",{className:"audio-player-add-to-podcast-link",href:a},(0,e.h)("a",{href:a,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:t,href:r},{playing:i,waiting:a,playbackRate:D}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,e.h)(ff,{className:"skip-icon"})),(0,e.h)("button",{className:u()("audio-player-play",{pause:"playing",waiting:a}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},i?(0,e.h)(GT,{className:"playback-icon pause",fill:"#1C110B"}):(0,e.h)(eI,{className:"playback-icon play",fill:"#1C110B"})),(0,e.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,e.h)(pf,{className:"skip-icon"})))}renderButtons({src:t,href:r,isStatic:i},{playing:a,waiting:D,playbackRate:B}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,e.h)("td",{className:"audio-player-backward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipBack()},(0,e.h)(ff,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:`audio-player-play ${a?"pause":""} ${D?"waiting":""}`},(0,e.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,e.h)("img",{src:(0,p.imginary)(a?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,e.h)("td",{className:"audio-player-forward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipForward()},(0,e.h)(pf,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),t&&(0,e.h)(cI,{currentPlaybackRate:B,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:t,currentTime:r,dragTime:i}){return(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-progress-past"},t?(0,Vt.secondsToHHMMSS)(r):"--:--"),(0,e.h)("td",{ref:a=>this.progressBar=a,className:"audio-player-progress-bar",onMouseDown:a=>this.onMouseDown(a)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${t?100*(typeof i=="number"?i:r)/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-current",style:`left:${t?100*r/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-button",style:`left:${t?100*(typeof i=="number"?i:r)/t:0}%`}),typeof i=="number"&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,Vt.secondsToHHMMSS)(i))),(0,e.h)("td",{className:"audio-player-progress-left"},t?`-${(0,Vt.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--"))))}renderProgressFancy({},{duration:t,currentTime:r,dragTime:i,lastDragClearedAt:a}){const D=typeof i=="number",B=a?performance.now()-a<50:!1;return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("div",{ref:j=>this.progressBar=j,className:"audio-player-progress-bar",onMouseDown:j=>this.onMouseDown(j)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${t?100*(D?i:r)/t:0}%`}}),(0,e.h)("div",{className:u()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":D,"audio-player-progress-bar-current-disable-animations":B}),style:`left:${t?100*r/t:0}%`}),D&&(0,e.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${t?100*i/t:0}%`}),D&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,Vt.secondsToHHMMSS)(i)))),(0,e.h)("div",{className:"audio-player-time-wrapper"},(0,e.h)("div",{className:"audio-player-progress-past"},t?(0,Vt.secondsToHHMMSS)(r):"--:--"),(0,e.h)("div",{className:"audio-player-progress-left"},t?`-${(0,Vt.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--")))}}var dI=Object.defineProperty,fI=Object.defineProperties,pI=Object.getOwnPropertyDescriptors,j0=Object.getOwnPropertySymbols,hI=Object.prototype.hasOwnProperty,mI=Object.prototype.propertyIsEnumerable,W0=(n,t,r)=>t in n?dI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_I=(n,t)=>{for(var r in t||(t={}))hI.call(t,r)&&W0(n,r,t[r]);if(j0)for(var r of j0(t))mI.call(t,r)&&W0(n,r,t[r]);return n},gI=(n,t)=>fI(n,pI(t));const vI=n=>(0,e.h)(k.l,gI(_I({},n),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var yI=Object.defineProperty,bI=Object.defineProperties,PI=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,EI=Object.prototype.hasOwnProperty,wI=Object.prototype.propertyIsEnumerable,V0=(n,t,r)=>t in n?yI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,CI=(n,t)=>{for(var r in t||(t={}))EI.call(t,r)&&V0(n,r,t[r]);if(H0)for(var r of H0(t))wI.call(t,r)&&V0(n,r,t[r]);return n},OI=(n,t)=>bI(n,PI(t));const Al=n=>(0,e.h)(k.l,OI(CI({},n),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,e.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}));var SI=Object.defineProperty,TI=Object.defineProperties,II=Object.getOwnPropertyDescriptors,K0=Object.getOwnPropertySymbols,xI=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable,$0=(n,t,r)=>t in n?SI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,MI=(n,t)=>{for(var r in t||(t={}))xI.call(t,r)&&$0(n,r,t[r]);if(K0)for(var r of K0(t))DI.call(t,r)&&$0(n,r,t[r]);return n},AI=(n,t)=>TI(n,II(t));const NI=n=>(0,e.h)(k.l,AI(MI({},n),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),RI={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var LI=Object.defineProperty,BI=Object.defineProperties,kI=Object.getOwnPropertyDescriptors,z0=Object.getOwnPropertySymbols,UI=Object.prototype.hasOwnProperty,FI=Object.prototype.propertyIsEnumerable,G0=(n,t,r)=>t in n?LI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Z0=(n,t)=>{for(var r in t||(t={}))UI.call(t,r)&&G0(n,r,t[r]);if(z0)for(var r of z0(t))FI.call(t,r)&&G0(n,r,t[r]);return n},Y0=(n,t)=>BI(n,kI(t)),jI=(n=>(n.Embed="Embed audio",n.Voiceover="Add voiceover",n.Podcast="Podcast",n.PodcastPreview="Podcast free version",n))(jI||{}),WI=(n=>(n.Embed="Upload or record an audio file embedded into the text.",n.Voiceover="Upload or record a new voiceover: an audio version of your post.",n.Podcast="Create a new podcast episode by uploading or recording an audio file.",n.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",n))(WI||{}),HI=(n=>(n[n.PubAccent=0]="PubAccent",n[n.PubFull=1]="PubFull",n[n.Substack=2]="Substack",n))(HI||{});const _f=({containerRef:n,currentTime:t,remainingTime:r,progress:i,onMouseDown:a,shouldCollapseOnMobile:D=!1,theme:B=1})=>(0,e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,e.h)("div",{className:u()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":D})},t),(0,e.h)("div",{ref:n,className:u()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":D}),onMouseDown:a},(0,e.h)("div",{className:u()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":B===1,"tw-bg-substack-detail":B!==1})}),(0,e.h)("div",{className:u()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":B!==2,"tw-bg-substack-accent":B===2}),style:{width:`${i*100}%`}}),(0,e.h)("div",{className:u()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":B===1,"tw-border-substack-bg":B!==1,"tw-bg-substack-accent":B===2,"tw-bg-pub-accent":B!==2}),style:{left:`${i*100}%`}})),(0,e.h)("div",{className:"tw-min-w-[40px]"},r)),uc=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],gf=({onSetPlaybackRate:n,playbackRate:t,className:r})=>{const i=uc.findIndex(({value:a})=>a===t);return(0,e.h)("div",{onClick:()=>{const a=(i+1)%uc.length;n(uc[a].value)},className:r},uc[i].display,"\xD7")},AK=({togglePlayback:n,isPlaying:t,isDisabled:r=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:r}),r||n()},className:"tw-flex tw-justify-center tw-pb-8"},t?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!r,"tw-fill-pub-accent":!r,"tw-fill-substack-detail":r}),stroke:"none",height:28})),VI=({isPlaying:n,onSkipBack:t,onSkipForward:r,onTogglePlayback:i})=>(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},t&&(0,e.h)("div",{onClick:t,role:"button",className:"tw-cursor-pointer"},(0,e.h)(ff,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,e.h)("div",{className:u()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:i,role:"button"},n?(0,e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,e.h)(Al,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),r&&(0,e.h)("div",{onClick:r,role:"button",className:"tw-cursor-pointer"},(0,e.h)(pf,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),J0=n=>(0,e.h)(lc,Y0(Z0({},n),{metricsPost:n.post,feature:"Embed audio",render:({currentTime:t,isPlaying:r,progress:i,progressBarRef:a,progressBarOnMouseDown:D,remainingTime:B,playbackRate:j,setPlaybackRate:U,togglePlayback:Y})=>(0,e.h)("div",{"data-component-name":"AudioEmbedPlayer","data-drag-handle":"",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,e.h)(gf,{onSetPlaybackRate:U,playbackRate:j,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},n.label&&(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},n.label),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,e.h)(_f,{currentTime:t,remainingTime:B,containerRef:a,progress:i,onMouseDown:D}))),(0,e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Y,role:"button"},r?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Al,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),X0=({pub:n,post:t,duration:r,label:i})=>{var a;const{iString:D}=(0,P.M1)();return(0,e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,e.h)("tr",null,(0,e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,e.h)("a",{href:t.canonical_url,className:u()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",RI.noUnderline)},(0,e.h)(vI,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(a=n.theme)==null?void 0:a.background_pop_color,isStatic:!0}),(0,e.h)("span",{className:"tw-align-middle"},(0,Vt.truncateText)(i,10)||D("Listen now")," \xB7 ",(0,Vt.secondsToHHMMSS)(r))))))},KI=n=>{const t=(0,zt.useMediaQuery)({maxWidth:631}),r=`/api/v1/audio/upload/${n.mediaUploadId}/src`,{iString:i,iTemplate:a}=(0,P.M1)();return(0,e.h)(lc,Y0(Z0({},n),{src:r,feature:"Add voiceover",metricsPost:n.post,render:({isPaywalled:D,currentTime:B,isPlaying:j,progress:U,progressBarRef:Y,progressBarOnMouseDown:ge,remainingTime:Se,playbackRate:De,setPlaybackRate:Fe,togglePlayback:qe})=>(0,e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,e.h)(NI,{className:"tw-stroke-pub-secondary-text"})),(0,e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},D?(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},i("Upgrade to paid to play voiceover")):(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},i("Article voiceover")),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,e.h)(gf,{onSetPlaybackRate:Fe,playbackRate:De,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)(_f,{currentTime:B,remainingTime:Se,containerRef:Y,progress:U,onMouseDown:ge,shouldCollapseOnMobile:!0}))),D?(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,e.h)(Al,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:t?20:24})):(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:qe,role:"button"},j?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Al,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},NK=({pub:n,post:t,isPaywalled:r})=>{var i,a,D;const B=r?"Upgrade to paid for post voiceover":`Listen to post ${((i=t.voiceoverUpload)==null?void 0:i.duration)&&`\xB7 ${secondsToHHMMSS(t.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:r?(a=n.theme)==null?void 0:a.background_contrast_3:(D=n.theme)==null?void 0:D.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},B)))))},RK=({isOpen:n,onDismiss:t,onDeleteAudio:r})=>h(Modal,{isOpen:n,onClose:t},h(ModalHeader,{includeClose:!1,title:"Something went wrong..."}),h(ModalBody,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:r,variant:"primary"},"Got it")}));var $I=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const zI=n=>parseFloat(n).toFixed(2),GI=({symbol:n,prependSymbol:t=!1,isStatic:r=!1})=>{const i=`/api/v1/price/${n}`,[a,D]=(0,o.eJ)(null),[B,j]=(0,o.eJ)(null),[U,Y]=(0,o.eJ)(!1);return(0,o.d4)(()=>{(()=>$I(void 0,null,function*(){try{const Se=yield $t().get(i);if(Se.body){if(Se.body.status==="not_found"){Y(!0);return}D(Se.body.price),j(Se.body.change_pct)}}catch(Se){Y(!0)}}))()},[i]),!t&&n.startsWith("$")&&(n=n.slice(1)),r?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,p.getStockLandingUrl)(n)}`},n," ")):U?(0,e.h)("span",null,n," "):(0,e.h)("a",{className:u()("cashtag",{neutral:B==0,positive:B&&parseFloat(B)>0,negative:B&&parseFloat(B)<0}),target:"_blank",rel:"noopener",href:`${(0,p.getStockLandingUrl)(n)}`,"data-attrs":JSON.stringify({symbol:n}),"data-component-name":"Cashtag"},`${n.toUpperCase()} `,(0,e.h)("span",null,(0,e.h)("span",null,(0,e.h)("span",{className:u()("delta")},`${zI(B||0)}%`,!B||parseFloat(B)>0?String.fromCharCode(8593):String.fromCharCode(8595)))))};var Q0=wt(14531),ZI=wt(91036),q0=wt.n(ZI);const xo={digestPostEmbed:"frontend-components-DigestPostEmbed-index-module__digestPostEmbed--Ig8_w",menu:"frontend-components-DigestPostEmbed-index-module__menu--Bz7Fv",caption:"frontend-components-DigestPostEmbed-index-module__caption--YO4hv",captionEditor:"frontend-components-DigestPostEmbed-index-module__captionEditor--B5QxT",smSquare:"frontend-components-DigestPostEmbed-index-module__smSquare--iauxz",mdSquare:"frontend-components-DigestPostEmbed-index-module__mdSquare--KEbmN",fullWidth:"frontend-components-DigestPostEmbed-index-module__fullWidth--R2y7M",inheritColor:"frontend-components-DigestPostEmbed-index-module__inheritColor--xH1Q_",link:"frontend-components-DigestPostEmbed-index-module__link--j23hQ",disableLink:"frontend-components-DigestPostEmbed-index-module__disableLink--sgsa4"};var YI=Object.defineProperty,JI=Object.defineProperties,XI=Object.getOwnPropertyDescriptors,e_=Object.getOwnPropertySymbols,QI=Object.prototype.hasOwnProperty,qI=Object.prototype.propertyIsEnumerable,t_=(n,t,r)=>t in n?YI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,e4=(n,t)=>{for(var r in t||(t={}))QI.call(t,r)&&t_(n,r,t[r]);if(e_)for(var r of e_(t))qI.call(t,r)&&t_(n,r,t[r]);return n},t4=(n,t)=>JI(n,XI(t));const cc=n=>{n.stopPropagation()},n4=({editing:n,caption:t,onFocus:r,onSave:i,onCancel:a})=>{const D=t.replace(/<br\s*\/?>/gi,`
`),[B,j]=(0,o.eJ)(D);return n?(0,e.h)(y.tu,{flex:"grow"},(0,e.h)(y.gx,{name:"description",value:B,onChange:U=>{j(U.target.value)},className:xo.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:cc,onKeyDown:cc,onCopy:cc,onPaste:cc}),(0,e.h)(y.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(y.zx,{priority:"secondary-theme",onClick:a},"Cancel"),(0,e.h)(y.zx,{priority:"primary-theme",onClick:()=>{const U=B.replace(/\n/g,"<br>"),Y=q0()(U,t4(e4({},q0().defaults),{allowedTags:["br"]}));i(Y)}},"Save"))):(0,e.h)("p",{onClick:r,className:xo.caption,dangerouslySetInnerHTML:{__html:t}})};var n_=wt(48960);const r4=({size:n,onOpen:t,onClose:r,onEditCaption:i,onSetLayout:a,onConvertToLink:D,onConvertToEmbeddedPost:B,onDelete:j})=>(0,e.h)(y.hs,{className:xo.menu,justifyContent:"end"},(0,e.h)(wo.v2,{trigger:(0,e.h)(y.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(Ua,{className:xo.menuIcon,height:20})),onOpen:t,onClose:r,layerOptions:{placement:"bottom-end"}},(0,e.h)(wo.sN,{disabled:n==="sm",onClick:()=>a("sm")},"Small display"),(0,e.h)(wo.sN,{disabled:n==="md",onClick:()=>a("md")},"Medium display"),(0,e.h)(wo.sN,{disabled:n==="lg",onClick:()=>a("lg")},"Large display"),(0,e.h)(n_.i,null),(n==="lg"||n==="md")&&(0,e.h)(wo.sN,{onClick:i},"Edit caption"),(0,e.h)(wo.sN,{onClick:()=>B()},"Convert to default"),(0,e.h)(wo.sN,{onClick:D},"Convert to link"),(0,e.h)(wo.sN,{priority:"destructive",onClick:j},"Remove"))),r_=(0,Po.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),vf=({post:n,href:t,isEditor:r,includeUfi:i=!1,paddingTop:a=0,paddingBottom:D=0})=>{const B=(0,us.aF)(),j=(0,Bd.I)();return(0,e.h)(je.gq,{gap:16,paddingTop:a,paddingBottom:D,alignItems:"center"},i&&j&&B&&n&&(0,e.h)(je.gq,{gap:8,className:"post-ufi"},(0,e.h)(Ko.RY,{post:n,pub:j,user:B}),(0,e.h)(Ko.L9,{post:n,pub:j}),(0,e.h)(Ko.pD,{post:n,pub:j,user:B,style:"button",labelStyle:"cta"})),(0,e.h)(y.xv.Button,{className:u()({[xo.disableLink]:r}),as:"a",href:t,align:"center"},(0,e.h)(je.gq,{gap:8,alignItems:"center",className:xo.link},(0,e.h)(y.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(r_,{size:16}))))},o_=({href:n,includeUfi:t=!1,paddingTop:r=0,paddingBottom:i=0})=>(0,e.h)(Xr.zK,{gap:16,style:{paddingTop:r,paddingBottom:i}},(0,e.h)(y.xv.Button,{as:"a",href:n,align:"center"},(0,e.h)(Xr.zK,{gap:8},(0,e.h)(y.xv.B4,{color:"pub-accent",as:"span",size:14,className:xo.link},"Read full story"))));var yf=wt(45809);const bf=({bylines:n,date:t,isEditor:r})=>(0,e.h)(je.gq,{alignItems:"center",gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(y.xv.Meta,{className:u()({[xo.disableLink]:r}),color:"pub-secondary-text"},(0,e.h)(yf.M,{array:n||[],limit:3,formatter:({id:i,name:a})=>(0,e.h)("a",{className:xo.inheritColor,href:(0,oe.getProfileUrlById)(i,a)},a)})),(0,e.h)(y.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},(0,T.formatPostDate)(t))),i_=({bylines:n,date:t})=>(0,e.h)(Xr.zK,{gap:4},n!=null&&n.length?(0,e.h)(Xr.zK,{gap:4},(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(yf.M,{array:n||[],limit:3,formatter:({id:r,name:i})=>(0,e.h)("a",{className:xo.inheritColor,href:(0,oe.getProfileUrlById)(r,i)},i)})),(0,e.h)(y.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},(0,T.formatPostDate)(t))),o4=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:a,canonical_url:D,post_date:B,section_name:j,cover_image:U,cover_image_alt:Y}=n;return(0,e.h)(je.tu,null,j&&(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.Meta,{color:"pub-primary-text",paddingBottom:8},j)),(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.H2,{color:"pub-primary-text"},a)),(0,e.h)(bf,{bylines:i,date:B,isEditor:t}),U&&(0,e.h)(y.xu,{paddingTop:24},(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(ct.e,{className:xo.fullWidth,src:U,alt:Y!=null?Y:a,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(y.hs,{paddingTop:16,flex:"grow"},t?r:(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},r)),(0,e.h)(vf,{post:n,href:D,includeUfi:!1,isEditor:t}))},a_=({post:n,children:t})=>{const{publishedBylines:r,title:i,canonical_url:a,post_date:D,section_name:B,cover_image:j,cover_image_alt:U}=n;return(0,e.h)(Xr.i$,null,B&&(0,e.h)("a",{href:a},(0,e.h)(y.xv.Meta,{color:"pub-primary-text",paddingBottom:8},B)),(0,e.h)("a",{href:a},(0,e.h)(y.xv.H2,{color:"pub-primary-text"},i)),(0,e.h)(i_,{bylines:r,date:D}),j&&(0,e.h)(y.xu,{paddingTop:24},(0,e.h)("a",{href:a},(0,e.h)(ct.e,{className:xo.fullWidth,src:j,alt:U!=null?U:i,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:a},(0,e.h)(y.xu,{as:"p"},t)),(0,e.h)(o_,{href:a}))},i4=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:a,canonical_url:D,post_date:B,section_name:j,cover_image:U,cover_image_alt:Y}=n,ge=(0,Ni.XA)();return(0,e.h)(je.tu,null,j&&(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.Meta,{color:"pub-primary-text",paddingBottom:8},j)),(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.H2,{color:"pub-primary-text"},a)),(0,e.h)(bf,{bylines:i,date:B,isEditor:t}),(0,e.h)(y.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},U&&(0,e.h)(y.xu,{style:{width:ge?"unset":140}},(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(ct.e,{className:ge?xo.fullWidth:xo.mdSquare,src:U,alt:Y!=null?Y:a,maxWidth:ge?1300:280,imageProps:{height:Math.round(ge?1300:280),smartCrop:!0}}))),(0,e.h)(je.tu,{flex:"grow"},t?r:(0,e.h)("a",{href:D,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},r),(0,e.h)(vf,{post:n,href:D,isEditor:t}))))},a4=({post:n,children:t})=>(0,e.h)(a_,{post:n,children:t}),s4=({post:n,isEditor:t})=>{const{publishedBylines:r,title:i,canonical_url:a,post_date:D,cover_image:B,cover_image_alt:j}=n;return(0,e.h)("a",{href:a,className:u()({[xo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(je.gq,{gap:16},B&&(0,e.h)(y.xu,{style:{width:70,height:70}},(0,e.h)(ct.e,{className:xo.smSquare,src:B,alt:j!=null?j:i,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(je.tu,null,(0,e.h)(y.xv.H4,{color:"pub-primary-text"},i),(0,e.h)(bf,{bylines:r,date:D,isEditor:t}),(0,e.h)(vf,{post:n,href:a,includeUfi:!1,isEditor:t}))))},l4=({post:n})=>{const{publishedBylines:t,title:r,canonical_url:i,post_date:a,cover_image:D,cover_image_alt:B}=n;return(0,e.h)(Xr.zK,{gap:16},D&&(0,e.h)(y.xu,{style:{width:70}},(0,e.h)("a",{href:i},(0,e.h)(ct.e,{className:xo.smSquare,src:D,alt:B!=null?B:r,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(Xr.i$,null,(0,e.h)(y.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:i},r)),(0,e.h)(i_,{bylines:t,date:a}),(0,e.h)(o_,{href:i})))};var u4=Object.defineProperty,dc=Object.getOwnPropertySymbols,s_=Object.prototype.hasOwnProperty,l_=Object.prototype.propertyIsEnumerable,u_=(n,t,r)=>t in n?u4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,c4=(n,t)=>{for(var r in t||(t={}))s_.call(t,r)&&u_(n,r,t[r]);if(dc)for(var r of dc(t))l_.call(t,r)&&u_(n,r,t[r]);return n},d4=(n,t)=>{var r={};for(var i in n)s_.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&dc)for(var i of dc(n))t.indexOf(i)<0&&l_.call(n,i)&&(r[i]=n[i]);return r};const fc=n=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:n,bubbles:!0}))},f4=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:n,bubbles:!0}))},p4=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:n,bubbles:!0}))},h4=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},m4=({nodeId:n,caption:t,size:r="lg",isEditor:i,title:a,publishedBylines:D,post_date:B,cover_image:j,cover_image_alt:U,canonical_url:Y,section_name:ge,id:Se,type:De,reaction_count:Fe,comment_count:qe,publication_name:Ye,publication_logo_url:st})=>{const[gt,yt]=(0,o.eJ)(!1),[At,Bt]=(0,o.eJ)(!1),[xt,Ht]=(0,o.eJ)(!1),en={title:a,publishedBylines:D,post_date:B,cover_image:j,cover_image_alt:U,canonical_url:Y,section_name:ge,id:Se,type:De,reaction_count:Fe,comment_count:qe,publication_name:Ye,publication_logo_url:st},Xt=()=>{Bt(!0),yt(!1),fc({nodeId:n,shouldDisableDrag:!0})},tn=(0,e.h)(n4,{editing:At,caption:t,onFocus:Xt,onSave:fn=>{Bt(!1),fc({nodeId:n,caption:fn,shouldDisableDrag:!1})},onCancel:()=>{Bt(!1),fc({nodeId:n,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:u()(xo.digestPostEmbed),onMouseEnter:()=>!At&&yt(!0),onMouseLeave:()=>!xt&&yt(!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,i&&gt&&(0,e.h)(r4,{size:r,onOpen:()=>Ht(!0),onClose:()=>Ht(!1),onEditCaption:Xt,onSetLayout:fn=>{fc(c4({nodeId:n,caption:t,size:fn},en))},onConvertToEmbeddedPost:()=>{p4({url:Y})},onConvertToLink:()=>{f4({url:Y})},onDelete:()=>{h4()}}),r==="sm"&&(0,e.h)(s4,{post:en,isEditor:i}),r==="md"&&(0,e.h)(i4,{post:en,isEditor:i},i?tn:(0,e.h)("p",{className:xo.caption,dangerouslySetInnerHTML:{__html:t}})),r==="lg"&&(0,e.h)(o4,{post:en,isEditor:i},i?tn:(0,e.h)("p",{className:xo.caption,dangerouslySetInnerHTML:{__html:t}}))))},_4=n=>{var t=n,{caption:r,size:i}=t,a=d4(t,["caption","size"]);return a?(0,e.h)("div",{className:u()(xo.digestPostEmbed,Q0.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},i==="sm"&&(0,e.h)(l4,{post:a}),i==="md"&&(0,e.h)(a4,{post:a},(0,e.h)("p",{className:xo.caption,dangerouslySetInnerHTML:{__html:r}})),i==="lg"&&(0,e.h)(a_,{post:a},(0,e.h)("p",{className:xo.caption,dangerouslySetInnerHTML:{__html:r}}))):null},_a={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",withCaption:"frontend-components-document_body-image3-Image3-module__withCaption--IXwNH",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--fu4ZT",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--uVtTa",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz"},g4=({align:n,width:t})=>{const r={};if(n==="center"||t==="100%"||t>=p.EMAIL_CONTENT_WIDTH)return r;const i=n==="left"?"paddingRight":"paddingLeft";return r[i]=p.EMAIL_CONTENT_WIDTH-t,r},v4=({src:n,alt:t,title:r,width:i,height:a,size:D,align:B})=>{const j=i==="100%"?p.EMAIL_CONTENT_WIDTH:i;return(0,e.h)("div",{className:u()(_a.staticView),"data-component-name":"Image3Static"},(0,e.h)("div",{style:g4({align:B,width:i}),className:u()(_a.staticImageWrap)},(0,e.h)("img",{width:j,height:a,src:(0,p.imginary)(n,2*p.EMAIL_CONTENT_WIDTH),alt:t}),r&&(0,e.h)("div",{className:u()(_a.caption,_a.static)},r)))};var Pf=wt(55661);const y4=({src:n,alt:t,title:r,width:i,height:a,size:D,align:B})=>{const[j,U]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)(0),Se=(0,o.sO)(null),De=()=>{Se.current&&(Se.current.onload=()=>{ge(Se.current.naturalWidth/Se.current.naturalHeight)})};(0,o.d4)(()=>{De()});const Fe=()=>{switch(D){case"large":return p.LARGE_IMAGE_WIDTH;case"full":return typeof window!="undefined"?window.innerWidth:p.MAX_REASONABLE_SCREEN_WIDTH;default:return i==="100%"?p.WEB_CONTENT_WIDTH:i}};return(0,e.h)("figure",{className:u()(_a.mediaNodeView,B&&_a[`align-${B}`||""]),"data-drag-handle":"","data-component-name":"Image3Dynamic"},(0,e.h)(je.gq,{className:u()(_a.imageContainer,_a.zoom,_a[D]),onClick:()=>U(!0)},(0,e.h)(je.tu,{gap:8},(0,e.h)(ct.e,{className:_a[D],src:n,alt:t,title:r,maxWidth:Fe(),imageRef:Se}),r&&(0,e.h)("figcaption",{className:_a.caption},r))),(0,e.h)(Pf.ImageViewerModal,{showModal:j,modalContent:[{attrs:{src:n,alt:t,title:r}}],onClose:()=>U(!1),step:0}))};var b4=wt(71284);const Ji={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"};var P4=Object.defineProperty,E4=Object.defineProperties,w4=Object.getOwnPropertyDescriptors,c_=Object.getOwnPropertySymbols,C4=Object.prototype.hasOwnProperty,O4=Object.prototype.propertyIsEnumerable,d_=(n,t,r)=>t in n?P4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S4=(n,t)=>{for(var r in t||(t={}))C4.call(t,r)&&d_(n,r,t[r]);if(c_)for(var r of c_(t))O4.call(t,r)&&d_(n,r,t[r]);return n},T4=(n,t)=>E4(n,w4(t));const f_=(n,t)=>t===1?"large":t===2||t===4?"medium":t%3===0?"small":t===5||t===7?n<=2?"small":"medium":n<=5?"small":"medium",p_={small:237,medium:360,large:728},h_=({src:n,size:t,onSelectImage:r,useViewer:i=!1,alt:a})=>{const D=()=>{i&&r()};return(0,e.h)(ct.e,{src:n,alt:a,maxWidth:2*p_[t],className:u()(Ji.image,Ji[t],i&&Ji.zoom),onClick:D})},I4=(n,t="",r="")=>{const i=[];for(const a in n){const D=n[a],{height:B=0,width:j=0}=(0,oe.extractDimensionsFromImageUrl)(D.src)||{},U=`(${Number(a)+1} of ${n.length})`,Y={src:D.src,height:B,width:j,alt:`${r} ${U}`,title:`${t} ${U}`};i.push({attrs:Y})}return i},x4=({onEditGallery:n,editGalleryRef:t})=>(0,e.h)(je.hs,{justifyContent:"center",alignItems:"center",className:Ji.editGalleryWrap},(0,e.h)($i.Fx,{ref:t,noList:!0},(0,e.h)(je.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Ji.editGallery},(0,e.h)(Sl.Z,{height:20})))),D4=({node:n,editor:t})=>{const{gallery:r}=n.attrs,i=n.attrs.isEditor||t,{caption:a,alt:D}=r,B=r.images.map((At,Bt)=>T4(S4({},At),{idx:Bt})),j=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[U,Y]=(0,o.eJ)(!1),[ge,Se]=(0,o.eJ)(0),De=(0,o.sO)(null),Fe=B.length===1,qe=I4(B,a),Ye=At=>{Se(At),Y(!0)},st=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(B.length===0)return null;const gt=At=>{var Bt,xt;i&&(At?(Bt=De.current)==null||Bt.open():(xt=De.current)==null||xt.close())},yt=m_(B);return(0,e.h)(b4.T5,{className:"image-gallery-embed","data-drag-handle":""},(0,e.h)("figure",{className:u()(Ji.imageGallery,i&&Ji.canEdit),onMouseEnter:()=>gt(!0),onMouseLeave:()=>gt(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},i&&r&&(0,e.h)(x4,{onEditGallery:st,editGalleryRef:De}),(0,e.h)(je.tu,{gap:8},Fe?(0,e.h)(h_,{src:B[0].src,alt:D,caption:a,size:f_(0,1),onSelectImage:()=>Ye(0),useViewer:j}):yt.map(At=>(0,e.h)(je.hs,{className:u()(Ji.imageRow,Ji[`length-${At.length}`]),gap:8},At.map(Bt=>(0,e.h)(h_,{src:Bt.src,alt:D,caption:a,size:f_(Bt.idx,B.length),onSelectImage:()=>Ye(Bt.idx),useViewer:j})))),a&&(0,e.h)("figcaption",{className:Ji.imageCaption},a)),(0,e.h)(Pf.ImageViewerModal,{showModal:U,modalContent:qe,onClose:()=>Y(!1),step:ge})))},M4=({node:n})=>{const{gallery:t}=n.attrs;if(!t)return null;const{alt:r,staticGalleryImage:i,caption:a}=t;return i?(0,e.h)("div",{className:u()(Ji.static,Ji.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,oe.imginary)(i.src,2*p_.large),alt:r}),a&&(0,e.h)("div",{className:u()(Ji.imageCaption,Ji.static)},a)):null};function m_(n){const t=n.length===4?2:3;let r=[n.slice(0,t)];const i=n.slice(t);return i.length>0&&(r=r.concat(m_(i))),r}var A4=(n=>(n.CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n))(A4||{});const __={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},BK={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365};var N4=Object.defineProperty,R4=Object.defineProperties,L4=Object.getOwnPropertyDescriptors,g_=Object.getOwnPropertySymbols,B4=Object.prototype.hasOwnProperty,k4=Object.prototype.propertyIsEnumerable,v_=(n,t,r)=>t in n?N4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,U4=(n,t)=>{for(var r in t||(t={}))B4.call(t,r)&&v_(n,r,t[r]);if(g_)for(var r of g_(t))k4.call(t,r)&&v_(n,r,t[r]);return n},F4=(n,t)=>R4(n,L4(t));const y_=n=>(0,e.h)(k.l,F4(U4({strokeLinecap:"round",strokeLinejoin:"round"},n),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})),j4={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var W4=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const H4=({tierNumber:n,rewardDescription:t,numReferralsRequired:r,pub:i})=>{const[a,D]=(0,o.eJ)([]),B=()=>W4(void 0,null,function*(){const{body:ge}=yield $t().get("/api/v1/reader_referrals/tiers");D(ge.tiers)});(0,o.d4)(()=>{B()},[]);const j=a[n-1],U=j?j.reward_type==="custom"?j.reward_description:__[j.reward_type]:t,Y=j?j.num_referrals_required:r;return(0,e.h)(je.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((ge,Se)=>(0,e.h)(y_,{width:20,height:20,strokeWidth:2,stroke:i.theme_var_background_pop||"#FF6719",fill:i.theme_var_background_pop||"#FF6719",key:Se}))),(0,e.h)(je.tu,{gap:4},(0,e.h)(x.xv.H4,null,U),(0,e.h)(x.xv.Meta,null,"Tier ",n," reward - ",Y," Referrals")),(0,e.h)(je.gq,{alignItems:"center"},(0,e.h)(Yt.Z,{pub:i,logo_url:i.logo_url,size:24}),(0,e.h)(x.xv.Meta,{color:"primary",as:"a",href:(0,p.getBaseUrl)(i),decoration:"none",weight:"bold"},i.name)))},V4=({tierNumber:n,pub:t})=>(0,e.h)("a",{href:`${Ei.Substitutions.LEADERBOARD_URL}&utm_source=reward_email`,className:j4.referralsTierCard},(0,e.h)(Xr.i$,{gap:16},(0,e.h)(Xr.zK,{style:{lineHeight:0},gap:4},Array(n).fill(0).map((r,i)=>(0,e.h)(y_,{width:20,height:20,strokeWidth:2,key:i,stroke:t.theme_var_background_pop||"#FF6719",fill:t.theme_var_background_pop||"#FF6719",isStatic:!0}))),(0,e.h)(Xr.i$,{gap:4},(0,e.h)(x.xv.H4,null,Ei.Substitutions.REWARD_DESCRIPTION),(0,e.h)(x.xv.Meta,null,"Tier ",n," reward - ",Ei.Substitutions.NUM_REFERRALS_REQUIRED," Referrals")),(0,e.h)(Xr.zK,{verticalAlign:"middle"},(0,e.h)(Yt.Z,{isStatic:!0,pub:t,logo_url:t.logo_url,size:24}),(0,e.h)(x.xv.Meta,{color:"primary",as:"a",href:(0,p.getBaseUrl)(t),decoration:"none",weight:"bold"},t.name))));var K4=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const $4=({mediaUploadId:n})=>{const[t,r]=(0,o.eJ)(null),[i,a]=(0,o.eJ)(!0),[D,B]=(0,o.eJ)(null);return(0,o.d4)(()=>{n?(()=>K4(void 0,null,function*(){try{const U=yield $t().get(`/api/v1/video/upload/${n}`);r(U.body),a(!1)}catch(U){console.error("Failed to load media upload:",U),B((0,T.getNetworkErrorMessage)(U)),a(!1)}}))():(r(null),a(!1))},[n,D]),{mediaUpload:t,loading:i,error:D}};var z4=wt(54125),b_=wt.n(z4),G4=Object.defineProperty,Z4=Object.defineProperties,Y4=Object.getOwnPropertyDescriptors,P_=Object.getOwnPropertySymbols,J4=Object.prototype.hasOwnProperty,X4=Object.prototype.propertyIsEnumerable,E_=(n,t,r)=>t in n?G4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Q4=(n,t)=>{for(var r in t||(t={}))J4.call(t,r)&&E_(n,r,t[r]);if(P_)for(var r of P_(t))X4.call(t,r)&&E_(n,r,t[r]);return n},q4=(n,t)=>Z4(n,Y4(t));const e3=n=>(0,e.h)(k.l,q4(Q4({},n),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,e.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}));var t3=Object.defineProperty,w_=Object.getOwnPropertySymbols,n3=Object.prototype.hasOwnProperty,r3=Object.prototype.propertyIsEnumerable,C_=(n,t,r)=>t in n?t3(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,o3=(n,t)=>{for(var r in t||(t={}))n3.call(t,r)&&C_(n,r,t[r]);if(w_)for(var r of w_(t))r3.call(t,r)&&C_(n,r,t[r]);return n};const i3=5,a3="video:playback_location:",s3=4*60,l3=60,u3=60,c3=3,d3=60,f3={hls:"application/x-mpegURL",mp4:"video/mp4"};class Nl extends e.Component{constructor(t,r){var i;super(t,r),this.player=null,this.previewHiddingTimeout=null,this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var D;(D=T.globalPlaybackNotifier)==null||D.emit("play",this),this.setState({playing:!0})},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:D=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),D&&this.player&&!(0,T.isIOs)()&&(this.player.currentTime=0),(0,T.exitFullscreen)(),(0,T.exitPictureInPicture)()},this.onPreviewClick=()=>{var D,B;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(D=this.player)==null||D.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(B=this.player)==null||B.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))},this.onContextMenu=D=>{D.preventDefault()},this.onAllSourcesFailed=()=>{var D,B;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(B=(D=this.props).onPlaybackFailed)==null||B.call(D)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=D=>{this!==D&&this.player&&(this.track(C.FP.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=D=>{var B;this.props.noKeyboardShortcuts||D.metaKey||D.altKey||D.ctrlKey||document.activeElement!==document.body||!this.player||((B=T.globalPlaybackNotifier)==null?void 0:B.listenerCount("play"))>1&&this.player.paused||(D.key==="f"?(0,T.isFullscreen)()?(0,T.exitFullscreen)()&&D.preventDefault():((0,T.goFullscreen)(this.player)&&D.preventDefault(),this.player.paused&&this.player.play()):D.key===" "&&!(0,T.isFullscreen)()?(D.preventDefault(),this.player.paused?this.player.play():this.player.pause()):D.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):D.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const a=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:a,currentTime:0,waiting:!0,duration:(i=t.mediaUpload.duration)!=null?i:null,autoPlay:t.autoPlay,playing:!1,attemptingToPlay:t.autoPlay,previewHidden:a!==null&&a>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var t;this._initHlsjs(),(t=T.globalPlaybackNotifier)==null||t.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),window&&window._preloads.mux_env_key&&b_().monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:b_().utils.now()}})}componentWillUnmount(){var t;this.setPlaybackRestoreLocation(),(t=T.globalPlaybackNotifier)==null||t.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(t,r){var i;if((this.props.noPreview!==t.noPreview||this.props.noControls!==t.noControls||this.props.noKeyboardShortcuts!==t.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"){const{useHLSJS:a,browserCanPlayHLS:D,HLSerrored:B}=this.state;this.track(C.FP.VIDEO_BUFFERING_STARTED,{use_hlsjs:a,browser_can_play_hls:D,hls_errored:B})}this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(C.FP.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%i3===0&&this.track(C.FP.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime)}),!this.state.playing&&r.playing&&((i=this.player)!=null&&i.ended)&&this.track(C.FP.VIDEO_PLAYBACK_COMPLETED)}getPlaybackLocationKey(){return`${a3}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>s3){const t=(0,Li.mM)(this.getPlaybackLocationKey());if((t==null?void 0:t.currentTime)>l3&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-t.currentTime>u3){const r=Date.now()-t.watchedAt>d3?c3:0,i=Math.max(0,t.currentTime-r);if(i)return i}}return null}setPlaybackRestoreLocation(){var t;this.playbackEnabled()&&((t=this.player)!=null&&t.currentTime)&&(0,Li.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(t,r={}){const i=this.props.post;i&&(0,C.j)(t,Object.assign({post_id:i.id,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},r))}render(t,r){const{height:i,width:a}=(0,Vt.videoPlayerDimensions)(t.mediaUpload,{isStatic:t.isStatic}),D={paddingBottom:`${Math.min(100,100*i/a).toFixed(4)}%`};return(0,e.h)("div",{className:u()("video-player-wrapper",{"with-preview":!r.previewHidden,"is-static":t.isStatic,"full-width":a>=960}),onClick:this.onPreviewClick},this.href()?(0,e.h)("a",{className:"video-player",href:this.href(),style:D},this.renderPlayer(this.props,this.state)):(0,e.h)("div",{className:"video-player",style:D},this.renderPlayer(this.props,this.state)))}renderPlayer({mediaUpload:t,pub:r,reaction_token:i=null,isStatic:a,noControls:D,noPreview:B},{autoPlay:j,attemptingToPlay:U,previewHidden:Y,useHLSJS:ge,browserCanPlayHLS:Se,HLSerrored:De}){const Fe=!B&&!Y,qe=a||!this.playbackEnabled(),Ye=(0,p.updateQuery)(`/api/v1/video/upload/${t.id}/src`,{token:i,override_publication_id:r==null?void 0:r.id});let st=[];return Se?st=["hls","mp4"]:ge?st=[]:(0,T.isAndroid)()?st=["hls","mp4"]:De?st=["mp4"]:st=["hls","mp4"],[this.playbackEnabled()&&!a&&typeof window!="undefined"&&(0,e.h)("video",{ref:gt=>this.player=gt,controls:!D&&!Fe,controlsList:"nodownload",autoPlay:j&&this.playbackEnabled(),poster:(0,p.getMediaUploadThumbnailUrlForPlayer)(t)},st.map((gt,yt)=>(0,e.h)("source",{src:(0,p.updateQuery)(Ye,{type:gt}),type:f3[gt],onError:yt===st.length-1?this.onAllSourcesFailed:void 0}))),Fe&&(0,e.h)(e.Fragment,null,qe&&(0,e.h)("img",{className:"video-player-preview","data-testid":a?"video-player-static-preview-image":"",width:550,src:(0,p.getMediaUploadThumbnailUrlForPlayer)(t,{pub:r,isStatic:a}),"data-component-name":"VideoPlayer-PreviewImg"}),!a&&(0,e.h)("div",{className:u()("video-player-button",{"no-text":!this.cta()})},(0,e.h)("a",{className:"primary",href:this.href(),native:!0},(0,e.h)(Je.Z,{className:u()({loading:U&&this.playbackEnabled()})},(0,e.h)(e3,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,e.h)("span",null,this.cta())))))]}_initHlsjs(){const t=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(t){this.setState({browserCanPlayHLS:t});return}wt.e(631).then(wt.t.bind(wt,67631,23)).then(r=>{this._initHlsjsWrapped(r.default)})}_initHlsjsWrapped(t){const r=this,i=t.isSupported();if(!t.isSupported()){this.setState({useHLSJS:i});return}this.hls!=null&&this.hls.destroy();const a={},D=new t(o3({enableWorker:!1},a));this.player!=null&&D.attachMedia(this.player);const{mediaUpload:B,pub:j,reaction_token:U=null}=this.props,Y=(0,p.updateQuery)(`/api/v1/video/upload/${B.id}/src`,{token:U,override_publication_id:j==null?void 0:j.id,type:"hls"});D.on(t.Events.MEDIA_ATTACHED,()=>{D.loadSource(Y),D.on(t.Events.MANIFEST_PARSED,()=>{var ge;this.state.autoPlay&&((ge=this.player)==null||ge.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),D.on(t.Events.ERROR,function(ge,Se){if(Se.fatal)switch(Se.type){case t.ErrorTypes.NETWORK_ERROR:r.setState({useHLSJS:!1}),r.hls.destroy(),D.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:D.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=D,this.hlsModule=t}}const ms={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},p3=({mediaUploadId:n,post:t,pub:r,isEditor:i=!1})=>{const[a,D]=(0,o.eJ)(null),B=(0,o.sO)(null),j=De=>{var Fe,qe;i&&(De?(Fe=B.current)==null||Fe.open():(qe=B.current)==null||qe.close())},{mediaUpload:U,loading:Y,error:ge}=$4({mediaUploadId:n});n&&!a&&U&&D(U);const Se=(0,o.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,oe.getLinkableElementIdForVideo)({mediaUploadId:n}),className:ms.videoScrollTarget},Y?(0,e.h)("div",{className:ms.videoPlaceholder},"Loading video"):ge||!a?(0,e.h)("div",{className:ms.videoPlaceholder},"Could not load video."):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()(ms.videoEmbed,i&&ms.canEdit),onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1)},i&&(0,e.h)(h3,{onEditVideoEmbed:Se,menuRef:B}),(0,e.h)(Nl,{mediaUpload:a,isStatic:!1,post:t!=null?t:null,pub:r}))))},h3=({onEditVideoEmbed:n,menuRef:t})=>(0,e.h)(je.hs,{justifyContent:"center",alignItems:"center",className:ms.editVideoEmbedWrap},(0,e.h)($i.Fx,{ref:t,noList:!0},(0,e.h)(je.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:ms.editVideoEmbed},(0,e.h)(Sl.Z,{height:20})))),m3=({mediaUpload:n,post:t,pub:r})=>{if(!n)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const i=(0,oe.getLinkToVideo)({pub:r,post:t,mediaUploadId:n.id});return(0,e.h)(Nl,{mediaUpload:n,isStatic:!0,post:t,pub:r,href:i})};var _3=Object.defineProperty,g3=Object.defineProperties,v3=Object.getOwnPropertyDescriptors,O_=Object.getOwnPropertySymbols,y3=Object.prototype.hasOwnProperty,b3=Object.prototype.propertyIsEnumerable,S_=(n,t,r)=>t in n?_3(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ra=(n,t)=>{for(var r in t||(t={}))y3.call(t,r)&&S_(n,r,t[r]);if(O_)for(var r of O_(t))b3.call(t,r)&&S_(n,r,t[r]);return n},Rl=(n,t)=>g3(n,v3(t));const P3=(n,{pub:t,props:{isStatic:r,post:i,dataForEmailRender:a}})=>{var D;try{const B=n.getAttribute("data-attrs");if(B){const{mediaUploadId:j}=JSON.parse(wi()(B));return r?(0,e.h)(m3,{pub:t,post:i,mediaUpload:(D=a.idToMediaUpload)==null?void 0:D[j]}):(0,e.h)(p3,{pub:t,post:i,mediaUploadId:j})}}catch(B){console.error("Failed to parse video:",B)}return(0,e.h)(e.Fragment,null)},E3=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs");if(i){const a=JSON.parse(wi()(i));return r?(0,e.h)(_4,Rl(Ra({},a),{isEditor:!1})):(0,e.h)(m4,Rl(Ra({},a),{isEditor:!1}))}}catch(i){console.error("Failed to parse digest post embed:",i)}return(0,e.h)(e.Fragment,null)},w3=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs"),a=JSON.parse(wi()(i));return r?(0,e.h)(V4,Rl(Ra({},a),{pub:t})):(0,e.h)(H4,Rl(Ra({},a),{pub:t}))}catch(i){console.error("Failed to parse referrals card:",i)}return(0,e.h)(e.Fragment,null)},C3=(n,{props:{isStatic:t}})=>{var r;try{const i=n.getAttribute("data-attrs");if(i){const D=(r=JSON.parse(i))!=null?r:{};return t?(0,e.h)(v4,Ra({},D)):(0,e.h)(y4,Ra({},D))}}catch(i){console.error("Failed to parse image3:",i)}return(0,e.h)(e.Fragment,null)},O3=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const a=n.getAttribute("data-attrs");if(a){const D=JSON.parse(a),j={node:{attrs:Rl(Ra({},D),{isEditor:!1})}};return r?(0,e.h)(M4,Ra({},j)):(0,e.h)(D4,Ra({},j))}}catch(a){console.error("Failed to parse image gallery embed:",a)}return(0,e.h)(e.Fragment,null)};var T_=wt(72985),Ef=wt(46505);function I_(n,t){return(0,T_.cleanSlug)((0,Vt.truncateText)(n,500,{ellipsis:""}),{allowUnicode:t})}function S3({text:n,post:t,pub:r,offsetTop:i,isAboutPage:a}){const{isStatic:D}=(0,o.qp)(Ef.E),B=I_(n,!0),j=I_(n,!1),U=(0,im.g)();if(!t&&!a||!r||D)return null;const Y=a?`${(0,p.getAboutUrl)(r,{addBase:!0})}#\xA7${B}`:`${(0,p.getBaseUrl)(r)}/i/${t.id}/${B}`,ge=Se=>{location!=null&&location.href&&(Se.preventDefault(),(0,C.j)(C.FP.HEADER_ANCHOR_WIDGET_CLICKED,{destination:Y}),U(Y))};return(0,e.h)("div",{id:`\xA7${B}`,className:u()("header-anchor-widget",{"offset-top":i})},(t==null?void 0:t.id)<66696300&&B!==j&&(0,e.h)("div",{id:`\xA7${j}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:Y,onClick:ge},(0,e.h)(El.Z,{className:"header-anchor-widget-icon",size:20}))))}var T3=wt(47641),x_;const I3=typeof window!="undefined"?(x_=window._preloads)==null?void 0:x_.freeSignup:!1,D_=(0,e.createContext)(I3);D_.displayName="FreeSignupContext";function x3(){return(0,o.qp)(D_)}var M_=wt(35291),D3=Object.defineProperty,M3=Object.defineProperties,A3=Object.getOwnPropertyDescriptors,A_=Object.getOwnPropertySymbols,N3=Object.prototype.hasOwnProperty,R3=Object.prototype.propertyIsEnumerable,N_=(n,t,r)=>t in n?D3(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,R_=(n,t)=>{for(var r in t||(t={}))N3.call(t,r)&&N_(n,r,t[r]);if(A_)for(var r of A_(t))R3.call(t,r)&&N_(n,r,t[r]);return n},L3=(n,t)=>M3(n,A3(t));class B3 extends $e.p{constructor(t,r){var i,a;super(t,r),this.state.email=(a=(i=this.props.user)==null?void 0:i.email)!=null?a:null}onOpen(){(0,C.j)(C.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,C.j)(C.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:t,post:r,user:i,audience:a,pollId:D}=this.props,{email:B}=this.state,j=a==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${t.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",j," can vote on this poll.")),(0,e.h)(Rt.ZP,{method:"post",action:(0,p.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:U=>{(0,C.j)(C.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:D,post_id:r.id}),t.plans||t.has_recommendations?document.location.href=(0,p.getSubscribeUrl)(this.props.pub,L3(R_(R_({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:r&&r.id,just_signed_up:!0,requires_confirmation:U.body.requires_confirmation?"true":""},U.body.subscription_id&&{subscription_id:U.body.subscription_id}),U.body.referral_token&&{referral_token:U.body.referral_token}),{next:(0,p.getPostUrl)(t,r)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:B,disabled:!!i.email,tabIndex:0,onChange:U=>{this.setState({email:U.target.value})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!i.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,p.getSigninUrl)({for_pub:t.subdomain,redirect:(0,p.getPostUrl)(t,r)})},"Sign in")))}}var k3=wt(30105);function U3(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function F3(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t}var j3=function(){function n(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=n.prototype;return t.insert=function(i){if(this.ctr%(this.isSpeedy?65e3:1)===0){var a=F3(this),D;this.tags.length===0?D=this.before:D=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(a,D),this.tags.push(a)}var B=this.tags[this.tags.length-1];if(this.isSpeedy){var j=U3(B);try{var U=i.charCodeAt(1)===105&&i.charCodeAt(0)===64;j.insertRule(i,U?0:j.cssRules.length)}catch(Y){}}else B.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}();function W3(n){function t(Rn,Zn,gn,kn,Gt){for(var or=0,_n=0,fr=0,yr=0,Ar,Yn,vr=0,mr=0,br,lo=br=Ar=0,Kr=0,oo=0,Wi=0,Uo=0,Hi=gn.length,Qi=Hi-1,Oi,Jr="",ti="",bu="",Ta="",qi;Kr<Hi;){if(Yn=gn.charCodeAt(Kr),Kr===Qi&&_n+yr+fr+or!==0&&(_n!==0&&(Yn=_n===47?10:47),yr=fr=or=0,Hi++,Qi++),_n+yr+fr+or===0){if(Kr===Qi&&(0<oo&&(Jr=Jr.replace(De,"")),0<Jr.trim().length)){switch(Yn){case 32:case 9:case 59:case 13:case 10:break;default:Jr+=gn.charAt(Kr)}Yn=59}switch(Yn){case 123:for(Jr=Jr.trim(),Ar=Jr.charCodeAt(0),br=1,Uo=++Kr;Kr<Hi;){switch(Yn=gn.charCodeAt(Kr)){case 123:br++;break;case 125:br--;break;case 47:switch(Yn=gn.charCodeAt(Kr+1)){case 42:case 47:e:{for(lo=Kr+1;lo<Qi;++lo)switch(gn.charCodeAt(lo)){case 47:if(Yn===42&&gn.charCodeAt(lo-1)===42&&Kr+2!==lo){Kr=lo+1;break e}break;case 10:if(Yn===47){Kr=lo+1;break e}}Kr=lo}}break;case 91:Yn++;case 40:Yn++;case 34:case 39:for(;Kr++<Qi&&gn.charCodeAt(Kr)!==Yn;);}if(br===0)break;Kr++}switch(br=gn.substring(Uo,Kr),Ar===0&&(Ar=(Jr=Jr.replace(Se,"").trim()).charCodeAt(0)),Ar){case 64:switch(0<oo&&(Jr=Jr.replace(De,"")),Yn=Jr.charCodeAt(1),Yn){case 100:case 109:case 115:case 45:oo=Zn;break;default:oo=ur}if(br=t(Zn,oo,br,Yn,Gt+1),Uo=br.length,0<jn&&(oo=r(ur,Jr,Wi),qi=j(3,br,oo,Zn,Gn,yn,Uo,Yn,Gt,kn),Jr=oo.join(""),qi!==void 0&&(Uo=(br=qi.trim()).length)===0&&(Yn=0,br="")),0<Uo)switch(Yn){case 115:Jr=Jr.replace(Ht,B);case 100:case 109:case 45:br=Jr+"{"+br+"}";break;case 107:Jr=Jr.replace(yt,"$1 $2"),br=Jr+"{"+br+"}",br=Sn===1||Sn===2&&D("@"+br,3)?"@-webkit-"+br+"@"+br:"@"+br;break;default:br=Jr+br,kn===112&&(br=(ti+=br,""))}else br="";break;default:br=t(Zn,r(Zn,Jr,Wi),br,kn,Gt+1)}bu+=br,br=Wi=oo=lo=Ar=0,Jr="",Yn=gn.charCodeAt(++Kr);break;case 125:case 59:if(Jr=(0<oo?Jr.replace(De,""):Jr).trim(),1<(Uo=Jr.length))switch(lo===0&&(Ar=Jr.charCodeAt(0),Ar===45||96<Ar&&123>Ar)&&(Uo=(Jr=Jr.replace(" ",":")).length),0<jn&&(qi=j(1,Jr,Zn,Rn,Gn,yn,ti.length,kn,Gt,kn))!==void 0&&(Uo=(Jr=qi.trim()).length)===0&&(Jr="\0\0"),Ar=Jr.charCodeAt(0),Yn=Jr.charCodeAt(1),Ar){case 0:break;case 64:if(Yn===105||Yn===99){Ta+=Jr+gn.charAt(Kr);break}default:Jr.charCodeAt(Uo-1)!==58&&(ti+=a(Jr,Ar,Yn,Jr.charCodeAt(2)))}Wi=oo=lo=Ar=0,Jr="",Yn=gn.charCodeAt(++Kr)}}switch(Yn){case 13:case 10:_n===47?_n=0:1+Ar===0&&kn!==107&&0<Jr.length&&(oo=1,Jr+="\0"),0<jn*Wn&&j(0,Jr,Zn,Rn,Gn,yn,ti.length,kn,Gt,kn),yn=1,Gn++;break;case 59:case 125:if(_n+yr+fr+or===0){yn++;break}default:switch(yn++,Oi=gn.charAt(Kr),Yn){case 9:case 32:if(yr+or+_n===0)switch(vr){case 44:case 58:case 9:case 32:Oi="";break;default:Yn!==32&&(Oi=" ")}break;case 0:Oi="\\0";break;case 12:Oi="\\f";break;case 11:Oi="\\v";break;case 38:yr+_n+or===0&&(oo=Wi=1,Oi="\f"+Oi);break;case 108:if(yr+_n+or+pn===0&&0<lo)switch(Kr-lo){case 2:vr===112&&gn.charCodeAt(Kr-3)===58&&(pn=vr);case 8:mr===111&&(pn=mr)}break;case 58:yr+_n+or===0&&(lo=Kr);break;case 44:_n+fr+yr+or===0&&(oo=1,Oi+="\r");break;case 34:case 39:_n===0&&(yr=yr===Yn?0:yr===0?Yn:yr);break;case 91:yr+_n+fr===0&&or++;break;case 93:yr+_n+fr===0&&or--;break;case 41:yr+_n+or===0&&fr--;break;case 40:if(yr+_n+or===0){if(Ar===0)switch(2*vr+3*mr){case 533:break;default:Ar=1}fr++}break;case 64:_n+fr+yr+or+lo+br===0&&(br=1);break;case 42:case 47:if(!(0<yr+or+fr))switch(_n){case 0:switch(2*Yn+3*gn.charCodeAt(Kr+1)){case 235:_n=47;break;case 220:Uo=Kr,_n=42}break;case 42:Yn===47&&vr===42&&Uo+2!==Kr&&(gn.charCodeAt(Uo+2)===33&&(ti+=gn.substring(Uo,Kr+1)),Oi="",_n=0)}}_n===0&&(Jr+=Oi)}mr=vr,vr=Yn,Kr++}if(Uo=ti.length,0<Uo){if(oo=Zn,0<jn&&(qi=j(2,ti,oo,Rn,Gn,yn,Uo,kn,Gt,kn),qi!==void 0&&(ti=qi).length===0))return Ta+ti+bu;if(ti=oo.join(",")+"{"+ti+"}",Sn*pn!==0){switch(Sn!==2||D(ti,2)||(pn=0),pn){case 111:ti=ti.replace(Bt,":-moz-$1")+ti;break;case 112:ti=ti.replace(At,"::-webkit-input-$1")+ti.replace(At,"::-moz-$1")+ti.replace(At,":-ms-input-$1")+ti}pn=0}}return Ta+ti+bu}function r(Rn,Zn,gn){var kn=Zn.trim().split(st);Zn=kn;var Gt=kn.length,or=Rn.length;switch(or){case 0:case 1:var _n=0;for(Rn=or===0?"":Rn[0]+" ";_n<Gt;++_n)Zn[_n]=i(Rn,Zn[_n],gn).trim();break;default:var fr=_n=0;for(Zn=[];_n<Gt;++_n)for(var yr=0;yr<or;++yr)Zn[fr++]=i(Rn[yr]+" ",kn[_n],gn).trim()}return Zn}function i(Rn,Zn,gn){var kn=Zn.charCodeAt(0);switch(33>kn&&(kn=(Zn=Zn.trim()).charCodeAt(0)),kn){case 38:return Zn.replace(gt,"$1"+Rn.trim());case 58:return Rn.trim()+Zn.replace(gt,"$1"+Rn.trim());default:if(0<1*gn&&0<Zn.indexOf("\f"))return Zn.replace(gt,(Rn.charCodeAt(0)===58?"":"$1")+Rn.trim())}return Rn+Zn}function a(Rn,Zn,gn,kn){var Gt=Rn+";",or=2*Zn+3*gn+4*kn;if(or===944){Rn=Gt.indexOf(":",9)+1;var _n=Gt.substring(Rn,Gt.length-1).trim();return _n=Gt.substring(0,Rn).trim()+_n+";",Sn===1||Sn===2&&D(_n,1)?"-webkit-"+_n+_n:_n}if(Sn===0||Sn===2&&!D(Gt,1))return Gt;switch(or){case 1015:return Gt.charCodeAt(10)===97?"-webkit-"+Gt+Gt:Gt;case 951:return Gt.charCodeAt(3)===116?"-webkit-"+Gt+Gt:Gt;case 963:return Gt.charCodeAt(5)===110?"-webkit-"+Gt+Gt:Gt;case 1009:if(Gt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Gt+Gt;case 978:return"-webkit-"+Gt+"-moz-"+Gt+Gt;case 1019:case 983:return"-webkit-"+Gt+"-moz-"+Gt+"-ms-"+Gt+Gt;case 883:if(Gt.charCodeAt(8)===45)return"-webkit-"+Gt+Gt;if(0<Gt.indexOf("image-set(",11))return Gt.replace(xn,"$1-webkit-$2")+Gt;break;case 932:if(Gt.charCodeAt(4)===45)switch(Gt.charCodeAt(5)){case 103:return"-webkit-box-"+Gt.replace("-grow","")+"-webkit-"+Gt+"-ms-"+Gt.replace("grow","positive")+Gt;case 115:return"-webkit-"+Gt+"-ms-"+Gt.replace("shrink","negative")+Gt;case 98:return"-webkit-"+Gt+"-ms-"+Gt.replace("basis","preferred-size")+Gt}return"-webkit-"+Gt+"-ms-"+Gt+Gt;case 964:return"-webkit-"+Gt+"-ms-flex-"+Gt+Gt;case 1023:if(Gt.charCodeAt(8)!==99)break;return _n=Gt.substring(Gt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+_n+"-webkit-"+Gt+"-ms-flex-pack"+_n+Gt;case 1005:return qe.test(Gt)?Gt.replace(Fe,":-webkit-")+Gt.replace(Fe,":-moz-")+Gt:Gt;case 1e3:switch(_n=Gt.substring(13).trim(),Zn=_n.indexOf("-")+1,_n.charCodeAt(0)+_n.charCodeAt(Zn)){case 226:_n=Gt.replace(xt,"tb");break;case 232:_n=Gt.replace(xt,"tb-rl");break;case 220:_n=Gt.replace(xt,"lr");break;default:return Gt}return"-webkit-"+Gt+"-ms-"+_n+Gt;case 1017:if(Gt.indexOf("sticky",9)===-1)break;case 975:switch(Zn=(Gt=Rn).length-10,_n=(Gt.charCodeAt(Zn)===33?Gt.substring(0,Zn):Gt).substring(Rn.indexOf(":",7)+1).trim(),or=_n.charCodeAt(0)+(_n.charCodeAt(7)|0)){case 203:if(111>_n.charCodeAt(8))break;case 115:Gt=Gt.replace(_n,"-webkit-"+_n)+";"+Gt;break;case 207:case 102:Gt=Gt.replace(_n,"-webkit-"+(102<or?"inline-":"")+"box")+";"+Gt.replace(_n,"-webkit-"+_n)+";"+Gt.replace(_n,"-ms-"+_n+"box")+";"+Gt}return Gt+";";case 938:if(Gt.charCodeAt(5)===45)switch(Gt.charCodeAt(6)){case 105:return _n=Gt.replace("-items",""),"-webkit-"+Gt+"-webkit-box-"+_n+"-ms-flex-"+_n+Gt;case 115:return"-webkit-"+Gt+"-ms-flex-item-"+Gt.replace(Xt,"")+Gt;default:return"-webkit-"+Gt+"-ms-flex-line-pack"+Gt.replace("align-content","").replace(Xt,"")+Gt}break;case 973:case 989:if(Gt.charCodeAt(3)!==45||Gt.charCodeAt(4)===122)break;case 931:case 953:if(fn.test(Rn)===!0)return(_n=Rn.substring(Rn.indexOf(":")+1)).charCodeAt(0)===115?a(Rn.replace("stretch","fill-available"),Zn,gn,kn).replace(":fill-available",":stretch"):Gt.replace(_n,"-webkit-"+_n)+Gt.replace(_n,"-moz-"+_n.replace("fill-",""))+Gt;break;case 962:if(Gt="-webkit-"+Gt+(Gt.charCodeAt(5)===102?"-ms-"+Gt:"")+Gt,gn+kn===211&&Gt.charCodeAt(13)===105&&0<Gt.indexOf("transform",10))return Gt.substring(0,Gt.indexOf(";",27)+1).replace(Ye,"$1-webkit-$2")+Gt}return Gt}function D(Rn,Zn){var gn=Rn.indexOf(Zn===1?":":"{"),kn=Rn.substring(0,Zn!==3?gn:10);return gn=Rn.substring(gn+1,Rn.length-1),Kn(Zn!==2?kn:kn.replace(tn,"$1"),gn,Zn)}function B(Rn,Zn){var gn=a(Zn,Zn.charCodeAt(0),Zn.charCodeAt(1),Zn.charCodeAt(2));return gn!==Zn+";"?gn.replace(en," or ($1)").substring(4):"("+Zn+")"}function j(Rn,Zn,gn,kn,Gt,or,_n,fr,yr,Ar){for(var Yn=0,vr=Zn,mr;Yn<jn;++Yn)switch(mr=Qn[Yn].call(ge,Rn,vr,gn,kn,Gt,or,_n,fr,yr,Ar)){case void 0:case!1:case!0:case null:break;default:vr=mr}if(vr!==Zn)return vr}function U(Rn){switch(Rn){case void 0:case null:jn=Qn.length=0;break;default:if(typeof Rn=="function")Qn[jn++]=Rn;else if(typeof Rn=="object")for(var Zn=0,gn=Rn.length;Zn<gn;++Zn)U(Rn[Zn]);else Wn=!!Rn|0}return U}function Y(Rn){return Rn=Rn.prefix,Rn!==void 0&&(Kn=null,Rn?typeof Rn!="function"?Sn=1:(Sn=2,Kn=Rn):Sn=0),Y}function ge(Rn,Zn){var gn=Rn;if(33>gn.charCodeAt(0)&&(gn=gn.trim()),tr=gn,gn=[tr],0<jn){var kn=j(-1,Zn,gn,gn,Gn,yn,0,0,0,0);kn!==void 0&&typeof kn=="string"&&(Zn=kn)}var Gt=t(ur,gn,Zn,0,0);return 0<jn&&(kn=j(-2,Gt,gn,gn,Gn,yn,Gt.length,0,0,0),kn!==void 0&&(Gt=kn)),tr="",pn=0,yn=Gn=1,Gt}var Se=/^\0+/g,De=/[\0\r\f]/g,Fe=/: */g,qe=/zoo|gra/,Ye=/([,: ])(transform)/g,st=/,\r+?/g,gt=/([\t\r\n ])*\f?&/g,yt=/@(k\w+)\s*(\S*)\s*/,At=/::(place)/g,Bt=/:(read-only)/g,xt=/[svh]\w+-[tblr]{2}/,Ht=/\(\s*(.*)\s*\)/g,en=/([\s\S]*?);/g,Xt=/-self|flex-/g,tn=/[^]*?(:[rp][el]a[\w-]+)[^]*/,fn=/stretch|:\s*\w+\-(?:conte|avail)/,xn=/([^-])(image-set\()/,yn=1,Gn=1,pn=0,Sn=1,ur=[],Qn=[],jn=0,Kn=null,Wn=0,tr="";return ge.use=U,ge.set=Y,n!==void 0&&Y(n),ge}const H3=W3;var wf="/*|*/",V3=wf+"}";function K3(n){n&&pc.current.insert(n+"}")}var pc={current:null},$3=function(t,r,i,a,D,B,j,U,Y,ge){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return pc.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(U===0)return r+wf;break}case 3:switch(U){case 102:case 112:return pc.current.insert(i[0]+r),"";default:return r+(ge===0?wf:"")}case-2:r.split(V3).forEach(K3)}},z3=function(t){t===void 0&&(t={});var r=t.key||"css",i;t.prefix!==void 0&&(i={prefix:t.prefix});var a=new H3(i),D={},B;{B=t.container||document.head;var j=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(j,function(De){var Fe=De.getAttribute("data-emotion-"+r);Fe.split(" ").forEach(function(qe){D[qe]=!0}),De.parentNode!==B&&B.appendChild(De)})}var U;if(a.use(t.stylisPlugins)($3),U=function(Fe,qe,Ye,st){var gt=qe.name;if(pc.current=Ye,!1)var yt;a(Fe,qe.styles),st&&(Se.inserted[gt]=!0)},!1)var Y,ge;var Se={key:r,sheet:new j3({key:r,container:B,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:D,registered:{},insert:U};return Se};const G3=z3;var Z3=!0;function L_(n,t,r){var i="";return r.split(" ").forEach(function(a){n[a]!==void 0?t.push(n[a]):i+=a+" "}),i}var B_=function(t,r,i){var a=t.key+"-"+r.name;if((i===!1||Z3===!1&&t.compat!==void 0)&&t.registered[a]===void 0&&(t.registered[a]=r.styles),t.inserted[r.name]===void 0){var D=r;do{var B=t.insert("."+a,D,t.sheet,!0);D=D.next}while(D!==void 0)}};function Y3(n){for(var t=0,r,i=0,a=n.length;a>=4;++i,a-=4)r=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const J3=Y3;var X3={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const Q3=X3;function q3(n){var t={};return function(r){return t[r]===void 0&&(t[r]=n(r)),t[r]}}const ex=q3;var FK=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,jK="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",tx=/[A-Z]|^ms/g,nx=/_EMO_([^_]+?)_([^]*?)_EMO_/g,k_=function(t){return t.charCodeAt(1)===45},U_=function(t){return t!=null&&typeof t!="boolean"},Cf=ex(function(n){return k_(n)?n:n.replace(tx,"-$&").toLowerCase()}),F_=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(nx,function(i,a,D){return wa={name:a,styles:D,next:wa},a})}return Q3[t]!==1&&!k_(t)&&typeof r=="number"&&r!==0?r+"px":r};if(!1)var WK,HK,VK,KK,$K,zK;var GK=!0;function Ll(n,t,r,i){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return wa={name:r.name,styles:r.styles,next:wa},r.name;if(r.styles!==void 0){var a=r.next;if(a!==void 0)for(;a!==void 0;)wa={name:a.name,styles:a.styles,next:wa},a=a.next;var D=r.styles+";";return D}return rx(n,t,r)}case"function":{if(n!==void 0){var B=wa,j=r(n);return wa=B,Ll(n,t,j,i)}break}case"string":if(!1)var U,Y;break}if(t==null)return r;var ge=t[r];return ge!==void 0&&!i?ge:r}function rx(n,t,r){var i="";if(Array.isArray(r))for(var a=0;a<r.length;a++)i+=Ll(n,t,r[a],!1);else for(var D in r){var B=r[D];if(typeof B!="object")t!=null&&t[B]!==void 0?i+=D+"{"+t[B]+"}":U_(B)&&(i+=Cf(D)+":"+F_(D,B)+";");else if(Array.isArray(B)&&typeof B[0]=="string"&&(t==null||t[B[0]]===void 0))for(var j=0;j<B.length;j++)U_(B[j])&&(i+=Cf(D)+":"+F_(D,B[j])+";");else{var U=Ll(n,t,B,!1);switch(D){case"animation":case"animationName":{i+=Cf(D)+":"+U+";";break}default:i+=D+"{"+U+"}"}}}return i}var j_=/label:\s*([^\s;\n{]+)\s*;/g,ZK,wa,Of=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,D="";wa=void 0;var B=t[0];B==null||B.raw===void 0?(a=!1,D+=Ll(i,r,B,!1)):D+=B[0];for(var j=1;j<t.length;j++)D+=Ll(i,r,t[j],D.charCodeAt(D.length-1)===46),a&&(D+=B[j]);var U;j_.lastIndex=0;for(var Y="",ge;(ge=j_.exec(D))!==null;)Y+="-"+ge[1];var Se=J3(D)+Y;return{name:Se,styles:D,next:wa}},Sf=Object.prototype.hasOwnProperty,W_=(0,dt.createContext)(typeof HTMLElement!="undefined"?G3():null),H_=(0,dt.createContext)({}),YK=W_.Provider,V_=function(t){var r=function(a,D){return(0,dt.createElement)(W_.Consumer,null,function(B){return t(a,B,D)})};return(0,dt.forwardRef)(r)},JK=function(t){return t.replace(/\$/g,"-")},Tf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",XK="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",ox=function(t,r){var i={};for(var a in r)Sf.call(r,a)&&(i[a]=r[a]);if(i[Tf]=t,!1)var D,B;return i},K_=function(t,r,i,a){var D=i===null?r.css:r.css(i);typeof D=="string"&&t.registered[D]!==void 0&&(D=t.registered[D]);var B=r[Tf],j=[D],U="";typeof r.className=="string"?U=L_(t.registered,j,r.className):r.className!=null&&(U=r.className+" ");var Y=Of(j);if(!1)var ge;var Se=B_(t,Y,typeof B=="string");U+=t.key+"-"+Y.name;var De={};for(var Fe in r)Sf.call(r,Fe)&&Fe!=="css"&&Fe!==Tf&&(De[Fe]=r[Fe]);De.ref=a,De.className=U;var qe=(0,dt.createElement)(B,De);return qe},ix=V_(function(n,t,r){return typeof n.css=="function"?(0,dt.createElement)(H_.Consumer,null,function(i){return K_(t,n,i,r)}):K_(t,n,null,r)});function ax(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return Of(t)}const If=ax;var Qr=function(t,r){var i=arguments;if(r==null||!Sf.call(r,"css"))return dt.createElement.apply(void 0,i);var a=i.length,D=new Array(a);D[0]=ix,D[1]=ox(t,r);for(var B=2;B<a;B++)D[B]=i[B];return dt.createElement.apply(null,D)},QK=!1,qK=null,e$=null,sx=function(){var t=If.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},lx=function n(t){for(var r=t.length,i=0,a="";i<r;i++){var D=t[i];if(D!=null){var B=void 0;switch(typeof D){case"boolean":break;case"object":{if(Array.isArray(D))B=n(D);else{B="";for(var j in D)D[j]&&j&&(B&&(B+=" "),B+=j)}break}default:B=D}B&&(a&&(a+=" "),a+=B)}}return a};function ux(n,t,r){var i=[],a=L_(n,i,r);return i.length<2?r:a+t(i)}var cx=V_(function(n,t){return(0,dt.createElement)(H_.Consumer,null,function(r){var i=!1,a=function(){for(var Y=arguments.length,ge=new Array(Y),Se=0;Se<Y;Se++)ge[Se]=arguments[Se];var De=Of(ge,t.registered);return B_(t,De,!1),t.key+"-"+De.name},D=function(){for(var Y=arguments.length,ge=new Array(Y),Se=0;Se<Y;Se++)ge[Se]=arguments[Se];return ux(t.registered,a,lx(ge))},B={css:a,cx:D,theme:r},j=n.children(B);return i=!0,j})});function dx(n,t){if(n==null)return{};var r={},i=Object.keys(n),a,D;for(D=0;D<i.length;D++)a=i[D],!(t.indexOf(a)>=0)&&(r[a]=n[a]);return r}function _s(n,t){if(n==null)return{};var r=dx(n,t),i,a;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(n);for(a=0;a<D.length;a++)i=D[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function eo(){return eo=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},eo.apply(this,arguments)}function fx(n){if(Array.isArray(n))return n}function px(n,t){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,a,D,B,j=[],U=!0,Y=!1;try{if(D=(r=r.call(n)).next,t===0){if(Object(r)!==r)return;U=!1}else for(;!(U=(i=D.call(r)).done)&&(j.push(i.value),j.length!==t);U=!0);}catch(ge){Y=!0,a=ge}finally{try{if(!U&&r.return!=null&&(B=r.return(),Object(B)!==B))return}finally{if(Y)throw a}}return j}}function xf(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function $_(n,t){if(n){if(typeof n=="string")return xf(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xf(n,t)}}function hx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_(n,t){return fx(n)||px(n,t)||$_(n,t)||hx()}function mx(n){if(Array.isArray(n))return xf(n)}function _x(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vx(n){return mx(n)||_x(n)||$_(n)||gx()}function La(n){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(n)}function yx(n,t){if(La(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t||"default");if(La(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function G_(n){var t=yx(n,"string");return La(t)==="symbol"?t:String(t)}function Bi(n,t,r){return t=G_(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Ga(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Z_(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,G_(i.key),i)}}function Za(n,t,r){return t&&Z_(n.prototype,t),r&&Z_(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Df(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Mf(n,t){return Mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Mf(n,t)}function Ya(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Mf(n,t)}function gs(n,t){if(t&&(La(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Df(n)}function ki(n){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ki(n)}function bx(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function Px(n,t){t===void 0&&(t=bx);var r,i=[],a,D=!1;function B(){for(var j=[],U=0;U<arguments.length;U++)j[U]=arguments[U];return D&&r===this&&t(j,i)||(a=n.apply(this,j),D=!0,r=this,i=j),a}return B}const Y_=Px;function Ex(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var wx=wt(35639),J_=function(){};function Cx(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function Ox(n,t,r){var i=[r];if(t&&n)for(var a in t)t.hasOwnProperty(a)&&t[a]&&i.push("".concat(Cx(n,a)));return i.filter(function(D){return D}).map(function(D){return String(D).trim()}).join(" ")}var X_=function(t){return Array.isArray(t)?t.filter(Boolean):La(t)==="object"&&t!==null?[t]:[]};function t$(n,t,r){if(r){var i=r(n,t);if(typeof i=="string")return i}return n}function Af(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Q_(n){return Af(n)?window.pageYOffset:n.scrollTop}function hc(n,t){if(Af(n)){window.scrollTo(0,t);return}n.scrollTop=t}function Sx(n){var t=getComputedStyle(n),r=t.position==="absolute",i=/(auto|scroll)/,a=document.documentElement;if(t.position==="fixed")return a;for(var D=n;D=D.parentElement;)if(t=getComputedStyle(D),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return D;return a}function Tx(n,t,r,i){return r*((n=n/i-1)*n*n+1)+t}function mc(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:J_,a=Q_(n),D=t-a,B=10,j=0;function U(){j+=B;var Y=Tx(j,a,D,r);hc(n,Y),j<r?window.requestAnimationFrame(U):i(n)}U()}function Ix(n,t){var r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),a=t.offsetHeight/3;i.bottom+a>r.bottom?hc(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+a,n.scrollHeight)):i.top-a<r.top&&hc(n,Math.max(t.offsetTop-a,0))}function xx(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function q_(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}function Dx(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(n){return!1}}function eg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function tg(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(i){Bi(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ng(n){var t=Mx();return function(){var i=ki(n),a;if(t){var D=ki(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return gs(this,a)}}function Mx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function Ax(n){var t=n.maxHeight,r=n.menuEl,i=n.minHeight,a=n.placement,D=n.shouldScroll,B=n.isFixedPosition,j=n.theme,U=j.spacing,Y=Sx(r),ge={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return ge;var Se=Y.getBoundingClientRect(),De=Se.height,Fe=r.getBoundingClientRect(),qe=Fe.bottom,Ye=Fe.height,st=Fe.top,gt=r.offsetParent.getBoundingClientRect(),yt=gt.top,At=window.innerHeight,Bt=Q_(Y),xt=parseInt(getComputedStyle(r).marginBottom,10),Ht=parseInt(getComputedStyle(r).marginTop,10),en=yt-Ht,Xt=At-st,tn=en+Bt,fn=De-Bt-st,xn=qe-At+Bt+xt,yn=Bt+st-Ht,Gn=160;switch(a){case"auto":case"bottom":if(Xt>=Ye)return{placement:"bottom",maxHeight:t};if(fn>=Ye&&!B)return D&&mc(Y,xn,Gn),{placement:"bottom",maxHeight:t};if(!B&&fn>=i||B&&Xt>=i){D&&mc(Y,xn,Gn);var pn=B?Xt-xt:fn-xt;return{placement:"bottom",maxHeight:pn}}if(a==="auto"||B){var Sn=t,ur=B?en:tn;return ur>=i&&(Sn=Math.min(ur-xt-U.controlHeight,t)),{placement:"top",maxHeight:Sn}}if(a==="bottom")return hc(Y,xn),{placement:"bottom",maxHeight:t};break;case"top":if(en>=Ye)return{placement:"top",maxHeight:t};if(tn>=Ye&&!B)return D&&mc(Y,yn,Gn),{placement:"top",maxHeight:t};if(!B&&tn>=i||B&&en>=i){var Qn=t;return(!B&&tn>=i||B&&en>=i)&&(Qn=B?en-Ht:tn-Ht),D&&mc(Y,yn,Gn),{placement:"top",maxHeight:Qn}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return ge}function Nx(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var Nf=function(t){return t==="auto"?"bottom":t},Rx=function(t){var r,i=t.placement,a=t.theme,D=a.borderRadius,B=a.spacing,j=a.colors;return r={label:"menu"},Bi(r,Nx(i),"100%"),Bi(r,"backgroundColor",j.neutral0),Bi(r,"borderRadius",D),Bi(r,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Bi(r,"marginBottom",B.menuGutter),Bi(r,"marginTop",B.menuGutter),Bi(r,"position","absolute"),Bi(r,"width","100%"),Bi(r,"zIndex",1),r},rg=(0,dt.createContext)({getPortalPlacement:null}),og=function(n){Ya(r,n);var t=ng(r);function r(){var i;Ga(this,r);for(var a=arguments.length,D=new Array(a),B=0;B<a;B++)D[B]=arguments[B];return i=t.call.apply(t,[this].concat(D)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.getPlacement=function(j){var U=i.props,Y=U.minMenuHeight,ge=U.maxMenuHeight,Se=U.menuPlacement,De=U.menuPosition,Fe=U.menuShouldScrollIntoView,qe=U.theme;if(j){var Ye=De==="fixed",st=Fe&&!Ye,gt=Ax({maxHeight:ge,menuEl:j,minHeight:Y,placement:Se,shouldScroll:st,isFixedPosition:Ye,theme:qe}),yt=i.context.getPortalPlacement;yt&&yt(gt),i.setState(gt)}},i.getUpdatedProps=function(){var j=i.props.menuPlacement,U=i.state.placement||Nf(j);return tg(tg({},i.props),{},{placement:U,maxHeight:i.state.maxHeight})},i}return Za(r,[{key:"render",value:function(){var a=this.props.children;return a({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(dt.Component);og.contextType=rg;var Lx=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.innerRef,j=t.innerProps;return Qr("div",eo({css:D("menu",t),className:a({menu:!0},i)},j,{ref:B}),r)},Bx=function(t){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return{maxHeight:r,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},kx=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.isMulti,j=t.innerRef,U=t.innerProps;return Qr("div",eo({css:D("menuList",t),className:a({"menu-list":!0,"menu-list--is-multi":B},i),ref:j},U),r)},ig=function(t){var r=t.theme,i=r.spacing.baseUnit,a=r.colors;return{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},Ux=ig,Fx=ig,ag=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.innerProps;return Qr("div",eo({css:D("noOptionsMessage",t),className:a({"menu-notice":!0,"menu-notice--no-options":!0},i)},B),r)};ag.defaultProps={children:"No options"};var sg=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.innerProps;return Qr("div",eo({css:D("loadingMessage",t),className:a({"menu-notice":!0,"menu-notice--loading":!0},i)},B),r)};sg.defaultProps={children:"Loading..."};var jx=function(t){var r=t.rect,i=t.offset,a=t.position;return{left:r.left,position:a,top:i,width:r.width,zIndex:1}},Wx=function(n){Ya(r,n);var t=ng(r);function r(){var i;Ga(this,r);for(var a=arguments.length,D=new Array(a),B=0;B<a;B++)D[B]=arguments[B];return i=t.call.apply(t,[this].concat(D)),i.state={placement:null},i.getPortalPlacement=function(j){var U=j.placement,Y=Nf(i.props.menuPlacement);U!==Y&&i.setState({placement:U})},i}return Za(r,[{key:"render",value:function(){var a=this.props,D=a.appendTo,B=a.children,j=a.controlElement,U=a.menuPlacement,Y=a.menuPosition,ge=a.getStyles,Se=Y==="fixed";if(!D&&!Se||!j)return null;var De=this.state.placement||Nf(U),Fe=xx(j),qe=Se?0:window.pageYOffset,Ye=Fe[De]+qe,st={offset:Ye,position:Y,rect:Fe},gt=Qr("div",{css:ge("menuPortal",st)},B);return Qr(rg.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},D?(0,dt.createPortal)(gt,D):gt)}}]),r}(dt.Component),lg=Array.isArray,ug=Object.keys,Hx=Object.prototype.hasOwnProperty;function Rf(n,t){if(n===t)return!0;if(n&&t&&La(n)=="object"&&La(t)=="object"){var r=lg(n),i=lg(t),a,D,B;if(r&&i){if(D=n.length,D!=t.length)return!1;for(a=D;a--!==0;)if(!Rf(n[a],t[a]))return!1;return!0}if(r!=i)return!1;var j=n instanceof Date,U=t instanceof Date;if(j!=U)return!1;if(j&&U)return n.getTime()==t.getTime();var Y=n instanceof RegExp,ge=t instanceof RegExp;if(Y!=ge)return!1;if(Y&&ge)return n.toString()==t.toString();var Se=ug(n);if(D=Se.length,D!==ug(t).length)return!1;for(a=D;a--!==0;)if(!Hx.call(t,Se[a]))return!1;for(a=D;a--!==0;)if(B=Se[a],!(B==="_owner"&&n.$$typeof)&&!Rf(n[B],t[B]))return!1;return!0}return n!==n&&t!==t}function Vx(n,t){try{return Rf(n,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}var Kx=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":null,pointerEvents:r?"none":null,position:"relative"}},$x=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.innerProps,j=t.isDisabled,U=t.isRtl;return Qr("div",eo({css:D("container",t),className:a({"--is-disabled":j,"--is-rtl":U},i)},B),r)},zx=function(t){var r=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},Gx=function(t){var r=t.children,i=t.className,a=t.cx,D=t.isMulti,B=t.getStyles,j=t.hasValue;return Qr("div",{css:B("valueContainer",t),className:a({"value-container":!0,"value-container--is-multi":D,"value-container--has-value":j},i)},r)},Zx=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Yx=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles;return Qr("div",{css:D("indicatorsContainer",t),className:a({indicators:!0},i)},r)};function cg(){var n=Ex([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return cg=function(){return n},n}function n$(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Jx={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},dg=function(t){var r=t.size,i=_s(t,["size"]);return Qr("svg",eo({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Jx},i))},Lf=function(t){return Qr(dg,eo({size:20},t),Qr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},fg=function(t){return Qr(dg,eo({size:20},t),Qr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},pg=function(t){var r=t.isFocused,i=t.theme,a=i.spacing.baseUnit,D=i.colors;return{label:"indicatorContainer",color:r?D.neutral60:D.neutral20,display:"flex",padding:a*2,transition:"color 150ms",":hover":{color:r?D.neutral80:D.neutral40}}},Xx=pg,Qx=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.innerProps;return Qr("div",eo({},B,{css:D("dropdownIndicator",t),className:a({indicator:!0,"dropdown-indicator":!0},i)}),r||Qr(fg,null))},qx=pg,e9=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.innerProps;return Qr("div",eo({},B,{css:D("clearIndicator",t),className:a({indicator:!0,"clear-indicator":!0},i)}),r||Qr(Lf,null))},t9=function(t){var r=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,D=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:r?D.neutral10:D.neutral20,marginBottom:a*2,marginTop:a*2,width:1}},n9=function(t){var r=t.className,i=t.cx,a=t.getStyles,D=t.innerProps;return Qr("span",eo({},D,{css:a("indicatorSeparator",t),className:i({"indicator-separator":!0},r)}))},r9=sx(cg()),o9=function(t){var r=t.isFocused,i=t.size,a=t.theme,D=a.colors,B=a.spacing.baseUnit;return{label:"loadingIndicator",color:r?D.neutral60:D.neutral20,display:"flex",padding:B*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},Bf=function(t){var r=t.delay,i=t.offset;return Qr("span",{css:If({animation:"".concat(r9," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},hg=function(t){var r=t.className,i=t.cx,a=t.getStyles,D=t.innerProps,B=t.isRtl;return Qr("div",eo({},D,{css:a("loadingIndicator",t),className:i({indicator:!0,"loading-indicator":!0},r)}),Qr(Bf,{delay:0,offset:B}),Qr(Bf,{delay:160,offset:!0}),Qr(Bf,{delay:320,offset:!B}))};hg.defaultProps={size:4};var i9=function(t){var r=t.isDisabled,i=t.isFocused,a=t.theme,D=a.colors,B=a.borderRadius,j=a.spacing;return{label:"control",alignItems:"center",backgroundColor:r?D.neutral5:D.neutral0,borderColor:r?D.neutral10:i?D.primary:D.neutral20,borderRadius:B,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(D.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:j.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?D.primary:D.neutral30}}},a9=function(t){var r=t.children,i=t.cx,a=t.getStyles,D=t.className,B=t.isDisabled,j=t.isFocused,U=t.innerRef,Y=t.innerProps,ge=t.menuIsOpen;return Qr("div",eo({ref:U,css:a("control",t),className:i({control:!0,"control--is-disabled":B,"control--is-focused":j,"control--menu-is-open":ge},D)},Y),r)};function mg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function s9(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mg(Object(r),!0).forEach(function(i){Bi(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):mg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var l9=function(t){var r=t.theme.spacing;return{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},u9=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.Heading,j=t.headingProps,U=t.label,Y=t.theme,ge=t.selectProps;return Qr("div",{css:D("group",t),className:a({group:!0},i)},Qr(B,eo({},j,{selectProps:ge,theme:Y,getStyles:D,cx:a}),U),Qr("div",null,r))},c9=function(t){var r=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"}},d9=function(t){var r=t.className,i=t.cx,a=t.getStyles,D=t.theme,B=t.selectProps,j=_s(t,["className","cx","getStyles","theme","selectProps"]);return Qr("div",eo({css:a("groupHeading",s9({theme:D},j)),className:i({"group-heading":!0},r)},j))};function _g(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function f9(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_g(Object(r),!0).forEach(function(i){Bi(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var p9=function(t){var r=t.isDisabled,i=t.theme,a=i.spacing,D=i.colors;return{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,visibility:r?"hidden":"visible",color:D.neutral80}},h9=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},m9=function(t){var r=t.className,i=t.cx,a=t.getStyles,D=t.innerRef,B=t.isHidden,j=t.isDisabled,U=t.theme,Y=t.selectProps,ge=_s(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return Qr("div",{css:a("input",f9({theme:U},ge))},Qr(wx.Z,eo({className:i({input:!0},r),inputRef:D,inputStyle:h9(B),disabled:j},ge)))};function gg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function kf(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gg(Object(r),!0).forEach(function(i){Bi(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var _9=function(t){var r=t.theme,i=r.spacing,a=r.borderRadius,D=r.colors;return{label:"multiValue",backgroundColor:D.neutral10,borderRadius:a/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},g9=function(t){var r=t.theme,i=r.borderRadius,a=r.colors,D=t.cropWithEllipsis;return{borderRadius:i/2,color:a.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:D?"ellipsis":null,whiteSpace:"nowrap"}},v9=function(t){var r=t.theme,i=r.spacing,a=r.borderRadius,D=r.colors,B=t.isFocused;return{alignItems:"center",borderRadius:a/2,backgroundColor:B&&D.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:D.dangerLight,color:D.danger}}},vg=function(t){var r=t.children,i=t.innerProps;return Qr("div",i,r)},y9=vg,b9=vg;function P9(n){var t=n.children,r=n.innerProps;return Qr("div",r,t||Qr(Lf,{size:14}))}var yg=function(t){var r=t.children,i=t.className,a=t.components,D=t.cx,B=t.data,j=t.getStyles,U=t.innerProps,Y=t.isDisabled,ge=t.removeProps,Se=t.selectProps,De=a.Container,Fe=a.Label,qe=a.Remove;return Qr(cx,null,function(Ye){var st=Ye.css,gt=Ye.cx;return Qr(De,{data:B,innerProps:kf(kf({},U),{},{className:gt(st(j("multiValue",t)),D({"multi-value":!0,"multi-value--is-disabled":Y},i))}),selectProps:Se},Qr(Fe,{data:B,innerProps:{className:gt(st(j("multiValueLabel",t)),D({"multi-value__label":!0},i))},selectProps:Se},r),Qr(qe,{data:B,innerProps:kf({className:gt(st(j("multiValueRemove",t)),D({"multi-value__remove":!0},i))},ge),selectProps:Se}))})};yg.defaultProps={cropWithEllipsis:!0};var E9=function(t){var r=t.isDisabled,i=t.isFocused,a=t.isSelected,D=t.theme,B=D.spacing,j=D.colors;return{label:"option",backgroundColor:a?j.primary:i?j.primary25:"transparent",color:r?j.neutral20:a?j.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(B.baseUnit*2,"px ").concat(B.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!r&&(a?j.primary:j.primary50)}}},w9=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.isDisabled,j=t.isFocused,U=t.isSelected,Y=t.innerRef,ge=t.innerProps;return Qr("div",eo({css:D("option",t),className:a({option:!0,"option--is-disabled":B,"option--is-focused":j,"option--is-selected":U},i),ref:Y},ge),r)},C9=function(t){var r=t.theme,i=r.spacing,a=r.colors;return{label:"placeholder",color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},O9=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.innerProps;return Qr("div",eo({css:D("placeholder",t),className:a({placeholder:!0},i)},B),r)},S9=function(t){var r=t.isDisabled,i=t.theme,a=i.spacing,D=i.colors;return{label:"singleValue",color:r?D.neutral40:D.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2,maxWidth:"calc(100% - ".concat(a.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},T9=function(t){var r=t.children,i=t.className,a=t.cx,D=t.getStyles,B=t.isDisabled,j=t.innerProps;return Qr("div",eo({css:D("singleValue",t),className:a({"single-value":!0,"single-value--is-disabled":B},i)},j),r)};function bg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Pg(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bg(Object(r),!0).forEach(function(i){Bi(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):bg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}for(var I9={ClearIndicator:e9,Control:a9,DropdownIndicator:Qx,DownChevron:fg,CrossIcon:Lf,Group:u9,GroupHeading:d9,IndicatorsContainer:Yx,IndicatorSeparator:n9,Input:m9,LoadingIndicator:hg,Menu:Lx,MenuList:kx,MenuPortal:Wx,LoadingMessage:sg,NoOptionsMessage:ag,MultiValue:yg,MultiValueContainer:y9,MultiValueLabel:b9,MultiValueRemove:P9,Option:w9,Placeholder:O9,SelectContainer:$x,SingleValue:T9,ValueContainer:Gx},x9=function(t){return Pg(Pg({},I9),t.components)},Uf=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],D9=new RegExp("["+Uf.map(function(n){return n.letters}).join("")+"]","g"),Eg={},Ff=0;Ff<Uf.length;Ff++)for(var jf=Uf[Ff],Wf=0;Wf<jf.letters.length;Wf++)Eg[jf.letters[Wf]]=jf.base;var wg=function(t){return t.replace(D9,function(r){return Eg[r]})};function Cg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function M9(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cg(Object(r),!0).forEach(function(i){Bi(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Og=function(t){return t.replace(/^\s+|\s+$/g,"")},A9=function(t){return"".concat(t.label," ").concat(t.value)},N9=function(t){return function(r,i){var a=M9({ignoreCase:!0,ignoreAccents:!0,stringify:A9,trim:!0,matchFrom:"any"},t),D=a.ignoreCase,B=a.ignoreAccents,j=a.stringify,U=a.trim,Y=a.matchFrom,ge=U?Og(i):i,Se=U?Og(j(r)):j(r);return D&&(ge=ge.toLowerCase(),Se=Se.toLowerCase()),B&&(ge=wg(ge),Se=wg(Se)),Y==="start"?Se.substr(0,ge.length)===ge:Se.indexOf(ge)>-1}};function r$(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var R9={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},L9=function(t){return Qr("span",eo({css:R9},t))};function B9(n){var t=n.in,r=n.out,i=n.onExited,a=n.appear,D=n.enter,B=n.exit,j=n.innerRef,U=n.emotion,Y=_s(n,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Qr("input",eo({ref:j},Y,{css:If({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function k9(n){var t=U9();return function(){var i=ki(n),a;if(t){var D=ki(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return gs(this,a)}}function U9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Sg=function(n){Ya(r,n);var t=k9(r);function r(){return Ga(this,r),t.apply(this,arguments)}return Za(r,[{key:"componentDidMount",value:function(){this.props.innerRef((0,dt.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),r}(dt.Component),Tg=["boxSizing","height","overflow","paddingRight","position"],Ig={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function xg(n){n.preventDefault()}function Dg(n){n.stopPropagation()}function Mg(){var n=this.scrollTop,t=this.scrollHeight,r=n+this.offsetHeight;n===0?this.scrollTop=1:r===t&&(this.scrollTop=n-1)}function Ag(){return"ontouchstart"in window||navigator.maxTouchPoints}function F9(n){var t=j9();return function(){var i=ki(n),a;if(t){var D=ki(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return gs(this,a)}}function j9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Ng=!!(window.document&&window.document.createElement),Bl=0,Rg=function(n){Ya(r,n);var t=F9(r);function r(){var i;Ga(this,r);for(var a=arguments.length,D=new Array(a),B=0;B<a;B++)D[B]=arguments[B];return i=t.call.apply(t,[this].concat(D)),i.originalStyles={},i.listenerOptions={capture:!1,passive:!1},i}return Za(r,[{key:"componentDidMount",value:function(){var a=this;if(Ng){var D=this.props,B=D.accountForScrollbars,j=D.touchScrollTarget,U=document.body,Y=U&&U.style;if(B&&Tg.forEach(function(Fe){var qe=Y&&Y[Fe];a.originalStyles[Fe]=qe}),B&&Bl<1){var ge=parseInt(this.originalStyles.paddingRight,10)||0,Se=document.body?document.body.clientWidth:0,De=window.innerWidth-Se+ge||0;Object.keys(Ig).forEach(function(Fe){var qe=Ig[Fe];Y&&(Y[Fe]=qe)}),Y&&(Y.paddingRight="".concat(De,"px"))}U&&Ag()&&(U.addEventListener("touchmove",xg,this.listenerOptions),j&&(j.addEventListener("touchstart",Mg,this.listenerOptions),j.addEventListener("touchmove",Dg,this.listenerOptions))),Bl+=1}}},{key:"componentWillUnmount",value:function(){var a=this;if(Ng){var D=this.props,B=D.accountForScrollbars,j=D.touchScrollTarget,U=document.body,Y=U&&U.style;Bl=Math.max(Bl-1,0),B&&Bl<1&&Tg.forEach(function(ge){var Se=a.originalStyles[ge];Y&&(Y[ge]=Se)}),U&&Ag()&&(U.removeEventListener("touchmove",xg,this.listenerOptions),j&&(j.removeEventListener("touchstart",Mg,this.listenerOptions),j.removeEventListener("touchmove",Dg,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),r}(dt.Component);Rg.defaultProps={accountForScrollbars:!0};function o$(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function W9(n){var t=H9();return function(){var i=ki(n),a;if(t){var D=ki(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return gs(this,a)}}function H9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var V9={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},K9=function(n){Ya(r,n);var t=W9(r);function r(){var i;Ga(this,r);for(var a=arguments.length,D=new Array(a),B=0;B<a;B++)D[B]=arguments[B];return i=t.call.apply(t,[this].concat(D)),i.state={touchScrollTarget:null},i.getScrollTarget=function(j){j!==i.state.touchScrollTarget&&i.setState({touchScrollTarget:j})},i.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},i}return Za(r,[{key:"render",value:function(){var a=this.props,D=a.children,B=a.isEnabled,j=this.state.touchScrollTarget;return B?Qr("div",null,Qr("div",{onClick:this.blurSelectInput,css:V9}),Qr(Sg,{innerRef:this.getScrollTarget},D),j?Qr(Rg,{touchScrollTarget:j}):null):D}}]),r}(dt.PureComponent);function $9(n){var t=z9();return function(){var i=ki(n),a;if(t){var D=ki(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return gs(this,a)}}function z9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var G9=function(n){Ya(r,n);var t=$9(r);function r(){var i;Ga(this,r);for(var a=arguments.length,D=new Array(a),B=0;B<a;B++)D[B]=arguments[B];return i=t.call.apply(t,[this].concat(D)),i.isBottom=!1,i.isTop=!1,i.scrollTarget=void 0,i.touchStart=void 0,i.cancelScroll=function(j){j.preventDefault(),j.stopPropagation()},i.handleEventDelta=function(j,U){var Y=i.props,ge=Y.onBottomArrive,Se=Y.onBottomLeave,De=Y.onTopArrive,Fe=Y.onTopLeave,qe=i.scrollTarget,Ye=qe.scrollTop,st=qe.scrollHeight,gt=qe.clientHeight,yt=i.scrollTarget,At=U>0,Bt=st-gt-Ye,xt=!1;Bt>U&&i.isBottom&&(Se&&Se(j),i.isBottom=!1),At&&i.isTop&&(Fe&&Fe(j),i.isTop=!1),At&&U>Bt?(ge&&!i.isBottom&&ge(j),yt.scrollTop=st,xt=!0,i.isBottom=!0):!At&&-U>Ye&&(De&&!i.isTop&&De(j),yt.scrollTop=0,xt=!0,i.isTop=!0),xt&&i.cancelScroll(j)},i.onWheel=function(j){i.handleEventDelta(j,j.deltaY)},i.onTouchStart=function(j){i.touchStart=j.changedTouches[0].clientY},i.onTouchMove=function(j){var U=i.touchStart-j.changedTouches[0].clientY;i.handleEventDelta(j,U)},i.getScrollTarget=function(j){i.scrollTarget=j},i}return Za(r,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(a){a&&(typeof a.addEventListener=="function"&&a.addEventListener("wheel",this.onWheel,!1),typeof a.addEventListener=="function"&&a.addEventListener("touchstart",this.onTouchStart,!1),typeof a.addEventListener=="function"&&a.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(a){a&&(typeof a.removeEventListener=="function"&&a.removeEventListener("wheel",this.onWheel,!1),typeof a.removeEventListener=="function"&&a.removeEventListener("touchstart",this.onTouchStart,!1),typeof a.removeEventListener=="function"&&a.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return dt.default.createElement(Sg,{innerRef:this.getScrollTarget},this.props.children)}}]),r}(dt.Component);function Z9(n){var t=n.isEnabled,r=t===void 0?!0:t,i=_s(n,["isEnabled"]);return r?dt.default.createElement(G9,i):i.children}var Y9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.isSearchable,a=r.isMulti,D=r.label,B=r.isDisabled,j=r.tabSelectsValue;switch(t){case"menu":return"Use Up and Down to choose options".concat(B?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(j?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(D||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},J9=function(t,r){var i=r.value,a=r.isDisabled;if(i)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.")}},X9=function(t){var r=t.focusedValue,i=t.getOptionLabel,a=t.selectValue;return"value ".concat(i(r)," focused, ").concat(a.indexOf(r)+1," of ").concat(a.length,".")},Q9=function(t){var r=t.focusedOption,i=t.getOptionLabel,a=t.options;return"option ".concat(i(r)," focused").concat(r.isDisabled?" disabled":"",", ").concat(a.indexOf(r)+1," of ").concat(a.length,".")},q9=function(t){var r=t.inputValue,i=t.screenReaderMessage;return"".concat(i).concat(r?" for search term "+r:"",".")},eD=function(t){return t.label},tD=function(t){return t.label},nD=function(t){return t.value},Lg=function(t){return!!t.isDisabled};function Bg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function rD(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(i){_defineProperty(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var oD={clearIndicator:qx,container:Kx,control:i9,dropdownIndicator:Xx,group:l9,groupHeading:c9,indicatorsContainer:Zx,indicatorSeparator:t9,input:p9,loadingIndicator:o9,loadingMessage:Fx,menu:Rx,menuList:Bx,menuPortal:jx,multiValue:_9,multiValueLabel:g9,multiValueRemove:v9,noOptionsMessage:Ux,option:E9,placeholder:C9,singleValue:S9,valueContainer:zx};function i$(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=rD({},n);return Object.keys(t).forEach(function(i){n[i]?r[i]=function(a,D){return t[i](n[i](a,D),D)}:r[i]=t[i]}),r}var iD={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},aD=4,kg=4,sD=38,lD=kg*2,uD={baseUnit:kg,controlHeight:sD,menuGutter:lD},Hf={borderRadius:aD,colors:iD,spacing:uD};function Ug(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Zs(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(r),!0).forEach(function(i){Bi(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function cD(n){var t=dD();return function(){var i=ki(n),a;if(t){var D=ki(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return gs(this,a)}}function dD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var fD={backspaceRemovesValue:!0,blurInputOnSelect:q_(),captureMenuScroll:!q_(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:N9(),formatGroupLabel:eD,getOptionLabel:tD,getOptionValue:nD,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Lg,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Dx(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},pD=1,Fg=function(n){Ya(r,n);var t=cD(r);function r(i){var a;Ga(this,r),a=t.call(this,i),a.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},a.blockOptionHover=!1,a.isComposing=!1,a.clearFocusValueOnUpdate=!1,a.commonProps=void 0,a.components=void 0,a.hasGroups=!1,a.initialTouchX=0,a.initialTouchY=0,a.inputIsHiddenAfterUpdate=void 0,a.instancePrefix="",a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(U){a.controlRef=U},a.focusedOptionRef=null,a.getFocusedOptionRef=function(U){a.focusedOptionRef=U},a.menuListRef=null,a.getMenuListRef=function(U){a.menuListRef=U},a.inputRef=null,a.getInputRef=function(U){a.inputRef=U},a.cacheComponents=function(U){a.components=x9({components:U})},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(U,Y){var ge=a.props,Se=ge.onChange,De=ge.name;Se(U,Zs(Zs({},Y),{},{name:De}))},a.setValue=function(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",ge=arguments.length>2?arguments[2]:void 0,Se=a.props,De=Se.closeMenuOnSelect,Fe=Se.isMulti;a.onInputChange("",{action:"set-value"}),De&&(a.inputIsHiddenAfterUpdate=!Fe,a.onMenuClose()),a.clearFocusValueOnUpdate=!0,a.onChange(U,{action:Y,option:ge})},a.selectOption=function(U){var Y=a.props,ge=Y.blurInputOnSelect,Se=Y.isMulti,De=a.state.selectValue;if(Se)if(a.isOptionSelected(U,De)){var Fe=a.getOptionValue(U);a.setValue(De.filter(function(qe){return a.getOptionValue(qe)!==Fe}),"deselect-option",U),a.announceAriaLiveSelection({event:"deselect-option",context:{value:a.getOptionLabel(U)}})}else a.isOptionDisabled(U,De)?a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(U),isDisabled:!0}}):(a.setValue([].concat(vx(De),[U]),"select-option",U),a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(U)}}));else a.isOptionDisabled(U,De)?a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(U),isDisabled:!0}}):(a.setValue(U,"select-option"),a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(U)}}));ge&&a.blurInput()},a.removeValue=function(U){var Y=a.state.selectValue,ge=a.getOptionValue(U),Se=Y.filter(function(De){return a.getOptionValue(De)!==ge});a.onChange(Se.length?Se:null,{action:"remove-value",removedValue:U}),a.announceAriaLiveSelection({event:"remove-value",context:{value:U?a.getOptionLabel(U):""}}),a.focusInput()},a.clearValue=function(){a.onChange(null,{action:"clear"})},a.popValue=function(){var U=a.state.selectValue,Y=U[U.length-1],ge=U.slice(0,U.length-1);a.announceAriaLiveSelection({event:"pop-value",context:{value:Y?a.getOptionLabel(Y):""}}),a.onChange(ge.length?ge:null,{action:"pop-value",removedValue:Y})},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var U=arguments.length,Y=new Array(U),ge=0;ge<U;ge++)Y[ge]=arguments[ge];return Ox.apply(void 0,[a.props.classNamePrefix].concat(Y))},a.getOptionLabel=function(U){return a.props.getOptionLabel(U)},a.getOptionValue=function(U){return a.props.getOptionValue(U)},a.getStyles=function(U,Y){var ge=oD[U](Y);ge.boxSizing="border-box";var Se=a.props.styles[U];return Se?Se(ge,Y):ge},a.getElementId=function(U){return"".concat(a.instancePrefix,"-").concat(U)},a.getActiveDescendentId=function(){var U=a.props.menuIsOpen,Y=a.state,ge=Y.menuOptions,Se=Y.focusedOption;if(!(!Se||!U)){var De=ge.focusable.indexOf(Se),Fe=ge.render[De];return Fe&&Fe.key}},a.announceAriaLiveSelection=function(U){var Y=U.event,ge=U.context;a.setState({ariaLiveSelection:J9(Y,ge)})},a.announceAriaLiveContext=function(U){var Y=U.event,ge=U.context;a.setState({ariaLiveContext:Y9(Y,Zs(Zs({},ge),{},{label:a.props["aria-label"]}))})},a.onMenuMouseDown=function(U){U.button===0&&(U.stopPropagation(),U.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(U){a.blockOptionHover=!1},a.onControlMouseDown=function(U){var Y=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?U.target.tagName!=="INPUT"&&U.target.tagName!=="TEXTAREA"&&a.onMenuClose():Y&&a.openMenu("first"):(Y&&(a.openAfterFocus=!0),a.focusInput()),U.target.tagName!=="INPUT"&&U.target.tagName!=="TEXTAREA"&&U.preventDefault()},a.onDropdownIndicatorMouseDown=function(U){if(!(U&&U.type==="mousedown"&&U.button!==0)&&!a.props.isDisabled){var Y=a.props,ge=Y.isMulti,Se=Y.menuIsOpen;a.focusInput(),Se?(a.inputIsHiddenAfterUpdate=!ge,a.onMenuClose()):a.openMenu("first"),U.preventDefault(),U.stopPropagation()}},a.onClearIndicatorMouseDown=function(U){U&&U.type==="mousedown"&&U.button!==0||(a.clearValue(),U.stopPropagation(),a.openAfterFocus=!1,U.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(U){typeof a.props.closeMenuOnScroll=="boolean"?U.target instanceof HTMLElement&&Af(U.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(U)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(U){var Y=U.touches,ge=Y&&Y.item(0);ge&&(a.initialTouchX=ge.clientX,a.initialTouchY=ge.clientY,a.userIsDragging=!1)},a.onTouchMove=function(U){var Y=U.touches,ge=Y&&Y.item(0);if(ge){var Se=Math.abs(ge.clientX-a.initialTouchX),De=Math.abs(ge.clientY-a.initialTouchY),Fe=5;a.userIsDragging=Se>Fe||De>Fe}},a.onTouchEnd=function(U){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(U.target)&&a.menuListRef&&!a.menuListRef.contains(U.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(U){a.userIsDragging||a.onControlMouseDown(U)},a.onClearIndicatorTouchEnd=function(U){a.userIsDragging||a.onClearIndicatorMouseDown(U)},a.onDropdownIndicatorTouchEnd=function(U){a.userIsDragging||a.onDropdownIndicatorMouseDown(U)},a.handleInputChange=function(U){var Y=U.currentTarget.value;a.inputIsHiddenAfterUpdate=!1,a.onInputChange(Y,{action:"input-change"}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(U){var Y=a.props,ge=Y.isSearchable,Se=Y.isMulti;a.props.onFocus&&a.props.onFocus(U),a.inputIsHiddenAfterUpdate=!1,a.announceAriaLiveContext({event:"input",context:{isSearchable:ge,isMulti:Se}}),a.setState({isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(U){if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(U),a.onInputChange("",{action:"input-blur"}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(U){a.blockOptionHover||a.state.focusedOption===U||a.setState({focusedOption:U})},a.shouldHideSelectedOptions=function(){var U=a.props,Y=U.hideSelectedOptions,ge=U.isMulti;return Y===void 0?ge:Y},a.onKeyDown=function(U){var Y=a.props,ge=Y.isMulti,Se=Y.backspaceRemovesValue,De=Y.escapeClearsValue,Fe=Y.inputValue,qe=Y.isClearable,Ye=Y.isDisabled,st=Y.menuIsOpen,gt=Y.onKeyDown,yt=Y.tabSelectsValue,At=Y.openMenuOnFocus,Bt=a.state,xt=Bt.focusedOption,Ht=Bt.focusedValue,en=Bt.selectValue;if(!Ye&&!(typeof gt=="function"&&(gt(U),U.defaultPrevented))){switch(a.blockOptionHover=!0,U.key){case"ArrowLeft":if(!ge||Fe)return;a.focusValue("previous");break;case"ArrowRight":if(!ge||Fe)return;a.focusValue("next");break;case"Delete":case"Backspace":if(Fe)return;if(Ht)a.removeValue(Ht);else{if(!Se)return;ge?a.popValue():qe&&a.clearValue()}break;case"Tab":if(a.isComposing||U.shiftKey||!st||!yt||!xt||At&&a.isOptionSelected(xt,en))return;a.selectOption(xt);break;case"Enter":if(U.keyCode===229)break;if(st){if(!xt||a.isComposing)return;a.selectOption(xt);break}return;case"Escape":st?(a.inputIsHiddenAfterUpdate=!1,a.onInputChange("",{action:"menu-close"}),a.onMenuClose()):qe&&De&&a.clearValue();break;case" ":if(Fe)return;if(!st){a.openMenu("first");break}if(!xt)return;a.selectOption(xt);break;case"ArrowUp":st?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":st?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!st)return;a.focusOption("pageup");break;case"PageDown":if(!st)return;a.focusOption("pagedown");break;case"Home":if(!st)return;a.focusOption("first");break;case"End":if(!st)return;a.focusOption("last");break;default:return}U.preventDefault()}},a.buildMenuOptions=function(U,Y){var ge=U.inputValue,Se=ge===void 0?"":ge,De=U.options,Fe=function(Ye,st){var gt=a.isOptionDisabled(Ye,Y),yt=a.isOptionSelected(Ye,Y),At=a.getOptionLabel(Ye),Bt=a.getOptionValue(Ye);if(!(a.shouldHideSelectedOptions()&&yt||!a.filterOption({label:At,value:Bt,data:Ye},Se))){var xt=gt?void 0:function(){return a.onOptionHover(Ye)},Ht=gt?void 0:function(){return a.selectOption(Ye)},en="".concat(a.getElementId("option"),"-").concat(st);return{innerProps:{id:en,onClick:Ht,onMouseMove:xt,onMouseOver:xt,tabIndex:-1},data:Ye,isDisabled:gt,isSelected:yt,key:en,label:At,type:"option",value:Bt}}};return De.reduce(function(qe,Ye,st){if(Ye.options){a.hasGroups||(a.hasGroups=!0);var gt=Ye.options,yt=gt.map(function(xt,Ht){var en=Fe(xt,"".concat(st,"-").concat(Ht));return en&&qe.focusable.push(xt),en}).filter(Boolean);if(yt.length){var At="".concat(a.getElementId("group"),"-").concat(st);qe.render.push({type:"group",key:At,data:Ye,options:yt})}}else{var Bt=Fe(Ye,"".concat(st));Bt&&(qe.render.push(Bt),qe.focusable.push(Ye))}return qe},{render:[],focusable:[]})};var D=i.value;a.cacheComponents=Y_(a.cacheComponents,Vx).bind(Df(a)),a.cacheComponents(i.components),a.instancePrefix="react-select-"+(a.props.instanceId||++pD);var B=X_(D);a.buildMenuOptions=Y_(a.buildMenuOptions,function(U,Y){var ge=U,Se=z_(ge,2),De=Se[0],Fe=Se[1],qe=Y,Ye=z_(qe,2),st=Ye[0],gt=Ye[1];return Fe===gt&&De.inputValue===st.inputValue&&De.options===st.options}).bind(Df(a));var j=i.menuIsOpen?a.buildMenuOptions(i,B):{render:[],focusable:[]};return a.state.menuOptions=j,a.state.selectValue=B,a}return Za(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){var D=this.props,B=D.options,j=D.value,U=D.menuIsOpen,Y=D.inputValue;if(this.cacheComponents(a.components),a.value!==j||a.options!==B||a.menuIsOpen!==U||a.inputValue!==Y){var ge=X_(a.value),Se=a.menuIsOpen?this.buildMenuOptions(a,ge):{render:[],focusable:[]},De=this.getNextFocusedValue(ge),Fe=this.getNextFocusedOption(Se.focusable);this.setState({menuOptions:Se,selectValue:ge,focusedOption:Fe,focusedValue:De})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(a){var D=this.props,B=D.isDisabled,j=D.menuIsOpen,U=this.state.isFocused;(U&&!B&&a.isDisabled||U&&j&&!a.menuIsOpen)&&this.focusInput(),U&&B&&!a.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ix(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var a=this.props,D=a.isSearchable,B=a.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:D,isMulti:B}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,D){this.props.onInputChange(a,D)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var D=this,B=this.state,j=B.selectValue,U=B.isFocused,Y=this.buildMenuOptions(this.props,j),ge=this.props,Se=ge.isMulti,De=ge.tabSelectsValue,Fe=a==="first"?0:Y.focusable.length-1;if(!Se){var qe=Y.focusable.indexOf(j[0]);qe>-1&&(Fe=qe)}this.scrollToFocusedOptionOnUpdate=!(U&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:Y,focusedValue:null,focusedOption:Y.focusable[Fe]},function(){D.onMenuOpen(),D.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:De}})})}},{key:"focusValue",value:function(a){var D=this.props,B=D.isMulti,j=D.isSearchable,U=this.state,Y=U.selectValue,ge=U.focusedValue;if(B){this.setState({focusedOption:null});var Se=Y.indexOf(ge);ge||(Se=-1,this.announceAriaLiveContext({event:"value"}));var De=Y.length-1,Fe=-1;if(Y.length){switch(a){case"previous":Se===0?Fe=0:Se===-1?Fe=De:Fe=Se-1;break;case"next":Se>-1&&Se<De&&(Fe=Se+1);break}Fe===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:j,isMulti:B}}),this.setState({inputIsHidden:Fe!==-1,focusedValue:Y[Fe]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",D=this.props,B=D.pageSize,j=D.tabSelectsValue,U=this.state,Y=U.focusedOption,ge=U.menuOptions,Se=ge.focusable;if(Se.length){var De=0,Fe=Se.indexOf(Y);Y||(Fe=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:j}})),a==="up"?De=Fe>0?Fe-1:Se.length-1:a==="down"?De=(Fe+1)%Se.length:a==="pageup"?(De=Fe-B,De<0&&(De=0)):a==="pagedown"?(De=Fe+B,De>Se.length-1&&(De=Se.length-1)):a==="last"&&(De=Se.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Se[De],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Lg(Se[De]),tabSelectsValue:j}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Hf):Zs(Zs({},Hf),this.props.theme):Hf}},{key:"getCommonProps",value:function(){var a=this.clearValue,D=this.cx,B=this.getStyles,j=this.getValue,U=this.setValue,Y=this.selectOption,ge=this.props,Se=ge.isMulti,De=ge.isRtl,Fe=ge.options,qe=this.hasValue();return{cx:D,clearValue:a,getStyles:B,getValue:j,hasValue:qe,isMulti:Se,isRtl:De,options:Fe,selectOption:Y,setValue:U,selectProps:ge,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(a){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var D=this.state,B=D.focusedValue,j=D.selectValue,U=j.indexOf(B);if(U>-1){var Y=a.indexOf(B);if(Y>-1)return B;if(U<a.length)return a[U]}return null}},{key:"getNextFocusedOption",value:function(a){var D=this.state.focusedOption;return D&&a.indexOf(D)>-1?D:a[0]}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var a=this.props,D=a.isClearable,B=a.isMulti;return D===void 0?B:D}},{key:"isOptionDisabled",value:function(a,D){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(a,D):!1}},{key:"isOptionSelected",value:function(a,D){var B=this;if(D.indexOf(a)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(a,D);var j=this.getOptionValue(a);return D.some(function(U){return B.getOptionValue(U)===j})}},{key:"filterOption",value:function(a,D){return this.props.filterOption?this.props.filterOption(a,D):!0}},{key:"formatOptionLabel",value:function(a,D){if(typeof this.props.formatOptionLabel=="function"){var B=this.props.inputValue,j=this.state.selectValue;return this.props.formatOptionLabel(a,{context:D,inputValue:B,selectValue:j})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var a=this.state,D=a.ariaLiveContext,B=a.selectValue,j=a.focusedValue,U=a.focusedOption,Y=this.props,ge=Y.options,Se=Y.menuIsOpen,De=Y.inputValue,Fe=Y.screenReaderStatus,qe=j?X9({focusedValue:j,getOptionLabel:this.getOptionLabel,selectValue:B}):"",Ye=U&&Se?Q9({focusedOption:U,getOptionLabel:this.getOptionLabel,options:ge}):"",st=q9({inputValue:De,screenReaderMessage:Fe({count:this.countOptions()})});return"".concat(qe," ").concat(Ye," ").concat(st," ").concat(D)}},{key:"renderInput",value:function(){var a=this.props,D=a.isDisabled,B=a.isSearchable,j=a.inputId,U=a.inputValue,Y=a.tabIndex,ge=a.form,Se=this.components.Input,De=this.state.inputIsHidden,Fe=j||this.getElementId("input"),qe={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!B)return dt.default.createElement(B9,eo({id:Fe,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:J_,onFocus:this.onInputFocus,readOnly:!0,disabled:D,tabIndex:Y,form:ge,value:""},qe));var Ye=this.commonProps,st=Ye.cx,gt=Ye.theme,yt=Ye.selectProps;return dt.default.createElement(Se,eo({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:st,getStyles:this.getStyles,id:Fe,innerRef:this.getInputRef,isDisabled:D,isHidden:De,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:yt,spellCheck:"false",tabIndex:Y,form:ge,theme:gt,type:"text",value:U},qe))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,D=this.components,B=D.MultiValue,j=D.MultiValueContainer,U=D.MultiValueLabel,Y=D.MultiValueRemove,ge=D.SingleValue,Se=D.Placeholder,De=this.commonProps,Fe=this.props,qe=Fe.controlShouldRenderValue,Ye=Fe.isDisabled,st=Fe.isMulti,gt=Fe.inputValue,yt=Fe.placeholder,At=this.state,Bt=At.selectValue,xt=At.focusedValue,Ht=At.isFocused;if(!this.hasValue()||!qe)return gt?null:dt.default.createElement(Se,eo({},De,{key:"placeholder",isDisabled:Ye,isFocused:Ht}),yt);if(st){var en=Bt.map(function(tn,fn){var xn=tn===xt;return dt.default.createElement(B,eo({},De,{components:{Container:j,Label:U,Remove:Y},isFocused:xn,isDisabled:Ye,key:"".concat(a.getOptionValue(tn)).concat(fn),index:fn,removeProps:{onClick:function(){return a.removeValue(tn)},onTouchEnd:function(){return a.removeValue(tn)},onMouseDown:function(Gn){Gn.preventDefault(),Gn.stopPropagation()}},data:tn}),a.formatOptionLabel(tn,"value"))});return en}if(gt)return null;var Xt=Bt[0];return dt.default.createElement(ge,eo({},De,{data:Xt,isDisabled:Ye}),this.formatOptionLabel(Xt,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.components.ClearIndicator,D=this.commonProps,B=this.props,j=B.isDisabled,U=B.isLoading,Y=this.state.isFocused;if(!this.isClearable()||!a||j||!this.hasValue()||U)return null;var ge={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return dt.default.createElement(a,eo({},D,{innerProps:ge,isFocused:Y}))}},{key:"renderLoadingIndicator",value:function(){var a=this.components.LoadingIndicator,D=this.commonProps,B=this.props,j=B.isDisabled,U=B.isLoading,Y=this.state.isFocused;if(!a||!U)return null;var ge={"aria-hidden":"true"};return dt.default.createElement(a,eo({},D,{innerProps:ge,isDisabled:j,isFocused:Y}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.components,D=a.DropdownIndicator,B=a.IndicatorSeparator;if(!D||!B)return null;var j=this.commonProps,U=this.props.isDisabled,Y=this.state.isFocused;return dt.default.createElement(B,eo({},j,{isDisabled:U,isFocused:Y}))}},{key:"renderDropdownIndicator",value:function(){var a=this.components.DropdownIndicator;if(!a)return null;var D=this.commonProps,B=this.props.isDisabled,j=this.state.isFocused,U={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return dt.default.createElement(a,eo({},D,{innerProps:U,isDisabled:B,isFocused:j}))}},{key:"renderMenu",value:function(){var a=this,D=this.components,B=D.Group,j=D.GroupHeading,U=D.Menu,Y=D.MenuList,ge=D.MenuPortal,Se=D.LoadingMessage,De=D.NoOptionsMessage,Fe=D.Option,qe=this.commonProps,Ye=this.state,st=Ye.focusedOption,gt=Ye.menuOptions,yt=this.props,At=yt.captureMenuScroll,Bt=yt.inputValue,xt=yt.isLoading,Ht=yt.loadingMessage,en=yt.minMenuHeight,Xt=yt.maxMenuHeight,tn=yt.menuIsOpen,fn=yt.menuPlacement,xn=yt.menuPosition,yn=yt.menuPortalTarget,Gn=yt.menuShouldBlockScroll,pn=yt.menuShouldScrollIntoView,Sn=yt.noOptionsMessage,ur=yt.onMenuScrollToTop,Qn=yt.onMenuScrollToBottom;if(!tn)return null;var jn=function(kn){var Gt=st===kn.data;return kn.innerRef=Gt?a.getFocusedOptionRef:void 0,dt.default.createElement(Fe,eo({},qe,kn,{isFocused:Gt}),a.formatOptionLabel(kn.data,"menu"))},Kn;if(this.hasOptions())Kn=gt.render.map(function(gn){if(gn.type==="group"){var kn=gn.type,Gt=_s(gn,["type"]),or="".concat(gn.key,"-heading");return dt.default.createElement(B,eo({},qe,Gt,{Heading:j,headingProps:{id:or,data:gn.data},label:a.formatGroupLabel(gn.data)}),gn.options.map(function(_n){return jn(_n)}))}else if(gn.type==="option")return jn(gn)});else if(xt){var Wn=Ht({inputValue:Bt});if(Wn===null)return null;Kn=dt.default.createElement(Se,qe,Wn)}else{var tr=Sn({inputValue:Bt});if(tr===null)return null;Kn=dt.default.createElement(De,qe,tr)}var Rn={minMenuHeight:en,maxMenuHeight:Xt,menuPlacement:fn,menuPosition:xn,menuShouldScrollIntoView:pn},Zn=dt.default.createElement(og,eo({},qe,Rn),function(gn){var kn=gn.ref,Gt=gn.placerProps,or=Gt.placement,_n=Gt.maxHeight;return dt.default.createElement(U,eo({},qe,Rn,{innerRef:kn,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:xt,placement:or}),dt.default.createElement(Z9,{isEnabled:At,onTopArrive:ur,onBottomArrive:Qn},dt.default.createElement(K9,{isEnabled:Gn},dt.default.createElement(Y,eo({},qe,{innerRef:a.getMenuListRef,isLoading:xt,maxHeight:_n}),Kn))))});return yn||xn==="fixed"?dt.default.createElement(ge,eo({},qe,{appendTo:yn,controlElement:this.controlRef,menuPlacement:fn,menuPosition:xn}),Zn):Zn}},{key:"renderFormField",value:function(){var a=this,D=this.props,B=D.delimiter,j=D.isDisabled,U=D.isMulti,Y=D.name,ge=this.state.selectValue;if(!(!Y||j))if(U)if(B){var Se=ge.map(function(qe){return a.getOptionValue(qe)}).join(B);return dt.default.createElement("input",{name:Y,type:"hidden",value:Se})}else{var De=ge.length>0?ge.map(function(qe,Ye){return dt.default.createElement("input",{key:"i-".concat(Ye),name:Y,type:"hidden",value:a.getOptionValue(qe)})}):dt.default.createElement("input",{name:Y,type:"hidden"});return dt.default.createElement("div",null,De)}else{var Fe=ge[0]?this.getOptionValue(ge[0]):"";return dt.default.createElement("input",{name:Y,type:"hidden",value:Fe})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?dt.default.createElement(L9,{"aria-live":"polite"},dt.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),dt.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var a=this.components,D=a.Control,B=a.IndicatorsContainer,j=a.SelectContainer,U=a.ValueContainer,Y=this.props,ge=Y.className,Se=Y.id,De=Y.isDisabled,Fe=Y.menuIsOpen,qe=this.state.isFocused,Ye=this.commonProps=this.getCommonProps();return dt.default.createElement(j,eo({},Ye,{className:ge,innerProps:{id:Se,onKeyDown:this.onKeyDown},isDisabled:De,isFocused:qe}),this.renderLiveRegion(),dt.default.createElement(D,eo({},Ye,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:De,isFocused:qe,menuIsOpen:Fe}),dt.default.createElement(U,eo({},Ye,{isDisabled:De}),this.renderPlaceholderOrValue(),this.renderInput()),dt.default.createElement(B,eo({},Ye,{isDisabled:De}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),r}(dt.Component);Fg.defaultProps=fD;function hD(n){var t=mD();return function(){var i=ki(n),a;if(t){var D=ki(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return gs(this,a)}}function mD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var _D={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},gD=function(t){var r,i;return i=r=function(a){Ya(B,a);var D=hD(B);function B(){var j;Ga(this,B);for(var U=arguments.length,Y=new Array(U),ge=0;ge<U;ge++)Y[ge]=arguments[ge];return j=D.call.apply(D,[this].concat(Y)),j.select=void 0,j.state={inputValue:j.props.inputValue!==void 0?j.props.inputValue:j.props.defaultInputValue,menuIsOpen:j.props.menuIsOpen!==void 0?j.props.menuIsOpen:j.props.defaultMenuIsOpen,value:j.props.value!==void 0?j.props.value:j.props.defaultValue},j.onChange=function(Se,De){j.callProp("onChange",Se,De),j.setState({value:Se})},j.onInputChange=function(Se,De){var Fe=j.callProp("onInputChange",Se,De);j.setState({inputValue:Fe!==void 0?Fe:Se})},j.onMenuOpen=function(){j.callProp("onMenuOpen"),j.setState({menuIsOpen:!0})},j.onMenuClose=function(){j.callProp("onMenuClose"),j.setState({menuIsOpen:!1})},j}return Za(B,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(U){return this.props[U]!==void 0?this.props[U]:this.state[U]}},{key:"callProp",value:function(U){if(typeof this.props[U]=="function"){for(var Y,ge=arguments.length,Se=new Array(ge>1?ge-1:0),De=1;De<ge;De++)Se[De-1]=arguments[De];return(Y=this.props)[U].apply(Y,Se)}}},{key:"render",value:function(){var U=this,Y=this.props,ge=Y.defaultInputValue,Se=Y.defaultMenuIsOpen,De=Y.defaultValue,Fe=_s(Y,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return dt.default.createElement(t,eo({},Fe,{ref:function(Ye){U.select=Ye},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),B}(dt.Component),r.defaultProps=_D,i};function a$(n){var t=vD();return function(){var i=_getPrototypeOf(n),a;if(t){var D=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,D)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function vD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var s$=null,yD=gD(Fg);const bD=yD;var PD=Object.defineProperty,jg=Object.getOwnPropertySymbols,ED=Object.prototype.hasOwnProperty,wD=Object.prototype.propertyIsEnumerable,Wg=(n,t,r)=>t in n?PD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Hg=(n,t)=>{for(var r in t||(t={}))ED.call(t,r)&&Wg(n,r,t[r]);if(jg)for(var r of jg(t))wD.call(t,r)&&Wg(n,r,t[r]);return n};const Vg=(0,e.createContext)({publication:{},pub:{},setPublication:({pub:n,publication:t})=>{}});Vg.displayName="PublishContext";const l$=n=>{const t=r=>{const i=Kg();return h(n,Hg(Hg({},i),r))};return t.displayName=`withPublishContext(${n.name||n.displayName||"Anonymous"})`,t},Kg=()=>(0,o.qp)(Vg);var CD=Object.defineProperty,OD=Object.defineProperties,SD=Object.getOwnPropertyDescriptors,_c=Object.getOwnPropertySymbols,$g=Object.prototype.hasOwnProperty,zg=Object.prototype.propertyIsEnumerable,Gg=(n,t,r)=>t in n?CD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vs=(n,t)=>{for(var r in t||(t={}))$g.call(t,r)&&Gg(n,r,t[r]);if(_c)for(var r of _c(t))zg.call(t,r)&&Gg(n,r,t[r]);return n},gc=(n,t)=>OD(n,SD(t)),TD=(n,t)=>{var r={};for(var i in n)$g.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&_c)for(var i of _c(n))t.indexOf(i)<0&&zg.call(n,i)&&(r[i]=n[i]);return r};const ID=()=>null,Zg=n=>{var t=n,{variant:r="default",isSearchable:i=!1,className:a}=t,D=TD(t,["variant","isSearchable","className"]),B,j;const{pub:U}=Kg();return(0,e.h)(bD,gc(vs({},D),{isDisabled:D.isDisabled,className:u()("themed-select",a),components:vs({IndicatorSeparator:ID},D.components),theme:(0,T.getSelectTheme)({primary:((B=U.theme)==null?void 0:B.background_pop_color)||U.theme_var_background_pop||"#1a1a1a",neutral0:r==="light"?"white":(j=U.theme)==null?void 0:j.web_bg_color}),isSearchable:i,styles:vs(vs({container:Y=>gc(vs({},Y),{flex:1}),dropdownIndicator:Y=>gc(vs({},Y),{color:"#1a1a1a"})},D.showOnlyIndicator&&{valueContainer:Y=>gc(vs({},Y),{width:0,padding:0})}),D.styles)}))};var xD=Object.defineProperty,DD=Object.defineProperties,MD=Object.getOwnPropertyDescriptors,Yg=Object.getOwnPropertySymbols,AD=Object.prototype.hasOwnProperty,ND=Object.prototype.propertyIsEnumerable,Jg=(n,t,r)=>t in n?xD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xg=(n,t)=>{for(var r in t||(t={}))AD.call(t,r)&&Jg(n,r,t[r]);if(Yg)for(var r of Yg(t))ND.call(t,r)&&Jg(n,r,t[r]);return n},RD=(n,t)=>DD(n,MD(t)),kl=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Qg=2,qg=5,LD=35,BD=255,kD=({isExpired:n,isPublished:t,remainingHours:r})=>n?"POLL CLOSED":t?r>=168?"":r>=48?`${Math.floor(r/24)} DAYS REMAINING`:r>=24?"1 DAY REMAINING":r>=2?`${r} HOURS REMAINING`:r==1?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING":"NOT PUBLISHED",Vf=n=>n>1?`Choice ${n+1} (optional)`:`Choice ${n+1}`,UD=({question:n,expiry:t,audience:r,options:i})=>{const a=i.filter(Boolean);if(n.length<1||n.length>255)return"The question must be between 1 and 255 characters long.";if(a.length<2||a.length>5)return"Your poll must have 2 to 5 options.";if(a.some(D=>D.length<1||D.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(r)){if(![1,24,72,168,999999].includes(t))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},FD=({index:n,text:t,onChange:r,onDelete:i,showDeleteButton:a,disabled:D})=>(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChange:B=>{r(n,B.currentTarget.value)},value:t,disabled:D,placeholder:Vf(n),maxLength:LD}),(0,e.h)("button",{className:u()("poll-remove-option",{"is-hidden":!a}),onClick:()=>i(n),disabled:D,tabIndex:a?void 0:-1},(0,e.h)(Hs.Z,null))),jD=({poll:n,isOpen:t,onClose:r,onSave:i,isPublished:a,totalVotes:D,shouldShowAudiencePicker:B})=>{let j=n.options.map(jn=>jn.label);j.length>1?j.length<qg&&j.push(""):j=["",""];const{payments_state:U}=(0,Bd.I)()||{},Y=B&&U==="enabled"?"only_paid":"all_subscribers",[ge,Se]=(0,o.eJ)(n.question||""),[De,Fe]=(0,o.eJ)(j),[qe,Ye]=(0,o.eJ)(n.expiry||24),[st,gt]=(0,o.eJ)(n.audience||Y),[yt,At]=(0,o.eJ)(!1),[Bt,xt]=(0,o.eJ)(n.votes_hidden||!1),[Ht,en]=(0,o.eJ)(null),Xt=UD({question:ge,options:De,expiry:qe,audience:st,votes_hidden:Bt}),tn=(0,o.I4)(()=>{var jn;Se(n.question||""),Fe(((jn=n.options)==null?void 0:jn.map(Kn=>Kn.label))||["",""]),Ye(n.expiry||24),gt(n.audience||Y),xt(n.votes_hidden||!1),en(null),r()},[Se,Fe,Ye,gt,n,r]),fn=(0,o.I4)(({value:jn})=>{["only_paid","all_subscribers"].includes(jn)&&gt(jn)},[gt]),xn=st==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",yn=(0,o.I4)(({value:jn})=>{const Kn=Number(jn);[1,24,72,168,999999].includes(Kn)&&Ye(Kn)},[Ye]),Gn=qe===1?"1 hour":qe===24?"1 day":qe===72?"3 days":qe===168?"1 week":"Forever",pn=(0,o.I4)((jn,Kn)=>{const Wn=[...De];Wn.splice(jn,1,Kn),jn===Wn.length-1&&Wn.length<qg&&Wn.push(""),Fe(Wn)},[De,Fe]),Sn=(0,o.I4)(jn=>{if(De.length<=Qg||jn>=De.length)return;const Kn=[...De];Kn.splice(jn,1),Kn[Kn.length-1].length&&Kn.push(""),Fe(Kn)},[De,Fe]),ur=Array(Math.max(2,De.length||0)).fill("").map((jn,Kn)=>De.length>Kn?De[Kn]:jn),Qn=Ht||a&&`This poll is part of a post that has already been published. If you modify it, ${D} existing ${D===1?"vote":"votes"} will be removed.`;return(0,e.h)(ra.u_,{className:"poll-editor-modal",isOpen:t,onClose:r},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:ge,onChange:jn=>Se(jn.currentTarget.value),placeholder:"Enter your question...",disabled:yt,maxLength:BD})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},ur.map((jn,Kn)=>(0,e.h)(FD,{index:Kn,text:jn,onChange:pn,onDelete:Sn,disabled:yt,showDeleteButton:ur.length>Qg&&(Kn<ur.length-1||jn.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},"Length"),(0,e.h)(Zg,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 days",value:"72"},{label:"1 week",value:"168"},{label:"Forever",value:"999999"}],isDisabled:yt,value:{label:Gn,value:String(qe)},onChange:yn})),B&&U==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},"Who can vote?"),(0,e.h)(Zg,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:yt,value:{label:xn,value:st},onChange:fn})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(M_.p,{checked:Bt,onChange:()=>xt(!Bt),label:"Hide the total vote count from readers?",name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},Qn&&(0,e.h)("div",{className:"edit-warning"},Qn),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(ua.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:tn,disabled:yt},"Cancel"),(0,e.h)(k3.L,{content:Xt,className:u()("inverse",{disabled:Xt===null})},(0,e.h)(ua.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>kl(void 0,null,function*(){At(!0);try{yield i({audience:st,question:ge,options:De.filter(Boolean),expiry:qe,votes_hidden:Bt})}catch(jn){en("An error occurred while saving this poll.")}At(!1)}),disabled:Xt!==null||yt},"Save"))))))},WD=({id:n,text:t,onVote:r,showVotes:i,currentVotes:a,totalVotes:D,myVote:B,canVote:j})=>{const U=(0,o.I4)(()=>kl(void 0,null,function*(){n&&(yield r(n))}),[n,r]),Y=Math.round(100*(D===0?0:a/D));return(0,e.h)("div",{className:u()("poll-option",{"show-votes":i,"hide-votes":!i,"can-vote":j,"my-vote":B}),onClick:U},i&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${Y}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},t,i&&B&&(0,e.h)(qh,{className:"vote-icon"}))),i&&(0,e.h)("div",{className:"poll-percentage-text"},Y,"%"))},HD=({id:n,isEditor:t,post:r,pub:i,isVersionView:a})=>{var D,B,j;const[U,Y]=(0,o.eJ)(!1),[ge,Se]=(0,o.eJ)(!0),[De,Fe]=(0,o.eJ)(null),[qe,Ye]=(0,o.eJ)(null),[st,gt]=(0,o.eJ)(!0),[yt,At]=(0,o.eJ)(a!=null?a:!1),{iString:Bt}=(0,P.M1)(),xt=(0,ei.pm)(),Ht={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!t){const vr=(0,p.parseQuery)(window.location.href);if(vr&&vr.token&&(Ht.token=vr.token),!Ht.token&&((D=window._preloads)!=null&&D.original_url)){const mr=(0,p.parseQuery)(window._preloads.original_url);mr&&mr.token&&(Ht.token=mr.token)}}if(typeof window!="undefined"&&!t&&r.is_draft){const vr=(0,p.getPostSlug)(window.location.href);vr&&(0,Vt.isUUID)(vr)&&(Ht.uuid=vr)}const en=(0,us.aF)()||{},Xt=Xg({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},en),{is_subscribed:tn,is_admin:fn,is_contributor:xn,is_author:yn}=Xt;let{is_free_subscribed:Gn}=Xt;x3()&&(Gn=!0);const pn=xn||fn||yn,Sn=Mt()(),ur=De&&De.published_at&&Mt()(De.published_at).add(De.expiry,"hour"),Qn=ur&&ur.diff(Sn,"hour"),Kn=(De==null?void 0:De.audience)==="only_paid"?tn:Gn,Wn=De&&De.options.some(vr=>vr.my_vote),tr=!!(De!=null&&De.is_published),Rn=tr&&ur&&ur.isBefore(Sn),Zn=t&&((De==null?void 0:De.post_type)!=="adhoc_email"||!tr),gn=(0,o.sO)(null),kn=!Wn&&tr&&!Rn&&Kn,Gt=(De==null?void 0:De.total_votes)==1?"1 VOTE":`${De==null?void 0:De.total_votes} VOTES`,or=kD({isExpired:Rn,isPublished:tr,remainingHours:Qn}),_n=(0,o.I4)((...vr)=>kl(void 0,[...vr],function*({shouldNotSetLoading:mr}={shouldNotSetLoading:!1}){mr||Se(!0);try{const br=yield $t()(`/api/v1/poll/${n}`).query(Ht);Fe(br.body),Ye(null)}catch(br){Ye(Bt("We were unable to load this poll. Please refresh the page."))}Se(!1)}),[n,Se,Fe]);(0,o.d4)(()=>{_n()},[_n]);const fr=(0,o.I4)(vr=>kl(void 0,null,function*(){try{yield $t().put(`/api/v1/poll/${n}`).send(vr)}catch(mr){return mr}return Y(!1),Se(!0),yield _n(),null}),[n,Se,_n]),yr=(0,o.I4)(vr=>kl(void 0,null,function*(){var mr;if(!Kn&&tr&&!Rn&&!Zn){(mr=gn.current)==null||mr.open();return}if(!(Zn||!kn||yt)){At(!0);try{yield $t().post(`/api/v1/poll/${n}/vote`).send({poll_option_id:vr}).query(Ht),Ye(null)}catch(br){Ye(Bt("We were unable to record your vote. Please refresh the page and try again.")),At(!1);return}yield _n({shouldNotSetLoading:!0}),At(!1)}}),[Zn,kn,yt,At,n,_n,Kn,tr,Rn]),Ar=Zn?Array(Math.max(2,((B=De==null?void 0:De.options)==null?void 0:B.length)||0)).fill("").map((vr,mr)=>{var br;return De&&((br=De.options)==null?void 0:br.length)>mr?De.options[mr].label:Vf(mr)}):(j=De==null?void 0:De.options)==null?void 0:j.map(vr=>vr.label);if(qe!==null&&!De)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},qe));const Yn=t?null:`${(0,p.getPostUrl)(i,r)}#poll-${n}`;return(0,e.h)(je.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},Yn&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${n}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:vr=>{location!=null&&location.href&&(vr.preventDefault(),(0,T.copyToClipboard)(Yn),xt.popToast(mr=>(0,e.h)(ei.FN,RD(Xg({},mr),{text:Bt("Link copied"),Icon:El.Z}))))}},(0,e.h)("a",{href:Yn},(0,e.h)(El.Z,{size:20})))),Zn&&De&&(0,e.h)(jD,{poll:De,isOpen:U,onClose:()=>{Y(!1)},isPublished:tr,totalVotes:(De==null?void 0:De.total_votes)||0,onSave:fr,shouldShowAudiencePicker:(De==null?void 0:De.post_type)!=="adhoc_email"}),!t&&De&&(0,e.h)(B3,{ref:gn,noCloseButton:!0,className:"poll-dialog",pub:i,post:r,user:en,pollId:De.id,audience:De.audience}),ge?(0,e.h)(je.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(x.xv.Meta,{translated:!0},"Loading...")):(0,e.h)(e.Fragment,null,Zn&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{Y(!0)},disabled:ge},(0,e.h)(T3.Z,{height:20})),(0,e.h)(je.tu,{gap:4},(0,e.h)(je.gq,{className:"poll-title",alignItems:"baseline",gap:4},(De==null?void 0:De.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(Hu.Z,{size:16}),(0,e.h)(x.xv.Meta,{translated:!0,className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(x.xv.Meta,{translated:!0},"POLL")),(0,e.h)(x.xv.H3,{className:"poll-question",color:"pub-primary-text"},(De==null?void 0:De.question)||Bt("New Poll"))),qe!==null&&(0,e.h)("div",{className:"poll-error"},qe),(0,e.h)(je.tu,{gap:12,className:u()("poll-options",{"no-margins":!tr})},Ar.map((vr,mr)=>{var br,lo,Kr;return(0,e.h)(WD,{id:((br=De==null?void 0:De.options[mr])==null?void 0:br.id)||null,text:vr,canVote:!Wn&&tr&&!Rn&&(!t||(De==null?void 0:De.post_type)==="adhoc_email"),onVote:yr,showVotes:Wn||Rn||pn&&st,totalVotes:(De==null?void 0:De.total_votes)||0,currentVotes:((lo=De==null?void 0:De.options[mr])==null?void 0:lo.votes)||0,myVote:((Kr=De==null?void 0:De.options[mr])==null?void 0:Kr.my_vote)||!1})})),tr&&(0,e.h)(x.xv.Meta,{className:"poll-status"},(pn||!De.votes_hidden)&&`${Gt} \xB7 `,or,pn&&!Wn&&!Rn&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:Bt("Only the author, contributors, and admins may view results before voting."),onClick:()=>{gt(!st)}},Bt(st?"SHOW OPTIONS":"SHOW RESULTS"))))))},VD=({id:n,embeddedPolls:t})=>{const r=t.find(a=>a.id===n),{iString:i}=(0,P.M1)();return r?(0,e.h)(Xr.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(r==null?void 0:r.audience)==="only_paid"?i("SUBSCRIBER-ONLY POLL"):i("POLL"))),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,r.question||i("New Poll"))),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.YF,{className:"poll-options",width:"100%"},r.options.map(({label:a,id:D},B)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${D}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},a||Vf(B))))))))))))):(0,e.h)("table",{className:"poll-wrapper"},i("Something went wrong."))};var Ul=wt(25380),KD=Object.defineProperty,$D=Object.defineProperties,zD=Object.getOwnPropertyDescriptors,ev=Object.getOwnPropertySymbols,GD=Object.prototype.hasOwnProperty,ZD=Object.prototype.propertyIsEnumerable,tv=(n,t,r)=>t in n?KD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,YD=(n,t)=>{for(var r in t||(t={}))GD.call(t,r)&&tv(n,r,t[r]);if(ev)for(var r of ev(t))ZD.call(t,r)&&tv(n,r,t[r]);return n},JD=(n,t)=>$D(n,zD(t));const XD=n=>(0,e.h)(k.l,JD(YD({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Ul.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),vc=(0,e.createContext)({isSubstack:!1,customDomain:null});vc.displayName="DomainInfoContext";function d$(){return useContext(vc)}function f$({value:n,children:t}){const r=useMemo(()=>n,Object.values(n));return h(vc.Provider,{value:r},t)}var QD=Object.defineProperty,qD=Object.defineProperties,eM=Object.getOwnPropertyDescriptors,nv=Object.getOwnPropertySymbols,tM=Object.prototype.hasOwnProperty,nM=Object.prototype.propertyIsEnumerable,rv=(n,t,r)=>t in n?QD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Kf=(n,t)=>{for(var r in t||(t={}))tM.call(t,r)&&rv(n,r,t[r]);if(nv)for(var r of nv(t))nM.call(t,r)&&rv(n,r,t[r]);return n},rM=(n,t)=>qD(n,eM(t));const oM=["Subscribe","Subscribe now","Sign up","Sign up now"];function ov({isStatic:n,pub:t,user:r,freeSignup:i,children:a,pledgesEnabled:D}){if(n)return(0,e.h)(Ef.E.Consumer,null,({isFreemail:Y,isFreeSubscribed:ge,isPledged:Se})=>a({isFreeSubscribed:ge,isSubscribed:!Y,isFullySubscribed:t.plans?!Y:!D||Se,isForPaidSubscription:!!t.plans&&Y,isPledged:Se}));const B=i||(r==null?void 0:r.is_free_subscribed),j=r==null?void 0:r.is_subscribed,U=r==null?void 0:r.is_pledged;return a({isFreeSubscribed:B,isSubscribed:j,isFullySubscribed:t.plans?j:B&&(!D||U),isForPaidSubscription:!!t.plans&&B&&!j,isPledged:U})}function $f({pub:n,user:t,now:r,isStatic:i}){const{getExperimentVariant:a,exposeExperiment:D}=(0,Zt.jc)();return(0,e.h)(ut.vz.Consumer,null,({getSettingFor:B})=>{const j=n.payments_state==="disabled"&&!n.invite_only&&B("payment_pledges_enabled");return(0,e.h)(ov,{isStatic:i,user:t,pub:n,pledgesEnabled:j},({isFreeSubscribed:U,isPledged:Y})=>(0,e.h)(e.Fragment,null,!i&&!U?(0,e.h)(pe.Z,{onVisible:()=>{D("subscribe_icon"),(0,C.j)(C.FP.SUBSCRIBE_BUTTON_SHOWN,{source:"paywall"})}}):null,i?(0,Vt.getSubscribeText)(n,{now:r,isFreeSubscribed:U,isPledged:Y,pledgesEnabled:j}):(0,e.h)(y.gq,{alignItems:"center",gap:8},!U&&a("subscribe_icon")==="treatment"?(0,e.h)(_l.Z,{size:20}):null,(0,Vt.getSubscribeText)(n,{now:r,isFreeSubscribed:U,isPledged:Y,pledgesEnabled:j}))))})}class ys extends e.Component{onSignup(t){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(t):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,p.getSubscribeUrl)(this.props.pub,rM(Kf(Kf({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:t.body.requires_confirmation?"true":""},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),t.body.referral_token&&{referral_token:t.body.referral_token}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(t){const{pub:r,subscribeButtonAttrs:i,isStatic:a,source:D,post:B,next:j}=this.props,U={utm_medium:a?"email":"web",utm_source:D||"subscribe-widget",utm_content:B&&B.id,next:j,referring_pub_ids:a?void 0:(0,p.getQueryItem)("referring_pub_ids")};return t?a?Ei.Substitutions.ACCOUNT_URL:(0,p.getPubAccountSettingsUrl)(r,{params:U}):(0,p.getSubscribeUrl)(r,Kf({addBase:!0,root:i?i.url:a&&Ei.Substitutions.CHECKOUT_URL},U))}getButtonLabel(t,r,{isPledged:i,pledgesEnabled:a}){const{pub:D,subscribeButtonAttrs:B}=this.props,{iString:j}=I18N.i({pub:D});if(t||i)return j("Subscribed");const U=B&&B.text;if(U&&!oM.includes(U))return U;const Y=r;return(0,Vt.getSubscribeText)(D,{now:!Y,isFreeSubscribed:Y,isPledged:i,pledgesEnabled:a})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:a,source:D,isStatic:B,forceEmailInput:j,onPrepareData:U,onError:Y},{loading:ge}){const Se=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(ut.vz.Consumer,null,({getSettingFor:De})=>(0,e.h)(vc.Consumer,null,Fe=>(0,e.h)(ov,{pub:t,user:r,isStatic:B,freeSignup:i,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&De("payment_pledges_enabled")},({isFreeSubscribed:qe,isSubscribed:Ye,isFullySubscribed:st,isPledged:gt})=>{var yt;const At=this.getButtonLabel(Ye,qe,{isPledged:gt,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&De("payment_pledges_enabled")}),Bt=qe||Ye;return(0,e.h)("div",{className:u()("subscribe-widget",{"is-signed-up":Bt,"is-fully-subscribed":st}),"data-component-name":"SubscribeWidget"},!j&&(Bt||B)?(0,e.h)("p",{className:"button-wrapper"},B?(0,e.h)("a",{className:u()("button subscribe-btn",st?"outline":"primary"),href:this.getHref(st),native:!B},st&&(0,e.h)(XD,{stroke:((yt=t==null?void 0:t.theme)==null?void 0:yt.background_pop_color)||(t==null?void 0:t.theme_var_background_pop)||A.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,At)):(0,e.h)(ua.z,{className:"subscribe-btn",href:this.getHref(st),localNavigation:!1,variant:st?"themed-secondary":"themed-primary",leftIcon:st?(0,e.h)(Ul.Z,{size:20}):null},(0,e.h)("span",null,At))):(0,e.h)(y.gq,{justifyContent:"center"},(0,e.h)(Le.Z,{disabled:Bt||ge,freeSignup:i,freeSignupEmail:a,next:Se?window.location.href:null,pub:t,source:D||"subscribe-widget",submitButtonText:Bt?"\u2713":(0,Vt.getSubscribeText)(t),useSubscribeLink:(Fe==null?void 0:Fe.isSubstack)||Se,user:r,utm_campaign:Fe!=null&&Fe.isSubstack?"reader2":Se?"cross-post":null,onConfirmationRequired:(t==null?void 0:t.payments_state)==="enabled"?()=>null:void 0,onError:Y,onPrepareData:U,onSuccess:xt=>this.onSignup(xt)})))})))}}var iM=Object.defineProperty,aM=Object.defineProperties,sM=Object.getOwnPropertyDescriptors,iv=Object.getOwnPropertySymbols,lM=Object.prototype.hasOwnProperty,uM=Object.prototype.propertyIsEnumerable,av=(n,t,r)=>t in n?iM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ba=(n,t)=>{for(var r in t||(t={}))lM.call(t,r)&&av(n,r,t[r]);if(iv)for(var r of iv(t))uM.call(t,r)&&av(n,r,t[r]);return n},sv=(n,t)=>aM(n,sM(t));const cM=(n,t)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:n.children[0].children[0].children[0].innerHTML}})),(0,e.h)(ys,Ba({pub:t.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},t.props)))),dM=(n,t)=>{try{const r=JSON.parse(wi()(n.getAttribute("data-attrs")));if([`${t.pub.base_url}/subscribe?`,"${ctx.pub.base_url}/subscribe?plan=founding",Ei.Substitutions.CHECKOUT_URL,Ei.Substitutions.FOUNDING_CHECKOUT_URL].includes(r.url)){const i=JSON.parse(wi()(n.getAttribute("data-attrs")));return(0,e.h)(ys,Ba({pub:t.pub,subscribeButtonAttrs:i},t.props))}}catch(r){console.error("Failed to parse button:",r)}},fM=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const a=n.getAttribute("data-attrs");if(a){const D=JSON.parse(wi()(a));return r?(0,e.h)(X0,{label:D.label,pub:t,post:i,duration:D.duration}):(0,e.h)(J0,{label:D.label,pub:t,post:i,src:`/api/v1/audio/upload/${D.mediaUploadId}/src`,duration:D.duration,autoPlay:!1})}}catch(a){console.error("Failed to parse audio:",a)}},pM=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const a=n.getAttribute("data-attrs");if(a){const D=JSON.parse(wi()(a));return r?(0,e.h)(X0,{label:D.label,pub:t,post:i,duration:D.duration}):(0,e.h)(J0,{label:D.label,pub:t,post:i,src:D.url,duration:D.duration,autoPlay:!1})}}catch(a){console.error("Failed to parse audio:",a)}},hM=(n,{props:{isStatic:t}})=>{try{const r=n.getAttribute("data-attrs");if(r){const{name:i,avatarUrl:a,url:D}=JSON.parse(wi()(r));return t?(0,e.h)(OT,{name:i,avatarUrl:a,url:D}):(0,e.h)(ST,{name:i,avatarUrl:a,url:D})}}catch(r){console.error("Failed to parse audio:",r)}},mM=n=>{try{const t=JSON.parse(n.dataset.attrs).symbol;return t?(0,e.h)(GI,{symbol:t,prependSymbol:JSON.parse(n.dataset.attrs).prependSymbol,isStatic:JSON.parse(n.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},_M=(n,{pub:t,props:{isStatic:r,post:i}})=>{const{iString:a}=I18N.i({pub:t});try{if(r){const D=n.getAttribute("data-attrs");if(D){const B=JSON.parse(wi()(D)),j=B==null?void 0:B.persistentExpression;return j?(0,e.h)("img",{src:(0,p.getLatexUrl)(j),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 no expression found in email"))}else return(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 data attributes not found"))}else{const D=n.getAttribute("data-attrs"),B=JSON.parse(wi()(D)),j=B==null?void 0:B.persistentExpression;return j?(0,e.h)(je.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(je.tu,{justifyContent:"center"},(0,e.h)(j5,{inline:!1},`\\(${j}\\)`))):(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 no expression found"))}}catch(D){return console.error("failed to render mathjax",D),(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 error"))}},gM=n=>{try{const t=JSON.parse(n.dataset.attrs),{name:r,id:i,type:a,url:D,photo_url:B,uuid:j,isStatic:U}=t;return r?(0,e.h)(Wd.default,{name:r,id:i,type:a,url:D,photo_url:B,uuid:j,isStatic:U}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},vM=(n,t)=>{var r;try{const i=JSON.parse(wi()(n.getAttribute("data-attrs")));return i!=null&&i.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(VD,{id:i.id,embeddedPolls:(r=t.props.dataForEmailRender)==null?void 0:r.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:n.getAttribute("data-attrs")},(0,e.h)(HD,{id:i.id,isEditor:!1,post:t.props.post,pub:t.pub,isVersionView:!!t.props.isVersionView}))}catch(i){return console.log("Failed to parse poll:",i),(0,e.h)(e.Fragment,null)}};function yM(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(wi()(r));return!i.pub||!i.subdomain?(console.error("could not deepPrepare communityChat, subdomain or pub missing from node"),(0,e.h)(e.Fragment,null)):(0,e.h)("div",{className:"community-chat",dataAttrs:r},t?(0,e.h)(V5,Ba({},i)):(0,e.h)(H5,{pub:i.pub,subdomain:i.subdomain}))}catch(r){return console.error("Failed to parse chat embed:",r),(0,e.h)(e.Fragment,null)}}function bM(n,t){const{props:{isStatic:r,is_freemail:i}}=t;try{const a=n.getAttribute("data-attrs"),D=JSON.parse(wi()(a));return r?(0,e.h)(aT,Ba({is_freemail:i},D)):(0,e.h)(iT,Ba({},D))}catch(a){return console.error("Failed to parse chat post embed:",a),(0,e.h)(e.Fragment,null)}}function PM(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(wi()(r));return t?(0,e.h)(S0,Ba({},i)):(0,e.h)(dT,Ba({},i))}catch(r){return console.error("Failed to parse chat post embed:",r),(0,e.h)(e.Fragment,null)}}const EM=(n,t,r)=>{var i;const a=n.id,[D,,B]=a.split("-"),j=(i=r.wrapper.querySelector(`#${D}-${B}`))==null?void 0:i.nextElementSibling;return j?((0,M.isMobile)()&&(n.href="javascript:void(0)"),(0,e.h)(Yd.z,{content:(0,e.h)("div",{className:"markup"},Fl(j,t,r)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard"},Fl(n,t,r))):Fl(n,t,r)},yc=(n,t,{shallow:r}={})=>{var i,a,D;if(n.nodeName==="A"&&(n.getAttribute("rel")||n.setAttribute("rel",(i=t.pub)!=null&&i.no_follow?"nofollow ugc noopener":"")),t.pub&&n.nodeName==="P"&&(0,T.hasClass)(n,"button-wrapper")){const B=dM(n,t);if(B)return B}return(0,T.hasClass)(n,"subscription-widget-wrap")?cM(n,t):(0,T.hasClass)(n,"cashtag-wrap")?mM(n):(0,T.hasClass)(n,"mention-wrap")?gM(n):t.pub&&(0,T.hasClass)(n,"native-audio-url-embed")?pM(n,t):t.pub&&(0,T.hasClass)(n,"native-audio-embed")?fM(n,t):t.pub&&(0,T.hasClass)(n,"native-video-embed")?P3(n,t):t.pub&&(0,T.hasClass)(n,"meeting-embed")?hM(n,t):(0,T.hasClass)(n,"poll-embed")?vM(n,t):(0,T.hasClass)(n,"image-gallery-embed")?O3(n,t):(0,T.hasClass)(n,"image3")?C3(n,t):(0,T.hasClass)(n,"latex-rendered")?_M(n,t):(0,T.hasClass)(n,"community-chat")?yM(n,t):(0,T.hasClass)(n,"community-post")?bM(n,t):(0,T.hasClass)(n,"digest-post-embed")?E3(n,t):(0,T.hasClass)(n,"comment")&&!(0,T.hasClass)(n,"template-comment")?PM(n,t):(0,T.hasClass)(n,"referrals-tier-card")?w3(n,t):((D=(a=t.props)==null?void 0:a.post)!=null&&D.id&&(0,T.hasClass)(n,"footnote")&&(n.id&&(n.id+=`-${t.props.post.id}`),n.href&&(n.href+=`-${t.props.post.id}`)),(0,T.hasClass)(n,"footnote-anchor")?EM(n,yc,t):r?null:Fl(n,yc,t))},wM=function(n){const t={},r=Array.prototype.slice.call(n);for(const{name:i,value:a}of r)t[i]=a;return t},CM=(n,t)=>{let r=0;return function(){const i=[].slice.call(arguments,0),a=++r>t;a&&console.error("Too many post nodes to recurse",{postId:i[2].props.post.id,depth:r});const D=n.apply(null,[...i,...a?[!0]:[]]);return r--,D}};function OM(n,t,r,i){var a,D,B;const j=u()("header-with-anchor-widget",t.className),U=r.children.length?Array.prototype.map.call(r.childNodes,Y=>yc(Y,i)):[r.textContent];return(0,e.h)(n,sv(Ba({},t),{className:j}),...U,(0,e.h)(S3,{text:r.textContent,pub:i==null?void 0:i.pub,post:(a=i==null?void 0:i.props)==null?void 0:a.post,offsetTop:!0,isAboutPage:(B=(D=i==null?void 0:i.props)==null?void 0:D.isAboutPage)!=null?B:!1}))}const Fl=CM((n,t,r,i)=>{var a,D;if(!n)throw new Error("Empty node, cannot preactify!");const B=n.nodeType===3?"span":n.nodeType===8?"x_preact_compatible_html_comment_x":n.tagName.toLowerCase(),j=n.nodeType!==1?{}:wM(n.attributes),U=n.children&&n.children.length>0?null:n.textContent;if(i)return(0,e.h)(B,sv(Ba({},j),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));const Y=!!((a=n.parentElement)!=null&&a.getAttribute("data-prose-mirror-wrapper"));if(((D=r==null?void 0:r.pub)==null?void 0:D.type)!=="rss"&&Y&&["h1","h2","h3","h4"].includes(B)&&!n.className)return OM(B,j,n,r);if(U)return(0,e.h)(B,j,U);const ge=t(n,r,{shallow:!0});return ge||(0,e.h)(B,j,...Array.prototype.map.call(n.childNodes,Se=>t(Se,r)))},2500);function SM(n,t,r={}){const i=document.createElement("div");return i.setAttribute("data-prose-mirror-wrapper",1),i.innerHTML=n,Array.prototype.map.call(i.childNodes,a=>Fl(a,yc,{wrapper:i,pub:t,props:r}))}var zf=wt(62017);const lv=typeof window!="undefined";function uv(n,t,r=lv?localStorage:void 0){var i;const[a,D]=(0,o.eJ)(typeof r!="undefined"&&(i=r.getItem(n))!=null?i:t);return[a,j=>{D(U=>{const Y=typeof j=="function"?j(U):j;return r&&r.setItem(n,Y),Y})}]}function h$(n,t,r=lv?localStorage:void 0){const i=useMemo(()=>JSON.stringify(t),[t]),[a,D]=uv(n,i,r);return[useMemo(()=>{try{return JSON.parse(a)}catch(U){return console.error("Failed to parse stored value:",U),t}},[a,t]),U=>D(JSON.stringify(U))]}var cv=wt(16742);const da={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS"};var TM=Object.defineProperty,IM=Object.defineProperties,xM=Object.getOwnPropertyDescriptors,bc=Object.getOwnPropertySymbols,dv=Object.prototype.hasOwnProperty,fv=Object.prototype.propertyIsEnumerable,pv=(n,t,r)=>t in n?TM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bs=(n,t)=>{for(var r in t||(t={}))dv.call(t,r)&&pv(n,r,t[r]);if(bc)for(var r of bc(t))fv.call(t,r)&&pv(n,r,t[r]);return n},jl=(n,t)=>IM(n,xM(t)),DM=(n,t)=>{var r={};for(var i in n)dv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&bc)for(var i of bc(n))t.indexOf(i)<0&&fv.call(n,i)&&(r[i]=n[i]);return r},Wl=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});function MM(n){var t,r,i,a;const{nuxModal:D,showRestackNux:B}=(0,cv.y)("post");return(0,e.h)(e.Fragment,null,D,((a=(i=(r=(t=n.selection)==null?void 0:t.text)==null?void 0:r.split)==null?void 0:i.call(r," "))==null?void 0:a.length)>=3&&(0,e.h)(AM,bs({onShare:B},n)))}function AM({pub:n,post:t,selection:r,onShare:i,onClose:a,userInteractionDisabled:D}){var B;const j=(0,us.aF)(),U=(0,ei.pm)(),Y=(0,Wu.i3)(),ge=(0,Ni.XA)(),Se="has_dismissed_restack_selection_explainer",[De]=uv(Se),Fe=(0,us.SE)();(0,o.d4)(()=>{De==="true"&&(Fe!=null&&Fe.userSettings)&&!Fe.userSettings.has_seen_select_to_restack_tooltip_nux&&Fe.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const qe=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0),Ye=!t.is_draft&&!!j,st=!t.is_draft,gt=()=>Wl(this,null,function*(){const tn=yield(0,Ut.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:n.id,startParagraph:r.startParagraph,endParagraph:r.endParagraph,startOffset:r.startOffset,endOffset:r.endOffset}});if(tn instanceof Error)throw tn;return tn.selection.id}),yt=()=>Wl(this,null,function*(){const tn=yield gt();return(0,p.getPostUrl)(n,t,{urlParams:{r:j?j.id.toString(36):null,selection:tn,utm_campaign:"post_selection",utm_medium:"web"}})}),At=()=>Wl(this,null,function*(){if(!Ye)return;a();let tn;try{tn=yield yt()}catch(xn){U.popToast(yn=>(0,e.h)(ei.FN,jl(bs({},yn),{text:"Failed to generate quote"})));return}const fn=yield Y.open({restackUrl:tn});fn instanceof Error?(console.error(fn),U.popToast(xn=>(0,e.h)(ei.FN,jl(bs({},xn),{text:"Failed to post"})))):(i(),U.popToast(xn=>(0,e.h)(ei.FN,jl(bs({},xn),{text:"Note sent",cta:"View",href:(0,oe.getFeedUrl)()}))))}),Bt=()=>Wl(this,null,function*(){if(!st)return;a();let tn;try{tn=yield yt()}catch(fn){U.popToast(xn=>(0,e.h)(ei.FN,jl(bs({},xn),{text:"Failed to copy link to quote"})));return}(0,T.copyToClipboard)(tn),U.popToast(fn=>(0,e.h)(ei.FN,jl(bs({},fn),{text:"Link copied to clipboard"})))}),xt=tn=>Wl(this,null,function*(){if(j)return;a();let fn;try{fn=yield gt()}catch(Gn){}const xn=(0,p.updateQuery)(document.location.href,{selection:fn}),yn=(0,p.getSigninUrl)({redirect:xn});(0,T.redirect)(yn,{local_navigation:!1,event:tn})});(0,o.d4)(()=>(window.addEventListener("scroll",a,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",a,{capture:!0,once:!0})}),[a]);const Ht=(Fe==null?void 0:Fe.userSettings)&&!((B=Fe.userSettings)!=null&&B.has_seen_select_to_restack_tooltip_nux),en=Ht?156:40,Xt=()=>{Fe.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(je.tu,{style:{top:qe?r.y+r.height+8:r.y-en-8,left:r.rect.x+r.rect.width/2,transform:"translateX(-50%)",pointerEvents:D?"none":"auto",maxWidth:240},justifyContent:"center",className:da.popover,shadow:"md",radius:12},(0,e.h)(je.tu,{className:u()(da.popoverButtons,ge&&da.isMobile),radius:12,padding:Ht?8:4,gap:8},Ht&&(0,e.h)(NM,{onDismiss:Xt}),(0,e.h)(hv,{onClick:j?At:xt,disabled:!Ye&&!!j,isExplainer:Ht},(0,e.h)(Dl.Z,{className:u()(da.icon,!Ye&&da.disabled)}),(0,e.h)(x.xv.B4,{color:Ye?"bg-light":"secondary",weight:"medium"},Ye?"Restack quote":j?t.is_draft?"Cannot quote a draft":n!=null&&n.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(t==null?void 0:t.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function hv(n){var t=n,{isExplainer:r}=t,i=DM(t,["isExplainer"]);return(0,e.h)(ft.kG,bs({className:u()(da.button,r&&da.explainerButton),resetCss:!0},i))}function NM({onDismiss:n}){return(0,e.h)(je.tu,{className:da.explainer,radius:6,paddingX:16,paddingY:8,gap:4},(0,e.h)(ft.kG,{resetCss:!0,className:da.dismissExplainer,onClick:n},(0,e.h)(Hs.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(x.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(x.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post to"," ",(0,e.h)(zf.hh,{color:"secondary",decoration:"underline",href:"https://substack.com/notes",target:"_blank"},"Notes"),"."))}var RM=Object.defineProperty,LM=Object.defineProperties,BM=Object.getOwnPropertyDescriptors,Pc=Object.getOwnPropertySymbols,mv=Object.prototype.hasOwnProperty,_v=Object.prototype.propertyIsEnumerable,Gf=(n,t,r)=>t in n?RM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kM=(n,t)=>{for(var r in t||(t={}))mv.call(t,r)&&Gf(n,r,t[r]);if(Pc)for(var r of Pc(t))_v.call(t,r)&&Gf(n,r,t[r]);return n},UM=(n,t)=>LM(n,BM(t)),FM=(n,t)=>{var r={};for(var i in n)mv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Pc)for(var i of Pc(n))t.indexOf(i)<0&&_v.call(n,i)&&(r[i]=n[i]);return r},Ps=(n,t,r)=>(Gf(n,typeof t!="symbol"?t+"":t,r),r),jM=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const gv=`
div.body.markup > p:not(.button-wrapper),
.pullquote > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,WM=".image-link.image2";class Ec extends e.Component{constructor(t,r){super(t,r),Ps(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1}),Ps(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),Ps(this,"onMouseUp",()=>{this.setState((i,a)=>i.selectionUserInteractionDisabled?(i.selection&&a.trackSelection&&(0,C.j)(C.FP.POST_TEXT_SELECTED,{post_id:a.post.id,post_audience:a.post.audience,post_type:a.post.type}),{selectionUserInteractionDisabled:!1}):null)}),Ps(this,"onSelectionChange",Ku()(()=>{const i=this.getSelectionState();i?this.setState({selection:i}):this.state.selection&&this.setState({selection:null})},100)),Ps(this,"onDocumentClick",i=>{const a=i.target.closest(".image-link.image2");if(a&&this.originalImageState){const D=a.querySelector("img"),B=this.originalImageState.findIndex(j=>j.src===D.src);if(B>=0){i.preventDefault(),this.setState({selectedImgIndex:B});return}}if(!this.props.skipTrackClick)this.onLinkClick(i);else return null}),Ps(this,"clearActiveSelection",()=>{this.setState({selection:null})}),Ps(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),this.body=(0,e.createRef)()}componentDidMount(){return jM(this,null,function*(){const t=Array.from(this.body.current.querySelectorAll(gv));this.originalParagraphState=t.map(j=>({text:j.textContent}));const r=new URL(window.location).searchParams.get("img");let i=Array.from(this.body.current.querySelectorAll(WM));i=i.map(j=>{const U=j.querySelector("img"),Y=JSON.parse(U.getAttribute("data-attrs")),ge=Y.width/Y.height,Se=Y.resizeWidth?Y.resizeWidth/ge:Y.height,De=Y.resizeWidth?Y.resizeWidth/Se:ge;return{element:j,image:U,attrs:Y,extraAttrs:{imageRatio:ge,resizeHeight:Se,resizeRatio:De}}});let a=0;if(r){const j=i.find(U=>U.attrs.src===r);j&&(a=j.image.getBoundingClientRect().top-65)}const D=240,B=4;if(i=i.filter(j=>(0,p.unimginary)(j.image.src)===(0,p.unimginary)(j.element.href)),i=i.filter(j=>j.attrs.height>D&&j.extraAttrs.resizeHeight>D),i=i.filter(j=>j.extraAttrs.imageRatio<B&&j.extraAttrs.resizeRatio<B),this.originalImageState=i.map(j=>{var U;const Y=j.image.src;let ge=null;const Se=j.element.parentElement;return Se.tagName==="FIGURE"&&(ge=(U=Se.querySelector(":scope > figcaption"))==null?void 0:U.textContent),{src:Y,attrs:j.attrs,caption:ge}}),r){window.scrollTo({top:a});const j=this.originalImageState.findIndex(U=>U.attrs.src===r);j>=0&&this.setState({selectedImgIndex:j})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(t,r){return this.props.html!==t.html||this.state.selectedImgIndex!==r.selectedImgIndex||this.state.selection!==r.selection||this.state.selectionUserInteractionDisabled!==r.selectionUserInteractionDisabled}onLinkClick(t){if(!t.target.nodeName||t.target.nodeName!=="A"&&t.target.parentNode.nodeName!=="A")return;const r=t.target.nodeName==="A"?t.target:t.target.parentNode;if((0,C.j)(C.FP.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:r.href}),window.location.host===r.host){const i=(0,Vt.transformDocumentLink)(r.href);i!==r.href&&(0,T.redirect)(i,{local_navigation:!1,event:t});return}t.preventDefault(),(0,Vt.handleDocumentLinkClick)(r.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const t=window.getSelection();if(!t||t.isCollapsed||t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset)return;const r=this.findParentParagraph(t.anchorNode);if(!r)return;const i=this.findParentParagraph(t.focusNode);if(!i)return;const a=Array.from(this.body.current.querySelectorAll(gv)),D=a.findIndex(Se=>Se.isSameNode(r));if(D===-1)return;const B=a.findIndex(Se=>Se.isSameNode(i));if(B===-1)return;const j=this.getCharacterOffsetParagraph(r,t.anchorNode,t.anchorOffset);if(j===null)return;const U=this.getCharacterOffsetParagraph(i,t.focusNode,t.focusOffset);if(U===null)return;const Y=D>B||D===B&&j>U,ge=t.getRangeAt(0).getBoundingClientRect();return{startParagraph:Y?B:D,endParagraph:Y?D:B,startOffset:Y?U:j,endOffset:Y?j:U,y:ge.y,height:ge.height,rect:ge,text:t.toString()}}catch(t){console.error("Failed to parse selection:",t)}}findParentParagraph(t){return t?t.nodeName==="P"?t:this.findParentParagraph(t.parentNode):null}isAncestorOf(t,r){return t===null?!1:t.isSameNode(r)?!0:this.isAncestorOf(t.parentNode,r)}getCharacterOffsetParagraph(t,r,i){var a;let D=i;for(let B=0;B<t.childNodes.length;B++){const j=t.childNodes[B];if(this.isAncestorOf(r,j))return D;j.className!=="footnote-anchor"&&(D+=((a=j.textContent)==null?void 0:a.length)||0)}return D}shouldShowImageViewerModal(){const{selectedImgIndex:t}=this.state;return t!=null}render(t){var r=t,{children:i,html:a,pub:D,skipTrackClick:B,trackSelection:j,paywall:U,isAboutPage:Y}=r,ge=FM(r,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:Se,selectedImgIndex:De}=this.state;a&&(i=SM(a,D,UM(kM({},ge),{isAboutPage:Y})),i&&(a=null));const Fe=i?Array.from(i).some(Ye=>{var st;return((st=Ye.props)==null?void 0:st.className)==="latex-rendered"}):!1,qe=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:a?{__html:a}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},i),(0,e.h)(MM,{pub:D,post:this.props.post,selection:Se,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled}),(0,e.h)(Pf.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:De}));return Fe&&!ge.isStatic?(0,e.h)(k5,null,qe):qe}}const HM=({tabs:n,tab:t,onTabClick:r})=>(0,e.h)("div",{className:"ui-tabs"},n.map(({id:i,title:a})=>(0,e.h)("a",{className:`ui-tab ${i}-tab ${t===i?"active":""}`,onClick:()=>r&&r(i)},a)));var vv=wt(36868);const Ja={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},Hl=(n,t)=>({logoUrl:n.podcast_art_url||n.logo_url||(0,p.getDefaultPodcastArtUrl)(),mainClickUrl:(0,p.getPodcastLandingUrl)({pub:n,section:null,addBase:!0}),buttonClickUrl:t,name:n.podcast_title||n.name,description:n.podcast_description||n.hero_text}),VM=({logoUrl:n,mainClickUrl:t,buttonClickUrl:r,name:i,description:a,showButton:D,buttonText:B,openInNewTab:j=!1})=>(0,e.h)("div",{className:Ja.childPublication},n&&(0,e.h)("img",{className:Ja.logo,src:(0,p.imginary)(n,144),alt:`${i} logo`}),(0,e.h)("div",{className:Ja.details},(0,e.h)("div",{className:Ja.info},(0,e.h)("div",{className:Ja.title},(0,e.h)("a",{className:Ja.link,href:t},i)),(0,e.h)("div",{className:Ja.description},a)),D&&(0,e.h)(ft.zx,{priority:"primary",className:Ja.subscribe,href:r,newTab:j},B))),wc=({showButton:n,items:t,openInNewTab:r=!1,buttonText:i})=>(0,e.h)("div",{"data-testid":"child-pub-container"},t.map(a=>(0,e.h)(VM,{logoUrl:a.logoUrl,mainClickUrl:a.mainClickUrl,buttonClickUrl:a.buttonClickUrl,name:a.name,description:a.description,buttonText:i,openInNewTab:r,showButton:n}))),Zf={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var KM=Object.defineProperty,$M=(n,t,r)=>t in n?KM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zM=(n,t,r)=>($M(n,typeof t!="symbol"?t+"":t,r),r),Cc=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});function GM(n){if(typeof window=="undefined")return!0;const t=document.createElement("div");t.innerHTML=n;for(let r=t.childNodes.length-1;r>=0;r--){const i=t.childNodes[r];if((0,T.hasClass)(i,"button-wrapper")||(0,T.hasClass)(i,"subscription-widget-wrap"))return!1}return!0}const ZM=({pub:n,user:t,freeSignup:r,freeSignupEmail:i})=>{const a=n.payments_state==="enabled"&&(t!=null&&t.is_free_subscribed)&&!(t!=null&&t.is_subscribed)?"paid_upsell":"free_upsell";return(0,o.d4)(()=>{(0,C.j)(C.FP.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:n.id,type:a})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(pe.Z,{onVisible:()=>{(0,C.j)(C.FP.ABOUT_PAGE_END_CTA_SEEN,{pub_id:n.id,type:a})}}),(0,e.h)(je.tu,{alignItems:"center",gap:16,padding:24,className:u()(Zf.container,"end-cta-container")},(0,e.h)("img",{src:(0,p.imginary)(n.author_photo_url||n.logo_url,64),className:Zf.authorPic}),(0,e.h)(je.tu,{alignItems:"center"},(0,e.h)(x.xv.H2,{lineHeight:30,align:"center"},"Subscribe to ",n.name),n.hero_text&&(0,e.h)(x.xv.Meta,{size:12,className:Zf.heroText,align:"center"},n.hero_text)),(0,e.h)(ys,{pub:n,user:t,freeSignup:r,freeSignupEmail:i,isStatic:!1,source:"about-page-end-cta"})))};function YM({pub:n,user:t,freeSignup:r,freeSignupEmail:i,subscribeContent:a}){return typeof a!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(Ec,{html:a,pub:n,user:t,freeSignup:r,freeSignupEmail:i,isAboutPage:!0}))}function JM({pub:n,people:t}){const r=(0,zt.useMediaQuery)({maxWidth:540}),i=r?[[]]:[[],[]];for(let a=0;a<t.length;++a)i[r?0:a%2].push(t[a]);return(0,e.h)("div",{className:"content-people"},i.map(a=>(0,e.h)("div",{className:"people-column"},a.map(D=>(0,e.h)("div",{className:"content-person",onclick:B=>(0,Zh.Q)(B,(0,p.getProfileUrl)(D,n,{utm_source:"about-page"}),{native:!0})},(0,e.h)(ca.PP,{subject:D,profile:D,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class XM extends e.Component{constructor(t,r){if(super(t,r),zM(this,"onTabClick",i=>{this.loadTab({tabId:i})}),this.state={subscribeContent:t.subscribeContent,people:t.people,tabs:[]},(t.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const i=(0,Vt.group_by)(t.pub.child_publications,"type");for(const a of Array.from(i.keys()).sort())this.state.tabs.push({id:a,title:`${(0,Vt.toTitleCase)(a)}s`});this.state.tab=this.state.tabs.find(a=>a.id===t.sort)||this.state.tabs[0]}}componentDidMount(){return Cc(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){(0,T.redirect)((0,p.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return Cc(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:t}=yield $t().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:t})}catch(t){console.error("Failed to load about content:",t)}})}loadPeople(){return Cc(this,null,function*(){if(!this.state.people)try{const{body:t}=yield $t().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:t})}catch(t){console.error("Failed to load people:",t)}})}loadTab(){return Cc(this,arguments,function*({tabId:t}={}){const r=t?this.state.tabs.find(i=>i.id===t):this.state.tab;this.state.tab.id!==r.id&&(this.setState({tab:r}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({sort:r.id})))})}renderChildPublications({pub:t,user:r,freeSignup:i},{tab:a}){let D,B;t.plans?(B=r&&r.is_subscribed,D=B):(D=i||r&&r.is_free_subscribed,B=r&&r.is_free_subscribed);const j=ge=>`${(0,p.getBaseUrl)(ge)}/?showWelcome=true`;if(a.id==="podcast")if(B){const ge=ri.getMultiPubChildPodcasts(t).map(Se=>Hl(Se,(0,p.getPodcatcherSetupUrl)(Se,{addBase:!0,user:null,section:null,noSection:null,params:null})));return(0,e.h)(wc,{pub:t,showButton:!0,buttonText:"Set up podcast",items:ge})}else{const ge=ri.getMultiPubChildPodcasts(t).map(Se=>Hl(Se,j(Se)));return(0,e.h)(wc,{pub:t,showButton:!D,buttonText:"Subscribe",items:ge})}const Y=(t.child_publications?t.child_publications.filter(ge=>ge.type===a.id):[]).map(ge=>Hl(ge,j(ge)));return(0,e.h)(wc,{pub:t,showButton:!D,buttonText:"Subscribe",items:Y})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:a,metadata:D},{subscribeContent:B,people:j,tabs:U,tab:Y}){const ge=U.length>0&&(Y==null?void 0:Y.id),Se=!ge||(Y==null?void 0:Y.id)==="about",De=(!r||!(0,vv.P)(r,t))&&GM(B);return(0,e.h)("div",{className:"page typography about-page typography"},D&&(0,T.setMetaData)(D),(0,e.h)("div",{className:"container"},(r==null?void 0:r.is_contributor)&&Se&&(0,e.h)(ua.z,{variant:"themed-secondary",href:(0,p.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Sl.Z,{size:20})},(0,e.h)(x.xv,null,"Edit")),ge&&(0,e.h)(HM,{tabs:U,tab:Y.id,onTabClick:this.onTabClick}),Se&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(YM,{pub:t,user:r,freeSignup:i,freeSignupEmail:a,subscribeContent:B})),De?(0,e.h)(ZM,{pub:t,user:r,freeSignup:i,freeSignupEmail:a}):null,(j!=null?j:[]).length>0&&(0,e.h)(je.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(JM,{pub:t,people:j}))),ge&&["podcast","newsletter"].includes(Y.id)&&this.renderChildPublications({pub:t,user:r,freeSignup:i},{tab:Y})))}}const Yf={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"},Xa=({children:n,showContentBelowOnMobile:t,stretchVertically:r,variant:i})=>(0,e.h)("div",{style:r?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:u()(Yf.container,Yf[i],{[Yf["show-below"]]:t})},n)),Vl=({numColumns:n,paddingBottom:t,paddingTop:r})=>(0,e.h)(Xa,{variant:n===3?"three-column-width":"full-width"},(0,e.h)(y.tu,{paddingBottom:typeof t=="number"?t:24,paddingTop:typeof r=="number"?r:24},(0,e.h)(y.hs,{borderBottom:"detail-themed"})));var QM=Object.defineProperty,qM=Object.defineProperties,eA=Object.getOwnPropertyDescriptors,Oc=Object.getOwnPropertySymbols,yv=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,Pv=(n,t,r)=>t in n?QM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tA=(n,t)=>{for(var r in t||(t={}))yv.call(t,r)&&Pv(n,r,t[r]);if(Oc)for(var r of Oc(t))bv.call(t,r)&&Pv(n,r,t[r]);return n},nA=(n,t)=>qM(n,eA(t)),rA=(n,t)=>{var r={};for(var i in n)yv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Oc)for(var i of Oc(n))t.indexOf(i)<0&&bv.call(n,i)&&(r[i]=n[i]);return r};const Sc=n=>{var t=n,{stroke:r}=t,i=rA(t,["stroke"]);return(0,e.h)(k.l,nA(tA({},i),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};var Jf=wt(71212);const oA=(0,Po.Z)("Clapperboard",[["path",{d:"M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z",key:"1hxvyx"}],["path",{d:"m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z",key:"1vz1k2"}],["path",{d:"m6.6 4.99 3.38 4.2",key:"192ida"}],["path",{d:"m11.86 3.38 3.38 4.2",key:"hhucvz"}]]),iA=(0,Po.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),aA=(0,Po.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),Tc={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA",containerAnimated:"frontend-pencraft-unstable-Silhouette-module__containerAnimated--bFndg","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},fa=({animated:n=!0,width:t,height:r,aspectRatio:i,className:a})=>i?(0,e.h)("div",{style:`aspect-ratio:${i}`},(0,e.h)("div",{className:u()(Tc.container,a,{[Tc.containerAnimated]:n}),style:{width:t,height:r!=null?r:"100%"}})):(0,e.h)("div",{className:u()(Tc.container,a,{[Tc.containerAnimated]:n}),style:{width:t,height:r}});var sA=wt(34518);const Ui={transcriptionStatus:"frontend-components-TranscriptionText-module__transcriptionStatus--xwFBI",transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",hoverChunk:"frontend-components-TranscriptionText-module__hoverChunk--taY2G",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs",playCircle:"frontend-components-TranscriptionText-module__playCircle--YrnqH"};var lA=Object.defineProperty,uA=Object.defineProperties,cA=Object.getOwnPropertyDescriptors,Ev=Object.getOwnPropertySymbols,dA=Object.prototype.hasOwnProperty,fA=Object.prototype.propertyIsEnumerable,wv=(n,t,r)=>t in n?lA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Cv=(n,t)=>{for(var r in t||(t={}))dA.call(t,r)&&wv(n,r,t[r]);if(Ev)for(var r of Ev(t))fA.call(t,r)&&wv(n,r,t[r]);return n},Ov=(n,t)=>uA(n,cA(t));function pA({transcription:n,player:t,postId:r}){var i,a;const[D,B]=(0,o.eJ)(!1),[j,U]=(0,o.eJ)(),[Y,ge]=(0,o.eJ)(0),[Se,De]=(0,o.eJ)(!1),[Fe,qe]=(0,o.eJ)(!1),[Ye,st]=(0,o.eJ)(),[gt,yt]=(0,o.eJ)(),[At,Bt]=(0,o.eJ)();if((0,o.d4)(()=>{n.cdn_url&&(B(!0),$t().get(n.cdn_url).then(en=>en.text&&U(JSON.parse(en.text))).finally(()=>B(!1)))},[n]),(0,o.d4)(()=>{var en;const Xt=(en=t.current)==null?void 0:en.player;if(Xt){const tn=Gn=>{typeof Gn.target.currentTime=="number"&&ge(Gn.target.currentTime)},fn=()=>De(!0),xn=()=>De(!1),yn=()=>De(!1);return Xt.addEventListener("timeupdate",tn),Xt.addEventListener("play",fn),Xt.addEventListener("pause",xn),Xt.addEventListener("ended",yn),()=>{Xt.removeEventListener("timeupdate",tn),Xt.removeEventListener("play",fn),Xt.removeEventListener("pause",xn),Xt.removeEventListener("ended",yn)}}},[t]),(0,o.d4)(()=>{const en=()=>{setTimeout(()=>{var Xt,tn,fn;const xn=window.getSelection();if(!xn||xn.rangeCount===0||xn.isCollapsed){Bt(void 0),yt(void 0);return}const yn=xn.getRangeAt(0),Gn=yn.startContainer.parentNode,pn=yn.endContainer.parentNode,Sn=(Xt=Gn==null?void 0:Gn.dataset)==null?void 0:Xt.chunkIndex,ur=(tn=pn==null?void 0:pn.dataset)==null?void 0:tn.chunkIndex;if(Sn&&ur){let Qn=parseInt(Sn,10),jn=parseInt(ur,10);yn.startOffset===((fn=Gn==null?void 0:Gn.textContent)==null?void 0:fn.length)&&(Qn+=1),yn.endOffset===0&&(jn-=1),Bt(xn),yt([Qn,jn])}else Bt(void 0),yt(void 0)},0)};return document.addEventListener("mouseup",en),()=>{document.removeEventListener("mouseup",en)}},[]),D)return(0,e.h)(Sv,null);if(!(j!=null&&j.length))return(0,e.h)("div",{className:Ui.transcriptionStatus},(0,e.h)("p",null,(n==null?void 0:n.status)==="in_progress"?"Transcription in progress...":"No transcript..."),(0,e.h)(Sv,null));const xt=((a=(i=t==null?void 0:t.current)==null?void 0:i.player)==null?void 0:a.tagName)==="VIDEO"?"videogram":"audiogram";function Ht(en){return(0,C.j)(C.FP.AUDIOGRAM_DOWNLOAD_CLICKED,{post_id:r,media_upload_id:n.media_upload_id}),fetch(en,{method:"GET"}).then(Xt=>Xt.blob()).then(Xt=>{var tn;const fn=(tn=Ye==null?void 0:Ye.video_url)==null?void 0:tn.split("/").pop(),xn=fn==null?void 0:fn.match(/^([^-]+-[^_]+)_/),yn=(xn==null?void 0:xn[1])||"",Gn=URL.createObjectURL(Xt),pn=document.createElement("a");pn.href=Gn,pn.download=`substack-${xt}-${r}-${yn}.mp4`,document.body.appendChild(pn),pn.click(),URL.revokeObjectURL(Gn),pn.remove()})}return(0,e.h)(e.Fragment,null,At&&gt&&(0,e.h)(hA,{noun:xt,selection:At,onMakeAudiogram:()=>{if(gt){const[en,Xt]=gt;qe(!0),$t().post("/api/v1/audiogram").send({post_id:r,start_idx:en,end_idx:Xt}).then(tn=>{var fn;(fn=tn.body)!=null&&fn.data&&(st(tn.body.data),Bt(void 0),yt(void 0))}).finally(()=>qe(!1))}}}),j.map((en,Xt)=>(0,e.h)(mA,{key:Xt,idx:Xt,row:en,currentTime:Y,isPlaying:Se,isSelected:!!(gt&&Xt>=gt[0]&&Xt<=gt[1]),onClick:()=>{Bt(void 0),yt(void 0)},onPause:()=>{var tn;(tn=t.current)!=null&&tn.player&&t.current.player.pause()},onPlay:()=>{var tn;(tn=t.current)!=null&&tn.player&&(t.current.player.currentTime=en.start+1e-4,t.current.player.play())}})),!!(Fe||Ye)&&(0,e.h)(sA.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{st(void 0)}},(0,e.h)(x.xv.H3,{style:{marginTop:22,paddingLeft:16}},Fe?`Generating ${xt}...`:`Shareable ${xt}...`),(0,e.h)(y.tu,{padding:16},Ye?(0,e.h)(e.Fragment,null,(0,e.h)("video",{src:Ye.cdn_url,style:{borderRadius:12,alignSelf:"center",marginBottom:12},controls:!0,download:!0,width:512}),(0,e.h)(y.zx,{priority:"secondary",leftIcon:(0,e.h)(Jf.Z,{height:18}),onClick:()=>Ht(Ye.cdn_url)},"Download")):(0,e.h)(y.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:280}},(0,e.h)("div",{className:"embed-loader"})))))}function hA({selection:n,onMakeAudiogram:t,noun:r}){var i,a;const D=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0),B=(0,Ni.XA)(),j=(a=(i=n.anchorNode)==null?void 0:i.parentElement)==null?void 0:a.getBoundingClientRect();return j?(0,e.h)(y.tu,{style:{top:D?Math.max(j.y,0)+j.height+12:Math.max(j.y,0)-24,left:"50vw",transform:"translateX(-50%)",pointerEvents:"auto",maxWidth:240},justifyContent:"center",className:da.popover,shadow:"md"},(0,e.h)(y.tu,{className:u()(da.popoverButtons,B&&da.isMobile),radius:12,padding:4,gap:8},(0,e.h)(hv,{onClick:t,disabled:!1,isExplainer:!1},(0,e.h)(oA,{color:"white"}),(0,e.h)(x.xv.B4,{color:"bg-light",weight:"medium"},"Make ",r)))):null}function Sv(){return(0,e.h)(e.Fragment,null,(0,e.h)(fa,{width:"80%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(fa,{width:"34%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(fa,{width:"75%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(fa,{width:"100%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(fa,{width:"68%",height:"24px",className:Ui.loadingSilhouette}))}function mA({row:n,currentTime:t,onPlay:r,isPlaying:i,onPause:a,isSelected:D,onClick:B,idx:j}){const[U,Y]=(0,o.eJ)(!1),ge=n.start<=t&&n.end>=t;return(0,e.h)("div",{onClick:B,onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),style:{display:"flex",width:"100%",alignItems:"center"}},!i||U&&!ge?(0,e.h)(iA,{onClick:r,size:24,className:Ui.playCircle,style:Ov(Cv({},U&&{color:"var(--color-accent-substack)"}),{visibility:ge||U?"visible":"hidden"})}):(0,e.h)(aA,{onClick:a,size:24,className:Ui.playCircle,style:Ov(Cv({},U&&{color:"var(--color-accent-substack)"}),{visibility:ge||U?"visible":"hidden"})}),(0,e.h)("div",{className:u()(Ui.transcriptionChunk,{[Ui.activeRow]:ge||D,[Ui.hoverChunk]:U}),"data-chunk-index":j},(0,e.h)("div",{className:u()(Ui.rowIndicator,{[Ui.hoverRow]:U})}),(0,e.h)("div",{className:Ui.rowText,"data-chunk-index":j},D,n.words.map(Se=>Se.start<=t&&Se.end>=t?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Ui.activeWord},Se.word)," "):`${Se.word} `))))}var _A=Object.defineProperty,Ic=Object.getOwnPropertySymbols,Tv=Object.prototype.hasOwnProperty,Iv=Object.prototype.propertyIsEnumerable,Xf=(n,t,r)=>t in n?_A(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gA=(n,t)=>{for(var r in t||(t={}))Tv.call(t,r)&&Xf(n,r,t[r]);if(Ic)for(var r of Ic(t))Iv.call(t,r)&&Xf(n,r,t[r]);return n},vA=(n,t)=>{var r={};for(var i in n)Tv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ic)for(var i of Ic(n))t.indexOf(i)<0&&Iv.call(n,i)&&(r[i]=n[i]);return r},Qf=(n,t,r)=>(Xf(n,typeof t!="symbol"?t+"":t,r),r),yA=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Kl=({className:n=null,title:t,subtitle:r=null,reauthenticationTitle:i,publication:a,post:D,user:B,freeSignup:j=null,freeSignupEmail:U=null,email_form:Y=!1,autoFocus:ge=!1,isStatic:Se=!1,coupon:De=null})=>{const{iString:Fe,iTemplate:qe}=(0,P.M1)(),Ye=B&&B.email||U||null,st=!!(B!=null&&B.is_subscribed&&(B!=null&&B.is_magic)),gt=(D==null?void 0:D.audience)==="founding",yt=!!(B!=null&&B.is_free_subscribed||j),At=(0,p.getPostUrl)(a,D),Bt=De&&De.id&&!gt;let xt;return Bt?(D==null?void 0:D.type)==="podcast"?xt=Fe("Listen to this episode with a 7-day free trial"):(D==null?void 0:D.type)==="video"?xt=Fe("Watch with a 7-day free trial"):xt=Fe("Keep reading with a 7-day free trial"):st?xt=i:xt=t,(0,e.h)("div",{className:u()("paywall",n),"data-testid":"paywall","data-component-name":"Paywall"},Ye&&(0,e.h)(x.xv,{translated:!0,as:"div",className:"paywall-intro"},"Hi ",(0,e.h)("b",null,I18N.p(Ye))),(0,e.h)("h2",{className:"paywall-title"},xt),r&&!Bt&&(0,e.h)("p",{className:"paywall-subtitle"},r),Bt&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(D==null?void 0:D.type)==="podcast"&&(0,e.h)(x.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(x.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to listen to this episode and get 7 days of free access to the full post archives."),(D==null?void 0:D.type)==="video"&&(0,e.h)(x.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(x.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to watch this video and get 7 days of free access to the full post archives."),(D==null?void 0:D.type)==="newsletter"&&(0,e.h)(x.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(x.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to keep reading this post and get 7 days of free access to the full post archives."),(D==null?void 0:D.type)==="adhoc_email"&&(0,e.h)(x.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(x.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to keep reading this email and get 7 days of free access to the full post archives.")),Y?!yt&&(0,e.h)(y.gq,{paddingTop:24,justifyContent:"center"},(0,e.h)(Le.Z,{autoFocus:ge!=null?ge:!0,email:Ye,freeSignup:j,freeSignupEmail:U,onAccentBackground:!0,pub:a,source:"post-unlock",submitButtonText:(D==null?void 0:D.type)==="podcast"?Fe("Start listening"):(D==null?void 0:D.type)==="video"?Fe("Start watching"):Fe("Start reading"),user:B,onSuccess:()=>document.location.reload()})):(0,e.h)(bA,{coupon:De,email:Ye,isStatic:Se,post:D,postUrl:At,publication:a,useCoupon:Bt,user:B}),!st&&!Se&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:a.subdomain,change_user:!!Ye}),native:!0},CA({post:D,publication:a,isPaid:!Y})," ",(0,e.h)("b",null,Fe(Ye?"Switch accounts":"Sign in")))))},bA=({coupon:n,email:t,isStatic:r,post:i,postUrl:a,publication:D,useCoupon:B,user:j})=>{const U=!!(j!=null&&j.is_founding),Y=!!(j!=null&&j.is_subscribed),ge=!!(j!=null&&j.is_subscribed&&(j!=null&&j.is_magic)),Se=(i==null?void 0:i.audience)==="founding",{exposeExperiment:De,getExperimentVariant:Fe}=(0,Zt.jc)(),qe=Fe("autosubscribe_from_paywall")==="treatment",{iString:Ye,iTemplate:st}=(0,P.M1)();if(r){if(!D.plans)return null;const gt=Se?Ei.Substitutions.FOUNDING_CHECKOUT_URL:Ei.Substitutions.CHECKOUT_URL,yt=B?`&coupon=${n.id}`:"",At=Se?st`Upgrade to ${(0,ri.getFoundingTierName)(D)}`:B?Ye("Start trial"):(0,e.h)($f,{pub:D,user:j,isStatic:r});return(0,e.h)(PA,{href:`${gt}simple=true&utm_source=paywall&utm_medium=email&utm_content=${i.id}&next=${a}${yt}`},At)}return!U&&Se?D.plans?(0,e.h)(xc,{href:(0,p.getCheckoutUrl)(D,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:i?i.id:null,plan:"founding"})},st`Upgrade to ${(0,ri.getFoundingTierName)(D)}`):null:Y?ge?(0,e.h)(xc,{href:(0,p.getSigninUrl)({for_pub:D.subdomain,email:t})},Ye("Click here to sign in")):null:D.plans?j!=null&&j.email&&!B?(0,e.h)(xc,{onClick:()=>yA(void 0,null,function*(){yield De("autosubscribe_from_paywall");let gt;if(qe)try{gt=(yield $t().post("/api/v1/free").send({source:"paywall",email:t,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU})).body.referral_token}catch(yt){(0,C.j)(C.FP.PAYWALL_FREE_SIGNUP_FAILED,{reason:yt.message})}window.location.href=(0,p.getCheckoutUrl)(D,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,just_signed_up:qe,referral_token:gt})})},(0,e.h)($f,{pub:D,user:j,isStatic:r})):(0,e.h)(xc,{href:(0,p.getCheckoutUrl)(D,{simple:!0,next:document.location.href,utm_source:B?"paywall-free-trial":"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,coupon:B?n.id:null})},B?Ye("Start trial"):(0,e.h)($f,{pub:D,user:j,isStatic:r})):null},PA=({children:n,href:t})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:t},(0,e.h)("span",null,n))),xc=({children:n,href:t,onClick:r})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:t,onClick:r,native:!0},(0,e.h)(Je.Z,{className:"subscribe-btn"},n)));class EA extends $e.p{renderChildren(){const t=this.props,{ref:r}=t,i=vA(t,["ref"]);return(0,e.h)(Kl,gA({className:"modal-paywall"},i))}}class wA extends Nl{constructor(){super(...arguments),Qf(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),Qf(this,"cta",()=>{const{iString:t}=I18N.i({pub:this.props.pub});return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?t("Subscribe for full video"):t("Subscribe and watch")}),Qf(this,"href",()=>{var t;return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,p.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:(t=this.props.post)==null?void 0:t.id})})}}function CA({post:n,publication:t,isPaid:r=!0}={}){const{iString:i,iTemplate:a}=I18N.i({pub:t});return r?(n==null?void 0:n.audience)==="founding"?(0,ri.getFoundingTierName)(t)?a`Already in the ${(0,ri.getFoundingTierName)(t)} plan?`:a`Already in the Founding Member plan?`:i("Already a paid subscriber?"):i("Already a subscriber?")}const xv=({post:n,pub:t,user:r,playerRef:i})=>{var a,D;const B=!(0,Vt.canSeeTranscription)(r,n),j=((a=n==null?void 0:n.podcastUpload)==null?void 0:a.transcription)||((D=n==null?void 0:n.videoUpload)==null?void 0:D.transcription),{iString:U}=(0,P.M1)();return j?B?(0,e.h)(Kl,{user:r,publication:t,post:n,title:U("Transcriptions on this episode are for paid subscribers"),reauthenticationTitle:U("To see the transcription, please re-authenticate.")}):(0,e.h)(pA,{transcription:j,player:i,postId:n.id}):null};var $l=wt(43615),Ci=wt(39776);const Ca={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7"},Es=({className:n,hidePlaceholder:t,imageAspectRatio:r,imageWidth:i,isBelowTheFold:a,post:D,squareImageSize:B})=>{const{getConfigFor:j}=(0,Et.xR)(),{isMobile:U}=bi(),Y=j("show_entire_square_image"),ge=(0,sr.getCoverImageUrl)(D);if(!ge&&t)return null;const Se=!i&&!r?1.32:r,De=i||336,Fe=!!ge&&D.cover_image_is_square&&Y,qe=Fe&&!!B&&!U,Ye=a?"lazy":void 0;return qe?(0,e.h)(OA,{aspectRatio:Se,className:n,imageUrl:ge,loading:Ye,size:B,width:De}):(0,e.h)("div",{className:u()(n,Ca.container,{"post-preview-cover-image-container--empty":!ge}),style:`aspect-ratio: ${Se}`},ge?(0,e.h)(ct.e,{className:u()(Ca.image,{[Ca["image-square-legacy"]]:Fe}),src:ge,alt:"",maxWidth:De,imageProps:Se?{height:Math.round(De/Se),smartCrop:!0,gravity:"center"}:{},loading:Ye,style:`aspect-ratio: ${Se}`}):null)},OA=({aspectRatio:n,className:t,imageUrl:r,width:i,loading:a,size:D})=>(0,e.h)("div",{className:u()(t,Ca.container,Ca.containerSquare),style:`aspect-ratio: ${n}`},(0,e.h)("div",{className:u()(Ca["inner-wrapper"],Ca[`inner-wrapper-${D}`])},(0,e.h)(ct.e,{className:u()(Ca.image,Ca["image-square"],Ca[`image-square-${D}`]),src:r,alt:"",maxWidth:i,imageProps:{height:i,smartCrop:!0,gravity:"center"},loading:a})));var SA=wt(98913),TA=wt.n(SA),Dv=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const IA={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},xA=({ban:n,onReply:t,showReplyLink:r,name:i})=>{const a=Mt()(n.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},i," is banned until ",a,"."," ",r&&(0,e.h)("span",null,(0,e.h)("a",{onClick:t,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function qf({pub:n,sub:t,children:r,tab:i}){return!t||!t.email?r:(0,e.h)("a",{target:"_blank",href:(0,p.getSubscriberDetailsUrl)(n,t.email,{tab:i})},r)}const DA=({sub:n})=>n?n.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):n.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,MA=({bans:n,activeBans:t})=>n.length===0?(0,e.h)("span",null,"No previous bans"):t.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",Mt()(n[0].start).standardDatetimeWithYear()," to"," ",Mt()(n[0].expiry).standardDatetimeWithYear()),AA=({comment:n,pub:t,onReply:r,onBan:i,onClose:a})=>{const[D,B]=(0,o.eJ)(null),[j,U]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)([]),[Se,De]=(0,o.eJ)(!1),[Fe,qe]=(0,o.eJ)("24h"),[Ye,st]=(0,o.eJ)(null),[gt,yt]=(0,o.eJ)(!0),At=(0,o.sO)(null),Bt=!!n||j,xt=fn=>{const xn=fn;fn.forEach(yn=>{xn.findIndex(Gn=>Gn.id===yn.id)==-1&&xn.push(yn)}),ge(xn)},Ht=()=>{r(n.id),At.current.close()};(0,o.d4)(()=>{At!=null&&At.current&&(Bt?At.current.state.open||At.current.open():At.current.state.open&&At.current.close())},[n,j]),(0,o.d4)(()=>Dv(void 0,null,function*(){if(n){De(!1),U(!0),ge([]),st(null),B(null);try{const fn=yield $t().get(`/api/v1/user/${n.user_id}/bans`);ge(fn.body.bans),B(fn.body.sub)}catch(fn){console.error("Failed to get bans:",fn),st(!0)}U(!1)}}),[n]);const en=()=>Dv(void 0,null,function*(){U(!0);try{const fn=yield $t().post(`/api/v1/comment_ban/${n.id}`,{pub:t}).send({user_id:n.user_id,expiry:Fe,removeAllComments:gt});gt&&document.location.reload(),xt(fn.body.bans),De(!0),U(!1),i(n,Y)}catch(fn){console.error("Failed to submit ban",fn),st(!0)}U(!1)});if(!n)return null;const Xt=IA[Fe],tn=Y.filter(fn=>Mt()(fn.expiry).isAfter(Mt()()));return(0,e.h)($e.p,{ref:At,noExitOnClick:!0,onClose:a},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(qf,{pub:t,sub:D},(0,e.h)(Eo.fi,{photo_url:n.photo_url,size:80,banned:tn.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(qf,{pub:t,sub:D},(0,e.h)("span",{className:"name"},n.name)),(0,e.h)(DA,{sub:D}),(0,e.h)(MA,{bans:Y,activeBans:tn}))),Ye&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),j?"Loading...":(0,e.h)("form",{className:"form"},tn.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:fn=>qe(fn.target.value),value:Fe},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:gt,onInput:fn=>yt(fn.target.checked)}),"Remove ",(0,Vt.guessFirstName)(n.name),"'s"," ",(0,e.h)(qf,{pub:t,sub:D,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(Je.Z,{className:"button primary",onClick:en},"Ban for ",Xt))),tn.length>0&&Y.filter(fn=>fn.user_id).map(fn=>(0,e.h)(xA,{ban:fn,showReplyLink:Se,onReply:Ht,name:n.name})))))},g$=null;var Fi=wt(82622),ep=wt(38441),NA=wt(7617);const Mv=(0,Po.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),RA=(0,Po.Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),LA=(0,Po.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);var BA=wt(66440),kA=wt(81108),UA=Object.defineProperty,FA=Object.defineProperties,jA=Object.getOwnPropertyDescriptors,Av=Object.getOwnPropertySymbols,WA=Object.prototype.hasOwnProperty,HA=Object.prototype.propertyIsEnumerable,Nv=(n,t,r)=>t in n?UA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,VA=(n,t)=>{for(var r in t||(t={}))WA.call(t,r)&&Nv(n,r,t[r]);if(Av)for(var r of Av(t))HA.call(t,r)&&Nv(n,r,t[r]);return n},KA=(n,t)=>FA(n,jA(t));const $A=n=>(0,e.h)(k.l,KA(VA({},n),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var ws=wt(31533),Ys=wt(36250);const Rv="comment-collapse-state",Lv=250,ka=XA(),zA=()=>{if(typeof window!="undefined"&&window.location.hash){const n=/^#comment-(\d+)/.exec(window.location.hash);if(n)return Number(n[1])}return null},GA=()=>typeof window!="undefined"&&window.location.hash==="#input",Bv=(n,t)=>{if(!n||!t||!t.length)return null;for(const r of t){if(r.id===n)return r;if(r.children&&r.children.length){const i=Bv(n,r.children);if(i)return i}}return null};function zl(n,t){return n.map(r=>r.id===t.id?t:(r.children=zl(r.children,t),r)).filter(r=>r)}function ZA(n,t,{recurse:r=!0}={}){var i,a,D,B;return!!(n.id!==t.id||((i=n==null?void 0:n.metadata)==null?void 0:i.is_author)!==((a=t==null?void 0:t.metadata)==null?void 0:a.is_author)||((D=n==null?void 0:n.metadata)==null?void 0:D.founding)!==((B=t==null?void 0:t.metadata)==null?void 0:B.founding)||(n==null?void 0:n.body)!==(t==null?void 0:t.body)||(n==null?void 0:n.status)!==(t==null?void 0:t.status)||n.reaction!==t.reaction||n.user_banned!==t.user_banned||n.reported_by_user!==t.reported_by_user||(n.reactor_names?n.reactor_names.length:0)!==(t.reactor_names?t.reactor_names.length:0)||Object.values(n.reactions).reduce((j,U)=>j+U,0)!==Object.values(t.reactions).reduce((j,U)=>j+U,0)||r&&YA(n.children,t.children,{recurse:r}))}function YA(n,t,{recurse:r=!0}={}){if((n?n.length:0)!==(t?t.length:0))return!0;if(n)for(const i of n){const a=t.find(D=>D.id===i.id);if(!a||r&&ZA(i,a,{recurse:r}))return!0}return!1}function Gl(n,t,r){return(0,p.pathWithQuery)((0,p.getPostUrl)(t,n,{comments:!(0,Vt.shouldUseInlineComments)(t,n)}),r)}function JA(n){return(n||"").split(`
`).filter(t=>t.trim()).map(t=>(0,e.h)("p",null,(0,e.h)(Xh(),{options:{validate:{url:r=>r&&!r.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},t)))}const Dc=n=>{var t,r,i,a;return{id:n.user_id,photo_url:n.photo_url,name:n.name,bestseller_tier:n.user_bestseller_tier,primary_publication:n.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((t=n.metadata)==null?void 0:t.membership_state),is_subscribed:((r=n.metadata)==null?void 0:r.membership_state)==="subscribed",is_founding:(i=n.metadata)==null?void 0:i.founding,is_author:(a=n.metadata)==null?void 0:a.is_author}};function XA(){try{return(0,Li.mM)(Rv,[])}catch(n){return console.error("Failed to load comment collapse state:",n),[]}}function QA(n,t){let r=!1;if(t)ka.includes(n)||(r=!0,ka.push(n),ka.length>Lv&&ka.splice(0,ka.length-Lv));else{const i=ka.indexOf(n);i>=0&&(r=!0,ka.splice(i,1))}if(r)try{(0,Li.ex)(Rv,ka)}catch(i){console.error("Failed to store comment collapse state:",i)}}function qA(n){return ka.includes(n)}const e6={link:"frontend-main-comments-CommentActions-module__link--yWV0t"};var Mc=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const t6=({comment:n,pub:t,user:r,post:i,reaction_token:a,commentsEnabledForPost:D,hideContextMenu:B,noRestack:j,onChange:U,startReply:Y,startEdit:ge,startReport:Se,openBan:De,updateCommentReacted:Fe})=>{var qe;const{pinned_by_user_id:Ye}=n,st=!!Ye,gt=(0,o.sO)(),[yt,At]=(0,o.eJ)(!1),[Bt,xt]=(0,o.eJ)(!1),[Ht,en]=(0,o.eJ)(!1),{iString:Xt,iTemplate:tn}=(0,P.M1)(),fn=()=>Mc(void 0,null,function*(){if(!Ht&&window.confirm(st?tn`Are you sure you want to unpin this comment?`:tn`Are you sure you want to pin this comment?`)&&!Ht){en(!0);try{yield $t().patch(`/api/v1/comment/${n.id}/pin`).send({pinned:!st}),U({pinned:!st}),document.location.reload()}catch(Yn){alert((0,T.getNetworkErrorMessage)(Yn)),en(!1)}}}),xn=()=>Mc(void 0,null,function*(){var Yn;if(!yt&&window.confirm(Xt("Are you sure you want to remove this comment?"))&&!yt){At(!0);try{yield $t().patch(`/api/v1/comment/${n.id}/status`).send({status:Fi.COMMENT_STATUS.moderator_removed}),U({suppressed:!0,status:Fi.COMMENT_STATUS.moderator_removed,body:null}),(Yn=gt.current)==null||Yn.close()}catch(vr){alert((0,T.getNetworkErrorMessage)(vr))}At(!1)}}),yn=()=>Mc(void 0,null,function*(){var Yn;if(!Bt&&window.confirm(Xt("Are you sure you want to delete this comment?"))&&!Bt){xt(!0);try{yield $t().delete(`/api/v1/comment/${n.id}`).send(),U({status:Fi.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(Yn=gt.current)==null||Yn.close()}catch(vr){alert((0,T.getNetworkErrorMessage)(vr))}xt(!1)}}),Gn=()=>Mc(void 0,null,function*(){const Yn=(0,Ys.getCommentUrl)(i,n,t),vr=`https://linear.app/substackinc/team/TPT/new?description=${n.body}%0A%0AComment%20author:%20[${n.name}](https://admin.substack.com/users/${n.user_id})%0A%0ALink:%20${Yn}&status=Triage`;window.open(vr,"_blank")}),pn=!!(r&&r.id===n.user_id),Sn=(r==null?void 0:r.is_contributor)&&(0,Fi.Ng)(n)&&n.ancestor_path==="",ur=(0,Vt.canEditComment)(r,n),Qn=(r==null?void 0:r.is_contributor)&&(0,Fi.Ng)(n)&&n.ancestor_path==="",jn=!pn&&n.metadata.eligibleForGift&&!n.metadata.is_author,Kn=(r==null?void 0:r.is_contributor)&&(0,Fi.Ng)(n),Wn=!pn&&t.moderation_enabled&&!n.reported_by_user&&!n.hidden&&!n.suppressed,tr=pn,Rn=Kn&&!pn,Zn=Kn&&r.is_global_admin,gn=r==null?void 0:r.is_global_admin,kn=Kn&&!n.user_banned&&!pn,Gt=Kn&&n.email&&!pn,or=ur||Qn||jn||Gt,_n=kn||Wn||Rn||tr||Zn,fr=(0,Ci.default)("like_comments_enabled"),yr=!B&&(or||_n),Ar=`${t.base_url}/subscribe?gift=true&recipient=${n.user_id}-${(0,T_.cleanSlug)(n.name,{hashIfEmpty:!0})}&comment_id=${n.id}}`;return(0,e.h)(je.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:"comment-actions"},!n.deleted&&[fr&&(0,e.h)(ws.dJ,{user:r,pub:t,post:i,comment:n,height:16,countInParenthesesStyle:!0,token:a,onChange:({comment:Yn})=>U(Yn),onReactedChange:Yn=>{Fe&&Fe(n.id,Yn)},noSelfUpdate:!!Fe}),D&&(0,e.h)(zf.hh,{onClick:()=>Y(),className:e6.link},(0,e.h)(je.hs,{gap:6,alignItems:"center"},(0,e.h)(NA.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(x.xv.Meta,{color:"pub-secondary-text"},Xt("Reply"),((qe=n.children)==null?void 0:qe.length)>0&&` (${n.children.length})`))),!j&&(0,e.h)(r6,{pub:t,post:i,comment:n,onChange:U}),yr&&(0,e.h)(wo.v2,{trigger:(0,e.h)(ft.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(Qh.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:Xt("More")},Sn&&(0,e.h)(n6,{pub:t,post:i,comment:n}),ur&&(0,e.h)(wo.sN,{icon:(0,e.h)(Sl.Z,null),onClick:ge},Xt("Edit")),Qn&&(0,e.h)(wo.sN,{icon:(0,e.h)(Mv,null),onClick:fn},Xt(Ht?st?"Unpinning...":"Pinning...":st?"Unpin":"Pin")),jn&&(0,e.h)(wo.sN,{icon:(0,e.h)(RA,null),href:Ar},Xt("Gift a subscription")),gn&&(0,e.h)(wo.sN,{icon:(0,e.h)($A,{strokeWidth:0,height:24,width:24}),onClick:Gn},Xt("Add comment to Linear")),Gt&&(0,e.h)(wo.sN,{icon:(0,e.h)(LA,null),onClick:()=>window.open((0,p.getSubscriberDetailsUrl)(t,n.email),"_blank")},Xt("Subscriber details")),or&&_n&&(0,e.h)(n_.i,null),tr&&(0,e.h)(wo.sN,{icon:(0,e.h)(BA.Z,null),onClick:yn,priority:"destructive"},Xt(Bt?"Deleting...":"Delete")),Rn&&(0,e.h)(wo.sN,{icon:(0,e.h)(kA.Z,null),onClick:xn,priority:"destructive"},Xt(yt?"Removing...":"Remove")),Wn&&(0,e.h)(wo.sN,{icon:(0,e.h)(em.Z,null),onClick:Se,priority:"destructive"},Xt("Report")),kn&&(0,e.h)(wo.sN,{icon:(0,e.h)(tm.Z,null),onClick:De,priority:"destructive"},Xt("Ban or suspend user")))])};function n6({pub:n,post:t,comment:r}){const i=(0,Wu.i3)(),{iString:a}=(0,P.M1)();return(0,e.h)(wo.sN,{icon:(0,e.h)(Dl.Z,null),onClick:()=>{i.open({restackUrl:(0,Ys.getCommentUrl)(t,r,n)})}},a("Restack"))}function r6({pub:n,post:t,comment:r,onChange:i}){const{iString:a}=(0,P.M1)(),{canRestack:D,isRestacked:B,restacks:j,menuItems:U,nuxModal:Y}=(0,cv.K)({pub:n,post:t,comment:r,onRestack:ge=>{i({restacked:ge,restacks:j+(ge?1:-1)})}});if(D)return(0,e.h)("span",null,Y,(0,e.h)(wo.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:u()("restack-button",B&&"restacked"),href:"javascript:void(0)"},(0,e.h)(Dl.Z,null),a("Restack"),j>0&&` (${j})`)},U))}const o6=t6,i6=({comment:n,bodyRef:t,expandToggleClicked:r})=>{const[i,a]=(0,o.eJ)(!1),D=(n.user_banned_for_comment||n.reported_by_user)&&!i;return(0,e.h)("div",{className:"comment-body",ref:t},(0,e.h)(a6,{comment:n,showHiddenComment:i,setShowHiddenComment:a}),n.hidden?(0,e.h)("i",null,"Comment hidden"):n.deleted?(0,e.h)("i",null,"Comment deleted"):D?(0,e.h)("i",null):n.suppressed&&!i?(0,e.h)("i",null,"Comment removed"):n.type==="reply"?(0,e.h)(s6,{comment:n}):JA(n.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>r()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},a6=({comment:n,showHiddenComment:t,setShowHiddenComment:r})=>{const i=(0,Fi.Ng)(n)&&(n.user_banned_for_comment||n.reported_by_user),a=n.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return i&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,a,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>r(!t)},t?"Hide":"Show")))},s6=({comment:n})=>{const{title:t,truncated_body_text:r,date:i,bylines:a,like_count:D,comment_count:B,url:j}=n.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,p.pathWithQuery)(j,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},t),r&&(0,e.h)("div",{className:"reply-comment-body"},(0,Vt.formatEllipsis)(r)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,Vt.getPostEmbedMeta)({date:i,bylines:a,like_count:D,comment_count:B})))},l6=i6;var tp=wt(95847),kv=wt(61152),u6=Object.defineProperty,c6=Object.defineProperties,d6=Object.getOwnPropertyDescriptors,Uv=Object.getOwnPropertySymbols,f6=Object.prototype.hasOwnProperty,p6=Object.prototype.propertyIsEnumerable,Fv=(n,t,r)=>t in n?u6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,h6=(n,t)=>{for(var r in t||(t={}))f6.call(t,r)&&Fv(n,r,t[r]);if(Uv)for(var r of Uv(t))p6.call(t,r)&&Fv(n,r,t[r]);return n},m6=(n,t)=>c6(n,d6(t));const _6=n=>(0,e.h)(k.l,m6(h6({},n),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var g6=Object.defineProperty,v6=Object.defineProperties,y6=Object.getOwnPropertyDescriptors,jv=Object.getOwnPropertySymbols,b6=Object.prototype.hasOwnProperty,P6=Object.prototype.propertyIsEnumerable,Wv=(n,t,r)=>t in n?g6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,E6=(n,t)=>{for(var r in t||(t={}))b6.call(t,r)&&Wv(n,r,t[r]);if(jv)for(var r of jv(t))P6.call(t,r)&&Wv(n,r,t[r]);return n},w6=(n,t)=>v6(n,y6(t));const C6=n=>(0,e.h)(k.l,w6(E6({},n),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var O6=Object.defineProperty,S6=Object.defineProperties,T6=Object.getOwnPropertyDescriptors,Hv=Object.getOwnPropertySymbols,I6=Object.prototype.hasOwnProperty,x6=Object.prototype.propertyIsEnumerable,Vv=(n,t,r)=>t in n?O6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,D6=(n,t)=>{for(var r in t||(t={}))I6.call(t,r)&&Vv(n,r,t[r]);if(Hv)for(var r of Hv(t))x6.call(t,r)&&Vv(n,r,t[r]);return n},M6=(n,t)=>S6(n,T6(t));const A6=n=>(0,e.h)(k.l,M6(D6({},n),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var N6=wt(18446),Zl=wt.n(N6),R6=Object.defineProperty,Kv=Object.getOwnPropertySymbols,L6=Object.prototype.hasOwnProperty,B6=Object.prototype.propertyIsEnumerable,np=(n,t,r)=>t in n?R6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,k6=(n,t)=>{for(var r in t||(t={}))L6.call(t,r)&&np(n,r,t[r]);if(Kv)for(var r of Kv(t))B6.call(t,r)&&np(n,r,t[r]);return n},Ac=(n,t,r)=>(np(n,typeof t!="symbol"?t+"":t,r),r);class $v extends e.Component{constructor(t,r){super(t,r),Ac(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),Ac(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),Ac(this,"onDocumentMouseUp",i=>{var a;!(0,T.isRootOrChild)(i.target,this.portalRef.current,((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),Ac(this,"onDocumentKeyDown",i=>{i.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=Ku()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const t=!this.state.open;t?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:t})}updateCoords(){var t,r,i,a,D,B,j;const U=(a=(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null?void 0:r.getBoundingClientRect)==null?void 0:a.call(((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef);if(U){let Y=0,ge=((D=this.props.baseRef)==null?void 0:D.current)||this.props.baseRef;for(;ge=ge==null?void 0:ge.parentElement;)Y+=ge.scrollTop;this.setState({coords:{left:U.x+(this.props.rightAlign?U.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((B=this.props.offset)==null?void 0:B.x)||0),top:U.y+Y+(((j=this.props.offset)==null?void 0:j.y)||0),width:U.width,height:U.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var t,r,i,a;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.addEventListener("mouseenter",this.open),(a=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||a.addEventListener("mouseleave",this.close)}removeMouseListeners(){var t,r,i,a;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.removeEventListener("mouseenter",this.open),(a=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||a.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(t){var r,i;const a=t==null?void 0:t.getBoundingClientRect(),D=(i=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null?void 0:i.getBoundingClientRect();if(!a||!D)return;const B=({x:Se,y:De})=>Y<=Se&&Se<=ge&&j<=De&&De<=U,{top:j,bottom:U,left:Y,right:ge}=a;B({x:D.left,y:D.top})||B({x:D.right,y:D.top})||B({x:D.left,y:D.bottom})||B({x:D.right,y:D.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(t=>t())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(t=>{const r=(t==null?void 0:t.current)||t,i=Ku()(()=>this.onScroll(r),10);return r==null||r.addEventListener("scroll",i),()=>r==null?void 0:r.removeEventListener("scroll",i)})}componentShouldUpdate(t,r){return!Zl()(this.props,t)||!Zl()(this.state,r)}componentDidUpdate(t){var r,i,a,D;!Zl()(t.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),Zl()(t.baseRef,this.props.baseRef)||((i=((r=t.baseRef)==null?void 0:r.current)||t.baseRef)==null||i.removeEventListener("mouseenter",this.open),(D=((a=t.baseRef)==null?void 0:a.current)||t.baseRef)==null||D.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:t,rootElement:r,className:i},{coords:a}){return typeof window=="undefined"?null:(0,dt.createPortal)((0,e.h)("div",{style:k6({},a),className:u()("tooltip-portal",i),ref:this.portalRef},t),r||document.body)}}$v.defaultProps={scrollContainers:[]};const zv=$v;var U6=wt(48403),F6=wt.n(U6),j6=Object.defineProperty,W6=Object.defineProperties,H6=Object.getOwnPropertyDescriptors,Gv=Object.getOwnPropertySymbols,V6=Object.prototype.hasOwnProperty,K6=Object.prototype.propertyIsEnumerable,Zv=(n,t,r)=>t in n?j6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$6=(n,t)=>{for(var r in t||(t={}))V6.call(t,r)&&Zv(n,r,t[r]);if(Gv)for(var r of Gv(t))K6.call(t,r)&&Zv(n,r,t[r]);return n},z6=(n,t)=>W6(n,H6(t));const Yv=n=>(0,e.h)(k.l,z6($6({},n),{name:"FoundingBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"6.37499",cy:"8.125",r:"2.875",fill:"none"}),(0,e.h)("path",{d:"M10.125 11.1366C10.125 12.7245 8.83782 14.0116 7.25 14.0116C5.66218 14.0116 4.375 12.7245 4.375 11.1366C4.375 9.54881 5.66218 8.26163 7.25 8.26163C8.83782 8.26163 10.125 9.54881 10.125 11.1366Z",fill:"none"}),(0,e.h)("path",{d:"M13.625 11.1366C13.625 12.7245 12.3379 14.0116 10.75 14.0116C9.16223 14.0116 7.87504 12.7245 7.87504 11.1366C7.87504 9.54881 9.16223 8.26163 10.75 8.26163C12.3379 8.26163 13.625 9.54881 13.625 11.1366Z",fill:"none"}),(0,e.h)("circle",{cx:"9",cy:"6.375",r:"2.875",fill:"none"}),(0,e.h)("circle",{cx:"11.625",cy:"8.125",r:"2.875",fill:"none"}));var G6=Object.defineProperty,Z6=Object.defineProperties,Y6=Object.getOwnPropertyDescriptors,Jv=Object.getOwnPropertySymbols,J6=Object.prototype.hasOwnProperty,X6=Object.prototype.propertyIsEnumerable,Xv=(n,t,r)=>t in n?G6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Q6=(n,t)=>{for(var r in t||(t={}))J6.call(t,r)&&Xv(n,r,t[r]);if(Jv)for(var r of Jv(t))X6.call(t,r)&&Xv(n,r,t[r]);return n},q6=(n,t)=>Z6(n,Y6(t));const Qv=n=>(0,e.h)(k.l,q6(Q6({},n),{name:"SubscriberBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"10.9178",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"10.9178",r:"2.58219",fill:"none"})),Js={"hover-card-button":"frontend-components-SubscriberBadge-module__hover-card-button--uoeNv","hover-card-icon-section":"frontend-components-SubscriberBadge-module__hover-card-icon-section--eHOQJ","hover-card-icon":"frontend-components-SubscriberBadge-module__hover-card-icon--Hl0xm","hover-card-layer":"frontend-components-SubscriberBadge-module__hover-card-layer--xv2xd",badgeContainter:"frontend-components-SubscriberBadge-module__badgeContainter--GjZmD",badgeSVG:"frontend-components-SubscriberBadge-module__badgeSVG--jGAAs"};var eN=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});function tN({status:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a}){const[D,B]=n==="paid"?[Qv,nN]:[Yv,rN];return(0,e.h)(Yd.z,{content:(0,e.h)(B,{pub:t,user:r,freeSignup:i,freeSignupEmail:a}),layerClassName:Js["hover-card-layer"],layerOptions:{placement:"bottom-start"},onFetch:()=>{(0,C.j)(C.FP.SUBSCRIBER_BADGE_INFO_SHOWN,{status:n})}},(0,e.h)(je.gq,{className:Js.badgeContainter},(0,e.h)(D,{className:Js.badgeSVG,height:16,strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none"})))}const qv=({Icon:n,heading:t,body:r,buttonText:i,href:a,user:D,pub:B,freeSignupEmail:j})=>(0,e.h)(je.tu,{alignItems:"center"},(0,e.h)(je.gq,{alignItems:"center",className:Js["hover-card-icon-section"]},(0,e.h)(n,{className:Js["hover-card-icon"],strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none",height:50})),(0,e.h)(je.tu,{alignItems:"center",gap:20,paddingBottom:20,paddingX:20},(0,e.h)(je.tu,{alignItems:"center",gap:6},(0,e.h)(x.xv.H3,{weight:"semibold"},t),(0,e.h)(x.xv.B3,{align:"center",color:"secondary"},r)),i&&(0,e.h)(ft.zx,{className:Js["hover-card-button"],grow:!0,onClick:D&&!D.is_magic&&D.email||j?U=>eN(void 0,null,function*(){U.preventDefault();const Y=D&&!D.is_magic&&D.email||j;let ge;try{ge=(yield $t().post("/api/v1/free").send({source:"subscriber_badge",email:Y,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU})).body.referral_token}catch(Se){(0,C.j)(C.FP.FREE_SIGNUP_FAILED,{reason:Se==null?void 0:Se.message,source:"subscriber_badge"})}window.location.href=(0,oe.getSubscribeUrl)(B,{addBase:!0,params:{next:document.location.href,utm_source:"subscriber_badge",simple:!0,just_signed_up:!0,skip_redirect_check:!0,referral_token:ge}})}):void 0,href:a,localNavigation:!1,priority:"primary-theme"},i)));function nN({pub:n,user:t,freeSignup:r,freeSignupEmail:i}){const a=!(t!=null&&t.is_subscribed)&&(0,ri.paymentsAreEnabled)(n);return(0,e.h)(qv,{Icon:Qv,heading:`Paid ${(0,Vt.getSubscriptionWord)(n,"subscriber")}`,body:a?`This badge is only available to paid members \u2014 ${t!=null&&t.is_free_subscribed||r?"upgrade":"subscribe"} to claim your own.`:"This badge is available to paid members.",buttonText:a?(0,Vt.getSubscribeText)(n,{isFreeSubscribed:(t==null?void 0:t.is_free_subscribed)||r}):void 0,href:a?(0,oe.getSubscribeUrl)(n,{params:{next:window.location.href,utm_source:"subscriber_badge"}}):void 0,user:t,pub:n,freeSignupEmail:i})}function rN({pub:n,user:t,freeSignup:r,freeSignupEmail:i}){var a;const D=!(t!=null&&t.is_founding)&&(0,ri.paymentsAreEnabled)(n)&&(0,ri.getFoundingTierPlan)(n),B=(a=(0,ri.getFoundingTierName)(n))!=null?a:"Founding Member";return(0,e.h)(qv,{Icon:Yv,heading:B,body:`This badge is${D?" only":""} available to paid ${(0,Vt.getSubscriptionWord)(n,"subscriber")}s under the "${B}" plan${D?` \u2014 ${t!=null&&t.is_free_subscribed||r?"upgrade":"subscribe"} to claim your own.`:"."}`,buttonText:D?t!=null&&t.is_free_subscribed||r?F6()((0,Vt.getSubscriptionWord)(n,"upgrade")):(0,Vt.getSubscribeText)(n):void 0,href:D?(0,oe.getSubscribeUrl)(n,{params:{next:window.location.href,plan:"founding",utm_source:"subscriber_badge"}}):void 0,user:t,pub:n,freeSignupEmail:i})}function oN({subject:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a,hoverDisabled:D=!1,onClick:B}){var j;const{exposeExperiment:U,getExperimentVariant:Y}=(0,Zt.jc)(),ge=(j=Y("subscriber_badges_2"))!=null?j:"control",Se=n.is_founding&&!n.is_author?"founding":n.is_subscribed&&!n.is_author?"paid":null;return(0,e.h)(e.Fragment,null,(0,e.h)(pe.Z,{onVisible:()=>{Se&&U("subscriber_badges_2")}}),(0,e.h)(je.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(ca.Ct,{subject:n,disabled:D,utmSource:"comment"},(0,e.h)("a",{onClick:B,href:B?"javascript:void(0)":(0,oe.getReaderProfileUrl)(n)},(0,e.h)(x.xv.B4,{color:"pub-primary-text",weight:"semibold"},n.name))),(0,e.h)(co.s,{size:"sm",tier:n.bestseller_tier,userId:n.id}),Se&&ge!=="control"&&(0,e.h)(tN,{status:Se,pub:t,user:r,freeSignup:i,freeSignupEmail:a})))}var iN=wt(44695);const e1=({post:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a,comment:D,isCollapsed:B,onProfileClick:j,userBanned:U,toggleCollapse:Y,noHoverProfile:ge,userPendingApproval:Se})=>{var De,Fe;const{iString:qe,iTemplate:Ye,language:st,iPlural:gt}=(0,P.M1)(),yt=Ht=>Ht.children.length+Ht.children.reduce((en,Xt)=>en+yt(Xt),0),At=yt(D),Bt=!!D.edited_at,xt=!D.hidden&&((De=D.metadata.author_on_other_pub)==null?void 0:De.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},D.name?(0,e.h)(oN,{subject:Dc(D),pub:t,user:r,freeSignup:i,freeSignupEmail:a,hoverDisabled:ge||!(0,Fi.Ng)(D)||D.hidden||B,onClick:j?()=>j(D):null}):D.hidden?(0,e.h)("i",null,qe("hidden")):D.deleted?(0,e.h)("i",null,qe("deleted")):(0,Fi.Ng)(D)?qe("Anonymous"):qe("Removed"),U&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),Se&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${D.user_id}`,target:"_blank",rel:"noopener"}," ","(",qe("Awaiting New Commenter Approval"),")")),D.metadata.author_on_other_pub&&!D.metadata.is_author&&(xt?(0,e.h)(iN.Sm,{publication_id:(Fe=D.metadata.author_on_other_pub)==null?void 0:Fe.id},(0,e.h)(t1,{comment:D})):(0,e.h)(t1,{comment:D})),(0,e.h)("a",{className:"comment-timestamp",href:(0,Ys.getCommentUrl)(n,D,t),onClick:Ht=>(void 0).onDateClick(Ht),rel:"nofollow",native:!0},Mt()(D.date).locale(st).standardDateOrTime()),Bt&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,Ye`edited ${Mt()(D.edited_at).locale(st).standardDateOrTime()}`))],(0,e.h)(aN,{comment:D})),B&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(Je.Z,{className:"outline comment-collapse-toggle",onClick:Y},gt("Expand comment reply","Expand comment replies",At)))]};function t1({comment:n}){const{iTemplate:t}=(0,P.M1)();return(0,e.h)("a",{className:"commenter-publication",href:(0,p.updateQuery)(n.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},(0,e.h)("span",null,t`Writes ${(0,Vt.truncateText)(n.metadata.author_on_other_pub.name,32)}`," "))}const aN=({comment:n})=>{const[t,r]=(0,o.eJ)(!1),i=(0,o.sO)(null),a=(0,o.sO)(null),{iString:D,iTemplate:B}=(0,P.M1)(),j=n.pinned_by_user_id?"pinned":n.metadata.is_author?"author":n.reactor_names.length>0?"liked":null;if(!j)return null;const U={pinned:(0,e.h)(C6,null),author:(0,e.h)(A6,null),liked:(0,e.h)(_6,null)},Y={pinned:D("Pinned"),author:D("Author"),liked:B`Liked by ${n.reactor_names.join(", ")}`},ge=j==="pinned"&&n.pinned_by_name;return(0,e.h)("span",{ref:i,className:u()("highlight",{hover:t}),onMouseEnter:()=>ge&&r(!0),onMouseLeave:()=>ge&&r(!1)},U[j],(0,e.h)("span",{className:"highlight-text"},Y[j]),ge&&(0,e.h)(zv,{baseRef:i,hoverToggle:!0,onOpen:()=>{var Se;return(Se=a.current)==null?void 0:Se.open()},onClose:()=>{var Se;return(Se=a.current)==null?void 0:Se.close()}},(0,e.h)($i.Fx,{ref:a,noList:!0,className:"explanation above small thin"},(0,e.h)(x.xv,{as:"span",translated:!0},"Pinned by ",(0,e.h)("span",{className:"bold"},I18N.p(n.pinned_by_name))))))};var sN=Object.defineProperty,lN=Object.defineProperties,uN=Object.getOwnPropertyDescriptors,n1=Object.getOwnPropertySymbols,cN=Object.prototype.hasOwnProperty,dN=Object.prototype.propertyIsEnumerable,r1=(n,t,r)=>t in n?sN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,o1=(n,t)=>{for(var r in t||(t={}))cN.call(t,r)&&r1(n,r,t[r]);if(n1)for(var r of n1(t))dN.call(t,r)&&r1(n,r,t[r]);return n},fN=(n,t)=>lN(n,uN(t)),Yl=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Nc="commentInput";class pN extends e.Component{constructor(t){var r;super(t),this.state={value:(r=t.commentBeingEdited)==null?void 0:r.body,alsoShareToNotes:!1}}componentWillMount(){if(typeof localStorage!="undefined"){const t=JSON.parse(localStorage.getItem(Nc)||"{}");t.postId===this.props.post.id&&this.setState({value:t.value,alsoShareToNotes:!!t.alsoShareToNotes}),localStorage.removeItem(Nc)}}componentDidMount(){var t;this.props.autoFocus&&((t=this.bodyInput)==null||t.focus())}needsProfile(){const{user:t}=this.props;return!t||!t.name}onKeyDown(t){var r;if((r=this.props.user)!=null&&r.is_magic){t&&t.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,Vt.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}t.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():t.key==="Enter"&&t.metaKey&&this.form.handleSubmit(t)}maybeSaveComment(){typeof localStorage!="undefined"&&localStorage.setItem(Nc,JSON.stringify({postId:this.props.post.id,value:this.state.value,alsoShareToNotes:this.state.alsoShareToNotes}))}onInput(t){if(!(0,Vt.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return Yl(this,arguments,function*({profileUpdated:t}={}){const{user:r,pub:i,post:a,parent:D,token:B,iString:j}=this.props,{alsoShareToNotes:U}=this.state;if(!(0,Vt.canPostComments)(r,a,i).canReply)throw this.maybeSaveComment(),yield this.showPaywall(),yield new Promise(ge=>setTimeout(ge,600)),new Rt.ew(j("Please sign in"));if(this.needsProfile()&&!t)throw this.maybeSaveComment(),yield this.showProfileUpdate(),yield new Promise(ge=>setTimeout(ge,600)),new Rt.ew(j("Please update your profile"));const Y={body:this.bodyInput.value,token:B};try{let ge;if(U){const De=yield $t().post("/api/v1/comment/attachment").send({type:"link",url:(0,p.getPostUrl)(i,a)});if(!(De!=null&&De.body))console.log("Error creating attachment");else{const Fe=o1({},Y);Fe.attachmentIds=[De.body.id],ge=yield $t().post("/api/v1/comment/feed").send(Fe)}}D&&(Y.parent_id=D.id);const Se=yield $t().post(`/api/v1/post/${a.id}/comment`).send(Y);if(typeof localStorage!="undefined"&&localStorage.removeItem(Nc),!(r!=null&&r.profile_set_up_at)){const{body:{count:De}}=yield $t().get("/api/v1/user/profile_role_count");if(De>=2)return window.location=(0,p.pathWithQuery)(`${(0,p.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,Ys.getCommentUrl)(a,Se.body,i)}),!1}return{notesComment:ge,res:Se}}catch(ge){throw ge.response&&ge.response.statusCode===403&&(r&&r.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),ge}})}onSuccess(t){const{res:r,notesComment:i}=t,{iString:a}=this.props;if(r!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&i){const D=(0,oe.getFeedCommentUrl)(i.body);this.props.popToast(B=>(0,e.h)(y.FN,fN(o1({},B),{icon:Ul.Z,text:a("Shared to Notes"),cta:a("View Now"),href:D})))}this.setState({value:""}),this.props.onSuccess(r.body)}else{const D=Gl(this.props.post,this.props.pub);window.location.pathname===D?window.location.reload():window.location.href=Gl(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,oe.getFeedCommentUrl)(r.body)}:{})}}showFinishMagicLoginModal(){return Yl(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,C.j)(C.FP.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return Yl(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,C.j)(C.FP.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return Yl(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,C.j)(C.FP.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return Yl(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield $t().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(t){alert((0,T.getNetworkErrorMessage)(t))}}})}focus(){this.bodyInput.focus()}render({user:t,freeSignup:r,freeSignupEmail:i,pub:a,post:D,token:B,onCancel:j,autoFocus:U,commentBeingEdited:Y,saveEdit:ge,formClassName:Se,bannedFromNotes:De,iString:Fe},{value:qe,alsoShareToNotes:Ye}){return(0,e.h)(je.hs,{flex:"grow",className:u()("comment-input-wrap",{comment:Y})},(0,e.h)(Rt.ZP,{ref:st=>this.form=st,className:u()("comment-input",Se),performSubmit:st=>Y?ge(qe):this.postComment(st),onSuccess:st=>this.onSuccess(st),noInlineErrors:!0,autoLock:!0},(0,e.h)(Ks.qE,{user:t,size:32}),(0,e.h)(je.tu,{flex:"grow",className:"comment-input-right"},Y&&(0,e.h)(e1,{post:D,pub:a,user:t,freeSignup:r,freeSignupEmail:i,comment:Y,isCollapsed:!1,userBanned:!1}),(0,e.h)(kv.Z,{ref:st=>this.bodyInput=st&&st.base,name:"body",placeholder:Fe("Write a comment..."),autoHeight:!0,maxLines:8,value:qe||"",onInput:st=>this.onInput(st),onKeyDown:st=>this.onKeyDown(st)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(je.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!qe&&!j&&(0,e.h)(je.hs,{gap:8,alignItems:"center",justifyContent:"center"},!De&&(0,e.h)(y.XZ,{name:"also_feed",size:"medium",as:"div",checked:Ye,onChange:()=>{this.setState({alsoShareToNotes:!Ye})},withTheme:!0}),!De&&(0,e.h)(x.xv.B4,{translated:!0,color:"pub-secondary-text"},"Also share to"," ",(0,e.h)(zf.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,oe.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"Notes"))),(j||!!qe)&&(0,e.h)(Je.Z,{className:"primary",type:"submit"},Fe(Y?"Save":"Post")),j&&(0,e.h)(Je.Z,{className:"cancel",onClick:j},Fe("Cancel"))))),(0,e.h)(Au.h,null,(0,e.h)(tp.EB,{ref:st=>this.profileUpdater=st,user:t,freeSignup:r,freeSignupEmail:i,optionalPhoto:!0,token:B,text:Fe("Save & Post Comment"),onBeforeClose:st=>st&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(EA,{ref:st=>this.modalPaywall=st,user:t,freeSignup:r,freeSignupEmail:i,publication:a,post:D,title:Fe("Only paid subscribers can comment on this post"),reauthenticationTitle:Fe("To post a comment, please re-authenticate.")}),(0,e.h)($e.p,{ref:st=>this.finishMagicLoginModal=st,className:"finish-magic-login-modal"},(0,e.h)("h4",null,Fe("Check your email")),(0,e.h)("p",null,Fe("For your security, we need to re-authenticate you.")),(0,e.h)(x.xv,{as:"p",translated:!0},"Click the link we sent to ",I18N.p(t==null?void 0:t.email),", or"," ",(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:a.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const Jl=(0,y.dd)((0,P.fz)(pN));var hN=wt(702),mN=Object.defineProperty,_N=Object.defineProperties,gN=Object.getOwnPropertyDescriptors,i1=Object.getOwnPropertySymbols,vN=Object.prototype.hasOwnProperty,yN=Object.prototype.propertyIsEnumerable,rp=(n,t,r)=>t in n?mN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xs=(n,t)=>{for(var r in t||(t={}))vN.call(t,r)&&rp(n,r,t[r]);if(i1)for(var r of i1(t))yN.call(t,r)&&rp(n,r,t[r]);return n},a1=(n,t)=>_N(n,gN(t)),ji=(n,t,r)=>(rp(n,typeof t!="symbol"?t+"":t,r),r),s1=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const l1=200,bN=50,PN=140,EN=728,wN=80;function CN(){const t=Math.min(EN,document.body.clientWidth)-PN;return Math.ceil(t/bN)}const u1=CN();class c1 extends e.Component{constructor(t,r){super(t,r),ji(this,"bodyRef",(0,e.createRef)(null)),ji(this,"headContainerRef",(0,e.createRef)(null)),ji(this,"openBan",()=>{this.props.banComment()}),ji(this,"setSelectedHighlight",()=>{const a=zA()===this.props.comment.id;this.setState({isSelected:a})}),ji(this,"startEdit",()=>{this.setState({editing:!0})}),ji(this,"saveEdit",i=>s1(this,null,function*(){return this.state.editing?{res:yield $t().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:i})}:void 0})),ji(this,"onSaveEditSuccess",({edited:i})=>{this.setState({editing:!1}),this.props.onChange(Xs(Xs({},this.props.comment),i))}),ji(this,"startReport",()=>{this.setState({reporting:!0})}),ji(this,"cancelReport",()=>{this.setState({reporting:!1})}),ji(this,"onReportSuccess",()=>{this.props.onChange(a1(Xs({},this.props.comment),{reported_by_user:!0}))}),ji(this,"expandToggleClicked",()=>{const i=this.bodyRef.current;i&&(i.classList.remove("long"),i.classList.add("expanded"),(0,C.j)(C.FP.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:i.getAttribute("data-hidden-height")}))}),ji(this,"onChange",i=>{this.props.onChange?this.props.onChange(Xs(Xs({},this.props.comment),i)):document.location.href=Gl(this.props.post,this.props.pub)}),ji(this,"setComment",i=>{this.setState({comment:i})}),ji(this,"setCollapsed",i=>{var a,D;if(this.setState({isCollapsed:i}),i&&((D=(a=this.headContainerRef)==null?void 0:a.current)!=null&&D.scrollIntoView)){const B=this.headContainerRef.current.getBoundingClientRect();B.top<0&&(document.documentElement.scrollTop+=B.top-wN)}this.props.retainUserCollapseState&&QA(this.props.comment.id,i)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&qA(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(t){var r,i;((r=t.comment)==null?void 0:r.id)!==((i=this.props.comment)==null?void 0:i.id)&&this.setSelectedHighlight(),t.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const t=/^#comment-(\d+)-reply$/.exec(window.location.hash);!t||Number(t[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return s1(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(t=>this.setState({replying:!0},t)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(t){const[r,i]=t.target.href.split("?")[0].split("#");r===window.location.href.split("?")[0].split("#")[0]&&i&&(t.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${i}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const t=this.bodyRef.current;if(!t)return;const r=t.scrollHeight-t.clientHeight;r>0&&r<l1?t.classList.add("expanded"):r>=l1&&(t.classList.add("long"),t.setAttribute("data-hidden-height",r))}render({user:t,comment:r,freeSignup:i,freeSignupEmail:a,pub:D,post:B,reaction_token:j,depth:U,collapseAtDepth:Y,onChange:ge,scrollRef:Se,retainUserCollapseState:De,onStartReply:Fe,noHoverProfile:qe,onProfileClick:Ye,hideContextMenu:st,noRestack:gt,updateCommentReacted:yt,iString:At},{isSelected:Bt,replying:xt,editing:Ht,reporting:en,hideAnchors:Xt,isCollapsed:tn}){var fn,xn,yn;const Gn=D.community_enabled&&B&&B.write_comment_permissions!=="none",{user_banned:pn}=r;let Sn=!1;return((fn=this.context.getExperimentVariant("subscriber_badges_2"))!=null?fn:"control")==="control"&&((xn=r.metadata)!=null&&xn.is_author?Sn="author":(yn=r.metadata)!=null&&yn.founding&&(Sn="founding")),Ht?(0,e.h)(Jl,{autoFocus:!0,user:t,freeSignup:i,freeSignupEmail:a,pub:D,post:B,commentBeingEdited:r,saveEdit:this.saveEdit,token:j,onCancel:()=>this.setState({editing:!1}),onSuccess:ge?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:u()("comment",{selected:Bt,"post-reply":r.type==="reply",collapsed:tn}),key:`comment-${r.id}`},!Xt&&[(0,e.h)("div",{id:`comment-${r.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${r.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(ca.Ct,{subject:Dc(r),disabled:qe||!(0,Fi.Ng)(r)||r.hidden||tn,utmSource:"comment"},(0,e.h)(ep.ZP,{subject:Dc(r),pub:D,user:t,freeSignup:i,freeSignupEmail:a,token:j,isBanned:pn,tooltip:{founding:(0,Vt.foundingMemberDescription)(D),author_ons_other_pub:At("Author of another publication")}[Sn],badge:Sn,isAuthor:r.metadata.is_author,onClick:Ye?()=>Ye(r):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(e1,{post:B,pub:D,user:t,freeSignup:i,freeSignupEmail:a,comment:r,commentUser:Dc,isCollapsed:tn,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:Ye,userBanned:pn,noHoverProfile:qe,userPendingApproval:r.status===Fi.COMMENT_STATUS.new_commenter_approval_required&&t.is_admin}),(0,e.h)(l6,{comment:r,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!xt&&(0,e.h)(o6,{comment:r,pub:D,user:t,post:B,reaction_token:j,commentsEnabledForPost:Gn,hideContextMenu:st,noRestack:gt,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,updateCommentReacted:yt})))),xt&&Gn&&(0,e.h)(Jl,{ref:ur=>this.commentInput=ur,user:t,freeSignup:i,freeSignupEmail:a,pub:D,post:B,parent:r,token:j,onCancel:()=>this.setState({replying:!1}),onSuccess:ge?ur=>{this.setState({replying:!1});const Qn=a1(Xs({},r),{children:[ur].concat(r.children)});ge(Qn)}:null}),r.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,Ys.getCommentUrl)(B,r,D)},r.childrenSummary)),!r.childrenSummary&&U>=u1&&!!r.children.length&&(0,e.h)(Je.Z,{className:"outline continue-thread-button",href:(0,Ys.getCommentUrl)(B,r,D)},At("Continue Thread \u2192")),!r.childrenSummary&&U<u1&&(0,e.h)(Rc,{key:`comment:${r.id}`,user:t,freeSignup:i,freeSignupEmail:a,pub:D,post:B,comments:r.children,parent:r,reaction_token:j,depth:(U||0)+1,collapseAtDepth:Y,onChange:ge,isChild:!0,scrollRef:Se,retainUserCollapseState:De,onStartReply:Fe,noHoverProfile:qe,onProfileClick:Ye,hideContextMenu:st,updateCommentReacted:yt,noRestack:!0}),!tn&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),en&&(0,e.h)(hN.Z,{pub:D,comment:r,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}ji(c1,"contextType",Zt.kx);const ON=(0,P.fz)(c1);var SN=Object.defineProperty,TN=Object.defineProperties,IN=Object.getOwnPropertyDescriptors,d1=Object.getOwnPropertySymbols,xN=Object.prototype.hasOwnProperty,DN=Object.prototype.propertyIsEnumerable,f1=(n,t,r)=>t in n?SN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,MN=(n,t)=>{for(var r in t||(t={}))xN.call(t,r)&&f1(n,r,t[r]);if(d1)for(var r of d1(t))DN.call(t,r)&&f1(n,r,t[r]);return n},AN=(n,t)=>TN(n,IN(t));const NN=wt(43174),RN=5,LN=1,p1=16,BN=50,kN=200;function h1(n){return n.reduce((t,r)=>t+1+h1(r.children||[]),0)}function Rc({user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:a,comments:D,reaction_token:B,depth:j,collapseAtDepth:U,onChange:Y,pageSize:ge,retainUserCollapseState:Se,updateCommentReacted:De,parent:Fe,scrollRef:qe,className:Ye,onStartReply:st,noHoverProfile:gt,onProfileClick:yt,hideContextMenu:At,noRestack:Bt}){const xt=ge||p1,[Ht,en]=(0,o.eJ)(xt),[Xt,tn]=(0,o.eJ)(-1),[fn,xn]=(0,o.eJ)(null),[yn,Gn]=(0,o.eJ)(null),[pn,Sn]=(0,o.eJ)(new Set(D.map(({id:Kn})=>Kn)));if((0,o.d4)(()=>{Xt>=0&&window.scrollTo(window.scrollX,Xt)},[Xt]),(D||[]).length===0)return;const[ur,Qn]=NN(D,({id:Kn,user_id:Wn})=>pn.has(Kn)||Wn===(n==null?void 0:n.id)),jn=ur.slice(0,Ht);return(0,e.h)("div",{className:u()("comment-list",Ye,{"has-new-comments":Qn.length>0})},(0,e.h)(AA,{pub:i,comment:fn,onClose:()=>xn(null),onReply:Kn=>{Gn(Kn),xn(null)},onBan:(Kn,Wn)=>{Y?Y(AN(MN({},Kn),{user_banned:!0,bans:Wn.concat(Kn.bans)})):document.location.href=Gl(a,i)}}),Qn.length>0&&(0,e.h)(Je.Z,{className:"collapsed-reply outline",onClick:()=>Sn(new Set(D.map(({id:Kn})=>Kn)))},(0,Vt.pluralize)(h1(Qn),"new reply")),(0,e.h)("div",{className:"comment-list-items"},jn.map(Kn=>(0,e.h)(ON,{banComment:()=>xn(Kn),key:`cmt-${Kn.id}`,user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:a,comment:Kn,parent:Fe,reaction_token:B,collapseAtDepth:U,depth:j||0,onChange:Y,replying:yn===Kn.id,scrollRef:qe,retainUserCollapseState:Se,onStartReply:st,noHoverProfile:gt,onProfileClick:yt,hideContextMenu:At,noRestack:Bt,updateCommentReacted:De}))),ur.length>jn.length&&(0,e.h)(Je.Z,{className:"collapsed-reply outline",onClick:()=>{tn(window.scrollY),en(Ht+xt)}},"Load More"))}var m1=wt(70444),UN=wt(35442),Xl=wt(85200);function op(n){var t;return!!(!n.invite_only&&((t=n.rankingDetailFreeIncluded)!=null&&t.toLowerCase().includes("subscribers"))&&n.rankingDetailFreeIncludedOrderOfMagnitude)}function FN({publication:n,siteConfigs:t={},twitterCardUrl:r=null}){var i;const{getExperimentVariant:a}=(0,Zt.jc)(),{title:D,description:B}=Lc(n,{rankingVariant:op(n)&&a("seo_meta_subscriber_count_x1",{onlyConsiderExposedValues:!0})||void 0});let j,U;return r?(j=r,U=!0):[j,U]=ap(n,null),(0,T.setMetaData)({title:D,description:B,image:j,isLargeImage:U,pub:n,siteConfigs:t,themeColor:(i=n.theme)==null?void 0:i.web_bg_color})}function Lc(n,{rankingVariant:t,primaryTitleOverride:r,primaryDescriptionOverride:i}={}){var a,D;let B;const j=!!(0,Ci.default)("publication_author_display_override")&&String((0,Ci.default)("publication_author_display_override"))||((a=(0,Xl.Im)(n.contributors))==null?void 0:a.owner),U=j&&!((D=n.name)!=null&&D.toLowerCase().includes(j==null?void 0:j.toLowerCase())),Y=r!=null?r:n.name;return U?B=`${Y} | ${j} | Substack`:B=`${Y} | Substack`,{title:B,description:wi()(_1(n,{primaryDescriptionOverride:i,rankingVariant:t}))}}function _1(n,{primaryDescriptionOverride:t,rankingVariant:r}={}){var i,a,D,B;const j=(i=n.name)==null?void 0:i.trim();let U=j;(0,Vt.endsWithPunctuation)(j)&&(U=`"${j}"`);const Y=(0,Xl.Im)(n.contributors);let ge,Se,De;return n.invite_only?(ge=null,Se=null):(De=r&&op(n)&&["treatment_string","treatment_num"].includes(r),De?r==="treatment_string"?ge=(a=n.rankingDetailFreeIncluded)!=null&&a.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded:null:r==="treatment_num"&&(ge=n.rankingDetailFreeIncludedOrderOfMagnitude&&n.rankingDetailFreeIncludedOrderOfMagnitude>0?`${n.rankingDetailFreeIncludedOrderOfMagnitude.toLocaleString()}+ subscribers`:null):ge=(D=n.rankingDetailFreeIncluded)!=null&&D.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded.toLowerCase():null,Se=n.rankingDetailFreeIncluded||n.rankingDetail),(0,Xl.ab)(t!=null?t:(B=n.hero_text)==null?void 0:B.trim(),Y,ge,U,Se,De)}function ip({publication:n,post:t,siteConfigs:r={},twitterCardUrl:i=null,isCommentPage:a=!1,selection:D=null}){const B=(t==null?void 0:t.social_title)||(t==null?void 0:t.title)||n.name,{title:j,description:U}=g1(t,n,{isCommentPage:a});let Y,ge;i?(Y=i,ge=!0):D?(Y=(0,p.getPostSelectionPreviewUrl)(n,t,D),ge=!0):[Y,ge]=ap(n,t);const Se=a&&t&&t.type!=="thread"&&t.comment_count===0||(t==null?void 0:t.type)==="restack";return(0,T.setMetaData)({title:j,socialTitle:B,searchDescription:t==null?void 0:t.search_engine_description,description:U,image:Y,isLargeImage:ge,imageHeight:D&&564,imageWidth:D&&1128,seoProps:{noindex:Se,noarchive:!!(t&&t.post_paywall_content_for_google)},isPodcast:(t==null?void 0:t.type)==="podcast",isVideo:(t==null?void 0:t.type)==="video",slug:t==null?void 0:t.slug,pub:n,post:t,siteConfigs:r})}function g1(n,t,{isCommentPage:r=!1}={}){var i,a;const D=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||t.name;let B,j;n?j=(0,Vt.getPrintedByline)(t,n):j=(0,Ci.default)("publication_author_display_override")||((i=(0,Xl.Im)(t.contributors))==null?void 0:i.owner);const U=j&&!((a=t.name)!=null&&a.toLowerCase().includes(j==null?void 0:j.toLowerCase()));n!=null&&n.title?(B=(n==null?void 0:n.search_engine_title)||D,r&&n.type!=="thread"&&(B=`Comments - ${B}`),`${B} - by ${j}`.length<60&&(j&&U&&(B+=` - by ${j}`),`${B} - ${t.name}`.length<60&&(B+=` - ${t.name}`))):U?B=`${t.name} | ${j} | Substack`:B=`${t.name} | Substack`;let Y;return n?Y=(0,Vt.postSocialDescription)(n,t):Y=_1(t),Y=wi()(Y),{title:B,description:Y}}function ap(n,t){let r,i;return t!=null&&t.cover_image?(r=(0,p.imginary)(t.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),i=!0):n.subdomain==="numlock"?(r=(0,p.imginary)("/img/numlock_square.png?v=2",840),i=!1):(r=(0,p.getTwitterSubscribeCardUrl)(n),i=!0),[r,i]}var jN=Object.defineProperty,v1=Object.getOwnPropertySymbols,WN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,y1=(n,t,r)=>t in n?jN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,VN=(n,t)=>{for(var r in t||(t={}))WN.call(t,r)&&y1(n,r,t[r]);if(v1)for(var r of v1(t))HN.call(t,r)&&y1(n,r,t[r]);return n};function KN({comment:n,post:t,publication:r}){var i,a,D;const B=`${n.name} on Substack`,j=t&&r?g1(t,r,{isCommentPage:!0}).title:`${B}: "${(0,Vt.truncateText)(n.body,280)}"`,U=(i=n.attachments)==null?void 0:i.find(Ye=>Ye.type==="image"),Y=U==null?void 0:U.imageUrl,ge=!1,Se=ge?680:void 0,De=ge?680:void 0,Fe=Y!=null?Y:ge?(0,oe.imginary)((0,m1.IY)(n.id),De,{height:Se}):(0,p.getUserPhotoUrl)(n),qe=!ge||Y?n.body:"Subscribe to see all their notes.";return(0,e.h)(UN.Metadata,VN({},{title:j,socialTitle:B,description:qe,image:Fe,imageHeight:Se,imageWidth:De,isLargeImage:!0,siteName:r?r.name:"Notes",publishedTime:n.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((a=n.reaction_count)!=null?a:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((D=n.children_count)!=null?D:0)}]}))}var b1=wt(49786),Ql=wt(69427),$N=Object.defineProperty,zN=(n,t,r)=>t in n?$N(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,GN=(n,t,r)=>(zN(n,typeof t!="symbol"?t+"":t,r),r),ZN=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});class P1 extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,C.j)(C.FP.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,C.j)(C.FP.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return ZN(this,null,function*(){try{yield $t().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(t){console.error("Failed to subscribe to email notifications:",t),alert((0,T.getNetworkErrorMessage)(t))}})}render({className:t,pub:r,post:i,user:a,freeSignup:D,freeSignupEmail:B,isStatic:j,hidden:U,truncated:Y,invisible:ge,post_reaction_token:Se,onChange:De,showCta:Fe=Y,showUnsubscribeNotice:qe,dataForEmailRender:Ye={},showReactions:st=!0,gap:gt=16,iString:yt,iTemplate:At,iPlural:Bt,language:xt}){typeof U!="boolean"&&(U=i.hidden);let Ht,en;U?(Ht=yt("Subscribe to view"),en=(0,p.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id})):(en=(0,p.getPostUrl)(r,i,{noBase:!0}),i.type!=="thread"||Y?Ht=(0,Vt.getPostCtaText)(i,xt):i.comment_count?Ht=Bt("View 1 comment","View %1 comments",i.comment_count):Ht=yt("Reply"));const Xt=j&&!this.context.isAmp;return(0,e.h)(Xr.YF,{className:`thread-head typography ${t||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.i$,{width:"100%"},!ge&&!U&&(0,e.h)(pe.Z,{onVisible:()=>this.onTopReached()}),(0,e.h)(Xr.i$,{gap:gt,width:"100%"},(0,e.h)(Xc,{pub:r,post:i,user:a,isStatic:j,freeSignup:D,freeSignupEmail:B,reaction_token:Se,allowEdit:!0,allowTruncate:Y,showReactions:!!Fe||st,showShare:!1,showComments:!!i.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:De,showLabel:!0}),(0,e.h)(Ec,{user:a,freeSignup:D,freeSignupEmail:B,pub:r,post:i,html:!U&&!Y&&i.body_html,isStatic:j,dataForEmailRender:Ye},U?(0,e.h)("p",null,(0,e.h)("i",null,At`This thread is only visible to paid subscribers of ${r.name}`)):Y?(0,e.h)("p",null,i.description):null),Fe?(0,e.h)("a",{className:"thread-head-cta",href:en,native:!0},Ht," \u2192"):U&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,p.getSubscribeUrl)(r,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id}),className:"button primary subscribe-btn",native:!j},(0,Vt.getSubscribeText)(r)),(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:r.subdomain}),className:"button",native:!0},yt("Sign in")))),Xt&&(0,e.h)(Xr.i$,{gap:gt,style:{width:"100%"}},(0,e.h)(Xr.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:Ei.Substitutions.HALF_MAGIC_COMMENTS_URL},yt("See the discussion"))),(0,e.h)(Ko.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:st},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),qe&&i.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},yt("Email notifications are disabled for this thread.")," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},yt("Re-enable"))),!ge&&!U&&(0,e.h)(pe.Z,{onVisible:()=>this.onBottomReached()})))))}}GN(P1,"contextType",Ef.E);const E1=(0,P.fz)(P1);class YN extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const sp=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var JN=Object.defineProperty,XN=Object.defineProperties,QN=Object.getOwnPropertyDescriptors,w1=Object.getOwnPropertySymbols,qN=Object.prototype.hasOwnProperty,e8=Object.prototype.propertyIsEnumerable,C1=(n,t,r)=>t in n?JN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,t8=(n,t)=>{for(var r in t||(t={}))qN.call(t,r)&&C1(n,r,t[r]);if(w1)for(var r of w1(t))e8.call(t,r)&&C1(n,r,t[r]);return n},n8=(n,t)=>XN(n,QN(t));const r8=n=>(0,e.h)(k.l,n8(t8({},n),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));var o8=Object.defineProperty,i8=(n,t,r)=>t in n?o8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,a8=(n,t,r)=>(i8(n,typeof t!="symbol"?t+"":t,r),r);class s8 extends e.Component{constructor(){super(...arguments),a8(this,"onSortCommentsClicked",t=>{this.sortMenuRef.toggle(),this.props.onSortSelected(t)})}render({sort:t,loading:r,pub:i}){const a=(0,Ci.default)("like_comments_enabled");return(0,e.h)("div",{className:u()("comments-page-sort-controls",{loading:r})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,Fi.Sh)(t,i.language)),(0,e.h)(r8,{height:"6"})),(0,e.h)($i.ZP,{className:"comments-page-sort-menu-dropdown",ref:D=>this.sortMenuRef=D},(0,Fi.Hz)({likesEnabled:a,language:i.language}).map(({key:D,text:B})=>(0,e.h)(Lt.Z,{className:t===D?"selected":"",onClick:()=>this.onSortCommentsClicked(D)},B)))))}}const O1=s8;var l8=Object.defineProperty,u8=Object.defineProperties,c8=Object.getOwnPropertyDescriptors,S1=Object.getOwnPropertySymbols,d8=Object.prototype.hasOwnProperty,f8=Object.prototype.propertyIsEnumerable,lp=(n,t,r)=>t in n?l8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,up=(n,t)=>{for(var r in t||(t={}))d8.call(t,r)&&lp(n,r,t[r]);if(S1)for(var r of S1(t))f8.call(t,r)&&lp(n,r,t[r]);return n},p8=(n,t)=>u8(n,c8(t)),T1=(n,t,r)=>(lp(n,typeof t!="symbol"?t+"":t,r),r),ql=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const h8=30*1e3;class m8 extends e.Component{constructor(t,r){super(t,r),T1(this,"modalRef",(0,e.createRef)(null)),T1(this,"onWindowVisibilityChange",()=>{(0,T.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},t.post&&t.post.slug===t.slug&&(this.state.post=t.post),this.state.sort=t.sort||this.state.post&&this.state.post.default_comment_sort||t.publication.default_comment_sort||"best_first",this.state.comments=t.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return ql(this,null,function*(){var t;const{iString:r}=this.props;if((0,T.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(t=this.props.matches)!=null&&t.feedCommentUrl){const i=this.props.matches.feedCommentUrl,a=new URL(location.toString());a.searchParams.delete("feedCommentUrl"),history.replaceState({},"",a),this.props.popToast(D=>(0,e.h)(y.FN,p8(up({},D),{text:r("Note Shared."),cta:r("View Now"),href:i})),{ttl:1e4})}})}componentWillUnmount(){(0,T.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(t,r){return ql(this,null,function*(){if(t.slug!==this.props.slug||r.sort!==this.state.sort){const i=this.props.post&&this.props.post.slug===this.props.slug;yield(0,T.setState)(this,{post:i?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let i=0;(0,Fi.hO)(this.state.comments,()=>i++),this.state.post.comment_count!==i&&(this.state.post.comment_count=i,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:t}=this.state;(0,C.j)(C.FP.COMMENTS_VIEWED,{post_id:t.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(t.type==="thread"||(0,Vt.canSeeComments)(this.props.user,t))&&(0,C.j)(C.FP.COMMENT_PAYWALL_SHOWN,{post_id:t.id,post_type:t.type}),t.type==="thread"&&this.props.user&&Promise.resolve($t().post(`/api/v1/posts/${t.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),h8)}loadPost(){return ql(this,null,function*(){if(this.state.comments&&!(0,T.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const t=this.state.comments&&this.state.comments.length>0;let r;this.state.comments&&(r=null,(0,Fi.hO)(this.state.comments,i=>{!i.deleted&&i.date&&(!r||i.date>r)&&(r=i.date)}));try{const i=this.props.slug,a=this.state.sort,D={token:this.props.post_reaction_token||"",all_comments:!0,sort:a,last_comment_at:r};this.state.post&&this.props.commentId&&(D.comment_id=this.props.commentId);const B=yield $t().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${i}`).query(D);if(this.setState({loading:!1}),i!==this.props.slug||a!==this.state.sort)return;let j=this.state.sort;!this.state.post&&B.body.default_comment_sort&&(j=B.body.default_comment_sort),(!this.state.post||!this.state.comments||B.body.comments)&&(yield(0,T.setState)(this,{post:this.state.post||B.body,comments:B.body.comments||[],sort:j}))}catch(i){console.error("Failed to load post:",i),i.statusCode===400&&(yield(0,T.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!t&&this.state.comments&&this.state.comments.length>0&&(0,T.scrollToHash)(),(0,T.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(t){this.setState({comments:zl(this.state.comments,t)})}onSortSelected(t){this.setState({sort:t}),(0,C.j)(C.FP.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:t})}triggerShareOnLoad(){var t;(t=this.shareDialogRef)!=null&&t.current&&(0,p.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(t){var r;const{publication:i}=this.props;return((r=(i==null?void 0:i.parent_publication)||i)==null?void 0:r.subdomain)===t}render({slug:t,user:r,freeSignup:i,freeSignupEmail:a,publication:D,post_reaction_token:B,inline:j,commentId:U,selectionFromQuery:Y,freeTrialCoupon:ge,show_reaction_upsell:Se,bannedFromNotes:De,iString:Fe,iPlural:qe,iTemplate:Ye},{sort:st,post:gt,comments:yt,notAllowedToFetchComments:At,reactionSigninComment:Bt}){if(!gt||!D.community_enabled)return!j&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(YN,null)));const xt=D.community_enabled&&gt&&gt.write_comment_permissions!=="none",Ht=At||xt&&!(0,Vt.canSeeComments)(r,gt),en=(Xt,tn)=>ql(this,null,function*(){return x1({user:r,reactionToken:B,comments:yt,id:Xt,reacted:tn,setComments:fn=>this.setState({comments:fn}),onNeedsSignin:fn=>new Promise(xn=>this.setState({reactionSigninComment:fn},()=>this.modalRef.current.open(xn)))})});return(0,e.h)("div",{className:"comments-page"},U&&(yt==null?void 0:yt.length)>0?(0,e.h)(KN,{comment:yt[0],post:gt,publication:D}):(0,e.h)(ip,{post:gt,publication:D,isCommentPage:!this.props.inline,selection:Y}),(0,e.h)(Ql.ZP,{ref:this.shareDialogRef,user:r,pub:D,post:gt,reaction_token:B}),!j&&!U&&(0,e.h)("div",{className:"container"},(0,e.h)(E1,{pub:D,post:Object.assign({},gt,{comment_url_override:(0,p.getPostUrl)(D,gt,{comments:!0})}),user:r,freeSignup:i,freeSignupEmail:a,hidden:!(0,Vt.isUUID)(t)&&gt.hidden,truncated:gt.type!=="thread",post_reaction_token:B,onChange:Xt=>this.setState(Xt),showUnsubscribeNotice:!0,gap:0},(0,e.h)("div",{className:"full-container-border"}))),Ht&&(0,e.h)("div",{className:"container"},(0,e.h)(Kl,{user:r,freeSignupEmail:a,freeSignup:i,publication:D,post:gt,title:gt.type==="podcast"?Fe("Comments on this episode are for paid subscribers"):Fe("Comments on this post are for paid subscribers"),reauthenticationTitle:Fe("To see the comments, please re-authenticate."),coupon:ge})),gt.type==="thread"||(0,Vt.canSeeComments)(r,gt)?(0,e.h)("div",{className:"container"},yt&&(0,e.h)("div",{className:"comments-heading"},qe("1 Comment","%1 Comments",gt.comment_count)),yt&&yt.length>0&&!xt&&(0,e.h)(I1,{post:gt}),xt&&(0,e.h)(Jl,{user:r,freeSignup:i,freeSignupEmail:a,pub:D,post:gt,token:B,autoFocus:GA(),onSuccess:Xt=>this.setState({comments:[Xt].concat(yt)}),bannedFromNotes:De}),(!yt||yt.length>0)&&!At&&!U&&(0,e.h)(O1,{sort:st,loading:!yt,onSortSelected:Xt=>this.onSortSelected(Xt),pub:D}),U&&yt&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,p.getPostUrl)(D,gt,{comments:!0,commentId:U,highlightComment:!0})},Fe("\u2B60 Return to thread")),!yt&&!At?[(0,e.h)(sp,null),(0,e.h)(sp,null)]:yt.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(Rc,{key:`post:${gt.id}`,user:r,freeSignup:i,freeSignupEmail:a,pub:D,post:gt,comments:yt,reaction_token:B,depth:0,collapseAtDepth:j?10:yt.length>3&&st==="most_recent_first"?LN:RN,onChange:Xt=>this.onChange(Xt),pageSize:j||this._isPub("astralcodexten")?kN:gt.type==="thread"?BN:p1,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:en,noRestack:!0}))]:null):null,Bt&&(0,e.h)(ws.oq,{comment:Bt,pub:D,user:r,react:()=>en(Bt.id,!0),modalRef:this.modalRef}),Se?(0,e.h)(b1.hF,{user:r,pub:D,post:gt}):null)}}const cp=(0,y.dd)((0,P.fz)(m8)),I1=({post:n})=>{const{iString:t}=(0,P.M1)();return(0,e.h)("div",{className:"locked-comments"},n.type==="podcast"?t("Commenting has been turned off for this episode"):n.type==="adhoc_email"?t("Commenting has been turned off for this email"):t("Commenting has been turned off for this post"))};function x1(n){return ql(this,arguments,function*({user:t,reactionToken:r,comments:i,id:a,reacted:D,setComments:B,onNeedsSignin:j}){var U;const Y=Bv(a,i);if(!Y)return;const ge=up({},Y);(0,ws.E6)(t,ge,D),B(zl(i.slice(0),ge));try{yield(0,ws.xl)(ge,!0,D,r)}catch(Se){if((0,ws.E6)(t,ge,!D),B(zl(i.slice(0),up({},ge))),((U=Se.response)==null?void 0:U.statusCode)!==401){alert((0,T.getNetworkErrorMessage)(Se));return}yield j({comment:ge})}})}const _8=({comments:n,expectedCommentCount:t,inputRef:r,post:i,pub:a,sort:D,token:B,user:j,onAddComment:U,onUpdateComment:Y,onUpdateSort:ge})=>{const Se=!(0,Vt.canSeeComments)(j,i),{iString:De}=(0,P.M1)();return Se?(0,e.h)(Kl,{user:j,publication:a,post:i,title:De("Comments on this episode are for paid subscribers"),reauthenticationTitle:De("To see the comments, please re-authenticate.")}):(0,e.h)("div",null,(0,e.h)(Jl,{ref:r,formClassName:"tw-m-0",user:j,pub:a,post:i,token:B,onSuccess:U}),t>0&&(0,e.h)(O1,{sort:D,loading:!n,onSortSelected:ge,pub:a}),n?(0,e.h)(Rc,{comments:n,post:i,pub:a,reaction_token:B,user:j,onChange:Y,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},TA()(Math.min(t,5),()=>(0,e.h)(sp,null))))};var g8=wt(91613),D1=wt(25597),v8=Object.defineProperty,y8=Object.defineProperties,b8=Object.getOwnPropertyDescriptors,M1=Object.getOwnPropertySymbols,P8=Object.prototype.hasOwnProperty,E8=Object.prototype.propertyIsEnumerable,A1=(n,t,r)=>t in n?v8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,w8=(n,t)=>{for(var r in t||(t={}))P8.call(t,r)&&A1(n,r,t[r]);if(M1)for(var r of M1(t))E8.call(t,r)&&A1(n,r,t[r]);return n},C8=(n,t)=>y8(n,b8(t));const N1=n=>(0,e.h)(k.l,C8(w8({},n),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function R1({post:n,pub:t,user:r,showDate:i,showDatetime:a,isStatic:D,className:B,postReactionToken:j,onChange:U,allowEdit:Y,hidePinning:ge,showEmailSent:Se,allowSendEmail:De,allowMobileFooter:Fe,reactors:qe,onCommentsClick:Ye,useWashBackground:st,showRestackModal:gt,setFooterShown:yt}){const At=(0,M.isMobile)({checkFirst4:!0}),Bt=typeof window=="undefined",xt=(0,Et.xR)(),Ht=(0,Vt.getBylineUsers)(n),en=a?Mt()(n.post_date).standardDatetime():D?Mt()(n.post_date).standardDate():Mt()(n.post_date).standardDateOrTime(),{getSettingFor:Xt}=(0,ut.So)(),tn=t.bylines_enabled&&(0,Vt.getPrintedByline)(t,n)&&n.type!=="podcast",fn=tn&&t.byline_images_enabled&&Ht.some(({photo_url:Qn})=>!!Qn),xn=n.type!=="page",yn=At&&fn&&Ht.length>2,Gn=(t==null?void 0:t.community_enabled)&&n.slug&&!n.is_draft&&(0,Vt.showCommentsOnPost)({publication:t,post:n}),pn=tn&&Ht.length===1&&Ht[0].is_guest&&Ht[0].primaryPublicationSubscribeUrl&&Ht[0].primaryPublicationId!==t.id&&!t.parent_publication&&!n.is_draft&&!(0,Ci.default)("dont_show_guest_byline"),Sn=(0,Vt.oxfordComma)(Ht.map(Qn=>D?(0,e.h)("a",{className:"byline-profile-link",href:(0,p.getProfileUrl)(Qn,t,{base:D}),onClick:jn=>jn.stopPropagation()},Qn.name):(0,e.h)(je.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(ca.Ct,{subject:Qn,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,p.getProfileUrl)(Qn,t,{base:D}),onClick:jn=>jn.stopPropagation()},Qn.name)),!D&&(0,e.h)(co.s,{tier:Qn.bestseller_tier,size:"sm",userId:Qn.id})))),ur=!n.is_draft&&(0,g8.x)(r,{enable_restacking:!!Xt("enable_restacking")},n,t,D);return(0,e.h)("div",{className:u()("post-subheader",B)},(0,e.h)("div",{className:u()("left",{vertical:yn})},fn&&(D?(0,e.h)($l.Pn,{pub:t,post:n}):(0,e.h)($l.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:Ht.map(({id:Qn,name:jn,photo_url:Kn})=>({id:Qn,name:jn,photo_url:Kn})),faceUtmSource:"author-byline-face",elevated:st})),(0,e.h)("div",{className:"label-stack"},tn&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},Sn)),pn&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:Ht[0].primaryPublicationUrl,title:Ht[0].primaryPublicationName},Ht[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:Ht[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},n.type==="adhoc_email"?(0,e.h)(N1,{className:"audience-icon adhoc-email-icon",height:16,isStatic:D}):xn&&(0,sr.isPaidAudience)(n.audience)&&(0,e.h)(D1.Z,{audience:n.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:D,thin:!0}),(i||a)&&n.post_date&&!n.is_draft&&(0,e.h)("time",{dateTime:Mt()(n.post_date).toISOString()},en),n.is_draft&&(i||a)&&"Draft"))),(0,e.h)("div",{className:"right"},At&&!Bt&&Fe&&(0,e.h)(Ko.mt,{post:n,pub:t,user:r,isStatic:D,onChange:U,allowEdit:Y,hidePinning:ge,showEmailSent:Se,allowSendEmail:De,hideComments:!Gn,onCommentsClick:Ye,showRestackButton:ur,showRestackModal:gt,setFooterShown:yt}),!At&&(0,e.h)(Ko._2,{post:n,pub:t,user:r,isStatic:D,style:"button",onChange:U,allowEdit:Y,hidePinning:ge,showEmailSent:Se,allowSendEmail:De,labelStyle:"counts-or-none",hideComments:!Gn,onCommentsClick:Ye,position:"post-header",showRestackButton:ur,showRestackModal:gt})))}const O8=({post:n})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,p.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:n.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(Al,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen")));var S8=wt(22939),T8=wt(99758),I8=Object.defineProperty,x8=Object.defineProperties,D8=Object.getOwnPropertyDescriptors,L1=Object.getOwnPropertySymbols,M8=Object.prototype.hasOwnProperty,A8=Object.prototype.propertyIsEnumerable,B1=(n,t,r)=>t in n?I8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,N8=(n,t)=>{for(var r in t||(t={}))M8.call(t,r)&&B1(n,r,t[r]);if(L1)for(var r of L1(t))A8.call(t,r)&&B1(n,r,t[r]);return n},R8=(n,t)=>x8(n,D8(t));const k1=n=>(0,e.h)(k.l,R8(N8({},n),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));var L8=Object.defineProperty,B8=Object.defineProperties,k8=Object.getOwnPropertyDescriptors,Bc=Object.getOwnPropertySymbols,U1=Object.prototype.hasOwnProperty,F1=Object.prototype.propertyIsEnumerable,j1=(n,t,r)=>t in n?L8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,U8=(n,t)=>{for(var r in t||(t={}))U1.call(t,r)&&j1(n,r,t[r]);if(Bc)for(var r of Bc(t))F1.call(t,r)&&j1(n,r,t[r]);return n},F8=(n,t)=>B8(n,k8(t)),j8=(n,t)=>{var r={};for(var i in n)U1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Bc)for(var i of Bc(n))t.indexOf(i)<0&&F1.call(n,i)&&(r[i]=n[i]);return r};const W8=n=>{var t=n,{strokeWidth:r=1.5}=t,i=j8(t,["strokeWidth"]);return(0,e.h)(k.l,F8(U8({},i),{strokeWidth:r,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};var W1=wt(46209);const H1=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:n=>{document.location.href=`itpc://${(0,p.stripProtocol)(n)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:n=>{document.location.href=`podcast://${(0,p.stripProtocol)(n)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:n=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(n).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:n=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(n)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:n=>{document.location.href=`pktc://subscribe/${(0,p.stripProtocol)(n)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:n=>{document.location.href=`downcast://${(0,p.stripProtocol)(n)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:n=>{document.location.href=`podcastaddict://${(0,p.stripProtocol)(n)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:n=>{(0,T.copyToClipboard)(n),document.location.href=`castros://subscribe/${(0,p.stripProtocol)(n)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:n=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(n)}`}}],V1=({className:n,pub:t,utmSource:r})=>{const i=typeof window!="undefined"?window.location.href:"",a=(0,oe.getSubscribeUrl)(t,{params:{utm_source:r,simple:!0,next:i}});return(0,e.h)(Je.Z,{className:u()("primary tw-text-sm tw-font-semibold",n),href:a},(0,Vt.getSubscribeText)(t))};var H8=Object.defineProperty,kc=Object.getOwnPropertySymbols,K1=Object.prototype.hasOwnProperty,$1=Object.prototype.propertyIsEnumerable,z1=(n,t,r)=>t in n?H8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,G1=(n,t)=>{for(var r in t||(t={}))K1.call(t,r)&&z1(n,r,t[r]);if(kc)for(var r of kc(t))$1.call(t,r)&&z1(n,r,t[r]);return n},V8=(n,t)=>{var r={};for(var i in n)K1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&kc)for(var i of kc(n))t.indexOf(i)<0&&$1.call(n,i)&&(r[i]=n[i]);return r},K8=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const $8=wt(39776),z8=["Podcast Addict"],G8=["Apple Podcasts"],Z8=["Apple Podcasts"],Y8=[],J8="hide_media_download_option",X8="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",Q8=({feedUrl:n,post:t,pub:r,sectionId:i,hasAccessToPrivatePodcastFeed:a,fileSrc:D})=>{const[B,j]=(0,o.eJ)(!1),[U,Y]=(0,S8.E)();return(0,e.h)("div",{className:"tw-relative"},(0,e.h)("div",{className:u()("audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",B?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:Y},(0,e.h)("span",{className:"sm:tw-hidden"},"Open in player"),(0,e.h)("span",{className:"tw-hidden sm:tw-block"},"Listen on"),(0,e.h)(T8.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,e.h)(q8,{feedUrl:n,menuRef:U,post:t,pub:r,sectionId:i,onToggle:j,hasAccessToPrivatePodcastFeed:a,fileSrc:D}))},q8=({feedUrl:n,menuRef:t,post:r,pub:i,sectionId:a,onToggle:D,hasAccessToPrivatePodcastFeed:B,fileSrc:j})=>{const U=(0,T.isMobileBrowser)(),Y=()=>{(0,C.j)(C.FP.PODCAST_FEED_URL_COPIED),(0,T.copyToClipboard)(n),alert("Copied")},ge=()=>{(0,C.j)(C.FP.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:n}),document.location.href=(0,p.getPostAppLinkUrl)(i==null?void 0:i.subdomain,r==null?void 0:r.slug,{redirect:"app-marketing",source:"podcast-dropdown"})};return(0,e.h)($i.ZP,{ref:t,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:Se})=>{(0,C.j)(C.FP.PODCAST_LISTEN_ON_CLICKED),D(Se)}},U?(0,e.h)(eR,{feedUrl:n,pub:i,onCopyFeed:Y,onClickSubstackApp:ge,hasAccessToPrivatePodcastFeed:B,fileSrc:j}):(0,e.h)(tR,{feedUrl:n,pub:i,sectionId:a,onCopyFeed:Y,onClickSubstackApp:ge,hasAccessToPrivatePodcastFeed:B,fileSrc:j}))},Z1=({fileSrc:n})=>$8.getConfigFor(J8)?null:(0,e.h)(eu,{onClick:()=>{(0,T.downloadSrc)((0,p.updateQuery)(n,{download:!0}))}},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Jf.Z,null)),(0,e.h)("span",null,"Download MP3")),eR=({feedUrl:n,pub:t,onCopyFeed:r,onClickSubstackApp:i,hasAccessToPrivatePodcastFeed:a,fileSrc:D})=>{var B;return(0,e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},"Listen in app"),(0,T.isIOs)()&&(0,e.h)(eu,{onClick:i},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(W1.Z,null)),(0,e.h)("span",null,"Substack App")),n&&H1.filter(j=>(0,T.isIOs)()?G8.includes(j.name):z8.includes(j.name)).map(({name:j,icon:U,onClick:Y})=>(0,e.h)(eu,{key:j,onClick:()=>{(0,C.j)(C.FP.PODCAST_APP_LINK_CLICK,{appName:j,feedUrl:n}),Y(n)}},(0,e.h)("img",{src:U,alt:`${j} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},j))),(0,e.h)(Z1,{fileSrc:D}),n?(0,e.h)("div",{className:"tw-px-2 tw-pt-2"},(0,e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed. ",(0,e.h)(Fc,null)),(0,e.h)("div",null,(0,e.h)(Uc,{className:"tw-w-full",onClick:r},(0,e.h)(k1,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Copy link")))):a?(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(Y1,{pub:t}))):(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(B=t.podcast_title)!=null?B:"this podcast"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app. ",(0,e.h)(Fc,null)),(0,e.h)(V1,{className:"tw-w-full",pub:t,utmSource:"podcast_post_listen_on"})))},tR=({feedUrl:n,pub:t,sectionId:r,onCopyFeed:i,onClickSubstackApp:a,hasAccessToPrivatePodcastFeed:D,fileSrc:B})=>{var j;const[U,Y]=(0,o.eJ)(!1),[ge,Se]=(0,o.eJ)(null),De=()=>K8(void 0,null,function*(){try{(0,C.j)(C.FP.PODCAST_EMAIL_LINK_CLICKED),yield $t().post("/api/v1/subscription/send_podcast_email").send({section_id:r}),alert("Email sent"),Y(!0)}catch(Fe){console.error("Failed to send podcast setup email:",Fe),Se(Fe)}});return(0,e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,e.h)(eu,{onClick:a},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(W1.Z,null)),(0,e.h)("span",null,"Substack App")),n&&H1.filter(Fe=>(0,T.isMac)()?Z8.includes(Fe.name):Y8.includes(Fe.name)).map(({name:Fe,icon:qe,onClick:Ye})=>(0,e.h)(eu,{key:Fe,onClick:()=>{(0,C.j)(C.FP.PODCAST_APP_LINK_CLICK,{appName:Fe,feedUrl:n}),Ye(n)}},(0,e.h)("img",{src:qe,alt:`${Fe} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},Fe))),(0,e.h)(Z1,{fileSrc:B})),(0,e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},n?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Copy your RSS link and paste it in your podcast app. ",(0,e.h)(Fc,null)),(0,e.h)("div",{className:"tw-flex tw-gap-2"},(0,e.h)(Uc,{onClick:i},(0,e.h)(k1,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,e.h)("span",null,"Copy link")),(0,e.h)(Uc,{onClick:De,disabled:U},(0,e.h)(W8,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Email link"))),ge&&(0,e.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,T.getNetworkErrorMessage)(ge))):D?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(Y1,{pub:t}))):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Get a private RSS link for listening"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe to ",(j=t.podcast_title)!=null?j:"this podcast"," to get a private link for listening in your favorite podcast player. ",(0,e.h)(Fc,null)),(0,e.h)(V1,{pub:t,utmSource:"podcast_post_listen_on"}))))},eu=n=>{var t=n,{children:r,href:i}=t,a=V8(t,["children","href"]);const D="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return i?(0,e.h)("a",G1({className:u()("tw-no-underline",D),href:i},a),r):(0,e.h)("div",G1({className:u()("tw-cursor-pointer",D),role:"button"},a),r)},Uc=({children:n,className:t="",disabled:r=!1,onClick:i})=>(0,e.h)(Je.Z,{className:u()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",t),onClick:i,disabled:r},n),Fc=()=>(0,e.h)("a",{href:X8,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},"Learn about RSS."),Y1=({pub:n})=>(0,e.h)(Uc,{className:"tw-w-full",onClick:()=>{}},(0,e.h)(Lt.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,p.getPodcatcherSetupUrl)(n),onClick:()=>{}},"Set up feed")),nR=Q8;var rR=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const oR=({isFreeSubscribed:n,isSubscribed:t,pub:r,post:i,magicToken:a,onGetDuration:D,isPreview:B,playerRef:j})=>{const[U,Y]=(0,o.eJ)(null);return(0,o.d4)(()=>{if(!t&&!n)return;(()=>rR(void 0,null,function*(){const Se=yield $t().get("/api/v1/subscription/podcast_rss_url").query({token:a,section_id:i.section_id});Se.body.podcast_rss_url&&Y(Se.body.podcast_rss_url)}))()},[n,t,a]),(0,e.h)(lc,{ref:j,feature:"Podcast",pub:r,src:i.podcast_url,duration:i.podcast_duration,autoPlay:!1,metricsPost:i,addToPodcastLink:null,onGetDuration:D,render:({currentTime:ge,isPlaying:Se,progress:De,progressBarRef:Fe,progressBarOnMouseDown:qe,remainingTime:Ye,playbackRate:st,setPlaybackRate:gt,skipBack:yt,skipForward:At,togglePlayback:Bt})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(VI,{isPlaying:Se,onSkipBack:yt,onSkipForward:At,onTogglePlayback:Bt}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(gf,{onSetPlaybackRate:gt,playbackRate:st,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(_f,{currentTime:ge,remainingTime:Ye,containerRef:Fe,progress:De,onMouseDown:qe}),B?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(nR,{feedUrl:U,post:i,pub:r,sectionId:i.section_id,hasAccessToPrivatePodcastFeed:t||n,fileSrc:i.podcast_url}))})},iR=({expiry:n,podcastName:t,pub:r,postId:i})=>{const a=Mt()(n).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",t," ends ",a,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(ua.z,{look:"button",variant:"themed-primary",size:"medium",href:(0,p.getSubscribeUrl)(r,{utm_source:"continue_your_support",utm_medium:"web",utm_content:i,simple:!0,next:document.location.href})},"Continue your support"))},aR=({freeSignupEmail:n,pub:t,source:r,user:i,onSuccess:a})=>{const D=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(Le.Z,{user:i,pub:t,freeSignupEmail:n,source:r,onSuccess:a,useSubscribeLink:D,submitButtonText:(0,Vt.getSubscribeText)(t)}))},dp="podcast_post_header",sR=({freeSignupEmail:n,isFreeSubscribed:t,pub:r,user:i})=>{const[a,D]=(0,o.eJ)(!1),[B,j]=(0,o.eJ)(!1),U=(0,o.sO)(null),Y=r.section?r.section.description:r.podcast_description,ge=De=>{if(r.plans){let Fe=(0,p.getSubscribeUrl)(r,{just_signed_up:!0,referral_token:De.body.referral_token});De.body.prompt_to_login&&(Fe=`/account/login?redirect=${encodeURIComponent(Fe)}&email=${encodeURIComponent(De.body.email)}`),document.location.href=Fe}else window.location.reload()},Se=(0,o.I4)(()=>{D(!a)},[D,a]);return(0,o.bt)(()=>{const De=()=>{const qe=U.current&&U.current.scrollHeight>U.current.clientHeight;j(a||qe)};De();const Fe=(0,T.debounce)(De);return window.addEventListener("resize",Fe),()=>{window.removeEventListener("resize",Fe)}},[j,U,a]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},Y&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:U,"data-testid":"podcast-description",className:u()({"podcast-description--clamped":!a})},Y),B&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:Se},!a&&(0,e.h)("span",null,"show more"),a&&(0,e.h)("span",null," show less"))),t?(0,e.h)(Je.Z,{href:(0,p.getSubscribeUrl)(r,{utm_source:dp}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Vt.getSubscribeText)(r,{isFreeSubscribed:!0})):(0,T.isMobileBrowser)()?(0,e.h)(Je.Z,{href:(0,p.getSubscribeUrl)(r,{utm_source:dp,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Vt.getSubscribeText)(r)):(0,e.h)(je.gq,{justifyContent:"center"},(0,e.h)(aR,{freeSignupEmail:n,pub:r,source:dp,user:i,onSuccess:ge})))},lR={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou"},uR=({freeSignupEmail:n,isFreeSignup:t,isPaywall:r,post:i,pub:a,magicToken:D,user:B,onChange:j,onClickCommentButton:U,onTopReached:Y,playerRef:ge})=>{var Se;const[De,Fe]=(0,o.eJ)((Se=i.podcast_duration)!=null?Se:0),qe=xt=>{Fe(xt)},Ye=!!(B!=null&&B.is_subscribed),st=!!(t||B!=null&&B.is_free_subscribed),gt=!st||!Ye&&!!a.plans,yt=Ye&&(B==null?void 0:B.subscription_type)==="comp"&&Mt()(B==null?void 0:B.subscription_expiry).subtract(30,"days").isBeforeNow(),At=st&&!Ye&&(B==null?void 0:B.comp_expired_recently),Bt=(0,Vt.getBylineUsers)(i).sort((xt,Ht)=>xt.id===a.author_id?-1:Ht.id===a.author_id?1:xt.is_guest&&!Ht.is_guest?-1:!xt.is_guest&&Ht.is_guest?1:(xt.name||"").localeCompare(Ht.name||""));return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)("div",{className:"container"},(0,e.h)(cR,{post:i,podcastDuration:De}),(0,e.h)(R1,{allowEdit:B==null?void 0:B.is_contributor,allowMobileFooter:!0,isStatic:!1,post:i,postReactionToken:D,pub:a,showDate:!0,showDatetime:!1,user:B,onChange:j,onCommentsClick:U,useWashBackground:!0}),(0,e.h)(pe.Z,{onVisible:Y}),r&&!(0,ri.podcastPostIsFreePreview)(i)?(0,e.h)(O8,{post:i}):(0,e.h)(oR,{isFreeSubscribed:st,isSubscribed:Ye,post:i,pub:a,magicToken:D,onGetDuration:qe,isPreview:(0,ri.podcastPostIsFreePreview)(i),playerRef:ge}),a.bylines_enabled&&Bt&&Bt.length?(0,e.h)(je.hs,{direction:"column",gap:24,paddingTop:24},(0,e.h)(x.xv.H4,{color:"pub-primary-text"},"Appears in this episode"),Bt.map(xt=>(0,e.h)(je.hs,{direction:"column",gap:24},(0,e.h)(je.hs,{direction:"row",alignItems:"center",gap:16},(0,e.h)(je.hs,null,(0,e.h)($l.ZP,{className:lR.facepile,maximum:1,hoverProfiles:!0,faces:[xt],faceUtmSource:"author-byline-face-podcast",elevated:!0})),(0,e.h)(je.hs,{direction:"column"},(0,e.h)(je.gq,{gap:4,alignItems:"center"},(0,e.h)(x.xv.B4,{color:"pub-primary-text",weight:"bold"},xt.name),(0,e.h)(co.s,{userId:xt.id,tier:xt.bestseller_tier,size:"sm"})),xt.primaryPublicationName&&(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},xt.primaryPublicationUrl?(0,e.h)(e.Fragment,null,"Writes ",(0,e.h)("a",{style:{textDecoration:"none"},href:xt.primaryPublicationUrl},xt.primaryPublicationName)," ",(0,e.h)("a",{href:`${xt.primaryPublicationUrl}/subscribe`},"Subscribe")):`Writes ${xt.primaryPublicationName}`)))))):null,yt||At?(0,e.h)(iR,{expiry:B.subscription_expiry,postId:i.id,podcastName:a.podcast_title,pub:a}):gt?(0,e.h)(sR,{freeSignupEmail:n,isFreeSubscribed:st,pub:a,user:B}):null))};function cR({post:n,podcastDuration:t}){return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},n.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,oe.imginary)(n.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},n.post_date?Mt()(n.post_date).standardDate():Mt()().standardDate(),t>0&&` \u2022 ${(0,Vt.formatPodcastDuration)(t)}`),n.title&&(0,e.h)("h1",{className:u()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":n.title.length<60,"tw-text-3xl sm:tw-text-3xl":n.title.length>=60&&n.title.length<110,"tw-text-2xl sm:tw-text-2xl":n.title.length>=110&&n.title.length<140,"tw-text-xl sm:tw-text-xl":n.title.length>=140})},n.title),n.subtitle&&(0,e.h)("h3",{className:u()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":n.subtitle.length<110,"tw-text-base":n.subtitle.length>=110})},n.subtitle)))}function B$({post:n,pub:t,user:r,isPaywall:i}){const a=!!(r!=null&&r.is_subscribed),D=!!(r.is_subscribed||r.is_free_subscribed),B="";return i&&!podcastPostIsFreePreview(n)?h(PodcastAudioPaywall,{post:n}):h(PodcastPostAudioPlayer,{isFreeSubscribed:D,isSubscribed:a,post:n,pub:t,magicToken:B,isPreview:podcastPostIsFreePreview(n)})}const dR=(0,Po.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);var fR=wt(77951);const pR={small:"tw-py-2 tw-px-3",medium:"tw-py-3 tw-px-4",large:"tw-py-6 tw-px-4"},hR=({label:n,icon:t,isActive:r=!1,size:i,onClick:a,useSubstackTheme:D=!1,isDisabled:B=!1})=>{const j=pR[i];return(0,e.h)("div",{className:u()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",j,{"tw-cursor-pointer":!B||r,"tw-cursor-not-allowed tw-opacity-50":B&&!r,"tw-border-b-pub-primary-text tw-text-pub-primary-text":r&&!D,"tw-text-pub-secondary-text":!r&&!D,"tw-border-b-substack-primary tw-text-substack-primary":r&&D,"tw-text-substack-secondary":!r&&D,"hover:tw-bg-pub-wash":!D&&!r&&!B,"hover:tw-bg-substack-wash":D&&!r&&!B}),disabled:B,onClick:B?()=>{}:a,role:"button"},typeof t=="function"?t({active:r}):t,(0,e.h)("span",null,n))},mR=({items:n,size:t="large",onSelect:r,activeTab:i,useSubstackTheme:a=!1,className:D})=>(0,e.h)("div",{className:u()("tw-flex",D)},n.map(({key:B,icon:j,label:U,isDisabled:Y})=>(0,e.h)(hR,{isActive:B==i,icon:j,onClick:()=>{r(B)},size:t,label:U,useSubstackTheme:a,isDisabled:Y}))),_R=({activeTab:n,commentCount:t,onClickTab:r,loadedWithHeaderLink:i,transcription:a,hideComments:D})=>{const[B,j]=(0,o.eJ)(i);return(0,o.d4)(()=>{if(typeof window=="undefined"||B){j(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${n}`):window.location.hash=`#${n}`},[n]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container"},(0,e.h)(mR,{items:[{key:"details",icon:(0,e.h)(dR,{height:18}),label:"Episode details"},...D?[]:[{key:"comments",icon:({active:U})=>(0,e.h)(Sd.Z,{className:u()("tw-fill-transparent",U?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:t===0?"Comments":t===1?"1 comment":`${t} comments`}],...a?[{key:"transcription",icon:(0,e.h)(fR.Z,{height:18}),label:"Transcript"}]:[]],onSelect:r,activeTab:n})))},gR=({children:n,href:t})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:t,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},n))))),vR=({post:n,compAlreadyExpired:t=!1})=>{const r=`${Ei.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${n.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),t?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",Ei.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(gR,{href:r},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var jc=wt(43498);const tu={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var yR=Object.defineProperty,bR=Object.defineProperties,PR=Object.getOwnPropertyDescriptors,J1=Object.getOwnPropertySymbols,ER=Object.prototype.hasOwnProperty,wR=Object.prototype.propertyIsEnumerable,X1=(n,t,r)=>t in n?yR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,CR=(n,t)=>{for(var r in t||(t={}))ER.call(t,r)&&X1(n,r,t[r]);if(J1)for(var r of J1(t))wR.call(t,r)&&X1(n,r,t[r]);return n},OR=(n,t)=>bR(n,PR(t));const SR=({postType:n,crossPostInfo:{introText:t,crossPostedPub:r,crossPostingByLine:i}})=>{const a=i[0];return(0,e.h)(je.tu,{className:u()(tu.container,n==="podcast"&&tu.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(je.hs,{className:tu.attribution,gap:4,alignItems:"center"},(0,e.h)(jc.Z,{className:tu.icon,height:16})," ",(0,e.h)(x.xv.Meta,{color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:tu.pub,href:(0,oe.getBaseUrl)(r)},r.name))),(0,e.h)(x.xv.B2,{color:"pub-primary-text"},t," - ",(0,e.h)(Wd.default,OR(CR({},a),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var TR=Object.defineProperty,IR=Object.defineProperties,xR=Object.getOwnPropertyDescriptors,Wc=Object.getOwnPropertySymbols,Q1=Object.prototype.hasOwnProperty,q1=Object.prototype.propertyIsEnumerable,ey=(n,t,r)=>t in n?TR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,DR=(n,t)=>{for(var r in t||(t={}))Q1.call(t,r)&&ey(n,r,t[r]);if(Wc)for(var r of Wc(t))q1.call(t,r)&&ey(n,r,t[r]);return n},MR=(n,t)=>IR(n,xR(t)),AR=(n,t)=>{var r={};for(var i in n)Q1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Wc)for(var i of Wc(n))t.indexOf(i)<0&&q1.call(n,i)&&(r[i]=n[i]);return r};const fp=n=>{var t=n,{stroke:r="black"}=t,i=AR(t,["stroke"]);return(0,e.h)(k.l,MR(DR({},i),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:r,"stroke-linejoin":"round"}))};var NR=Object.defineProperty,RR=Object.defineProperties,LR=Object.getOwnPropertyDescriptors,Hc=Object.getOwnPropertySymbols,ty=Object.prototype.hasOwnProperty,ny=Object.prototype.propertyIsEnumerable,ry=(n,t,r)=>t in n?NR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,BR=(n,t)=>{for(var r in t||(t={}))ty.call(t,r)&&ry(n,r,t[r]);if(Hc)for(var r of Hc(t))ny.call(t,r)&&ry(n,r,t[r]);return n},kR=(n,t)=>RR(n,LR(t)),UR=(n,t)=>{var r={};for(var i in n)ty.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Hc)for(var i of Hc(n))t.indexOf(i)<0&&ny.call(n,i)&&(r[i]=n[i]);return r};const oy=n=>{var t=n,{stroke:r="black",height:i=19,width:a=19}=t,D=UR(t,["stroke","height","width"]);return(0,e.h)(k.l,kR(BR({},D),{name:"VideoIcon",svgParams:{height:i,width:a,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:r}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:r}),(0,e.h)("path",{d:"M8 4L11 7",stroke:r}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:r})))};var pp=wt(50615),FR=wt(12297),jR=wt.n(FR),WR=Object.defineProperty,HR=Object.defineProperties,VR=Object.getOwnPropertyDescriptors,iy=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,$R=Object.prototype.propertyIsEnumerable,ay=(n,t,r)=>t in n?WR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zR=(n,t)=>{for(var r in t||(t={}))KR.call(t,r)&&ay(n,r,t[r]);if(iy)for(var r of iy(t))$R.call(t,r)&&ay(n,r,t[r]);return n},GR=(n,t)=>HR(n,VR(t));const sy=n=>(0,e.h)(k.l,GR(zR({},n),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var ZR=Object.defineProperty,YR=Object.defineProperties,JR=Object.getOwnPropertyDescriptors,Vc=Object.getOwnPropertySymbols,ly=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable,cy=(n,t,r)=>t in n?ZR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,XR=(n,t)=>{for(var r in t||(t={}))ly.call(t,r)&&cy(n,r,t[r]);if(Vc)for(var r of Vc(t))uy.call(t,r)&&cy(n,r,t[r]);return n},QR=(n,t)=>YR(n,JR(t)),qR=(n,t)=>{var r={};for(var i in n)ly.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Vc)for(var i of Vc(n))t.indexOf(i)<0&&uy.call(n,i)&&(r[i]=n[i]);return r};const eL=n=>{var t=n,{color:r="#B6B6B6",height:i=18}=t,a=qR(t,["color","height"]);return(0,e.h)(k.l,QR(XR({},a),{height:i,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:r,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:r,stroke:r}))};var tL=wt(15440);const dy=(0,Po.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var nL=Object.defineProperty,rL=Object.defineProperties,oL=Object.getOwnPropertyDescriptors,fy=Object.getOwnPropertySymbols,iL=Object.prototype.hasOwnProperty,aL=Object.prototype.propertyIsEnumerable,py=(n,t,r)=>t in n?nL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,sL=(n,t)=>{for(var r in t||(t={}))iL.call(t,r)&&py(n,r,t[r]);if(fy)for(var r of fy(t))aL.call(t,r)&&py(n,r,t[r]);return n},lL=(n,t)=>rL(n,oL(t));const uL=n=>(0,e.h)(k.l,lL(sL({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(dy,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var cL=wt(11762),dL=wt(11628);class fL extends e.Component{onShare(t){this.props.position&&(0,C.j)(C.FP.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(t&&t.stopPropagation(),this.props.sharedShareDialog?t.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:t,linkClassName:r,user:i,pub:a,post:D,reaction_token:B,height:j,onChange:U,isStatic:Y,children:ge,sharedShareDialog:Se,noIcon:De}){let Fe;return D.share_url_override?Fe=D.share_url_override:Y?D?Fe=Ei.Substitutions.SHARE_URL:Fe=Ei.Substitutions.SHARE_PUB_URL:Fe="javascript:void(0)",(0,e.h)("span",{className:t},(0,e.h)("a",{href:Fe,onClick:qe=>this.onShare(qe),className:r},!De&&(0,e.h)(dL.Z,{className:"recommend-icon post-meta-icon",isStatic:Y,height:j,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:Y?1:1.5}),ge),!Y&&!Se&&(0,e.h)(Ql.ZP,{ref:qe=>this.modal=qe,user:i,pub:a,post:D,reaction_token:B,onChange:U}))}}const pL=({children:n,content:t,baseRef:r=void 0,portalClass:i="",className:a="",style:D=void 0})=>{const B=(0,o.sO)(null),j=(0,o.sO)(null);return t?(0,e.h)("div",{ref:B,className:a,style:D},n,(0,e.h)(zv,{baseRef:r||B,hoverToggle:!0,onOpen:()=>{var U;return(U=j.current)==null?void 0:U.open()},onClose:()=>{var U;return(U=j.current)==null?void 0:U.close()},className:i},(0,e.h)($i.Fx,{ref:j,noList:!0,className:"explanation"},t))):n};var hL=wt(73413),mL=Object.defineProperty,_L=Object.defineProperties,gL=Object.getOwnPropertyDescriptors,hy=Object.getOwnPropertySymbols,vL=Object.prototype.hasOwnProperty,yL=Object.prototype.propertyIsEnumerable,hp=(n,t,r)=>t in n?mL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mp=(n,t)=>{for(var r in t||(t={}))vL.call(t,r)&&hp(n,r,t[r]);if(hy)for(var r of hy(t))yL.call(t,r)&&hp(n,r,t[r]);return n},my=(n,t)=>_L(n,gL(t)),bL=(n,t,r)=>(hp(n,typeof t!="symbol"?t+"":t,r),r);const{getPaidOrFoundingTierNameForPost:PL}=wt(6378),EL=46438;class wL extends e.Component{constructor(t,r){if(super(t,r),bL(this,"withAuthorLine",(i,a)=>{const{pub:D,post:B,showAuthor:j,showPhoto:U}=i,Y=B.type==="adhoc_email",ge=(0,Vt.getBylineUsers)(B).length,Se=ge===1,De=Se&&(0,Vt.getBylineUsers)(B)[0],Fe=Se&&De.is_guest&&!(0,Ci.default)("dont_show_guest_byline")&&!Y,qe=i.showDate||i.showDatetime,Ye=!B.is_published&&!i.inThreadHead&&qe&&!Y,st=i.isFreePreview&&i.showAudience&&qe&&!Y,gt=(0,sr.isFoundingAudience)(B.audience)&&i.showAudience&&!st&&qe&&!Y,yt=(0,sr.isPaidAudience)(B.audience)&&i.showAudience&&!gt&&!st&&qe&&!Y,At=(0,Ko.F6)({pub:D,post:B,showAuthor:j,showPhoto:U});return(0,e.h)(Xr.YF,{width:"100%",className:u()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.i$,null,(0,e.h)(Xr.zK,{gap:4},(0,e.h)(x.xv.Meta,{color:"primary",className:Q0.A.postAuthor},ge>0?(0,Vt.oxfordComma)((0,Vt.getBylineUsers)(B).map(Bt=>(0,e.h)(x.xv.Meta,{as:"a",href:(0,p.getProfileUrl)(Bt,D,{base:i.isStatic}),color:"primary",style:"text-decoration: none"},Bt.name))):(0,Vt.getPrintedByline)(D,B))),(0,e.h)(Xr.zK,{gap:4},(0,e.h)(x.xv.Meta,null,(i.showDate||i.showDatetime)&&B.post_date&&(0,e.h)("time",{dateTime:Mt()(B.post_date).toISOString()},Mt()(B.post_date).standardDate())),yt&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(x.xv.Meta,null,"\u2219"),(0,e.h)(x.xv.Meta,{color:"accent-purple"},"Paid")),gt&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(x.xv.Meta,null,"\u2219"),(0,e.h)(x.xv.Meta,{color:"accent-purple"},PL(D,B))),st&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(x.xv.Meta,null,"\u2219"),(0,e.h)(x.xv.Meta,{color:"accent-purple"},"Preview")),Fe&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(x.xv.Meta,null,"\u2219"),(0,e.h)(x.xv.Meta,null,"Guest post")),Ye&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(x.xv.Meta,null,"\u2219"),(0,e.h)(x.xv.Meta,null,"Draft"))))),At&&(0,e.h)("td",{align:"right"},(0,e.h)(Xr.zK,{gap:4},ge>0&&(0,Vt.getBylineUsers)(B).map((Bt,xt)=>xt<4&&(0,e.h)("a",{href:(0,p.getProfileUrl)(Bt,D,{base:i.isStatic})},(0,e.h)(Xr.NS,{src:Bt.photo_url,size:ge>1?32:40})))))))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const i=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:i.matches};const a=D=>{this.unmounted||this.setState({isMobileWidth:D.matches})};i.addEventListener?i.addEventListener("change",a):i.addListener&&i.addListener(a)}}componentWillUnmount(){this.unmounted=!0}render({pub:t,post:r,showAuthor:i,showPhoto:a,fromPostPage:D}){return(0,Ko.F6)({pub:t,post:r,showAuthor:i,showPhoto:a})||(0,Ko.Cz)({pub:t,post:r,showAuthor:i})||(0,Ko.z5)({pub:t,post:r,showAuthor:i})?this.withAuthorLine(this.props,this.state):(0,e.h)(OL,my(mp({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:D?"post-header-compact":"post-preview"}))}}const CL=({shouldShowFullWidthUfi:n,isMobileWidth:t,children:r})=>n?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},r):t?r:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},r),$$=({additionalCommentCount:n,user:t,pub:r,post:i,showReactions:a,showComments:D,reaction_token:B,onChange:j,shareTooltipText:U,fromPostPage:Y,onClickCommentButton:ge,reactors:Se,isStatic:De,base_url:Fe,className:qe,showShare:Ye})=>{a=a&&r.community_enabled&&i.slug&&!i.is_draft;const st=useMediaQuery({maxWidth:540}),{getSettingFor:gt}=usePublicationSettings(),yt=!De&&(i==null?void 0:i.id)&&r.community_enabled&&!i.is_draft&&i.slug,At=sum(Object.values((i==null?void 0:i.reactions)||{})),Bt=yt&&!!At&&a,xt=!i.is_draft&&canPostBeRestacked(t,{enable_restacking:!!gt("enable_restacking")},i,r,!1),Ht=xt;return h(CL,{shouldShowFullWidthUfi:Ht,isMobileWidth:st},h(PostUfi,{style:"button",post:i,pub:r,user:t,postReactionToken:B,hideReactions:!a||st&&xt,hideComments:!D||st&&xt,hideSavePost:st&&xt,hideShare:!Ye||st&&xt,useShareLabel:st&&!Ht,labelStyle:st&&!Ht?"labels":"counts-or-none",onChange:j,additionalCommentCount:n,showShare:Ye,onCommentsClick:ge,position:Ht?"post-footer-full-width":"post-footer",showRestackButton:xt}),Bt&&h(Fragment,null,(Ht||st)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(_p,{postId:i.id,totalLikes:At,reactors:Qs(Se,t,!!i.reaction,r),loading:!Se,hoverProfiles:!0,enableModal:!0,showFaces:r.post_reaction_faces_enabled}))))};function _y({pub:n,post:t,user:r,reactors:i,secondaryFaces:a}){var D;return(0,e.h)(_p,{postId:t.id,totalLikes:Math.max((D=t.reactions["\u2764"])!=null?D:0,(i!=null?i:[]).length),reactors:Qs(i,r,!!t.reaction,n),secondaryFaces:Qs(a,r,!!t.restacked,n),totalRestacks:t.restacks||0,loading:!i,hoverProfiles:!0,enableModal:!0,showFaces:n.post_reaction_faces_enabled})}function z$(n){const{post:t,user:r,pub:i}=n,{result:a,isLoading:D}=useFetch({pathname:`/api/v1/post/${t.id}/reactors`,auto:!0,deps:[t.id]}),{result:B,isLoading:j}=useFetch({pathname:`/api/v1/post/${t.id}/restackers`,auto:!0,deps:[t.id]});return h(_y,mp({reactors:Qs(a,r,!!t.reaction,i),secondaryFaces:Qs(B,r,!!t.restacked,i)},n))}function Qs(n,t,r,i){if(!n)return[];if(t){const a=n.findIndex(D=>D.id===t.id);r&&(t.subscription_visibility!=="private"||i.id===EL)&&t.activity_likes_enabled&&a<0?n.splice(0,0,{id:t.id,name:t.name,photo_url:t.photo_url}):!r&&a>=0&&n.splice(a,1)}return n}function OL({additionalCommentCount:n=0,className:t,user:r,pub:i,post:a,showAudience:D=!1,showDate:B=!1,showEmailSent:j=!1,showDatetime:U=!1,showReactions:Y=!0,showComments:ge=!0,showShare:Se=!1,showRestack:De=!1,showPublicationName:Fe=!1,hidePinning:qe=!1,reaction_token:Ye,onClick:st,onChange:gt,isStatic:yt=!1,isFreePreview:At=!1,allowSendEmail:Bt=!1,allowEdit:xt=!1,shareTooltipText:Ht,showPins:en,sharedShareDialog:Xt,showUpdatedIcons:tn,editOnRightSide:fn=!1,onClickCommentButton:xn,reactors:yn,showAuthor:Gn,showPhoto:pn,fromPostPage:Sn,isMobileWidth:ur,actionBarStyle:Qn="post-header-compact"}){var jn;const Kn=[i].concat(i.child_publications).find(mr=>mr.id===a.publication_id),Wn=Qs(yn,r,!!a.reaction,i),tr=Qn==="post-footer",Rn=tr?20:Qn==="post-preview"?14:18,Zn=Qn==="post-header-large"?20:Qn==="post-preview"?16:Qn==="thread-head"||tr?14:18;let gn;a.comment_url_override?gn=a.comment_url_override:yt?gn=`${Ei.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:gn=(0,p.getPostUrl)(i,a,{comments:!0});const kn=n+((jn=a.comment_count)!=null?jn:0),Gt=ge&&!At&&(0,Vt.showCommentsOnPost)({publication:i,post:a})&&a.type!=="restack",or=Y&&!At&&!["adhoc_email","restack"].includes(a.type),_n=(B||U)&&a.post_date&&!a.is_draft,fr=j?!!a.email_sent_at:null,yr=(0,Jh.S)({user:r,noBase:!1}),Ar=mr=>{var br;(br=mr.post)!=null&&br.reaction&&r&&yr({user:r}),gt(mr)},Yn=(0,e.h)(ws.dJ,{user:r,pub:i,post:a,token:Ye,onChange:Ar,height:Zn,isStatic:yt,isFreePreview:At,alt:"Like",buttonStyle:tr,className:"post-meta-icon like-reaction-button",hideReactionCount:tr&&!yt}),vr=[j&&fr&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(sy,{className:"post-meta-icon",height:Rn,isStatic:yt})},en&&a.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(cL.Z,{className:"post-meta-icon",isStatic:yt})},a.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(N1,{className:"post-meta-icon",isStatic:yt})}:D&&(0,sr.isPaidAudience)(a.audience)&&{className:"audience-lock",content:(0,e.h)(eL,{color:"#666666",height:Rn,isStatic:yt})},(0,Ko.Er)({pub:i,post:a,showAuthor:Gn,showPhoto:pn,isMobileWidth:ur})&&{className:"author",content:(0,Vt.getBylineUsers)(a).length>0?(0,Vt.oxfordComma)((0,Vt.getBylineUsers)(a).map(mr=>(0,e.h)(ca.Ct,{disabled:yt,subject:mr,utmSource:"byline"},(0,e.h)("a",{href:(0,p.getProfileUrl)(mr,i,{base:yt}),onClick:br=>br.stopPropagation()},mr.name)))):(0,Vt.getPrintedByline)(i,a)},Fe&&{className:"post-publication-name",content:i.name},tn&&!fn&&xt&&!yt&&r&&r.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:mr=>mr.stopPropagation(),content:(0,e.h)(pp.l,{pub:i,post:a,iconHeight:Rn,hidePinning:qe,user:r,emailSent:fr,allowSendEmail:Bt,showUpdatedIcons:tn})},_n&&{className:"post-date",title:Mt()(a.post_date).toISOString(),content:(0,e.h)(x.xv.Meta,null,(0,e.h)("time",{dateTime:Mt()(a.post_date).toISOString()},(0,Ko.fh)({post:a,showDatetime:U,isStatic:yt,fromPostPage:Sn,showReactions:or})))},(Kn==null?void 0:Kn.community_enabled)&&a.slug&&or&&!a.is_draft&&{className:"icon",onClick:mr=>mr.stopPropagation(),content:!tr&&!yt&&Wn.length?(0,e.h)(pL,{portalClass:"facepile-tooltip",content:(0,e.h)(_p,{postId:a.id,totalLikes:jR()(Object.values(a.reactions)),reactors:Wn,loading:!yn})},Yn):Yn},r&&{className:"icon",onClick:mr=>mr.stopPropagation(),content:(0,e.h)(SL,{post:a,isPostFooter:tr,isStatic:yt,lucideIconHeight:Zn,onChange:gt})},(Kn==null?void 0:Kn.community_enabled)&&a.slug&&Gt&&!a.is_draft&&{className:"icon",onClick:mr=>mr.stopPropagation(),content:(0,e.h)("a",{className:tr?"post-meta-button button":"",href:gn,native:Kn&&(0,p.isPublishPath)(document.location.pathname,Kn),onClick:xn},(0,e.h)(Sd.Z,{className:"comment-icon post-meta-icon",isStatic:yt,height:Zn,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:yt?1:1.5,ampProps:{layout:"fixed"}}),!kn&&tr&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),kn>0&&(0,e.h)("span",{className:"comment-count"},(0,Vt.numberToString)(kn)))},De&&!tr&&{className:"icon",onClick:mr=>mr.stopPropagation(),content:(0,e.h)("a",{href:Ei.Substitutions.RESTACK_URL,className:tr?"button post-meta-button":void 0},(0,e.h)(uL,{className:"recommend-icon post-meta-icon",isStatic:yt,height:Zn,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:yt?1:1.5,ampProps:{layout:"fixed"}}),tr&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},Se&&a.audience!=="only_free"&&!a.is_draft&&!At&&{className:"icon",onClick:mr=>mr.stopPropagation(),content:(0,e.h)(fL,{user:r,pub:Kn,post:a,reaction_token:Ye,height:Zn,onChange:gt,isStatic:yt,sharedShareDialog:Xt,position:Qn==="post-footer"?"post-footer":"post-header",linkClassName:tr?"button post-meta-button":void 0},tr&&(0,e.h)("span",{className:"meta-button-label"},"Share"),Ht&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},Ht)))},(!tn||fn)&&xt&&!yt&&r&&r.is_contributor&&{className:"icon edit-icon",onClick:mr=>mr.stopPropagation(),content:(0,e.h)(pp.l,{pub:i,post:a,iconHeight:Rn,hidePinning:qe,user:r,emailSent:fr,allowSendEmail:Bt,showUpdatedIcons:tn})}].filter(mr=>!!mr);return yt?(0,e.h)("table",{className:u()("post-meta custom",{big:tr},t),cellpadding:"0",cellspacing:"0",onClick:st},(0,e.h)("tr",null,vr.map(({className:mr,title:br,onClick:lo,content:Kr})=>(0,e.h)("td",{className:u()("post-meta-item",mr),title:br,onClick:lo},Kr)))):(0,e.h)("div",{className:u()("post-meta post-meta-actions-web custom",{big:tr},t),onClick:st},vr.map(({className:mr,title:br,onClick:lo,content:Kr})=>(0,e.h)("div",{className:u()("post-meta-item",mr),title:br,onClick:lo},Kr)))}function _p({className:n,postId:t,reactors:r,secondaryFaces:i,totalLikes:a,totalRestacks:D,loading:B,hoverProfiles:j,enableModal:U,showFaces:Y}){const ge=a>0?(0,Vt.pluralize)(a,"Like"):"";let Se="";return D>0&&(Se=`${(0,Vt.pluralize)(D,"Restack")}`),(0,e.h)($l.ZP,{className:n,loading:B,faces:r,secondaryFaces:i,pileLabel:ge,modalLabel:ge,secondaryLabel:Se,secondaryHref:(0,m1.Oi)(t,{noBase:hL.L,urlParams:{utm_source:"substack",utm_content:"facepile-restacks"}}),totalCount:a,totalRestacks:D,hoverProfiles:j,enableModal:U,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,C.j)(C.FP.POST_REACTIONS_MODAL_VIEWED,{post_id:t})},showFaces:Y})}function SL({post:n,isPostFooter:t,isStatic:r,isSaved:i,lucideIconHeight:a,onChange:D}){const{onSave:B,isSaved:j}=(0,Ko.vk)({post:n,isSaved:n.is_saved}),U=()=>{const Y=B();D({post:my(mp({},n),{is_saved:Y})})};return(0,e.h)("a",{className:u()("post-meta-save-button",t?"post-meta-button button":"",{isSaved:j}),href:r&&Ei.Substitutions.SAVE_POST_URL,onClick:U},(0,e.h)(tL.Z,{isStatic:r,height:a,stroke:"#757575",strokeWidth:r?1:1.5}),t&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}const TL=(0,Po.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);var IL=Object.defineProperty,xL=Object.defineProperties,DL=Object.getOwnPropertyDescriptors,gy=Object.getOwnPropertySymbols,ML=Object.prototype.hasOwnProperty,AL=Object.prototype.propertyIsEnumerable,vy=(n,t,r)=>t in n?IL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,NL=(n,t)=>{for(var r in t||(t={}))ML.call(t,r)&&vy(n,r,t[r]);if(gy)for(var r of gy(t))AL.call(t,r)&&vy(n,r,t[r]);return n},RL=(n,t)=>xL(n,DL(t));const LL=n=>(0,e.h)(k.l,RL(NL({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(TL,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var BL=Object.defineProperty,kL=Object.defineProperties,UL=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,FL=Object.prototype.hasOwnProperty,jL=Object.prototype.propertyIsEnumerable,by=(n,t,r)=>t in n?BL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,WL=(n,t)=>{for(var r in t||(t={}))FL.call(t,r)&&by(n,r,t[r]);if(yy)for(var r of yy(t))jL.call(t,r)&&by(n,r,t[r]);return n},HL=(n,t)=>kL(n,UL(t));const VL=n=>(0,e.h)(k.l,HL(WL({},n),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(r_,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),Py=({post:n})=>{const t=(0,ut.So)().getSettingFor("enable_prev_next_nav"),r=(0,Ni.XA)();return!t||!(n!=null&&n.previous_post_slug)&&!(n!=null&&n.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,n.previous_post_slug&&(0,e.h)(Ko.Ng,{icon:(0,e.h)(LL,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,C.j)(C.FP.PREVIOUS_POST_LINK_CLICKED,{post_id:n.id}),(0,v.route)(`/p/${n.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Previous"))),(0,e.h)("div",null,n.next_post_slug&&(0,e.h)(Ko.Ng,{icon:(0,e.h)(VL,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,C.j)(C.FP.NEXT_POST_LINK_CLICKED,{post_id:n.id}),(0,v.route)(`/p/${n.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Next"))))};var KL=Object.defineProperty,$L=Object.defineProperties,zL=Object.getOwnPropertyDescriptors,Kc=Object.getOwnPropertySymbols,Ey=Object.prototype.hasOwnProperty,wy=Object.prototype.propertyIsEnumerable,Cy=(n,t,r)=>t in n?KL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,GL=(n,t)=>{for(var r in t||(t={}))Ey.call(t,r)&&Cy(n,r,t[r]);if(Kc)for(var r of Kc(t))wy.call(t,r)&&Cy(n,r,t[r]);return n},ZL=(n,t)=>$L(n,zL(t)),YL=(n,t)=>{var r={};for(var i in n)Ey.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Kc)for(var i of Kc(n))t.indexOf(i)<0&&wy.call(n,i)&&(r[i]=n[i]);return r};const JL=n=>{var t=n,{stroke:r="black",height:i=19,width:a=19}=t,D=YL(t,["stroke","height","width"]);return(0,e.h)(k.l,ZL(GL({},D),{name:"AdhocEmailIcon",svgParams:{height:i,width:a,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:r}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:r}))};var XL=Object.defineProperty,QL=Object.defineProperties,qL=Object.getOwnPropertyDescriptors,$c=Object.getOwnPropertySymbols,Oy=Object.prototype.hasOwnProperty,Sy=Object.prototype.propertyIsEnumerable,Ty=(n,t,r)=>t in n?XL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,e7=(n,t)=>{for(var r in t||(t={}))Oy.call(t,r)&&Ty(n,r,t[r]);if($c)for(var r of $c(t))Sy.call(t,r)&&Ty(n,r,t[r]);return n},t7=(n,t)=>QL(n,qL(t)),n7=(n,t)=>{var r={};for(var i in n)Oy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$c)for(var i of $c(n))t.indexOf(i)<0&&Sy.call(n,i)&&(r[i]=n[i]);return r};const r7=n=>{var t=n,{stroke:r="black",height:i=19,width:a=19}=t,D=n7(t,["stroke","height","width"]);return(0,e.h)(k.l,t7(e7({},D),{name:"NewsletterIcon",svgParams:{height:i,width:a,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}))};var o7=Object.defineProperty,zc=Object.getOwnPropertySymbols,Iy=Object.prototype.hasOwnProperty,xy=Object.prototype.propertyIsEnumerable,Dy=(n,t,r)=>t in n?o7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qs=(n,t)=>{for(var r in t||(t={}))Iy.call(t,r)&&Dy(n,r,t[r]);if(zc)for(var r of zc(t))xy.call(t,r)&&Dy(n,r,t[r]);return n},i7=(n,t)=>{var r={};for(var i in n)Iy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&zc)for(var i of zc(n))t.indexOf(i)<0&&xy.call(n,i)&&(r[i]=n[i]);return r};const a7=n=>{var t=n,{postType:r}=t,i=i7(t,["postType"]);switch(r){case"newsletter":return(0,e.h)(r7,qs({},i));case"adhoc_email":return(0,e.h)(JL,qs({},i));case"thread":return(0,e.h)(fp,qs({},i));case"podcast":return(0,e.h)(Gr,qs({},i));case"video":return(0,e.h)(oy,qs({},i));case"restack":return(0,e.h)(jc.Z,qs({},i));default:return console.warn(`Unrecognized post type: [${r}]`),null}};var s7=Object.defineProperty,My=Object.getOwnPropertySymbols,l7=Object.prototype.hasOwnProperty,u7=Object.prototype.propertyIsEnumerable,Ay=(n,t,r)=>t in n?s7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ny=(n,t)=>{for(var r in t||(t={}))l7.call(t,r)&&Ay(n,r,t[r]);if(My)for(var r of My(t))u7.call(t,r)&&Ay(n,r,t[r]);return n},c7=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Gc=500,d7={PUBLICATION:"publication",CHOOSE:"choose"},f7=({pubToRecommendBack:n,recommendingPub:t,recommendedPubs:r,setStep:i,close:a,setLoading:D,source:B})=>{const[j,U]=(0,o.eJ)(null);(0,o.d4)(()=>{var ge;j==null&&(r!=null&&r.find(({id:Se})=>Se===n.id))&&U((ge=r==null?void 0:r.find(({id:Se})=>Se===n.id))==null?void 0:ge.blurb)},[j,r,n.id]);const Y=(0,Vt.getByLine)(n);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(Yt.Z,{pub:n,logo_url:n.logo_url,size:84}),(0,e.h)("h2",null,"Recommend ",n.name),n.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},n.hero_text),(0,e.h)("p",{className:"pub-author-subs"},Y?`By ${Y}`:null,Y&&n.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,n.rankingDetail),(0,e.h)("p",{className:"why-recommend"},"Why are you recommending ",n.name,"? (optional)"),(0,e.h)("textarea",Ny({placeholder:"Share why your readers might enjoy it...",onChange:ge=>{U(ge.target.value)},value:j},kv.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},"Recommendations are shown to readers after they subscribe to your publication."," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,C.j)(C.FP.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,"Learn more"))),(0,e.h)("button",{className:u()("continue-button button primary",{disabled:((j==null?void 0:j.length)||0)>Gc}),disabled:((j==null?void 0:j.length)||0)>Gc,title:((j==null?void 0:j.length)||0)>Gc?`Please enter a description shorter than ${Gc} characters`:"",onClick:()=>c7(void 0,null,function*(){yield $t().put("/api/v1/recommendations").send(Ny({recommended_publication_id:n.id,recommending_publication_id:t.id,source:B||"recommendation_notification_email",suggested:!1},!!j&&{description:j.length>=2?j:null})),r!=null&&r.filter(({id:ge})=>ge!==n.id).length?a():i(d7.CHOOSE),D?(D(!0),a()):((0,T.redirect)("/publish/settings/recommendations"),(0,ds.ZP)(`Started recommending ${n.name}`,{timeout:1500}))})},"Continue")))};var p7=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const h7=({pub:n})=>{const[t,r]=(0,o.eJ)(!0),[i,a]=(0,o.eJ)(null),[D,B]=(0,o.eJ)(!1),j=(0,o.sO)(null),U=()=>{j.current.close()};if((0,o.d4)(()=>{!i&&t&&(()=>p7(void 0,null,function*(){try{const Se=(yield $t().get("/api/v1/publication_user/default")).body;if(a(Se),!Se||Se.id===n.id){B(!0),r(!1);return}const De=yield $t().get(`/api/v1/recommendations/from/${Se.id}/to/${n.id}`);B(!!De.body),r(!1)}catch(ge){console.error("Failed to load recommend cta: ",ge)}}))()},[n,t,r,i,a]),!(t||D||i&&i.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(Yt.Z,{pub:n,size:54,openInNewTab:!0,logo_url:n.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",n.name," to the readers of ",i.name),(0,e.h)("p",{className:"publication-hero-text"},n.hero_text),(0,e.h)(Je.Z,{className:u()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,C.j)(C.FP.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:n,recommending_pub_id:i==null?void 0:i.id}),j.current.isOpen()?j.current.close():j.current.open()}},"Recommend")),(0,e.h)(m7,{pubToRecommend:n,recommendingPub:i,setLoading:r,setStep:U,ref:j}))};class m7 extends $e.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)(f7,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:t=>{this.props.setLoading(t),(0,ds.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var _7=wt(86804),Ry=wt(92630),g7=Object.defineProperty,v7=Object.defineProperties,y7=Object.getOwnPropertyDescriptors,Ly=Object.getOwnPropertySymbols,b7=Object.prototype.hasOwnProperty,P7=Object.prototype.propertyIsEnumerable,By=(n,t,r)=>t in n?g7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,E7=(n,t)=>{for(var r in t||(t={}))b7.call(t,r)&&By(n,r,t[r]);if(Ly)for(var r of Ly(t))P7.call(t,r)&&By(n,r,t[r]);return n},w7=(n,t)=>v7(n,y7(t));const C7=n=>(0,e.h)(k.l,w7(E7({},n),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"}}),(0,e.h)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})),el={outlineWrapper:"frontend-components-FoundingPlanPriceInput-module__outlineWrapper--vbdll",outlineWrapperWithWarning:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperWithWarning--OeRIn",warningContainer:"frontend-components-FoundingPlanPriceInput-module__warningContainer--RO2Fw",outlineWrapperSelected:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperSelected--xUFzY",amountInput:"frontend-components-FoundingPlanPriceInput-module__amountInput--F5mTT",amountInputDeselected:"frontend-components-FoundingPlanPriceInput-module__amountInputDeselected--BClJR"},Q$=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:a,disableInput:D=!1,onChangeAmount:B})=>{const j=useRef(null),U=useCallback(Fe=>{B(Fe.toString().replace(/[^\d.]/g,""))},[B]),[Y,ge]=useState(!1);useEffect(()=>{t&&(j.current.focus(),j.current.select())},[j,t]),useEffect(()=>{ge(i.metadata.minimum&&(isZeroDecimalCurrency(i.currency)?n:n*100)<=i.metadata.minimum&&t)},[n]);const{iString:Se}=useI18N(),De=centsToPriceString(100,i.currency).replace(/\d/g,"");return h(FlexColumn,{className:"fancy-founding-input"},h(FlexRow,{className:"outer-price-select",alignItems:"center"},h("div",{className:"unified-input"},h(FlexBox,{className:"currency-symbol",justifyContent:"center",alignItems:"center"},h(Text,{size:14,color:"secondary"},De)),h("input",{disabled:D,ref:j,id:"",type:"text","aria-label":"",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:Fe=>{Fe.key==="ArrowUp"?(U(Number(n||i.amount/100)+5),setTimeout(()=>{j.current.selectionStart=j.current.selectionEnd=j.current.value.length},0)):Fe.key==="ArrowDown"&&(!n||n>=5)&&(U(Number(n||i.amount/100)-5),setTimeout(()=>{j.current.selectionStart=j.current.selectionEnd=j.current.value.length},0))},onInput:Fe=>{const qe=Fe.target;U(qe.value)}})),h(Text,{className:"year-label",size:14,lineHeight:20,color:"secondary"},"/ ",Se("year"))),Y&&h(Text,{translated:!0,size:14,lineHeight:20,color:"error",weight:"bold",className:"founding-error"},"Must be greater than"," ",I18N.p(De+(isZeroDecimalCurrency(i.currency)?i.metadata.minimum:i.metadata.minimum/100))))},O7=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:a,showDuration:D=!0,disableInput:B=!1,onChangeAmount:j})=>{const U=(0,o.sO)(null),Y=(0,o.I4)(De=>{j(De.toString().replace(/[^\d.]/g,""))},[j]),ge=i.metadata.minimum&&((0,Vt.isZeroDecimalCurrency)(i.currency)?n:n*100)<i.metadata.minimum&&t;(0,o.bt)(()=>{U.current&&(U.current.style.width="1px",U.current.style.width=`${U.current.scrollWidth}px`,U.current.scrollLeft=0)},[n,U]),(0,o.d4)(()=>{t&&(U.current.focus(),U.current.select())},[U,t]);const{iTemplate:Se}=(0,P.M1)();return(0,e.h)("span",{className:u()(el.outlineWrapper,{[el.outlineWrapperSelected]:r&&t,[el.outlineWrapperWithWarning]:ge})},(0,Vt.centsToPriceString)(100,i.currency).replace("1",""),(0,e.h)("input",{disabled:B,ref:U,className:u()(el.amountInput,{[el.amountInputDeselected]:!t}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:De=>{De.key==="ArrowUp"?(Y(Number(n||i.amount/100)+5),setTimeout(()=>{U.current.selectionStart=U.current.selectionEnd=U.current.value.length},0)):De.key==="ArrowDown"&&(!n||n>=5)&&(Y(Number(n||i.amount/100)-5),setTimeout(()=>{U.current.selectionStart=U.current.selectionEnd=U.current.value.length},0))},onInput:De=>{const Fe=De.target;Y(Fe.value)}}),(0,e.h)("input",{name:"amount",type:"hidden",value:typeof n=="string"?(Number(n)||0)*100:i.amount}),D&&i.interval!=="forever"&&(a?Se` per ${i.interval}`:`/${i.interval}`),ge&&(0,e.h)("div",{className:el.warningContainer},(0,e.h)(Ry.u,{text:Se`Amount must be greater than ${(0,Vt.centsToPriceString)(i.metadata.minimum,i.currency)}`,dangerouslySetTooltipZIndex:12},(0,e.h)(C7,{stroke:"white",height:20,fill:"red",strokeWidth:1}))))};var S7=Object.defineProperty,ky=Object.getOwnPropertySymbols,T7=Object.prototype.hasOwnProperty,I7=Object.prototype.propertyIsEnumerable,Uy=(n,t,r)=>t in n?S7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,x7=(n,t)=>{for(var r in t||(t={}))T7.call(t,r)&&Uy(n,r,t[r]);if(ky)for(var r of ky(t))I7.call(t,r)&&Uy(n,r,t[r]);return n};const D7=n=>(0,e.h)(k.l,x7({name:"CheckmarkBrokenCircleIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M14.6667 7.38656V7.99989C14.6659 9.4375 14.2004 10.8363 13.3396 11.9878C12.4788 13.1392 11.2689 13.9815 9.89028 14.3892C8.51166 14.7968 7.03821 14.7478 5.68969 14.2496C4.34116 13.7514 3.18981 12.8306 2.40735 11.6246C1.62488 10.4186 1.25323 8.99193 1.34783 7.55743C1.44242 6.12293 1.99818 4.75744 2.93223 3.6646C3.86628 2.57177 5.12856 1.81014 6.53083 1.49332C7.9331 1.1765 9.40022 1.32145 10.7134 1.90656","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M14.6667 2.66669L8 9.34002L6 7.34002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var M7=Object.defineProperty,Fy=Object.getOwnPropertySymbols,A7=Object.prototype.hasOwnProperty,N7=Object.prototype.propertyIsEnumerable,jy=(n,t,r)=>t in n?M7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,R7=(n,t)=>{for(var r in t||(t={}))A7.call(t,r)&&jy(n,r,t[r]);if(Fy)for(var r of Fy(t))N7.call(t,r)&&jy(n,r,t[r]);return n};const L7=n=>(0,e.h)(k.l,R7({name:"CircleCrossIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M8.00004 14.6666C11.6819 14.6666 14.6667 11.6819 14.6667 7.99998C14.6667 4.31808 11.6819 1.33331 8.00004 1.33331C4.31814 1.33331 1.33337 4.31808 1.33337 7.99998C1.33337 11.6819 4.31814 14.6666 8.00004 14.6666Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M10 6L6 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M6 6L10 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var B7=Object.defineProperty,k7=Object.defineProperties,U7=Object.getOwnPropertyDescriptors,Wy=Object.getOwnPropertySymbols,F7=Object.prototype.hasOwnProperty,j7=Object.prototype.propertyIsEnumerable,Hy=(n,t,r)=>t in n?B7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,W7=(n,t)=>{for(var r in t||(t={}))F7.call(t,r)&&Hy(n,r,t[r]);if(Wy)for(var r of Wy(t))j7.call(t,r)&&Hy(n,r,t[r]);return n},H7=(n,t)=>k7(n,U7(t));const Vy=n=>(0,e.h)(k.l,H7(W7({},n),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:n.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));var V7=wt(49619);const Ky=n=>{try{return n!=null&&n.text?JSON.parse(n==null?void 0:n.text).error:"Something went wrong"}catch(t){return"Something went wrong"}},gp=n=>{var t;return((t=n==null?void 0:n.metadata)==null?void 0:t.founding)==="yes"||(n==null?void 0:n.id.includes("founding"))},ai={container:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__container--h0NUk",closeModal:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__closeModal--BTBok",subscribeButton:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__subscribeButton--YUyLO",radio:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__radio--HWCWT",circle:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__circle--BzRf4",selectedPlan:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__selectedPlan--TDQaA",planRow:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planRow--JyRia",publicationIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__publicationIcon--Vw7_m",benefitIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__benefitIcon--_cHY4",planOptions:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planOptions--poLpI",fancyStripe:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fancyStripe--iBwGQ",cardOnFileIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__cardOnFileIcon--qZGEa",tos_text:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__tos_text--WQNU8",fullWidth:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fullWidth--dXsZT",inputWrapper:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__inputWrapper--eN00v",spacing:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__spacing--j9imu",clickable:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__clickable--RWWu0"};var K7=Object.defineProperty,$7=Object.defineProperties,z7=Object.getOwnPropertyDescriptors,$y=Object.getOwnPropertySymbols,G7=Object.prototype.hasOwnProperty,Z7=Object.prototype.propertyIsEnumerable,zy=(n,t,r)=>t in n?K7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,nu=(n,t)=>{for(var r in t||(t={}))G7.call(t,r)&&zy(n,r,t[r]);if($y)for(var r of $y(t))Z7.call(t,r)&&zy(n,r,t[r]);return n},Zc=(n,t)=>$7(n,z7(t)),Yc=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Gy=({selected:n})=>(0,e.h)("span",{className:u()(ai.circle,n&&ai.selectedPlan)}),Y7=({pub:n,includeHeaderCloseButton:t,close:r})=>{const i=n.logo_url||n.author_photo_url,a=()=>{(0,T.redirect)((0,p.pathWithQuery)((0,oe.getBaseUrl)(n),{utm_source:"suggest",utm_campaign:n.id}),{newTab:!0})};return(0,e.h)(je.tu,{justifyContent:"center",alignItems:"center",gap:16},t&&(0,e.h)(Hs.Z,{className:ai.closeModal,onClick:r}),(0,e.h)("img",{src:(0,oe.imginary)(i,40*2,{height:40*2,smartCrop:!0}),className:ai.publicationIcon,onClick:a}),(0,e.h)("div",{onClick:a,className:ai.clickable},(0,e.h)(x.xv,{as:"h3",size:20,font:"text",lineHeight:24,color:"pub-primary-text",align:"center"},"Choose a plan for ",n.name||n.author_name)))},J7=({plan:n,selected:t,currentPrice:r,foundingOnChange:i,setSelected:a})=>{const{language:D}=(0,P.M1)();return(0,e.h)(je.gq,{as:"label",alignItems:"center",gap:8,className:ai.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:a,className:ai.radio}),(0,e.h)(Gy,{selected:t}),(0,e.h)(x.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},(0,Vt.getPlanTitle)(n,D)),(0,e.h)("span",null,(0,e.h)(x.xv,{as:"span",weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20,className:u()(ai.inputWrapper,{[ai.spacing]:t})},(0,e.h)(O7,{amount:r!=null?r:0,disableInput:!t,isSelected:t,outlineOnSelect:!0,plan:n,showDuration:!1,onChangeAmount:i}),(0,e.h)(x.xv,{translated:!0},"per year"))))},Zy=({plan:n,selected:t,isFreePlan:r,setSelected:i})=>{const{language:a,iString:D}=(0,P.M1)(),B=r?D("None"):(0,Vt.getPlanTitle)(n,a),j=r?"":(0,V7.t)(n);return(0,e.h)(je.gq,{as:"label",alignItems:"center",gap:8,className:ai.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:i,className:ai.radio}),(0,e.h)(Gy,{selected:t}),(0,e.h)(x.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},B),(0,e.h)(x.xv,{weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20},j))},Yy=({benefit:n,ineligible:t})=>(0,e.h)(je.gq,{alignItems:"center",justifyContent:"center",gap:8},(0,e.h)(je.gq,{className:ai.benefitIcon},t?(0,e.h)(L7,{width:16,height:16}):(0,e.h)(D7,{width:16,height:16})),(0,e.h)(x.xv,{size:14,lineHeight:20,weight:"normal",font:"text",color:"pub-secondary-text",style:{textDecoration:t?"line-through":"none",overflow:"hidden"}},n)),X7=({plans:n,selectedPlan:t,paidBenefits:r,freeBenefits:i,foundingPlanPrice:a,setSelectedPlan:D,setFoundingPlanPrice:B})=>{const j=t==="free";return(0,e.h)(je.tu,{alignItems:"start",justifyContent:"start",gap:16,className:ai.planOptions},n==null?void 0:n.map(U=>{const Y=gp(U),ge=U.id===t;return Y?(0,e.h)(J7,{plan:U,currentPrice:a,selected:ge,foundingOnChange:B,setSelected:()=>D(U.id)}):(0,e.h)(Zy,{plan:U,selected:ge,isFreePlan:!1,setSelected:()=>D(U.id)})}),(0,e.h)(Zy,{plan:null,selected:t==="free",isFreePlan:!0,setSelected:()=>D("free")}),r.map(U=>(0,e.h)(Yy,{benefit:U,ineligible:t==="free"})),j&&(i==null?void 0:i.map(U=>(0,e.h)(Yy,{benefit:U,ineligible:!1}))))},Q7=({stripeCard:n,cardLast4:t})=>(0,e.h)(je.tu,{gap:12,className:ai.fullWidth},(0,e.h)(je.tu,{className:ai.fancyStripe,alignItems:"center",justifyContent:"center"},t?(0,e.h)("div",{className:"input card-on-file"},(0,e.h)(je.gq,{paddingTop:12,paddingBottom:12,gap:12},(0,e.h)(Vy,{className:ai.cardOnFileIcon}),(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},t?`**** **** **** ${t}`:"Use card on file"))):n&&(0,e.h)(Rt.GP,{className:"input",card:n}))),q7=({pub:n})=>(0,e.h)(x.xv.B4,{color:"pub-secondary-text",align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:ai.tos_text,target:"_blank",rel:"noopener",href:(0,p.pathWithQuery)("/tos",{utm_source:"subscribe"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:ai.tos_text,target:"_blank",rel:"noopener",href:(0,p.getPrivacyUrl)({pub:n,utm_source:"subscribe"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:ai.tos_text,target:"_blank",rel:"noopener",href:(0,p.updateQuery)(`${(0,p.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"})},"our Information collection notice")),eB=({pub:n,isFreeSubscribed:t,loading:r,freePlanSelected:i,allowFreePlanReselection:a,onSuccess:D})=>{let B="Subscribe";return r?B="Subscribing...":i&&(B=t?"You're already on the free plan":"Continue without paying"),(0,e.h)(e.Fragment,null,(0,e.h)(ft.zx,{priority:"primary-theme",className:ai.subscribeButton,onClick:D,disabled:r||!a&&i&&t},B),(0,e.h)(q7,{pub:n}))},tB=({error:n})=>(0,e.h)(x.xv.B4,{align:"center",color:"error"},n),nB=({isFreeSubscribed:n,pub:t,recommendingPubId:r,user:i,cardLast4:a,stripe_publishable_key:D,email:B,includeHeaderCloseButton:j=!1,source:U,sameDomain:Y=!0,allowFreePlanReselection:ge=!0,onClose:Se,onSuccess:De,subscribe_auth_token:Fe})=>{const[qe,Ye]=(0,o.eJ)(""),[st,gt]=(0,o.eJ)({}),[yt,At]=(0,o.eJ)(!1),[Bt,xt]=(0,o.eJ)(null),[Ht,en]=(0,o.eJ)(null),[Xt,tn]=(0,o.eJ)(""),[fn,xn]=(0,o.eJ)(0),[yn,Gn]=(0,o.eJ)(!1),pn=(0,o.sO)(null),Sn={publication_id:t.id,source:U};r&&(Sn.recommending_publication_id=r,Sn.recommended_publication_id=t.id),(0,o.d4)(()=>{var gn,kn;const Gt=(0,Rt.lQ)(D,t),or=Gt&&(0,Rt.UD)(Gt);xt(Gt),en(or);const _n={};(gn=t==null?void 0:t.plans)==null||gn.forEach(fr=>{gp(fr)?xn(fr==null?void 0:fr.amount):fr.interval==="year"&&Ye(fr.id),_n[fr.id]=fr}),_n.free={id:"free"},qe||Ye((kn=t==null?void 0:t.plans[0])==null?void 0:kn.id),gt(_n),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_SEEN,nu({},Sn))},[t,i==null?void 0:i.has_saved_payment]);const ur=()=>Yc(void 0,null,function*(){return Bt?yield Bt.createToken(Ht):{token:null,error:{message:""}}}),Qn=()=>Yc(void 0,null,function*(){var gn;const kn=st[qe];let Gt;if(!a){const{token:fr,error:yr}=yield ur();if(yr)return At(!1),tn(yr&&yr.message),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_STRIPE_ERROR,{type:yr&&yr.type,code:yr&&yr.code,decline_code:yr&&yr.decline_code,reason:yr&&yr.message}),{subscription_id:null,error:yr};Gt=fr}const or={email:B,captcha_response:yn&&((gn=pn==null?void 0:pn.current)==null?void 0:gn.getResponse()),amount:gp(kn)?fn*100:kn.amount,stripe_token:Gt,plan:kn.id};return Y||(or.subscribe_to_pub_id=t.id,or.subscribe_auth_token=Fe),{subscription_id:(yield $t().post(`/api/v1/subscription?utm_source=${U!=null?U:"plan-purchase-box"}`).send(or)).body.subscription_id,error:null}}),jn=()=>Yc(void 0,null,function*(){try{return(yield $t().get("/api/v1/subscription/last4")).body.last4}catch(gn){return""}}),Kn=gn=>{xn(gn.toString().replace(/[^\d.]/g,""))},Wn=gn=>{Ye(gn)},tr=()=>Yc(void 0,null,function*(){if(qe==="free"){(0,C.j)(C.FP.PLAN_PURCHASE_BOX_SUBMITTED,Zc(nu({},Sn),{plan_id:"free"})),Se();return}At(!0);try{const{subscription_id:gn,error:kn}=yield Qn();if(kn){At(!1);return}(0,C.j)(C.FP.PLAN_PURCHASE_BOX_SUBMITTED,Zc(nu({},Sn),{plan_id:qe}));const Gt=a||(yield jn());De(Gt,gn)}catch(gn){if(gn.response)switch(gn.response.statusCode){case 400:tn(Ky(gn.response));break;case 401:Gn(!0);break;default:tn("Something went wrong. Please try again."),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_ERROR,Zc(nu({},Sn),{errorMessage:Ky(gn.response)}))}else tn("Something went wrong. Please try again."),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_ERROR,Zc(nu({},Sn),{errorMessage:gn.message}))}At(!1)}),Rn=()=>{Se()},Zn=qe==="free";return(0,e.h)(je.tu,{justifyContent:"center",alignItems:"center",gap:32,className:ai.container},(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(Y7,{pub:t,close:Rn,includeHeaderCloseButton:j}),(0,e.h)(X7,{plans:t.plans,paidBenefits:t==null?void 0:t.paid_subscription_benefits,freeBenefits:t==null?void 0:t.free_subscription_benefits,selectedPlan:qe,foundingPlanPrice:fn,setSelectedPlan:Wn,setFoundingPlanPrice:Kn}),(0,e.h)(je.tu,{justifyContent:"center",alignItems:"center",gap:0},Xt&&(0,e.h)(tB,{error:Xt}),yn&&(0,e.h)(_7.Z,{ref:pn}),!Zn&&(0,e.h)(Q7,{cardLast4:a,stripeCard:Ht}),(0,e.h)(ra.mz,{alignment:"center",includeDivider:!1,primaryButton:(0,e.h)(eB,{pub:t,loading:yt,freePlanSelected:Zn,isFreeSubscribed:n,allowFreePlanReselection:ge,onSuccess:tr})})))};var rB=wt(55886);const Oa={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var oB=Object.defineProperty,Jy=Object.getOwnPropertySymbols,iB=Object.prototype.hasOwnProperty,aB=Object.prototype.propertyIsEnumerable,Xy=(n,t,r)=>t in n?oB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qy=(n,t)=>{for(var r in t||(t={}))iB.call(t,r)&&Xy(n,r,t[r]);if(Jy)for(var r of Jy(t))aB.call(t,r)&&Xy(n,r,t[r]);return n},sB=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const lB=300,uB=({pub:n,post:t,isTest:r,stripe_publishable_key:i})=>{const[a,D]=(0,o.eJ)(!1),[B,j]=(0,o.eJ)(!1),[U,Y]=(0,o.eJ)(!1),[ge,Se]=(0,o.eJ)(""),[De,Fe]=(0,o.eJ)([]),[qe,Ye]=(0,o.eJ)(200),[st,gt]=(0,o.eJ)(0),[yt,At]=(0,o.eJ)(!1),[Bt,xt]=(0,o.eJ)(!1),Ht=(0,o.sO)(null),{exposeExperiment:en,getExperimentVariant:Xt}=(0,Zt.jc)(),tn=(0,Ni.XA)(),fn=!tn&&Xt("post_page_modal_subscription_upsell"),xn=fn&&n.payments_state==="enabled",yn=xn&&fn==="treatment",Gn=`pub-${n.id}-subscribe-prompt-next-shown-at`,pn=`pub-${n.id}-takeover-next-shown-at`,Sn=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,ur=document.getElementsByClassName("available-content"),Qn=ur.length>0?ur[0].scrollHeight:0;let jn=600;jn=Math.max(Math.min(jn,Qn-Sn),600);const Kn=()=>{var Yn;const{height:vr,width:mr}=((Yn=Ht.current)==null?void 0:Yn.getBoundingClientRect())||{height:0,width:0};Ye(typeof window!="undefined"&&window&&Ht.current?(window.innerHeight-vr)/2:200),gt(typeof window!="undefined"&&window&&Ht.current?(window.innerWidth-mr)/2:0)};Kn(),(0,o.d4)(()=>{typeof window!="undefined"&&Kn()},[yt]);const[Wn,tr]=(0,o.eJ)(Sn+Math.max(qe,jn)),[Rn,Zn]=(0,o.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[gn,kn]=(0,o.eJ)("absolute"),[Gt,or]=(0,o.eJ)(gn==="fixed"||Rn>Wn-Sn),_n=gn==="fixed"?60:Math.min(Math.max((Rn-Wn+Sn)/(Sn-qe)*60,0),60),fr=(0,o.I4)(()=>{!tn&&Rn>=Wn-lB&&j(!0)},[Rn,tn,Wn,qe,j]);(0,o.d4)(()=>{if(r)return;let Yn=!0;Qn<=1.5*Sn&&(D(!0),Yn=!1);let vr=null;if(document!=null&&document.referrer){try{vr=new URL(document.referrer)}catch(mr){}((vr==null?void 0:vr.hostname)==="news.ycombinator.com"||(vr==null?void 0:vr.hostname)==="hckrnews.com")&&(D(!0),Yn=!1)}(0,Li.mM)(Gn)>Date.now()&&D(!0),typeof window!="undefined"&&(window!=null&&window.Stripe)&&xt(!0)},[]),(0,o.d4)(()=>{Gt&&(a||((0,C.j)(C.FP.SUBSCRIBE_PROMPT_SHOWN,{post_id:t.id}),(0,Li.ex)(Gn,Mt()().add(1,"hour").valueOf()),(0,Li.ex)(pn,Mt()().add(1,"hour").valueOf())))},[Gt,a]),(0,o.d4)(()=>{B&&((0,C.j)(C.FP.SUBSCRIBE_PROMPT_DISMISSED,{post_id:t.id}),(0,Li.ex)(Gn,Mt()().add(1,"day").valueOf()),(0,Li.ex)(pn,Mt()().add(1,"hour").valueOf()))},[B]);const yr=Yn=>{window.location.href=(0,p.getPostUrl)(n,t,{urlParams:{subscribe_prompt:Yn}})},Ar=(0,o.I4)(Yn=>sB(void 0,null,function*(){var vr,mr,br,lo,Kr;if(!U){Y(!0),Fe([]),(0,C.j)(C.FP.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:t.id});try{const oo=yield $t().post("/api/v1/free").send({email:Yn,source:"post-subscribe-prompt"});xn&&en("post_page_modal_subscription_upsell"),yn?At(!0):n.payments_state!=="enabled"&&!n.has_recommendations?yr("free"):document.location.href=(0,p.getSubscribeUrl)(n,Qy(Qy({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:t&&t.id,simple:!0,just_signed_up:!0,next:(0,p.getPostUrl)(n,t),requires_confirmation:oo.body.requires_confirmation?"true":""},oo.body.subscription_id&&{subscription_id:oo.body.subscription_id}),oo.body.referral_token&&{referral_token:oo.body.referral_token}))}catch(oo){(mr=(vr=oo==null?void 0:oo.response)==null?void 0:vr.body)!=null&&mr.error&&typeof oo.response.body.error=="string"?Fe([oo.response.body.error]):(lo=(br=oo==null?void 0:oo.response)==null?void 0:br.body)!=null&&lo.errors&&Array.isArray(oo.response.body.errors)&&oo.response.body.errors.length>0&&typeof((Kr=oo.response.body.errors[0])==null?void 0:Kr.msg)=="string"&&Fe(oo.response.body.errors.map(Wi=>Wi.msg))}finally{Y(!1)}}}),[t,n,U,Y]);return(0,o.d4)(()=>{if(a||B)return;const Yn=()=>{const vr=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),mr=vr-Rn;mr>0&&gn==="absolute"&&vr>Wn-qe&&kn("fixed"),mr<0&&gn==="fixed"&&(kn("absolute"),tr(Rn+qe)),mr<0&&gn==="absolute"&&vr<Wn-Sn&&tr(Sn+Math.max(qe,jn,Rn)),Zn(vr),(gn==="fixed"||mr>0&&vr>Wn-Sn)&&or(!0)};return window.addEventListener("scroll",Yn),window.addEventListener("resize",Yn),()=>{window.removeEventListener("scroll",Yn),window.removeEventListener("resize",Yn)}},[gn,Wn,tr,Rn,Zn,or]),(0,o.d4)(()=>{if(a||B)return;const Yn=vr=>{vr.key==="Escape"&&j(!0)};return window.addEventListener("keydown",Yn),()=>{window.removeEventListener("keydown",Yn)}},[a,B,j]),a||B?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,!Bt&&yn&&(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(je.tu,{ref:Ht,className:Oa.subscribeDialog,style:{top:gn==="absolute"?`${Wn}px`:`${qe}px`,left:`${st}px`,position:gn},alignItems:"center"},yt?(0,e.h)(nB,{email:ge,pub:n,stripe_publishable_key:i,isFreeSubscribed:!0,includeHeaderCloseButton:!0,allowFreePlanReselection:!0,onClose:()=>yr("free"),onSuccess:()=>yr("paid"),source:"subscribe-prompt"}):(0,e.h)(e.Fragment,null,(0,e.h)(je.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:Oa.pictureBox},(0,e.h)(Ks.qE,{user:{photo_url:n.author_photo_url},size:64,className:Oa.authorIcon}),n.logo_url&&(0,e.h)(rB.t,{src:n.logo_url,size:24,className:Oa.childPublicationIcon,alt:n.name}))),(0,e.h)(x.xv.H4,{paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",n.name),(0,e.h)(x.xv.B4,{color:"pub-secondary-text",paddingBottom:n.rankingDetail?4:24,align:"center"},n.hero_text),n.rankingDetail&&(0,e.h)(x.xv.Detail,{paddingBottom:24,color:"pub-secondary-text"},n.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:Oa.form,onSubmit:Yn=>{Yn.preventDefault(),Ar(ge)}},(0,e.h)("input",{className:Oa.emailInput,placeholder:"Type your email...",value:ge,disabled:U,onChange:Yn=>{Yn.stopPropagation(),Yn.preventDefault(),Se(Yn.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},De&&De.map(Yn=>(0,e.h)("div",{className:Oa.error},Yn))),(0,e.h)(ft.zx,{type:"submit",disabled:U,grow:!0,priority:"primary-theme"},"Subscribe")),(0,e.h)(je.gq,{gap:8,alignItems:"center",justifyContent:"center",className:Oa.dismissButton,onClick:()=>j(!0)},(0,e.h)(x.xv.B4,{weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(gl.Z,null)),(0,e.h)(x.xv.B4,{align:"center",className:Oa.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,C.j)(C.FP.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:t.id}),(0,T.redirect)((0,p.getSigninUrl)({for_pub:n.subdomain,redirect:(0,p.getPostUrl)(n,t)}))},style:{cursor:"pointer"}},"Sign in")," ")," ")),_n>0&&(0,e.h)("div",{className:Oa.background,onClick:fr,style:{opacity:`${_n}%`}}))};function cB({postId:n,onClose:t}){return(0,o.d4)(()=>{(0,C.j)(C.FP.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:n})},[]),(0,e.h)(ra.u_,{isOpen:!0,onClose:t},(0,e.h)(ra.xB,{includeClose:!0,onClose:t}),(0,e.h)(ra.fe,null,(0,e.h)(je.tu,{alignItems:"center",gap:24},(0,e.h)(je.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(ra.r6,null,"Listen to this post"),(0,e.h)(x.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(dB,null))),(0,e.h)(ra.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(ua.z,{variant:"primary",href:(0,p.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>(0,C.j)(C.FP.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:n})},"Get the app")}))}function dB(){const n="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${n}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${n}/1x.png`,srcset:Array.from(fB(1,4)).map(t=>`${n}/${t}x.png ${t}x`).join(", ")}))}function*fB(n,t){for(let r=n;r<t;r++)yield r}var pB=Object.defineProperty,hB=Object.defineProperties,mB=Object.getOwnPropertyDescriptors,qy=Object.getOwnPropertySymbols,_B=Object.prototype.hasOwnProperty,gB=Object.prototype.propertyIsEnumerable,vp=(n,t,r)=>t in n?pB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ru=(n,t)=>{for(var r in t||(t={}))_B.call(t,r)&&vp(n,r,t[r]);if(qy)for(var r of qy(t))gB.call(t,r)&&vp(n,r,t[r]);return n},Jc=(n,t)=>hB(n,mB(t)),pa=(n,t,r)=>(vp(n,typeof t!="symbol"?t+"":t,r),r),yp=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const bp="focus-comment-input",vB=["details","comments"],yB=(n,t)=>n&&!n.invite_only&&t&&t.has_publication&&!t.is_admin&&!t.is_contributor&&!t.is_public_admin&&(0,vv.P)(t,n),bB=(n,t,r,i)=>n.payments_state==="enabled"?!(t!=null&&t.is_subscribed):t!=null&&t.is_free_subscribed&&n.payments_state==="disabled"&&!n.invite_only?!i&&r&&!(t!=null&&t.is_pledged):!(t!=null&&t.is_free_subscribed);class Pp extends e.Component{constructor(t,r){var i,a;super(t,r),pa(this,"onTopReached",U=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,C.jJ)({post:this.props.post,hasPaywall:U,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))}),pa(this,"onTranscriptionClick",()=>{this.setState(U=>({showTranscription:!U.showTranscription}))}),pa(this,"onCommentButtonClicked",U=>{if(this.props.post.type==="podcast"){U.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var Y;(Y=this.podcastCommentInput.current)==null||Y.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(U.stopPropagation(),U.preventDefault(),document.dispatchEvent(new CustomEvent(bp)))}),pa(this,"handleClickTab",U=>{this.setState({activeTab:U}),U==="comments"&&!this.state.podcastComments&&this.loadComments()}),pa(this,"handleAddPodcastComment",U=>{this.setState({podcastComments:[U].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),pa(this,"handleUpdatePodcastComments",U=>{let Y=0;const ge=(De,Fe)=>De.map(qe=>qe.id===Fe.id?(Fe.status==="deleted"?Y-=1:Y+=Fe.children.length-qe.children.length,Fe):Jc(ru({},qe),{children:ge(qe.children,Fe)})),Se=ge(this.state.podcastComments,U);this.setState({podcastComments:Se,addedPodcastComments:this.state.addedPodcastComments+Y})}),pa(this,"handleUpdateSortPodcastComments",U=>{(0,C.j)(C.FP.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:U}),this.setState({commentSort:U},()=>{this.loadComments()})});const D=(0,T.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(i=t.post.default_comment_sort)!=null?i:"best_first",activeTab:vB.includes(D)?D:"details",loadedWithHeaderLink:typeof window!="undefined"&&((a=window.location.hash)==null?void 0:a.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null},!t.paywall&&!t.post.hidden&&t.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=OB(t.post.body_html),this.state.truncated=t.truncateAt?CB(t.post.body_html,t.truncateAt,t.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,p.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,p.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=yB(t.pub,t.user);const j=(typeof window!="undefined"&&window._preloads.publicationSettings||{}).enable_post_page_conversion===!0;this.shouldShowSubscribePrompt=t.post.type==="newsletter"&&j&&!t.disableSubscribePrompt&&!t.paywall&&!t.freeSignup&&!t.user&&!D&&!t.readerIsSearchCrawler}loadReactors(){return yp(this,null,function*(){const[t,r]=yield Promise.all([$t().get(`/api/v1/post/${this.props.post.id}/reactors`),$t().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:t.body,restackers:r.body})})}componentDidMount(){return yp(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,Vt.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,C.j)(C.FP.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,C.K8)({post:this.props.post});const t=(0,p.getQueryItem)("subscribe_prompt");t&&(t==="paid"?this.props.popToast(r=>(0,e.h)(y.FN,Jc(ru({},r),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(r=>(0,e.h)(y.FN,Jc(ru({},r),{text:`Subscribed to ${this.props.pub.name}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return yp(this,null,function*(){const t={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const r=yield $t().get(`/api/v1/post/${this.props.post.id}/comments`).query(t);this.setState({podcastComments:r.body.comments})}catch(r){alert((0,T.getNetworkErrorMessage)(r))}})}triggerShare({fromEmail:t}={}){t?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(t){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,C.xG)({post:this.props.post,hasPaywall:t,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:t,user:r,pub:i,getSettingFor:a}=this.props,{canShowSubscribeFooterAfterPost:D}=this.state;return t&&D?bB(i,r,a("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const t=document.createElement("div");t.innerHTML=this.props.post.body_html;const r=this.props.pub.post_preview_limit||Vt.DEFAULT_PREVIEW_LIMIT;let i="",a=!1;for(let D=t.childNodes.length-1;D>=0;D--){const B=t.childNodes[D];if(i+=B.textContent,i.length>r){a=!0;break}}return a}render({commentsEnabled:t,user:r,pub:i,post:a,freeSignup:D,freeSignupEmail:B,reaction_token:j,invisible:U,paywall:Y,onChange:ge,hideTitle:Se,noTitleLink:De,showComments:Fe,fromPostPage:qe,freeTrialCoupon:Ye,showRestackModal:st,stripe_publishable_key:gt,crossPostInfo:yt,iString:At,iTemplate:Bt},{showTranscription:xt,activeTab:Ht,loadedWithHeaderLink:en,truncated:Xt,coupon:tn,autoPlay:fn,autoPlayVoiceOver:xn,podcastComments:yn,commentSort:Gn,addedPodcastComments:pn,reactors:Sn,restackers:ur}){var Qn,jn,Kn,Wn,tr,Rn;const Zn=(0,Ci.default)("like_posts_enabled"),gn=(0,Ci.default)("allow_podcast_transcription"),kn=(0,Ci.default)("allow_video_transcription");let Gt=null;(r&&(r.is_subscribed||r.is_free_subscribed)||D||i.podcast_feed_url||(jn=(Qn=a.section)==null?void 0:Qn.podcastSettings)!=null&&jn.podcast_feed_url)&&(Gt=(0,p.getPodcatcherSetupUrl)(i));const or=!Y||Y&&this.shouldTrackPaywallPostSeen(),_n=a.type==="video"&&(Y?wA:Nl),fr=a.type==="video"&&kn&&!Y&&((Kn=a.videoUpload)==null?void 0:Kn.transcription),yr=a.type==="podcast"&&(t||!!((Wn=a.podcastUpload)!=null&&Wn.transcription)),Ar=a.comment_count+pn,Yn=this.shouldShowUFI(),vr=nb(a),mr=Sn?Sn.length>0:!1;let br="";return a.type==="podcast"?br=a.audience==="founding"&&(0,ri.getFoundingTierName)(i)?Bt`This episode is for subscribers in the ${(0,ri.getFoundingTierName)(i)} plan`:a.audience==="founding"?Bt`This episode is for subscribers in the Founding Member plan`:Bt`This episode is for paid subscribers`:a.type==="video"?br=a.audience==="founding"&&(0,ri.getFoundingTierName)(i)?Bt`The full video is for subscribers in the ${(0,ri.getFoundingTierName)(i)} plan`:a.audience==="founding"?Bt`The full video is for subscribers in the Founding Member plan`:Bt`The full video is for paid subscribers`:a.type==="adhoc_email"?br=a.audience==="founding"&&(0,ri.getFoundingTierName)(i)?Bt`This email is for subscribers in the ${(0,ri.getFoundingTierName)(i)} plan`:a.audience==="founding"?Bt`This email is for subscribers in the Founding Member plan`:Bt`This email is for paid subscribers`:br=a.audience==="founding"&&(0,ri.getFoundingTierName)(i)?Bt`This post is for subscribers in the ${(0,ri.getFoundingTierName)(i)} plan`:a.audience==="founding"?Bt`This post is for subscribers in the Founding Member plan`:Bt`This post is for paid subscribers`,(0,e.h)("article",{className:u()(`typography ${a.type}-post post`,{"tw-p-0":a.type==="podcast"}),ref:this.containerRef},(r==null?void 0:r.is_contributor)&&(a==null?void 0:a.id)&&(a==null?void 0:a.type)==="page"&&(0,e.h)(ua.z,{variant:"themed-secondary",href:(0,oe.getEditPostUrlById)(i,a.id,a.editor_v2,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Sl.Z,{size:20})},"Edit"),(0,e.h)(SB,{post:a,user:r,onChange:ge}),(0,e.h)(Ql.ZP,{ref:this.shareDialogRef,user:r,pub:i,post:a,reaction_token:j,source:"email-share"}),this.shouldShowSubscribePrompt&&(0,e.h)(uB,{pub:i,post:a,stripe_publishable_key:gt}),a.videoUpload&&_n&&(0,e.h)(_n,{mediaUpload:a.videoUpload,pub:i,post:a,autoPlay:fn,restorePlaybackLocation:!0,reaction_token:j,ref:this.videoPlayer}),a.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(uR,{bylinesEnabled:i.bylines_enabled,commentCount:Ar,commentsEnabled:t,freeSignupEmail:B,isFreeSignup:D,isLikesEnabled:Zn,isPaywall:Y,post:a,pub:i,magicToken:j,renderEditButton:()=>(0,e.h)(pp.l,{pub:i,post:a,iconHeight:18,user:r,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:r,onChange:ge,onClickCommentButton:t?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer}),yr&&(0,e.h)(_R,{activeTab:Ht,loadedWithHeaderLink:en,commentCount:Ar,onClickTab:this.handleClickTab,transcription:(tr=a.podcastUpload)==null?void 0:tr.transcription,hideComments:!t})):(0,e.h)(e.Fragment,null,(0,e.h)(Xc,{user:r,pub:i,post:a,isOnPostPage:!0,freeSignup:D,freeSignupEmail:B,reaction_token:j,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Se,noTitleLink:De,onChange:ge,hideDate:a.type==="page",hideAudience:a.type==="page",showReactions:Zn,showComments:Fe,showLabel:!0,showUpdatedIcons:!0,fromPostPage:qe,onClickCommentButton:this.onCommentButtonClicked,reactors:Sn,showRestackModal:st,showTranscriptionButton:!!fr,onTranscriptionClick:this.onTranscriptionClick}),!U&&or&&(0,e.h)(pe.Z,{onVisible:()=>this.onTopReached(Y)}),(a.has_voiceover||!!a.voiceoverUpload)&&(0,e.h)(KI,{pub:i,post:a,mediaUploadId:a.voiceover_upload_id,duration:(Rn=a.voiceoverUpload)==null?void 0:Rn.duration,autoPlay:xn,href:a.canonical_url,isPaywalled:!a.voiceover_upload_id}),!a.voiceoverUpload&&xn&&vr&&(0,e.h)(cB,{postId:a.id,onClose:()=>{(0,C.j)(C.FP.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:a.id}),this.setState({autoPlayVoiceOver:!1})}})),yt?(0,e.h)(SR,{postType:a.type,crossPostInfo:yt}):null,(a.type!=="podcast"||Ht==="details"||!yr)&&(0,e.h)("div",{className:u()({"container container--podcast-post container--podcast-post-with-ufi":a.type==="podcast"})},(0,e.h)("div",{className:"available-content"},xt?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(xv,{post:a,pub:i,user:r,playerRef:this.videoPlayer})):(0,e.h)(Ec,{html:Xt||a.body_html,pub:i,trackSelection:!0,user:r,freeSignup:D,freeSignupEmail:B,post:a,paywall:Y,showing_behind_paywall:!!a.post_paywall_content_for_google})),a.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(Ec,{html:a.post_paywall_content_for_google,pub:i,trackSelection:!1,user:r,freeSignup:D,freeSignupEmail:B,post:a,paywall:Y})),!U&&or&&(0,e.h)(pe.Z,{onVisible:()=>this.onBottomReached(Y)}),Y&&!a.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,(0,e.h)(Kl,ru({user:r,freeSignupEmail:B,freeSignup:D,publication:i,post:a,fromPostPage:qe,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Ye:null},Object.assign({title:br,reauthenticationTitle:At("To read this, please re-authenticate.")},Y))),(0,e.h)(Py,{post:a})):Xt?(0,e.h)("p",null,(0,e.h)(Je.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",At("show full post"))):!["page"].includes(a==null?void 0:a.type)&&(0,e.h)(e.Fragment,null,Yn&&(0,e.h)(PB,{pub:i,post:a,user:r,freeSignup:D,freeSignupEmail:B}),!Yn&&this.shouldShowRecommendCta&&(0,e.h)(h7,{pub:i}),(0,Ci.default)("like_posts_enabled")&&i.community_enabled&&mr&&(0,e.h)(y.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(_y,{post:a,pub:i,user:r,reactors:Sn,secondaryFaces:ur})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(Ko.Mp,{post:a,pub:i,user:r,onChange:ge})),(0,e.h)(Py,{post:a})),a.show_guest_bios&&a.type!=="podcast"&&(0,e.h)(wB,{user:r,pub:i,post:a})),a.type==="podcast"&&Ht==="comments"&&t&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(_8,{comments:yn,expectedCommentCount:Ar,post:a,pub:i,sort:Gn,token:j,user:r,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),gn&&a.type==="podcast"&&Ht==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(xv,{post:a,pub:i,user:r,playerRef:this.podcastPlayer})))}}pa(Pp,"contextType",yi),pa(Pp,"displayName","Post");const Ep=(0,y.dd)((0,ut.us)((0,P.fz)(Pp))),PB=({pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:a,overridePledgesEnabled:D})=>{const{getSettingFor:B}=(0,ut.So)(),j=n.payments_state==="disabled"&&!n.invite_only&&(B("payment_pledges_enabled")||D),U=n.payments_state==="enabled"&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_subscribed)?"paid_upsell":j&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?"pledge_upsell":"free_upsell";(0,o.d4)(()=>{(0,C.j)(C.FP.POST_END_CTA_RENDERED,{pub_id:n.id,post_id:t.id,type:U})},[n.id,t.id,U]);const Y=(0,Vt.getByLine)(n);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(pe.Z,{onVisible:()=>{(0,C.j)(C.FP.POST_END_CTA_SEEN,{pub_id:n.id,post_id:t.id,type:U})}}),(0,e.h)("h3",null,j&&(r!=null&&r.is_free_subscribed)?"Support ":"Subscribe to ",n.name),(0,e.h)("p",{className:"end-cta-author-subs"},Y?`By ${Y}`:null,Y&&n.rankingDetail?" \xB7 ":null,n.rankingDetail),n.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},n.hero_text),j&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?(0,e.h)(ft.zx,{priority:"primary-theme",onClick:()=>{(0,C.j)(C.FP.POST_END_CTA_CLICKED,{type:"pledge"}),(0,T.redirect)((0,oe.getSubscribeUrl)(n,{params:{utm_source:"post-end-cta"}}),{local_navigation:!1})}},"Pledge your support"):(0,e.h)(ys,{pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:a,isStatic:!1,source:"post-end-cta"}))},eb=({pub:n})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${n&&n.bylines_enabled&&n.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),Xc=({allowEdit:n,allowSendEmail:t,allowTruncate:r,base_url:i,children:a,className:D,hideAudience:B,hideDate:j,hideTitle:U,hidePinning:Y,noTitleLink:ge,isStatic:Se,isFreePreview:De,is_draft:Fe,onChange:qe,post:Ye,pub:st,reaction_token:gt,showComments:yt,showDatetime:At,showEmailSent:Bt,showReactions:xt,showShare:Ht,showAppUpsell:en,showSubtitle:Xt,showPhoto:tn,showLabel:fn,showRestack:xn,showCommentRestack:yn,hideAuthor:Gn,user:pn,utm_source:Sn,showUpdatedIcons:ur,fromPostPage:Qn,onClickCommentButton:jn,reactors:Kn,inThreadHead:Wn,publishedPost:tr,compEndsSoon:Rn,compEndedRecently:Zn,siteConfigValues:gn={},eligibleForTTS:kn,showRestackModal:Gt,showIcon:or,isOnPostPage:_n,showTranscriptionButton:fr,onTranscriptionClick:yr})=>{const Ar=(0,M.isMobile)({checkFirst4:!0}),Yn=typeof r=="number"?r:45,vr=Ye.title&&Ye.title.length>Yn,mr=Fe?Ye.draft_title:Ye.title,br=[(or||Ye.type==="thread")&&(0,e.h)(a7,{postType:Ye.type,isStatic:Se,height:15,className:Ye.type}),vr&&r?(0,Vt.truncateWords)(mr,Yn):mr],lo=Fe?Ye.draft_subtitle:Ye.subtitle;Ye.section_id&&st.sections&&st.sections.length&&(Ye.section=st.sections.find(Jr=>Jr.id===Ye.section_id));const Kr=!["page"].includes(Ye==null?void 0:Ye.type),oo=Kr&&Se&&Rn&&(gn==null?void 0:gn.continue_support_cta_in_newsletter_emails),Wi=nb(Ye)||kn||Ye.voiceoverUpload,Uo=(Ye==null?void 0:Ye.type)==="adhoc_email",Hi=Kr&&Se&&!Uo;let Qi;Ye.post_url_override?Qi=Ye.post_url_override:Se?Qi=Ei.Substitutions.POST_TITLE_URL:Qi=`${(0,oe.getPostUrl)(st,Ye)}${Sn?`?utm_source=${Sn}`:""}`;const Oi=`${st.base_url+(Ye.section?(0,oe.getSectionUrl)(st,{section:Ye.section}):"")}/?utm_source=substack&utm_medium=menu`;return(0,e.h)("div",{className:u()("post-header",D)},fn&&(st.parent_publication||Ye.section)&&(0,e.h)(y.hs,{className:"post-label"},(0,e.h)(y.xv.Meta,{as:"a",size:14,href:Oi},st.parent_publication?st.name:Ye.section.name)),oo&&(0,e.h)(vR,{post:Ye,compAlreadyExpired:Zn}),!U&&(0,e.h)("h1",{className:u()("post-title",Ye.is_published?"published":Ye.type==="restack"?"email-only-cross-post":Ye.type==="adhoc_email"?"adhoc":"unpublished")},ge?br:(0,e.h)("a",{href:Qi},br)),Xt&&lo&&(0,e.h)("h3",{className:"subtitle"},lo),_n&&!Se?(0,e.h)(y.tu,{paddingBottom:16},(0,e.h)(y.tu,{paddingY:16},(0,e.h)(TB,{post:Ye,pub:st})),Ar?Qn&&(0,e.h)(Ko.mt,{post:Ye,pub:st,user:pn,isStatic:Se,postReactionToken:gt,onChange:qe,allowEdit:n,hidePinning:Y,showEmailSent:Bt,allowSendEmail:t,hideComments:!yt,onCommentsClick:jn,showRestackModal:Gt}):(0,e.h)(Ko.Mp,{post:Ye,pub:st,user:pn,onChange:qe,showRestackModal:Gt,showTranscriptionButton:fr,onTranscriptionClick:yr})):(0,e.h)(e.Fragment,null,Kr&&!Se&&!tr&&!Wn?(0,e.h)(R1,{className:"meta-subheader",pub:st,post:Ye,user:pn,showDate:!j,showDatetime:At,isStatic:Se,postReactionToken:gt,onChange:qe,allowEdit:n,hidePinning:Y,showEmailSent:Bt,allowSendEmail:t,allowMobileFooter:Qn,reactors:Kn,onCommentsClick:jn,showRestackModal:Gt}):Kr&&!Se&&tr?(0,e.h)(Ko._2,{post:Ye,pub:st,user:pn,style:"compressed",labelStyle:"counts-or-none",postReactionToken:gt,showEmailSent:Bt,hideShare:!Ht||Ye.type==="restack",hideComments:Ye.type==="restack",hideSavePost:Ye.type==="restack",hideReactions:Ye.type==="restack",showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,preambleConfig:{showAudience:!B,showDate:!j,showDatetime:At,showAuthor:!Gn},position:"publisher-post-list"}):Wn&&!Se?(0,e.h)(Ko._2,{post:Ye,pub:st,user:pn,style:"compressed",labelStyle:"counts-or-none",postReactionToken:gt,hideSavePost:!0,showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,onChange:qe,preambleConfig:{showAudience:!B,showDate:!j,showDatetime:At,showAuthor:!Gn},position:"publisher-post-list"}):Kr?(0,e.h)(wL,{user:pn,pub:st,post:Ye,showDate:!j,showDatetime:At,showEmailSent:Bt,showAudience:!B,showReactions:!Hi&&xt,showComments:!Hi&&yt,showShare:!Hi&&Ht,showRestack:!Hi&&xn,reaction_token:gt,onChange:qe,isStatic:Se,isFreePreview:De,sharedShareDialog:!0,base_url:i,allowSendEmail:t,allowEdit:n,showAuthor:!Gn,showPhoto:tn,hidePinning:Y,showUpdatedIcons:ur,inThreadHead:Wn,fromPostPage:Qn,onClickCommentButton:jn,reactors:Kn}):(0,e.h)("div",{className:"spacer",style:{height:24}}),Kr&&Hi&&(0,e.h)(Ko.yT,{customization:{showShare:Ht,showComments:yt,showReactions:xt,showListen:!xn&&!De&&Wi,showSave:!xn,showRestack:xn,showCommentRestack:yn,showAppUpsell:en}}),Uo&&(0,e.h)("div",{className:"email-ufi-2-empty"})),a)};class tb extends e.Component{constructor(){super(...arguments),pa(this,"onClick",t=>{const r=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&(0,T.redirect)(r,{event:t})}),pa(this,"getLink",()=>{var t;return this.props.linkToComments?(0,oe.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((t=this.props.post)==null?void 0:t.type)==="video"?(0,p.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?(0,oe.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let t=this.props.maxTitleLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=140),t}getMaxDescriptionLength(){let t=this.props.maxDescriptionLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=152),t}render({className:t,post:r,pub:i,user:a,showDate:D,hideShare:B,authorInMeta:j,imageAssetSize:U,imageAspectRatio:Y,onChange:ge,linkToComments:Se,showPublicationName:De,isBigPost:Fe,showPins:qe,hideDescription:Ye,hideAuthor:st,isBelowTheFold:gt}){const yt=this.getLink(),At=typeof window=="undefined"||(0,Ci.default)("like_posts_enabled"),Bt=!st&&!j&&(i==null?void 0:i.bylines_enabled)&&(0,Vt.getPrintedByline)(i,r),xt=this.props.showCoverImage&&((0,sr.getCoverImageUrl)(r)||!this.props.coverImageOptional);!U&&!Y&&(Y=1.32);const Ht=U||336,en=(0,Vt.getBylineUsers)(r);return(0,e.h)("div",{className:u()("post-preview",t,{"has-image":xt,"has-author-line":!j}),onClick:this.onClick},(0,e.h)(y.tu,{className:"post-preview-container"},xt&&r.type==="restack"&&(0,e.h)(y.hs,{className:"post-preview-restack",alignItems:"center",gap:4,paddingBottom:8},(0,e.h)(jc.Z,{height:Fe?26:16,className:"restack"}),(0,e.h)(y.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)(y.hs,{className:"post-preview-content-container",gap:4},xt&&(0,e.h)(Es,{className:"post-preview-image",imageAspectRatio:Y,post:r,imageWidth:Ht,isBelowTheFold:gt}),(0,e.h)("div",{className:"post-preview-content"},(i==null?void 0:i.parent_publication)&&Fe&&(0,e.h)(y.hs,{className:"post-label"},(0,e.h)(y.xv.Meta,{as:"a",size:14,href:`${i.base_url}/?utm_source=substack&utm_medium=menu`},i.name)),!xt&&r.type==="restack"&&(0,e.h)(y.hs,{className:"post-preview-restack",alignItems:"center",gap:4},(0,e.h)(jc.Z,{height:Fe?26:16,className:"restack"}),(0,e.h)(y.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)("a",{href:yt,className:`post-preview-title ${r.type}`},r.type==="thread"&&(0,e.h)(fp,{height:Fe?26:17,className:"thread"}),r.type==="podcast"&&(0,e.h)(Gr,{height:Fe?26:17,className:"podcast"}),r.type==="video"&&(0,e.h)(oy,{height:Fe?26:19,width:Fe?26:19,className:"video"}),Se&&r.type!=="thread"&&"Comments on: ",(0,Vt.truncateWords)(r.title,this.getMaxTitleLength())),!Ye&&(0,e.h)("a",{href:yt,className:"post-preview-description"},wi()((0,Vt.truncateWords)(r.description,this.getMaxDescriptionLength()))),Bt&&(0,e.h)("div",{className:"post-preview-author"},en.length>0?(0,Vt.oxfordComma)(en.map(Xt=>(0,e.h)(ca.Ct,{subject:Xt,utmSource:"byline"},(0,e.h)("a",{href:(0,p.getProfileUrl)(Xt,i),onClick:tn=>tn.stopPropagation()},Xt.name)))):(0,Vt.getPrintedByline)(i,r)),i&&(0,e.h)(Ko._2,{pub:i,post:r,user:a,hideShare:r.type==="restack"||B,hideReactions:r.type==="restack"||!At,hideComments:r.type==="restack"||!(0,Vt.showCommentsOnPost)({publication:i,post:r}),hideSavePost:r.type==="restack",showRestackButton:r.type!=="restack",hideFeedRestackButton:r.type==="restack",allowEdit:r.type!=="restack",editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:ge,showPreamble:!0,preambleConfig:{showPins:qe,showAudience:!0,showDate:D,showAuthor:r.type!=="restack"&&!st&&!Bt&&j,showPublicationName:De,showCrossPostedPublicationName:!0},position:"post-list"})))))}}pa(tb,"contextType",Et.QA);const EB=({className:n,pub:t})=>(0,e.h)("div",{className:`post-preview-silhouette has-image ${n||""}`},(0,e.h)("div",{className:"post-preview-silhouette-image"}),(0,e.h)("div",{className:"post-preview-silhouette-content"},(0,e.h)("div",{className:"post-preview-silhouette-title"}),(0,e.h)("div",{className:"post-preview-silhouette-description"}),t&&t.bylines_enabled&&(0,e.h)("div",{className:"post-preview-silhouette-author"}),(0,e.h)("div",{className:"post-preview-silhouette-meta"}))),wB=({user:n,pub:t,post:r})=>{const{iString:i,iTemplate:a}=(0,P.M1)(),D=(0,Vt.getBylineUsers)(r).filter(B=>B.is_guest);return D.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),D.map(B=>{const j=(0,Vt.guessFirstName)(B.name);let U=B.primaryPublicationSubscribeUrl;U&&(n!=null&&n.email)&&(U=(0,p.updateQuery)(U,{email:n.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const Y=(0,p.updateQuery)((0,oe.getReaderProfileUrl)(B),{utm_campaign:"guest_post_bio",utm_medium:"web"}),ge=ep.ZP.hasCustomProfilePhoto(B);return(0,e.h)("div",{className:u()("post-contributor-bio",{"post-contributor-bio-no-text":!B.bio}),"data-user-id":B.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},ge&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(ca.Ct,{subject:B,utmSource:"byline"},(0,e.h)(ep.ZP,{size:52,user:n,pub:t,subject:B}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},B.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},i("A guest post by")),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!B.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},i("A guest post by")),(0,e.h)(y.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(ca.Ct,{subject:B,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:Y,native:!0},B.name)),(0,e.h)(co.s,{size:"sm",tier:B.bestseller_tier,userId:B.id})),B.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},B.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},U&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:U,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},a`Subscribe to ${j}`)))))))))))}))};class nz extends null{render({renderPost:t,posts:r,hideFirstHeading:i,className:a,top:D,children:B}){return r=r.slice(0).sort((j,U)=>dayjs(U.post_date)-dayjs(j.post_date)),h("div",{className:`calendared-post-list ${a||""}`},D,flat(this.renderByHeading(r,"year",(j,U)=>[!U.isSameNow("year")&&h("h2",{date:U},U.year()),this.renderByHeading(j,"month",(Y,ge)=>[!(ge.isSameNow("year")&&ge.isSameNow("month"))&&h("h3",{date:U},get_month_name(ge)," ",!ge.isSameNow("year")&&ge.year()),Y.map(Se=>t(Se,r.indexOf(Se),r))])]),1/0).filter(j=>j).filter((j,U,Y)=>!i||U>=Y.findIndex(ge=>!ge.props||!ge.props.date)),B)}renderByHeading(t,r,i){return Array.from(group_by(t,a=>dayjs(a.post_date)[r]())).sort((a,D)=>D[0]-a[0]).map(([,a])=>i(a,dayjs(a[0].post_date)))}}function CB(n,t=1e4,r=t){if(typeof window=="undefined")return null;const i=document.createElement("div");if(i.innerHTML=n,i.textContent.length<t||i.childNodes.length<=1)return null;do i.removeChild(i.lastChild);while(i.childNodes.length>1&&i.textContent.length>r);return i.innerHTML}function OB(n,t=500){if(typeof window=="undefined")return!1;const r=document.createElement("div");r.innerHTML=n;let i="",a=!1;for(let D=r.childNodes.length-1;D>=0;D--){const B=r.childNodes[D];if((0,T.hasClass)(B,"button-wrapper")||(0,T.hasClass)(B,"subscription-widget-wrap")){a=!0;break}if(i+=B.textContent,i.length>t)break}return!a}function SB({post:n,user:t,onChange:r}){const{onSave:i}=(0,Ko.vk)({post:n,isSaved:!1});return(0,o.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,p.updateQuery)({action:null})),t)){const D=i();r({post:Jc(ru({},n),{is_saved:D})})}},[]),null}function nb(n){var t;return(t=n.audio_items)==null?void 0:t.some(r=>r.type==="tts")}function TB({post:n,pub:t,relativeLinks:r}){const{publishedBylines:i=[]}=n,a=t.bylines_enabled&&(0,Vt.getPrintedByline)(t,n)&&n.type!=="podcast",D=a&&t.byline_images_enabled&&i.some(({photo_url:ge})=>!!ge),B=n.type!=="page",{iString:j,language:U}=(0,P.M1)(),Y=new Intl.DateTimeFormat(U==="en"?void 0:U,{dateStyle:"medium"});return(0,e.h)(y.hs,{justifyContent:"start",gap:12,alignItems:"center"},D&&(0,e.h)(y.hs,null,(0,e.h)($l.ZP,{faces:i,hoverProfiles:!0,maximum:4,showBlanks:!0,relativeLinks:r})),(0,e.h)(y.tu,null,a&&(0,e.h)(y.xv.Meta,{color:"pub-primary-text"},(0,e.h)(yf.M,{array:i,formatter:ge=>(0,e.h)(ca.Ct,{subject:ge,utmSource:"byline"},(0,e.h)(y.xv,{as:"a",href:(0,oe.getReaderProfileUrl)(ge),decoration:"hover-underline"},ge.name)),limit:4})),(0,e.h)(y.hs,{gap:4},(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},Y.format(Mt()(n.post_date).toDate())),B&&(0,sr.isPaidAudience)(n.audience)&&(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},"\u2219 ",j("Paid")))))}var IB=Object.defineProperty,rb=Object.getOwnPropertySymbols,xB=Object.prototype.hasOwnProperty,DB=Object.prototype.propertyIsEnumerable,wp=(n,t,r)=>t in n?IB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Cp=(n,t)=>{for(var r in t||(t={}))xB.call(t,r)&&wp(n,r,t[r]);if(rb)for(var r of rb(t))DB.call(t,r)&&wp(n,r,t[r]);return n},Cs=(n,t,r)=>(wp(n,typeof t!="symbol"?t+"":t,r),r),MB=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});class AB extends e.Component{constructor(t,r){if(super(t,r),Cs(this,"onTabClick",i=>a=>{a.preventDefault(),this.loadTab(i)}),Cs(this,"onSearchInput",i=>{this.state.tab.id==="search"&&this.loadTab("search",i.target.value||"")}),Cs(this,"onSearchKeyDown",i=>{this.state.tab.id==="search"&&i.key==="Escape"&&(i.target.blur(),this.loadTab(this.state.tabs[0].id))}),Cs(this,"onPostClicked",(i,a,D,B)=>{(0,C.j)(C.FP.ARCHIVE_PAGE_POST_CLICKED,{post_id:a,tab:this.state.tab.id,rank_in_feed:D,source:B!=null?B:this.props.source})}),Cs(this,"onSearchBlur",i=>{this.state.tab.id==="search"&&!i.target.value&&this.loadTab(this.state.tabs[0].id,"")}),Cs(this,"loadTab",(i,a)=>MB(this,null,function*(){const D=this.state.tabs.find(ge=>ge.id===i);let B=!1;if(D.id==="search"&&typeof a=="string"&&D.query!==a&&(B=!0,D.query=a,D.posts=null,D.fullyLoaded=!1,D.loading=!1,D.loadingError=null),D.id!==this.state.tab.id?(this.setState({tab:D},()=>{D.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({sort:D.id,search:D.query||null}))):B&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({search:D.query||null})),D.loading||D.fullyLoaded)return;if(D.id==="search"&&!D.query){D.posts=[],D.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const j=(0,Vt.randomString)();if(D.loading=j,D.loadingError=null,this.setState({tabs:this.state.tabs}),D.id==="search"&&D.query&&(yield new Promise(ge=>setTimeout(ge,300)),D.loading!==j))return;!this.state.tabs.find(ge=>ge.posts||ge.fullyLoaded||ge.loading||ge.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(ge=>setTimeout(ge,this.props.delayFirstLoad)));const Y=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const ge=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),Se=(yield $t().get(Y).query(Cp(Cp(Cp({sort:D.id==="search"?"new":D.id,search:D.id==="search"?D.query:"",offset:(D.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(D.loading!==j)return;D.posts=D.posts?D.posts.concat(Se):Se,D.fullyLoaded=Se.length<ge||this.props.maxPosts&&D.posts.length>=this.props.maxPosts}catch(ge){console.error("Failed to load tab:",ge),D.loadingError=ge}D.loading=!1,this.setState({tabs:this.state.tabs})})),Cs(this,"onChange",({post:i})=>{i&&((0,T.stateTransaction)(this,a=>{let D=!1;const B=a.tabs.map(j=>j.posts).filter(j=>Array.isArray(j));for(const j of B){const U=j.findIndex(Y=>Y.id===i.id);U!==-1&&(j[U]=i,D=!0)}D&&this.setState({tabs:a.tabs})}),this.props.onChange&&this.props.onChange(i))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(t){(t.hideTop!==this.props.hideTop||t.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var t,r;let i=[];const{iString:a}=this.props;i.push({id:"new",title:this.props.newTitle||a("New"),posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||i.push({id:"top",title:this.props.topTitle||a("Top"),posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(t=this.props.pub)!=null&&t.community_enabled&&((r=this.props.pub)!=null&&r.has_community_content)&&i.push({id:"community",title:this.props.communityTitle||a("Community"),posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),i=this.props.sortTabs&&this.props.sortTabs(i)||i,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&i.push({id:"search",title:a("Search"),posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const D=i.find(B=>B.id===this.props.sort)||this.props.search&&i.find(B=>B.id==="search")||i[0];return{tabs:i,tab:D}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:t,className:r,disableInteractive:i,emptyMessage:a,filterPosts:D,hideAuthor:B,hideSearchTab:j,hideShare:U,isBelowTheFold:Y,isPodcast:ge,maxPosts:Se,maxTitleLength:De,pinnedPosts:Fe,profile:qe,pub:Ye,renderLoading:st,renderPosts:gt,renderTabs:yt,renderSeeAll:At,showMonthDividers:Bt,showPins:xt,showPublicationName:Ht,source:en,user:Xt,iString:tn,iTemplate:fn},{tabs:xn,tab:yn}){a=a||tn("No posts");const Gn=Bt&&yn.id==="new",pn=xn.find(Gt=>Gt.id==="search"),Sn=xn.find(Gt=>Gt.id==="community");let ur=Array.isArray(yn.posts)?yn.posts.filter(Gt=>!(Ye&&yn.id==="top"&&Gt.top_exclusions.includes(Ye.id))).filter(Gt=>Ye!=null&&Ye.section&&(Fe!=null&&Fe.length)?!Fe.find(or=>or.id===Gt.id):!0).filter(Gt=>!Vt.hidePaidPostsFor.includes(Ye==null?void 0:Ye.subdomain)||Gt.audience==="everyone"||(Xt==null?void 0:Xt.is_subscribed)).filter(D||(()=>!0)):[];Ye!=null&&Ye.section&&(Fe!=null&&Fe.length)&&["new","top"].includes(yn.id)&&(ur=[...Fe,...ur]);const Qn=ur.length===0,jn=!ur&&!yn.loadingError,Kn=ur.some&&ur.some(Gt=>Gt.cover_image);let Wn;qe&&(Wn=new Map(qe.publicationUsers.map(Gt=>[Gt.publication.id,Gt.publication])));const tr=Se?ur.slice(0,Se):ur,Rn=gt?gt({posts:tr,linkToComments:yn===Sn,onClickPost:({event:Gt,post:or,index:_n,source:fr})=>this.onPostClicked(Gt,or.id,_n,fr),postGroups:Gn?NB(tr,Ye.language):null}):[];if(!gt){let Gt;tr.forEach((or,_n)=>{if(Gn){const fr=Ws()(or.post_date).format("MMMM YYYY");fr!==Gt&&(_n!==0&&Rn.push((0,e.h)("h3",null,fr)),Gt=fr)}Rn.push((0,e.h)(tb,{key:or.id,className:"portable-archive-post",post:or,pub:Ye||Wn&&Wn.get(or.publication_id),user:Xt,showDate:!0,showCoverImage:Kn,authorInMeta:(0,Vt.getBylineUsers)(or).length<=1&&t!==!1,linkToComments:yn===Sn,onChange:this.onChange,disableInteractive:i,showPins:xt,showPublicationName:Ht,hideAuthor:B,onClick:fr=>this.onPostClicked(fr,or.id,_n,en),maxTitleLength:De,hideShare:U,isBelowTheFold:Y}))})}const Zn=ge?(0,oe.getPodcastArchiveUrl)({pub:Ye,section:Ye.section,params:{sort:yn.id,search:yn.query}}):(0,p.getArchiveUrl)(Ye,{params:{sort:yn.id,search:yn.query}}),gn=At?At({url:Zn}):(0,e.h)("a",{className:"portable-archive-all",href:Zn,native:!0},tn("See all")," ",(0,e.h)(Pe,{height:12,width:12})),kn=st?st():Array.from(new Array(this.getFetchLimit())).map(()=>(0,e.h)(EB,{pub:Ye}));return(0,e.h)("div",{className:u()("portable-archive",r,{"empty-list":Qn})},yt&&yt({activeTabId:yn.id,isSearching:yn===pn,showSearch:!!(pn&&!j),searchInputProps:{value:pn==null?void 0:pn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:Gt=>{this.searchInput=Gt},tabs:xn.filter(Gt=>!Gt.hidden),onClick:Gt=>{this.loadTab(Gt)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(xn[0].id)}}),!yt&&(0,e.h)("div",{className:"portable-archive-tabs"},yn===pn?(0,e.h)("div",{className:"portable-archive-search-bar"},(0,e.h)(Sc,{className:"portable-archive-search-bar-icon"}),(0,e.h)("input",{ref:Gt=>this.searchInput=Gt,className:"portable-archive-search-bar-input",type:"text",placeholder:tn("Search..."),value:yn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),(0,e.h)(O.Z,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(xn[0].id)})):(0,e.h)(e.Fragment,null,xn.filter(Gt=>!Gt.hidden).map(({id:Gt,title:or})=>(0,e.h)("a",{className:`portable-archive-tab ${Gt}-tab ${yn.id===Gt?"active":""}`,onClick:this.onTabClick(Gt)},(0,e.h)("span",{className:"portable-archive-tab-content"},or))),pn&&!j&&(0,e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},(0,e.h)(Sc,null)))),(0,e.h)("div",{className:"portable-archive-list"},yn.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},tn("Failed to load posts")):ur.length===0&&!yn.loading?(0,e.h)("p",{className:"portable-archive-empty"},yn.id!=="search"?a:yn.query?tn("No results"):fn`Search ${Ye?Ye.name:""}`):(0,e.h)(e.Fragment,null,Rn,!Se&&!jn&&!yn.loading&&!yn.fullyLoaded&&(0,e.h)(pe.Z,{threshold:640,onVisible:()=>this.loadTab(yn.id,yn.query)})),yn.loading||jn?kn:Se&&ur.length>=Se&&gn))}}const Op=(0,P.fz)(AB),NB=(n,t="en")=>{let r;const i=[];return n.forEach((a,D)=>{const B=Ws()(a.post_date).locale(t).format("MMMM YYYY");B!==r?(D===0?i.push({label:"",posts:[a]}):i.push({label:B,posts:[a]}),r=B):i[i.length-1].posts.push(a)}),i},ob={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},RB=({tabs:n,activeTabId:t,onClick:r})=>(0,e.h)(je.gq,{gap:8},n.map(i=>(0,e.h)(LB,{onClick:()=>{r(i.id)},active:i.id===t},i.title))),LB=({active:n,onClick:t,children:r})=>(0,e.h)("div",{className:u()(ob.pillTab,{[ob.pillTabActive]:n}),role:"button",onClick:t},r),Sp=(0,e.createContext)({url:"",linkToComments:!1}),ou=3/2,Tp=16/9,BB=(0,dt.forwardRef)(({animated:n=!0,variant:t},r)=>["grid","grid-groups"].includes(t)?(0,e.h)(y.tu,{gap:12,ref:r},(0,e.h)(fa,{animated:n,aspectRatio:ou}),(0,e.h)(y.tu,{gap:8},(0,e.h)(fa,{animated:n,height:24,width:"70%"}),(0,e.h)(fa,{animated:n,height:20,width:"90%"}),(0,e.h)(fa,{animated:n,height:20,width:"50%"}))):t==="list"?(0,e.h)(y.tu,{gap:8,ref:r},(0,e.h)(fa,{animated:n,height:28,width:"60%"}),(0,e.h)(fa,{animated:n,height:24,width:"80%"}),(0,e.h)(fa,{animated:n,height:20,width:"20%"})):null),ib={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},Ip=(0,dt.forwardRef)(({animated:n=!0,postCount:t,variant:r},i)=>(0,e.h)("div",{className:u()({[ib.loadingContainerGrid]:["grid","grid-groups"].includes(r),[ib.loadingContainerList]:r==="list"}),ref:i},Array.from(new Array(t)).map(()=>(0,e.h)(BB,{variant:r,animated:n})))),iu={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var kB=Object.defineProperty,UB=Object.defineProperties,FB=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,jB=Object.prototype.hasOwnProperty,WB=Object.prototype.propertyIsEnumerable,sb=(n,t,r)=>t in n?kB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,HB=(n,t)=>{for(var r in t||(t={}))jB.call(t,r)&&sb(n,r,t[r]);if(ab)for(var r of ab(t))WB.call(t,r)&&sb(n,r,t[r]);return n},VB=(n,t)=>UB(n,FB(t));const Qc=({children:n,communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:a,isPodcast:D,maxPosts:B,pinnedPosts:j,newPosts:U,pub:Y,search:ge,sectionId:Se,showMonthDividers:De,sort:Fe,sortTabs:qe,source:Ye,user:st,variant:gt="list"})=>{const{iString:yt}=(0,P.M1)();return(0,e.h)(Op,{communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:a,isPodcast:D,maxPosts:B,newPosts:U,pinnedPosts:j,pub:Y,renderPosts:({posts:At,linkToComments:Bt,onClickPost:xt,postGroups:Ht})=>Ht?Ht.map(({label:en,posts:Xt})=>(0,e.h)(e.Fragment,null,en&&(0,e.h)(e.Fragment,null,(0,e.h)(Vl,{paddingTop:8,paddingBottom:8}),(0,e.h)(y.xv.Meta,{className:iu.monthHeader,color:"pub-accent",paddingBottom:24},en)),n({posts:Xt,linkToComments:Bt,onClickPost:xt}))):n({posts:At,linkToComments:Bt,onClickPost:xt}),renderLoading:()=>(0,e.h)(Ip,{variant:gt,postCount:B!=null?B:7}),renderSeeAll:({url:At})=>gt==="grid-groups"?null:(0,e.h)(y.gq,{paddingTop:16},(0,e.h)(y.zx,{href:At,rightIcon:(0,e.h)(gl.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},yt("See all"))),renderTabs:({activeTabId:At,isSearching:Bt,tabs:xt,searchInputProps:Ht,searchRef:en,showSearch:Xt,onClick:tn,onClickSearch:fn,onClickSearchClose:xn})=>gt==="grid-groups"?null:Bt?(0,e.h)(y.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(y.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(Sc,{height:16,className:iu.searchIcon}),(0,e.h)("input",VB(HB({},Ht),{ref:en,type:"text",placeholder:yt("Search..."),className:iu.searchInput}))),(0,e.h)("div",{role:"button",onClick:xn,className:iu.iconButton},(0,e.h)(O.Z,{height:20}))):(0,e.h)(y.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(RB,{activeTabId:At,tabs:xt,onClick:tn}),Xt&&(0,e.h)("div",{role:"button",onClick:fn,className:iu.iconButton},(0,e.h)(Sc,{height:20}))),sectionId:Se,search:ge,showMonthDividers:De,sort:Fe,sortTabs:qe,source:Ye,stateInUrl:!0,user:st})},lb=(0,e.createContext)({alwaysShowActions:!1}),KB=({justified:n,post:t,pub:r,user:i,onChange:a})=>{const D=t.type==="restack";return(0,e.h)(Ko._2,{allowEdit:!D,editButtonIsLast:!0,hideComments:!(0,Vt.showCommentsOnPost)({publication:r,post:t})||D,hideReactions:!r.community_enabled||D,hideShare:D,isStatic:!1,justified:n,labelStyle:"counts-or-none",post:t,pub:r,hideFeedRestackButton:D,showRestackButton:!D,style:"compressed",user:i,onChange:a,position:"pub-preview"})},Qa={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},tl=({clamp:n,post:t,pub:r,showPin:i})=>{const a=(0,Vt.getBylineUsers)(t),{iTemplate:D,language:B}=(0,P.M1)();return(0,e.h)(y.xv.Meta,{className:Qa.textContainer,color:"pub-secondary-text",clamp:n},i&&(0,e.h)("div",{className:Qa.icon},(0,e.h)(Mv,{size:12})),(0,sr.isPaidAudience)(t.audience)&&(0,e.h)("div",{className:u()(Qa.icon,n&&Qa.iconClamped)},(0,e.h)(D1.Z,{audience:t.audience,size:12})),t.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Qa.pub},D`Published on ${t.restacked_pub_name}`),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:Qa.date,dateTime:Mt()(t.post_date).toISOString()},(0,Ko.fh)({post:t,showDatetime:!1,language:B})),t.type!=="restack"&&a.length>0&&r.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,Vt.oxfordComma)(a.map(j=>n?(0,e.h)("a",{className:Qa.link,href:(0,p.getProfileUrl)(j,r),onClick:U=>U.stopPropagation()},j.name):(0,e.h)(ca.Ct,{subject:j,utmSource:"byline"},(0,e.h)("a",{className:Qa.link,href:(0,p.getProfileUrl)(j,r),onClick:U=>U.stopPropagation()},j.name))),{noBreakSpace:!0})))},au=({align:n,clamp:t,lineHeight:r=20,maxLength:i=152,paddingBottom:a,post:D,size:B=14})=>{const{url:j}=(0,o.qp)(Sp);return(0,e.h)(y.tu,{paddingBottom:a},(0,e.h)(y.xv,{as:"a",align:n,href:j,clamp:t,color:"pub-secondary-text",font:"text",size:B,lineHeight:r},wi()((0,Vt.truncateWords)(D.description,i))))};var $B=wt(98961);const xp={sm:{size:14,lineHeight:20},md:{size:18,lineHeight:28},lg:{size:28,lineHeight:40},mobileMd:{size:16,lineHeight:24},mobileLg:{size:24,lineHeight:36}},su={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"},nl=({align:n,clamp:t,maxLength:r=140,paddingBottom:i,post:a,preset:D})=>{const{url:B,linkToComments:j}=(0,o.qp)(Sp),{lineHeight:U,size:Y}=xp[D],ge=Y>=28;return(0,e.h)(y.tu,{paddingBottom:i},(0,e.h)(y.xv,{as:"a",href:B,align:n,clamp:t,font:"pub-headings",lineHeight:U,size:Y,weight:"semibold","data-testid":"post-preview-title"},a.type==="thread"&&(0,e.h)(fp,{height:ge?26:17,className:su.icon}),a.type==="podcast"&&(0,e.h)(Gr,{height:ge?26:17,className:su.icon}),a.type==="video"&&(0,e.h)($B.Z,{height:ge?26:19,width:ge?26:19,className:u()(su.icon,su.iconVideo,su[`iconVideo-${Y}`]),strokeWidth:1.8}),j&&a.type!=="thread"&&"Comments on: ",(0,Vt.truncateWords)(a.title,r)))},qc={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var zB=Object.defineProperty,GB=Object.defineProperties,ZB=Object.getOwnPropertyDescriptors,ub=Object.getOwnPropertySymbols,YB=Object.prototype.hasOwnProperty,JB=Object.prototype.propertyIsEnumerable,cb=(n,t,r)=>t in n?zB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,XB=(n,t)=>{for(var r in t||(t={}))YB.call(t,r)&&cb(n,r,t[r]);if(ub)for(var r of ub(t))JB.call(t,r)&&cb(n,r,t[r]);return n},QB=(n,t)=>GB(n,ZB(t));const db=({actions:n,isSmall:t,post:r,pub:i})=>{const{isTablet:a}=bi(),D=!!(0,sr.getCoverImageUrl)(r);return(0,e.h)("div",{className:u()(qc.container,{[qc.containerNoImage]:!D})},D&&(0,e.h)(Es,{className:qc.image,imageAspectRatio:t?ou:Tp,imageWidth:1280,isBelowTheFold:!1,post:r,squareImageSize:"large"}),(0,e.h)(y.tu,{className:qc.content,alignItems:"center",justifyContent:"center",paddingX:D?32:64,paddingY:D?24:64},(0,e.h)(nl,{post:r,align:"center",preset:a?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(au,{post:r,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(tl,{post:r,pub:i}),(0,e.h)(y.tu,{paddingTop:20},n({justified:!1}))))},qB=n=>(0,e.h)(db,QB(XB({},n),{isSmall:!0})),ek={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},tk=({actions:n,hideImage:t,imageAspectRatio:r,post:i,pub:a})=>(0,e.h)(y.tu,null,!t&&(0,e.h)(Es,{post:i,className:ek.image,imageWidth:1250,imageAspectRatio:r==="wide"?Tp:ou,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(y.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(nl,{post:i,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(au,{post:i,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(tl,{post:i,pub:a}),(0,e.h)(y.tu,{paddingTop:16},n({justified:!1})))),Dp={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui",containerNoImage:"frontend-main-home-PostPreview-PostPreviewListing-module__containerNoImage--AXgbN",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},nk=({actions:n,hideImage:t,post:r,pub:i,showPin:a})=>{const{isMobile:D}=bi();let B=!!i.community_enabled;return t&&!D&&(B=!1),(0,e.h)("div",{className:u()(Dp.container,{[Dp.containerNoImage]:t})},(0,e.h)(y.tu,{gap:8},(0,e.h)(nl,{clamp:3,post:r,preset:D?"mobileMd":"md"}),(0,e.h)(au,{clamp:2,post:r,size:14,lineHeight:t?24:20}),(0,e.h)(tl,{post:r,pub:i,showPin:a})),!t&&(r.cover_image?(0,e.h)(Es,{className:Dp.image,post:r,imageWidth:D?150:320,imageAspectRatio:D?1:ou,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),n({justified:B}))},rk={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},ok=({actions:n,post:t,pub:r})=>{const i=!!r.community_enabled;return(0,e.h)(y.tu,{padding:8},(0,e.h)(y.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(y.tu,{flex:"grow"},(0,e.h)(nl,{post:t,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(tl,{clamp:1,post:t,pub:r})),(0,e.h)(Es,{className:rk.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:t})),n({justified:i}))},ik={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},ak=({actions:n,hidePlaceholder:t,post:r,pub:i})=>{const a=!!i.community_enabled;return(0,e.h)(y.tu,null,r.cover_image&&(0,e.h)(Es,{post:r,className:ik.image,imageWidth:1250,imageAspectRatio:Tp,isBelowTheFold:!1,hidePlaceholder:t,squareImageSize:"large"}),(0,e.h)(y.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(y.tu,{gap:8,paddingBottom:12},(0,e.h)(nl,{post:r,preset:"mobileLg",clamp:3}),(0,e.h)(au,{post:r,size:14,lineHeight:20,clamp:3}),(0,e.h)(tl,{post:r,pub:i})),n({justified:a})))},sk={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},lk=({actions:n,post:t,pub:r})=>{const{isMobile:i}=bi(),a=!!r.community_enabled;return(0,e.h)(y.tu,{padding:i?0:8},(0,e.h)(Es,{post:t,className:sk.image,imageWidth:600,imageAspectRatio:ou,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(y.tu,{paddingTop:12,flex:"grow"},(0,e.h)(y.tu,{gap:8,flex:"grow",paddingBottom:12},(0,e.h)(nl,{clamp:3,post:t,preset:"md"}),(0,e.h)(au,{clamp:1,post:t}),(0,e.h)(tl,{post:t,pub:r})),n({justified:a})))},ed={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu"},uk={jumbo:db,"jumbo-small":qB,large:tk,listing:nk,mini:ok,"mobile-hero":ak,square:lk},rl=({disableInteractive:n,hideImage:t,hideWash:r,imageAspectRatio:i,linkToComments:a,variant:D,post:B,pub:j,showPin:U,testid:Y,user:ge,utm:Se,onChange:De,onClick:Fe})=>{const{alwaysShowActions:qe}=(0,o.qp)(lb),Ye=uk[D];if(!Ye)return(0,e.h)("div",null,"PostPreview: ",D," not implemented");const st=ck({linkToComments:!!a,post:B,pub:j,utm:Se}),gt=yt=>{Fe&&Fe(yt),!n&&(0,T.redirect)(st,{event:yt})};return(0,e.h)(Sp.Provider,{value:{url:st,linkToComments:!!a}},(0,e.h)(y.tu,{className:u()(ed.container,{[ed.containerWithBackground]:!r&&["large","jumbo","jumbo-small"].includes(D)}),"data-testid":Y,radius:6,onClick:gt},(0,e.h)(Ye,{hideImage:t,imageAspectRatio:i,post:B,pub:j,showPin:U,actions:({justified:yt})=>B.type==="restack"?null:(0,e.h)(y.tu,{className:u()(ed.actions,{[ed["actions--always-show"]]:qe})},(0,e.h)(KB,{justified:yt,post:B,pub:j,user:ge,onChange:De}))})))},ck=({linkToComments:n,post:t,pub:r,utm:i})=>n?(0,oe.getPostUrl)(r,t,{comments:!0}):t.type==="video"?(0,p.updateQuery)(t.canonical_url,{autoPlay:!0}):i?(0,oe.pathWithQuery)(t.canonical_url,i):t.canonical_url,ga={container:"frontend-main-home-PostsLayout-module__container--ZMlBv","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var dk=Object.defineProperty,fk=Object.defineProperties,pk=Object.getOwnPropertyDescriptors,td=Object.getOwnPropertySymbols,fb=Object.prototype.hasOwnProperty,pb=Object.prototype.propertyIsEnumerable,hb=(n,t,r)=>t in n?dk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qa=(n,t)=>{for(var r in t||(t={}))fb.call(t,r)&&hb(n,r,t[r]);if(td)for(var r of td(t))pb.call(t,r)&&hb(n,r,t[r]);return n},lu=(n,t)=>fk(n,pk(t)),mb=(n,t)=>{var r={};for(var i in n)fb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&td)for(var i of td(n))t.indexOf(i)<0&&pb.call(n,i)&&(r[i]=n[i]);return r};const di=n=>{const{flex:t,hideImages:r,linkToComments:i,posts:a,pub:D,showSectionPins:B,source:j,user:U,utm:Y,variant:ge,onChange:Se,onClickPost:De}=n;return ge==="two-three-two"?(0,e.h)(mk,qa({},n)):ge==="two-small-three-medium"?(0,e.h)(hk,qa({},n)):["mini-row","three-column-mini-row"].includes(ge)?(0,e.h)(_k,qa({},n)):(0,e.h)("div",{style:t==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:u()(ga.container,ga[ge])},a.map((Fe,qe)=>(0,e.h)(e.Fragment,null,qe>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(ge)&&(0,e.h)(y.gq,{className:ga.divider,borderBottom:"detail-themed"}),[2,4].includes(qe)&&ge==="five-up"&&(0,e.h)(y.gq,{className:ga.divider,borderBottom:"detail-themed"}),qe%2===0&&qe>0&&["two-column-grid"].includes(ge)&&(0,e.h)(y.gq,{className:ga["long-divider"],borderBottom:"detail-themed"}),qe%3===0&&qe>0&&["three-column-grid"].includes(ge)&&(0,e.h)(y.gq,{className:ga["long-divider"],borderBottom:"detail-themed"}),qe%4===0&&qe>0&&["four-column-grid"].includes(ge)&&(0,e.h)(y.gq,{className:ga["long-divider"],borderBottom:"detail-themed"}),qe>0&&["mini-row","three-column-mini-row"].includes(ge)&&(0,e.h)(y.gq,{className:ga.divider,paddingY:16,alignItems:"center"},(0,e.h)(y.gq,{borderLeft:"detail-themed"})),(0,e.h)(rl,{testid:["large-listing-listing-column","two-small-one-large"].includes(ge)?`magazine-spot-${qe+1}`:void 0,hideImage:r,linkToComments:i,post:Fe,pub:D,showPin:B&&Fe.is_section_pinned,user:U,utm:Y,variant:_b(ge,qe),onChange:Se,onClick:De&&j?Ye=>{De({event:Ye,post:Fe,index:qe,source:j})}:void 0}))),ge==="two-small-one-large"&&(0,e.h)(y.gq,{borderBottom:"detail-themed"})))},hk=n=>{const t=n,{posts:r}=t,i=mb(t,["posts"]),a=r.slice(0,3),D=r.slice(3);return(0,e.h)(Xa,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(di,lu(qa({},i),{flex:"grow",variant:"large-listing-listing-column",posts:a,hideImages:!0})),(0,e.h)(di,lu(qa({},i),{flex:"grow",variant:"square-square-column",posts:D,hideImages:!1})))},mk=n=>{const t=n,{posts:r}=t,i=mb(t,["posts"]),a=r.slice(0,3),D=r.slice(3,5),B=r.slice(5);return(0,e.h)(Xa,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(di,lu(qa({},i),{flex:"grow",variant:"large-listing-listing-column",posts:a,hideImages:!0})),(0,e.h)(di,lu(qa({},i),{flex:"grow",variant:"square-square-column",posts:D,hideImages:!1})),(0,e.h)(di,lu(qa({},i),{flex:"grow",variant:"square-square-column",posts:B,hideImages:!1})))},_k=n=>{const{linkToComments:t,posts:r,pub:i,source:a,user:D,utm:B,variant:j,onChange:U,onClickPost:Y}=n,ge=j==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:u()(ga.container,ga[j])},r.slice(0,ge).map((Se,De)=>(0,e.h)(e.Fragment,null,De>0&&(0,e.h)(y.gq,{className:ga.divider,paddingY:16,alignItems:"center"},(0,e.h)(y.gq,{borderLeft:"detail-themed"})),(0,e.h)(rl,{linkToComments:t,post:Se,pub:i,user:D,utm:B,variant:_b(j,De),onChange:U,onClick:Y&&a?Fe=>{Y({event:Fe,post:Se,index:De,source:a})}:void 0}))),j==="two-small-one-large"&&(0,e.h)(y.gq,{borderBottom:"detail-themed"})))},_b=(n,t)=>n==="square-square-column"?"square":n==="large-listing-listing-column"?t===0?"large":"listing":n==="two-small-one-large"?t===0?"large":"square":n==="two-column-list"?"listing":n==="five-up"?t===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(n)?"mini":"square",gk={container:"frontend-main-archive_page-module__container--Brctc"};function uu({children:n,title:t,pub:r,user:i,freeSignup:a,freeSignupEmail:D,sort:B,search:j,newPosts:U,topPosts:Y,communityPosts:ge,searchPosts:Se,sectionId:De,isPodcast:Fe,metadata:qe}){const Ye=!!(r!=null&&r.theme),{iString:st,iTemplate:gt}=(0,P.M1)();return(0,e.h)(N.ze,{value:{hasThemedBackground:Ye}},qe&&(0,T.setMetaData)(qe),(0,e.h)("div",{className:u()("archive-page typography",gk.container,{"use-theme-bg":Ye})},(0,e.h)("div",{className:"container"},t&&(0,e.h)("h2",null,t),(0,e.h)(Qc,{communityPosts:ge,communityTitle:st("Discussion"),freeSignup:a,freeSignupEmail:D,isPodcast:Fe,newPosts:U,pub:r,search:j,searchPosts:Se,sectionId:De,showMonthDividers:!0,sort:B,source:"archive",topPosts:Y,user:i,variant:"list"},({posts:yt,linkToComments:At,onClickPost:Bt})=>(0,e.h)(di,{hideImages:r.theme.hide_images_from_list,linkToComments:At,posts:yt,pub:r,user:i,variant:"two-column-list",onChange:()=>{},onClickPost:Bt})),n)))}var vk=Object.defineProperty,yk=(n,t,r)=>t in n?vk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gb=(n,t,r)=>(yk(n,typeof t!="symbol"?t+"":t,r),r),Mp=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});class vb extends e.Component{constructor(t,r){super(t,r),gb(this,"likesEnabled",(0,Ci.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,ds.ZP)(this.props.notify_user)}componentDidMount(){return Mp(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return Mp(this,null,function*(){if(!this.state.hasMore)return;(yield(0,T.stateLock)(this,"loading",r=>Mp(this,[r],function*({hasMore:i,posts:a}){if(i){a=a||[];try{const B=(yield $t().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:a.length})).body;a=a.concat(B),i=B.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(B),this.setState({posts:a,hasMore:i})}catch(D){console.error(D)}return i}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(t){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!t||t.filter(a=>(0,sr.isPaidAudience)(a.audience)&&!a.hidden).length===0)return;const r="__cookie_checked",i=(0,p.parseQuery)(window.location.search);i[r]||(i[r]="true",window.location.search=`?${(0,p.serializeQuery)(i)}`)}onChange({post:t}){if(t){const r=(this.state.posts||[]).map(i=>i.id).indexOf(t&&t.id);r!==-1&&(this.state.posts[r]=t,this.setState({posts:this.state.posts}))}}render({user:t,pub:r,freeSignup:i,freeSignupEmail:a,preloadedPosts:D,hide_intro_popup:B,children:j,blurbs:U,noBalanceHeroText:Y,launchWelcomePage:ge},{posts:Se,hasMore:De,share_on_load:Fe}){const qe=[];for(const Ye of Se||D||[])Ye.hidden?Array.isArray(qe[qe.length-1])?qe[qe.length-1].push(Ye):qe.push([Ye]):qe.push(Ye);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(Ql.ZP,{ref:Ye=>this.shareDialog=Ye,user:t,pub:r}),(0,e.h)($,{freeSignup:i,freeSignupEmail:a,user:t,post:null,publication:r,hidden:B||Fe,blurbs:U,noBalance:Y,launchWelcomePage:ge}),r&&r.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},qe.length===0&&!De&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),qe.map((Ye,st)=>Array.isArray(Ye)?this.renderHiddenPosts(Ye,st):this.renderPost(Ye,st)),De?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(pe.Z,{ref:Ye=>this.loader=Ye,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):r.has_posts&&Se&&Se.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,p.getBaseArchiveUrl)(r)},"View archive"))),j)}renderPost(t){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},t.type==="thread"?(0,e.h)(E1,{post:t,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(Ep,{post:t,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:r=>this.onChange(r),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(t,r){let i,a;return r===0?(i=t.slice(0,1),a=t.slice(1)):t.length<=3?(i=t,a=[]):(i=t.slice(0,2),a=t.slice(2)),(0,e.h)(bk,{user:this.props.user,pub:this.props.pub,posts:i,collapsedPosts:a,onChange:D=>this.onChange(D)})}}gb(vb,"contextType",Et.QA);class bk extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,C.j)(C.FP.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:t,pub:r,posts:i,collapsedPosts:a,onChange:D},{showing:B}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${B?"showing":""}`},(0,e.h)("div",{className:"container"},i.map(j=>(0,e.h)(Xc,{user:t,pub:r,post:j,onChange:D})),a.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},B?"hide":`+${a.length} more`),a.map(j=>(0,e.h)(Xc,{className:"collapsed",user:t,pub:r,post:j,utm_source:"home",onChange:D}))))}}var Pk=wt(2405);function Ap(){const n=t=>{var r,i;(t.data==="3pc.supported"||t.data==="3pc.unsupported")&&(t.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(D=>{const B=D.querySelector(".tiktok-iframe");B.classList.add("visible"),D.querySelector(".tiktok-wrap.static").classList.add("hidden");const j=D.querySelector(".fallback-failure");j.classList.add("no-border");try{(B.contentDocument||B.contentWindow.document).readyState=="complete"&&j.classList.add("visible")}catch(U){}B.onload=()=>{j.classList.add("visible")},B.onerror=()=>{j.classList.add("visible")},B.onabort=()=>{j.classList.add("visible")}}),(i=(r=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:r.forEach)==null||i.call(r,a=>a.remove()))};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}}function rz(){useEffect(Ap,[])}var Np=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});class Ek extends e.Component{constructor(t,r){super(t,r),this.onVisible=a=>{const D=`${a} Seen`;this.state.post&&(this.state[D]||(this.setState({[D]:!0}),(0,C.j)(D,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var a;const D=document.querySelectorAll('article.post input[type="email"]'),B=((a=this.state.user)==null?void 0:a.email)||this.props.freeSignupEmail;B&&D.forEach(j=>j.value=B),this.setState({embeddedEmailInputsFilled:!0})};const{user:i}=t;t.post?this.state={post:t.post,user:i,introText:t.introText,crossPostedPub:t.crossPostedPub,crossPostingByLine:t.crossPostingByLine,userWithCrossPostedPubContext:t.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.crossPostedPublicationSettings,crossPostedSiteConfig:t.crossPostedSiteConfig}:this.state={user:i}}componentDidMount(){return Np(this,null,function*(){(0,T.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Ap(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this)}componentDidUpdate(t){return Np(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return Np(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,T.scrollToHash)());else try{const t=yield $t().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,T.setState)(this,{post:t.body.post,introText:t.body.intro_text,crossPostedPub:t.body.crossPostedPub,crossPostingByLine:t.body.crossPostingByLine,userWithCrossPostedPubContext:t.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.body.crossPostedPublicationSettings,crossPostedSiteConfig:t.body.crossPostedSiteConfig}),(0,T.scrollToHash)()}catch(t){console.error("Failed to load post:",t),alert((0,T.getNetworkErrorMessage)(t))}})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:t,freeSignupEmail:r,publication:i},{post:a,user:D,introText:B,crossPostedPub:j,crossPostingByLine:U,userWithCrossPostedPubContext:Y,crossPostedPublicationSettings:ge,crossPostedSiteConfig:Se}){const De=(a==null?void 0:a.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:u()("single-post-container")},(0,e.h)("div",{className:u()({container:!De})},(0,e.h)("div",{className:"single-post"},(0,e.h)(ip,{post:a,publication:i}),a&&ge&&Se?(0,e.h)(ut.Iz,{settings:ge},(0,e.h)(Et.vC,{siteConfigs:Se},(0,e.h)(Pk.uL,{crossPost:{crossPostedPub:j}},(0,e.h)(Ep,{ref:Fe=>{this.post=Fe},user:Y,post:a,pub:j,freeSignup:t,freeSignupEmail:r,paywall:!1,noTitleLink:!0,onChange:Fe=>this.setState(Fe),fromPostPage:!0,crossPostInfo:{introText:B,crossPostedPub:j,crossPostingByLine:U,userWithCrossPostedPubContext:Y}})))):(0,e.h)(eb,{pub:i}))),i.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(pe.Z,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(Op,{user:D,freeSignup:t,freeSignupEmail:r,pub:i,maxPosts:3,filterPosts:Fe=>Fe.id!==(a==null?void 0:a.id),stateInUrl:!0,sortTabs:Fe=>{const qe=Fe.findIndex(Ye=>Ye.id==="top");if(qe!==-1)return[Fe[qe]].concat(Fe.filter((Ye,st)=>st!==qe))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class wk extends e.Component{constructor(t,r){super(t,r),this.state={freeSignup:t.freeSignup,freeSignupEmail:t.freeSignupEmail,success:!1}}componentDidMount(){(0,T.preloadImage)((0,p.imginary)("/img/substack_wordmark.png",200));const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}onPrepareData(t){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(t){this.setState({freeSignup:!0,freeSignupEmail:t.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(t){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(r){console.error("Failed to close subscribe window:",r)}this.subscribeWindow=null}}render({pub:t,user:r,no_border:i},{freeSignup:a,freeSignupEmail:D,loading:B,success:j}){const U=D||r&&r.email;return(0,e.h)("div",{className:`embed-page ${i?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},t.logo_url&&(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,p.imginary)(t.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${t.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)(rt,{text:t.name}))),(0,e.h)("p",{className:"publication-tagline"},!!t.hero_text&&(0,e.h)(rt,{text:t.hero_text})),t.invite_only?(0,e.h)(Rt.ZP,{className:"subscription-request-form",ref:Y=>this.form=Y,noInlineErrors:!0,action:(0,p.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,p.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:Y=>{this.setState({loading:!1}),alert((0,T.getNetworkErrorMessage)(Y,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:l.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:l.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:l.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:l.xU}),!!U&&(0,T.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:u()(j?"secondary":"primary"),type:"email",name:"email",ref:Y=>this.emailInput=Y,readOnly:!!(U||B),disabled:!!(B||j||U),autoFocus:!U&&!(0,T.isMobileBrowser)(),placeholder:"Type your email\u2026"}),(0,e.h)(Je.Z,{className:u()("rightButton",j?"secondary":"primary"),type:"submit",disabled:!!(B||j),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},j?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(ys,{source:"embed",pub:t,user:r,freeSignup:a,freeSignupEmail:D,forceEmailInput:!0,onPrepareData:Y=>this.onPrepareData(Y),onSignup:Y=>this.onSignup(Y),onError:Y=>this.onError(Y)}),(r||a)&&(0,e.h)("p",null,(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,p.getSignoutUrl)({redirect:document.location.href,for_pub:t.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,p.getSubstackUrl)()}/?utm_source=embed&utm_content=${t.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:Y=>this.img=Y,className:"substack-watermark",src:(0,p.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,p.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,p.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}var Ck=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Ok=({pub:n,slug:t})=>{var r;const[i,a]=(0,o.eJ)(null);(0,o.d4)(()=>{function B(){return Ck(this,null,function*(){try{const j=yield $t().get(`/api/v1/posts/${t}`);a(j.body)}catch(j){console.error("Failed to load post:",j),j.status===404?alert("Post not found"):alert((0,T.getNetworkErrorMessage)(j))}})}B()},[t]);let D=!1;return typeof window!="undefined"&&(D=((r=(0,p.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)(lc,{feature:"Podcast",pub:n,post:i,src:i.podcast_url,autoPlay:D,metricsPost:i,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};class Sk extends e.Component{render(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}}var Tk=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Ik=({pub:n,slug:t})=>{var r;const[i,a]=(0,o.eJ)(null);(0,o.d4)(()=>{function B(){return Tk(this,null,function*(){try{const j=yield $t().get(`/api/v1/posts/${t}`);a(j.body)}catch(j){console.error("Failed to load post:",j),j.status===404?alert("Post not found"):alert((0,T.getNetworkErrorMessage)(j))}})}B()},[t]);let D=!1;return typeof window!="undefined"&&(D=((r=(0,p.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(Nl,{mediaUpload:i.videoUpload,pub:n,post:i,autoPlay:D})):(0,e.h)("div",{className:"loading-container"})};var xk=Object.defineProperty,Dk=Object.defineProperties,Mk=Object.getOwnPropertyDescriptors,yb=Object.getOwnPropertySymbols,Ak=Object.prototype.hasOwnProperty,Nk=Object.prototype.propertyIsEnumerable,bb=(n,t,r)=>t in n?xk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Rk=(n,t)=>{for(var r in t||(t={}))Ak.call(t,r)&&bb(n,r,t[r]);if(yb)for(var r of yb(t))Nk.call(t,r)&&bb(n,r,t[r]);return n},Lk=(n,t)=>Dk(n,Mk(t));const Pb=n=>(0,e.h)(k.l,Lk(Rk({},n),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var Bk=Object.defineProperty,kk=Object.defineProperties,Uk=Object.getOwnPropertyDescriptors,Eb=Object.getOwnPropertySymbols,Fk=Object.prototype.hasOwnProperty,jk=Object.prototype.propertyIsEnumerable,wb=(n,t,r)=>t in n?Bk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Wk=(n,t)=>{for(var r in t||(t={}))Fk.call(t,r)&&wb(n,r,t[r]);if(Eb)for(var r of Eb(t))jk.call(t,r)&&wb(n,r,t[r]);return n},Hk=(n,t)=>kk(n,Uk(t));const Vk=n=>(0,e.h)(k.l,Hk(Wk({},n),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:n.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var Kk=Object.defineProperty,$k=Object.defineProperties,zk=Object.getOwnPropertyDescriptors,Cb=Object.getOwnPropertySymbols,Gk=Object.prototype.hasOwnProperty,Zk=Object.prototype.propertyIsEnumerable,Ob=(n,t,r)=>t in n?Kk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Yk=(n,t)=>{for(var r in t||(t={}))Gk.call(t,r)&&Ob(n,r,t[r]);if(Cb)for(var r of Cb(t))Zk.call(t,r)&&Ob(n,r,t[r]);return n},Jk=(n,t)=>$k(n,zk(t));const Xk=n=>(0,e.h)(k.l,Jk(Yk({},n),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var Qk=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});function qk(){var n;return typeof window!="undefined"?((n=window._preloads)==null?void 0:n.file)||{}:{}}function eU(n,t){return`${n.title.toLowerCase().replace(/\s/g,"_")}.${t.toLowerCase()}`}function tU({file:n=qk(),pub:t}){const[r,i]=(0,o.eJ)(null);return(0,o.d4)(()=>(()=>Qk(this,null,function*(){if(!n.fileKey){const a=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);a.redirected&&(window.location.href=a.url);const D=yield a.json();i(D)}}))(),[n.fileKey]),(0,e.h)(nU,{file:r||n,pub:t})}function nU({file:n,pub:t}){var r;if(!n.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const i=(r=n.file_key)==null?void 0:r.split(".").pop().toUpperCase(),a=(0,Vt.numberToHumanFileSize)(n.num_bytes),D=eU(n,i);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,p.getBaseUrl)(t)}/p/${n.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${n.thumbnail&&n.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:n.thumbnail||`${(0,p.getBaseUrl)(t)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},n.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},a," \u2219 ",i," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,p.getBaseUrl)(t)}/api/v1/file/panels/${n.file_key}`},(0,e.h)(Xk,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(Pb,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:D,href:`${(0,p.getBaseUrl)(t)}/api/v1/file/${n.file_key}`},(0,e.h)(Vk,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},D)),(0,e.h)(Pb,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var rU=Object.defineProperty,oU=(n,t,r)=>t in n?rU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Sb=(n,t,r)=>(oU(n,typeof t!="symbol"?t+"":t,r),r),iU=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});class Rp extends e.Component{constructor(){super(...arguments),Sb(this,"acceptInvite",()=>iU(this,null,function*(){var t,r;try{const i=yield $t().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(t=i.body)!=null&&t.postUrl?location.href=(r=i.body)==null?void 0:r.postUrl:(0,T.redirect)(`/invite-success/${this.props.matches.id}`)}catch(i){const a=(0,T.getNetworkErrorMessage)(i);this.setState({error:a})}}))}componentDidMount(){this.props.user||(0,T.redirectToLogin)()}render({pub:t,post:r,user:i,freeSignup:a,freeSignupEmail:D,inviteToPost:B,primaryEligiblePublications:j,switchAccountRedirectUrl:U},{error:Y}){if(Y)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,Y));const ge=B&&r&&r.type==="podcast",Se=ge&&i?"Fill out your profile for your podcast appearance":ge&&!i?"Set up your profile for your podcast appearance":B&&i?"Set up your profile":B&&!i?"Fill out your profile":`Your invite to ${t.name}`,De=ge?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":B?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",Fe=B?"Update Profile & Accept Invite":"Accept Invite",qe=i?"Already a writer?":"Already have an account?",Ye=i?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,Se),(0,e.h)("p",null,De),(0,e.h)(tp._0,{pageTitle:"",user:i,freeSignup:a,freeSignupEmail:D,needsPhoto:!1,optionalPhoto:B,isPostInvite:B,primaryEligiblePublications:j,onSuccess:this.acceptInvite,text:Fe}),B&&U&&(0,e.h)("div",{className:"invite-switch-account"},qe," ",(0,e.h)("a",{href:U},Ye)))}}Sb(Rp,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});class aU extends e.Component{renderNotAvailable(t,{time:r=!1}={}){const i=r?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),t,(0,e.h)("p",null,"Sorry, ",i,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(Le.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,sU(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:t,t:r,user:i,freeSignupEmail:a,viral_gift_data:D}){const{sender_name:B,count_remaining:j,sender_id:U}=D,Y=(0,Vt.getGiftValueText)(t.plans),ge=Y?` (value: ${Y})`:"",Se=`Accept ${B||"your friend"}'s gift`,De=`A three-month subscription to ${t.name}${ge}`,Fe=(0,T.setMetaData)({title:Se,description:De,image:t.logo_url});if(!r||!j)return this.renderNotAvailable(Fe);let qe=null;i&&i.id==U&&(qe=this.renderForSender());let Ye="",st=a||"";i&&!qe&&(Ye=i.name,st=i.email);const gt=`${j} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},qe,Fe,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,B||"Your friend"," would like to give you a free, three-month subscription. ",ge),(0,e.h)("p",null,(0,e.h)("b",null,gt)),(0,e.h)(Rt.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Ye}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:st}),(0,e.h)("input",{type:"hidden",value:r,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(Je.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function sU(n){return n.name?n.name.trim().split(/\s+/g)[0]:n.email.split("@")[0]}var lU=wt(39693),Tb=wt.n(lU);const Ib=({pub:n,section:t,isPodcast:r})=>{const{getExperimentVariant:i}=(0,Zt.jc)();let a,D;return r&&n.podcast_title?({title:a}=Lc(n,{primaryTitleOverride:n.podcast_title}),D=n.podcast_description):t?{title:a,description:D}=Lc(n,{primaryTitleOverride:`${t.name} | ${n.name}`,primaryDescriptionOverride:t.description}):{title:a,description:D}=Lc(n,{rankingVariant:op(n)&&i("seo_meta_subscriber_count_x1",{onlyConsiderExposedValues:!0})||void 0}),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Ud()((0,Fd.hd)(n),{json:!0,isScriptContext:!0})}}),(0,T.setMetaData)({title:a,description:D}))},xb=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,noBalanceHeroText:a,pub:D,referralCode:B,showWelcome:j,user:U,launchWelcomePage:Y})=>{const ge=(0,o.sO)(!1),Se=(0,o.sO)(null);return(0,o.d4)(()=>{(0,p.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({action:null})),ge.current=!0),ge.current&&Se.current&&Se.current.open(),typeof window!="undefined"&&j&&(0,T.removeQueryParam)("showWelcome")},[j]),(0,e.h)(e.Fragment,null,(0,e.h)(Ql.ZP,{ref:De=>Se.current=De,pub:D,user:U}),(0,e.h)($,{blurbs:n,freeSignup:t,freeSignupEmail:r,hidden:i||ge.current,noBalance:a,publication:D,referralCode:B,showOnMount:j,user:U,launchWelcomePage:Y}))};var uU=wt(78718),Db=wt.n(uU),cU=Object.defineProperty,dU=Object.defineProperties,fU=Object.getOwnPropertyDescriptors,Mb=Object.getOwnPropertySymbols,pU=Object.prototype.hasOwnProperty,hU=Object.prototype.propertyIsEnumerable,Ab=(n,t,r)=>t in n?cU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Nb=(n,t)=>{for(var r in t||(t={}))pU.call(t,r)&&Ab(n,r,t[r]);if(Mb)for(var r of Mb(t))hU.call(t,r)&&Ab(n,r,t[r]);return n},Rb=(n,t)=>dU(n,fU(t));const Lb=({noFirstImage:n,posts:t,pub:r,user:i,utm:a,onChange:D})=>{const B={pub:r,user:i,utm:a,onChange:D};return(0,e.h)(di,Rb(Nb({},B),{variant:n?"two-three-two":"five-up",posts:t}))},mU=n=>(0,e.h)(Lb,Rb(Nb({},n),{noFirstImage:!0})),_U={link:"frontend-main-home-MetaLink-module__link--b9iM0"},cu=({children:n,href:t,testid:r})=>(0,e.h)(y.xv.Meta,{className:_U.link,color:"pub-primary-text",as:"a",native:!0,href:t,"data-testid":r},n),gU={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"},Os=({children:n})=>(0,e.h)(y.xv,{className:gU.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},n),Bb=({pub:n})=>(0,e.h)(y.gq,{justifyContent:"space-between"},(0,e.h)(Os,null,"Most Popular"),(0,e.h)(cu,{href:(0,p.getArchiveUrl)(n,{params:{sort:"top"}})},"View all"));var vU=Object.defineProperty,yU=Object.defineProperties,bU=Object.getOwnPropertyDescriptors,kb=Object.getOwnPropertySymbols,PU=Object.prototype.hasOwnProperty,EU=Object.prototype.propertyIsEnumerable,Ub=(n,t,r)=>t in n?vU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Lp=(n,t)=>{for(var r in t||(t={}))PU.call(t,r)&&Ub(n,r,t[r]);if(kb)for(var r of kb(t))EU.call(t,r)&&Ub(n,r,t[r]);return n},Bp=(n,t)=>yU(n,bU(t));const Fb=({noFirstImage:n,posts:t,topPosts:r,pub:i,user:a,utm:D,onChange:B})=>{const j={pub:i,user:a,utm:D,onChange:B},{isTablet:U,isMobile:Y}=bi();return Y?null:(0,e.h)(Xa,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(di,Bp(Lp({},j),{variant:n?"two-small-three-medium":"two-small-one-large",posts:t,flex:"grow"})),r&&(0,e.h)(y.tu,{gap:12},(0,e.h)(Bb,{pub:i}),(0,e.h)(di,Bp(Lp({},j),{flex:"grow",variant:U?"mini-row":"one-column-list",posts:r.slice(0,U?3:5)}))))},wU=n=>(0,e.h)(Fb,Bp(Lp({},n),{noFirstImage:!0})),CU=({posts:n,pub:t,user:r,utm:i,onChange:a})=>n.length?(0,e.h)(rl,{pub:t,user:r,utm:i,onChange:a,variant:"mobile-hero",post:n[0]}):null;var OU=Object.defineProperty,SU=Object.defineProperties,TU=Object.getOwnPropertyDescriptors,jb=Object.getOwnPropertySymbols,IU=Object.prototype.hasOwnProperty,xU=Object.prototype.propertyIsEnumerable,Wb=(n,t,r)=>t in n?OU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,DU=(n,t)=>{for(var r in t||(t={}))IU.call(t,r)&&Wb(n,r,t[r]);if(jb)for(var r of jb(t))xU.call(t,r)&&Wb(n,r,t[r]);return n},MU=(n,t)=>SU(n,TU(t));const Hb=({isSmall:n,posts:t,pub:r,user:i,utm:a,onChange:D})=>t.length?(0,e.h)(Xa,{variant:n?"three-column-width":"full-width"},(0,e.h)(rl,{pub:r,user:i,utm:a,onChange:D,variant:n?"jumbo-small":"jumbo",post:t[0]})):null,AU=n=>(0,e.h)(Hb,MU(DU({},n),{isSmall:!0}));var NU=Object.defineProperty,nd=Object.getOwnPropertySymbols,Vb=Object.prototype.hasOwnProperty,Kb=Object.prototype.propertyIsEnumerable,$b=(n,t,r)=>t in n?NU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,RU=(n,t)=>{for(var r in t||(t={}))Vb.call(t,r)&&$b(n,r,t[r]);if(nd)for(var r of nd(t))Kb.call(t,r)&&$b(n,r,t[r]);return n},LU=(n,t)=>{var r={};for(var i in n)Vb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&nd)for(var i of nd(n))t.indexOf(i)<0&&Kb.call(n,i)&&(r[i]=n[i]);return r};const BU={magaziney:Fb,"magazine-5":Lb,newspaper:Hb},kU=n=>{var t=n,{firstPostMissingImage:r,bodyVariant:i,isMobile:a,variant:D}=t,B=LU(t,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let j=BU[D];return a?j=CU:D==="newspaper"&&i==="list"?j=AU:D==="magaziney"&&r?j=wU:D==="magazine-5"&&r&&(j=mU),j?(0,e.h)(j,RU({},B)):(console.error("Component not found, add one to HomeHero"),null)},ol=(0,e.createContext)({contributors:void 0,freeSignup:void 0,freeSignupEmail:void 0,homepageLinks:void 0,numRecommendations:void 0,recommendations:void 0});var UU=wt(7739),FU=wt.n(UU),jU=Object.defineProperty,WU=Object.defineProperties,HU=Object.getOwnPropertyDescriptors,zb=Object.getOwnPropertySymbols,VU=Object.prototype.hasOwnProperty,KU=Object.prototype.propertyIsEnumerable,Gb=(n,t,r)=>t in n?jU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$U=(n,t)=>{for(var r in t||(t={}))VU.call(t,r)&&Gb(n,r,t[r]);if(zb)for(var r of zb(t))KU.call(t,r)&&Gb(n,r,t[r]);return n},zU=(n,t)=>WU(n,HU(t));const GU=n=>(0,e.h)(k.l,zU($U({},n),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var ZU=Object.defineProperty,Zb=Object.getOwnPropertySymbols,YU=Object.prototype.hasOwnProperty,JU=Object.prototype.propertyIsEnumerable,Yb=(n,t,r)=>t in n?ZU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Jb=(n,t)=>{for(var r in t||(t={}))YU.call(t,r)&&Yb(n,r,t[r]);if(Zb)for(var r of Zb(t))JU.call(t,r)&&Yb(n,r,t[r]);return n};const XU=({homepageLinks:n,pub:t,renderGroup:r,renderLink:i})=>{const a=FU()(n,"group"),D=Mn()(Object.keys(a),B=>a[B][0].rank);return(0,e.h)(e.Fragment,null,D.map(B=>(0,e.h)(QU,{group:B,items:a[B],pub:t,newTab:!0,renderGroup:r,renderLink:i})))},QU=({group:n,items:t,newTab:r,pub:i,renderGroup:a,renderLink:D})=>{const B=[];let j=null;r&&(j="_blank",B.push("noopener")),(!i||i!=null&&i.no_follow)&&B.push("ugc nofollow");const U={rel:B.join(" "),target:j},Y=(0,e.h)(e.Fragment,null,t.map(({title:ge,url:Se,subtitle:De,subtitleUrl:Fe,edit:qe,className:Ye})=>D?D({title:ge,url:Se,subtitle:De,linkProps:U}):(0,e.h)("div",{className:u()("home-right-col",Ye)},qe?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:Se,native:!0},ge),(0,e.h)(Je.Z,{className:"button secondary show-on-hover",href:qe,title:"edit"},(0,e.h)(GU,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",Jb({className:"home-right-col-title",href:Se,native:!0},U),ge),De&&(0,e.h)("a",Jb({className:"home-right-col-sub",href:Fe||Se,native:!0},U),De))));return a?a({title:n,links:Y}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},n),Y)},Xb={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"};var qU=Object.defineProperty,eF=Object.defineProperties,tF=Object.getOwnPropertyDescriptors,rd=Object.getOwnPropertySymbols,Qb=Object.prototype.hasOwnProperty,qb=Object.prototype.propertyIsEnumerable,eP=(n,t,r)=>t in n?qU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,nF=(n,t)=>{for(var r in t||(t={}))Qb.call(t,r)&&eP(n,r,t[r]);if(rd)for(var r of rd(t))qb.call(t,r)&&eP(n,r,t[r]);return n},rF=(n,t)=>eF(n,tF(t)),oF=(n,t)=>{var r={};for(var i in n)Qb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&rd)for(var i of rd(n))t.indexOf(i)<0&&qb.call(n,i)&&(r[i]=n[i]);return r};const iF=(0,dt.forwardRef)((n,t)=>{var r=n,{children:i,className:a,disable:D,hoverBackground:B,onClick:j}=r,U=oF(r,["children","className","disable","hoverBackground","onClick"]);const Y=D?void 0:j;return(0,e.h)(zs.xu,rF(nF({},U),{ref:t,className:u()(a,!D&&Xb.container,{[Xb.containerHoverLight]:B==="light"&&!D}),role:Y?"button":void 0,onClick:Y}),i)});var aF=Object.defineProperty,sF=Object.defineProperties,lF=Object.getOwnPropertyDescriptors,od=Object.getOwnPropertySymbols,tP=Object.prototype.hasOwnProperty,nP=Object.prototype.propertyIsEnumerable,rP=(n,t,r)=>t in n?aF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,oP=(n,t)=>{for(var r in t||(t={}))tP.call(t,r)&&rP(n,r,t[r]);if(od)for(var r of od(t))nP.call(t,r)&&rP(n,r,t[r]);return n},iP=(n,t)=>sF(n,lF(t)),uF=(n,t)=>{var r={};for(var i in n)tP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&od)for(var i of od(n))t.indexOf(i)<0&&nP.call(n,i)&&(r[i]=n[i]);return r};const du=n=>{var t=n,{image:r,linkProps:i,subtitle:a,title:D,url:B}=t,j=uF(t,["image","linkProps","subtitle","title","url"]);const{size:U,lineHeight:Y}=xp.sm;return(0,e.h)("a",iP(oP({},i),{href:B,style:{textDecoration:"none",display:"block"}}),(0,e.h)(iF,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(y.gq,iP(oP({},j),{alignItems:"center",gap:16}),r&&(0,e.h)(y.xu,{alignSelf:"start"},r),(0,e.h)(y.tu,{style:{wordBreak:"break-word"}},(0,e.h)(y.xv,{color:"pub-primary-text",font:"pub-headings",lineHeight:Y,size:U},D),a&&(0,e.h)(y.xv.B4,{color:"pub-secondary-text",size:12,clamp:3},a)))))},aP=({hideHeaderBorder:n,pub:t})=>{const{homepageLinks:r}=(0,o.qp)(ol);return!r||r.length===0?null:(0,e.h)(y.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(XU,{homepageLinks:r,pub:t,renderGroup:({title:i,links:a})=>(0,e.h)(y.tu,{gap:16},(0,e.h)(y.gq,{alignItems:"center",borderBottom:n?void 0:"detail-themed",paddingBottom:n?void 0:8},(0,e.h)(Os,null,i)),(0,e.h)(y.tu,{gap:4},a)),renderLink:({linkProps:i,subtitle:a,title:D,url:B})=>(0,e.h)(du,{linkProps:i,subtitle:a,title:D,url:B})}))},cF={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"},id=()=>(0,e.h)(y.xu,{paddingX:16,paddingY:20,radius:6,className:cF.container},(0,e.h)(y.xv.B4,{color:"pub-secondary-text"},"Coming soon"));var dF=Object.defineProperty,fF=Object.defineProperties,pF=Object.getOwnPropertyDescriptors,sP=Object.getOwnPropertySymbols,hF=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable,lP=(n,t,r)=>t in n?dF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_F=(n,t)=>{for(var r in t||(t={}))hF.call(t,r)&&lP(n,r,t[r]);if(sP)for(var r of sP(t))mF.call(t,r)&&lP(n,r,t[r]);return n},gF=(n,t)=>fF(n,pF(t)),uP=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const vF=(n,t,r,i,{trackOnly:a=!1}={})=>()=>uP(void 0,null,function*(){if((0,C.j)(C.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!a)try{yield $t().post("/api/v1/free").send({email:r.email,source:"recommendations_page",other_publication_id:n.id}),i(n)}catch(D){alert("Something went wrong")}}),yF=(n,t,r,{trackOnly:i=!1}={})=>()=>uP(void 0,null,function*(){if((0,C.j)(C.FP.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!i)try{yield $t().delete("/api/v1/free").send({publication_id:n.id,source:"recommendations_page"}),r(n)}catch(a){alert("Something went wrong")}}),bF=({pub:n,recommendations:t,allSubscribedPubs:r,fullySubscribedPubs:i,user:a})=>{const{getExperimentVariant:D,exposeExperiment:B}=(0,Zt.jc)(),[j,U]=(0,o.eJ)(r),Y=Se=>{U([...j,Se])},ge=Se=>{U(j.filter(({id:De})=>De!==Se.id))};return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,"Recommended by ",(0,Vt.getByLine)(n)||n.name),(0,e.h)("div",{className:"recommended-publications-container"},t.map((Se,De)=>{const Fe=Se.recommendedPublication;if(!Fe)return;const qe=`${(0,p.getBaseUrl)(Fe)}/?utm_source=recommendations_page&utm_campaign=${n.id}`,Ye=(0,p.getSubscribeUrl)(Fe,{addBase:!0,utm_source:"recommendations_page"}),st=(0,Vt.getByLine)(Fe),gt=i.map(({id:yt})=>yt).includes(Fe.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:qe,onClick:()=>{(0,C.j)(C.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:Fe.id,recommending_publication_id:n.id})}},(0,e.h)(Yt.Z,{pub:Fe,size:48,logo_url:Fe.logo_url||Fe.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},Fe.name),!!st&&(0,e.h)("div",{className:"publication-author"},"By ",st))),j.map(({id:yt})=>yt).includes(Fe.id)?(0,e.h)(Je.Z,{onClick:yF(Fe,n,ge,{trackOnly:gt}),href:gt?(0,p.getPubAccountSettingsUrl)(Fe,{addBase:!0}):null,className:"unsubscribe"},"Subscribed"):(0,e.h)(Je.Z,{onClick:vF(Fe,n,a,Y,{trackOnly:!(a!=null&&a.email)}),href:a!=null&&a.email?null:Ye},(0,e.h)(e.Fragment,null,(0,e.h)(pe.Z,{onVisible:()=>{B("subscribe_icon"),(0,C.j)(C.FP.SUBSCRIBE_BUTTON_SHOWN,{source:"recommendations-page"})}}),(0,e.h)(y.gq,{alignItems:"center",gap:8},D("subscribe_icon")==="treatment"?(0,e.h)(_l.Z,{size:20}):null,"Subscribe")))),(0,e.h)("div",{className:"publication-suggestion-text-area"},(Fe.editorial_bio||Fe.hero_text)&&(0,e.h)("div",{className:"publication-description"},Fe.editorial_bio||Fe.hero_text)),Se.description&&(0,e.h)(PF,{content:Se.description,author:(0,Vt.getByLine)(n)||n.name}))))}))))},PF=({author:n,content:t})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},t),(0,e.h)("p",{className:"blurb-author"},"- ",n)),EF=({recommendations:n,numRecommendations:t,pub:r,user:i,render:a,renderRecommendation:D})=>{const B=n.map(j=>(0,e.h)(wF,{recommendation:j,pub:r,signedIn:!!i,render:D}));return(0,o.d4)(()=>{(0,C.j)(C.FP.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:n.map(({recommendedPublication:j})=>j.id)})},[n]),a?a({recommendations:B,canManage:!!(i!=null&&i.is_admin),manageUrl:(0,p.getPublishSettingsRecommendationsUrl)(r),hasMore:t>n.length,hasMoreUrl:(0,p.getRecommendationsPageUrl)(r),recommendationsCount:t}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(r)},"Recommendations"),i!=null&&i.is_admin?(0,e.h)("a",{href:(0,p.getPublishSettingsRecommendationsUrl)(r),native:!0},"Manage"):t>n.length?(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(r),native:!0},"View all ",t):null),B)},wF=({recommendation:n,pub:t,signedIn:r,render:i})=>{const{recommendedPublication:a}=n,D=(0,p.getPubUrl)(a,{params:{utm_source:"homepage_recommendations",utm_campaign:t.id},signedIn:r}),B=()=>{(0,C.j)(C.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:t.id,recommended_publication_id:a.id,source:"homepage-recommendations"})},j={pub:a,logo_url:a.logo_url,href:D,openInNewTab:!0,belowTheFold:!0};return i?i({pubIconProps:j,pubName:a.name,pubAuthor:a.author.name,url:D,onClick:B}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:B},(0,e.h)(Yt.Z,gF(_F({},j),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:D,target:"_blank",onClick:B},a.name),(0,e.h)("div",{className:"pub-author"},a.author.name)))))},CF=EF;var OF=Object.defineProperty,SF=Object.defineProperties,TF=Object.getOwnPropertyDescriptors,cP=Object.getOwnPropertySymbols,IF=Object.prototype.hasOwnProperty,xF=Object.prototype.propertyIsEnumerable,dP=(n,t,r)=>t in n?OF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,DF=(n,t)=>{for(var r in t||(t={}))IF.call(t,r)&&dP(n,r,t[r]);if(cP)for(var r of cP(t))xF.call(t,r)&&dP(n,r,t[r]);return n},MF=(n,t)=>SF(n,TF(t));const fP=({pub:n,showEmptyState:t,hideHeaderBorder:r,user:i})=>{const{numRecommendations:a,recommendations:D}=(0,o.qp)(ol);return!D||D.length===0&&!t?null:(0,e.h)(CF,{recommendations:D,numRecommendations:a,pub:n,user:i,render:({recommendations:B,canManage:j,manageUrl:U,hasMore:Y,hasMoreUrl:ge,recommendationsCount:Se})=>(0,e.h)(y.tu,{gap:16},(0,e.h)(y.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:r?void 0:8,borderBottom:r?void 0:"detail-themed"},(0,e.h)(Os,null,"Recommendations"),j?(0,e.h)(cu,{href:U},"Manage"):Y?(0,e.h)(cu,{href:ge,testid:"homepage-recommendations-view-all"},"View all ",Se):null),(0,e.h)(y.tu,{gap:4,"data-testid":"homepage-recommendations"},a===0?(0,e.h)(id,null):B)),renderRecommendation:({url:B,onClick:j,pubIconProps:U,pubName:Y,pubAuthor:ge})=>{const Se={onClick:j,target:"_blank",rel:"noopener"};return(0,e.h)(du,{"data-testid":"homepage-recommendation",image:(0,e.h)(Yt.Z,MF(DF({},U),{size:40,noMargin:!0})),linkProps:Se,subtitle:ge,title:Y,url:B})}})},pP={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"},hP=({pub:n,user:t})=>{const{freeSignup:r,freeSignupEmail:i}=(0,o.qp)(ol),{size:a,lineHeight:D}=xp.sm;return(0,e.h)(y.tu,{className:pP.container,gap:24},(0,e.h)(y.tu,{gap:8},n.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:pP.pubLogo,src:(0,p.imginary)(n.logo_url,88),alt:n.name}),(0,e.h)("div",null,(0,e.h)(y.xv,{size:a,lineHeight:D,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},n.name),n.hero_text&&(0,e.h)(y.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},n.hero_text))),!(t!=null&&t.is_subscribed)&&(0,e.h)(ys,{pub:n,user:t,freeSignup:r,freeSignupEmail:i,isStatic:!1,source:"magaziney-home-page"}))},AF=({pub:n,user:t})=>{const{isMobile:r}=bi();return(0,e.h)(y.tu,{gap:40},!r&&(0,e.h)(hP,{pub:n,user:t}),n.show_recs_on_homepage&&(0,e.h)(fP,{pub:n,user:t}),(0,e.h)(aP,{pub:n}))},NF=(0,Po.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]]);var RF=wt(35570);const fu={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var LF=Object.defineProperty,BF=Object.defineProperties,kF=Object.getOwnPropertyDescriptors,ad=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,_P=Object.prototype.propertyIsEnumerable,gP=(n,t,r)=>t in n?LF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,es=(n,t)=>{for(var r in t||(t={}))mP.call(t,r)&&gP(n,r,t[r]);if(ad)for(var r of ad(t))_P.call(t,r)&&gP(n,r,t[r]);return n},il=(n,t)=>BF(n,kF(t)),vP=(n,t)=>{var r={};for(var i in n)mP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ad)for(var i of ad(n))t.indexOf(i)<0&&_P.call(n,i)&&(r[i]=n[i]);return r},UF=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const sd=n=>"email_from_name"in n,FF=n=>{var t;const[r,i]=(0,o.eJ)((t=n.postsByGroupId)!=null?t:{}),[a,D]=(0,o.eJ)(!1),B=n,{posts:j,bodyPostGroups:U,hasEmptyGroupOptions:Y,setHasInvalidGroupSelection:ge}=B,Se=vP(B,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,o.d4)(()=>{const Ye=st=>UF(void 0,null,function*(){const gt=es({},r);for(const yt of st){const At={limit:6};if(sd(yt)?At.section_id=yt.id:At.post_tag_id=yt.id,!gt[yt.id]){const{body:Bt}=yield $t().get("/api/v1/archive").query(At);gt[yt.id]=Bt}}Zl()(gt,r)||(i(gt),D(!1))});Object.keys(r).length===0&&U&&(U==null?void 0:U.length)>0&&(D(!0),Ye(U))},[U,i,r]);const De=(0,o.I4)(Ye=>{var st;const gt=(st=Ye.post_tag_id)!=null?st:Ye.section_id;if(!gt)throw new Error("Must supply section_id or post_tag_id");r&&r[gt]||$t().get("/api/v1/archive").query(es({limit:3},Ye)).then(({body:yt})=>{i(il(es({},r),{[gt]:yt}))})},[r,i]),Fe=[j.slice(0,3),j.slice(3,6),j.slice(6)],qe=(0,o.I4)(Ye=>!r||r&&Object.keys(r).length===0||!r[Ye]?null:r[Ye].slice(0,3),[r]);return Y||!U||(U==null?void 0:U.length)===0?ge?(ge(!0),(0,e.h)(yP,{message:"No groups selected"})):(0,e.h)(y.tu,null,(0,e.h)(kp,{pub:n.pub}),(0,e.h)(di,il(es({},Se),{variant:"three-column-grid",posts:Fe.slice(U!=null&&U.length?U==null?void 0:U.length:0).flat()}))):(0,e.h)("div",{className:fu.homePageGroupsGrid},U.map(Ye=>{const st=qe(Ye.id);return(0,e.h)(y.tu,{paddingBottom:24},(0,e.h)(kp,{pub:n.pub,row:Ye}),(0,e.h)(jF,il(es({},Se),{posts:j,loadingSync:a,groupModel:Ye,postsForId:st,setHasInvalidGroupSelection:ge,onIntersectCallback:()=>{const gt=sd(Ye)?{section_id:Ye.id}:{post_tag_id:Ye.id};De(gt)}})))}),U.length<3?(0,e.h)(y.tu,null,(0,e.h)(kp,{pub:n.pub}),(0,e.h)(di,il(es({},Se),{variant:"three-column-grid",posts:Fe.slice(U!=null&&U.length?U==null?void 0:U.length:0).flat()}))):null)},yP=({groupModel:n,message:t})=>(0,e.h)(y.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(y.tu,{alignItems:"center",justifyContent:"center",className:u()(fu.homePageGroupsGrid,n?fu.emptyGroupView:fu.emptyRowsView)},(0,e.h)(NF,{className:fu.emptyContentIcon}),t&&(0,e.h)(y.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},t),n&&(0,e.h)(y.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",sd(n)?"section":"tag"," to include it on your homepage."))),kp=({row:n,pub:t})=>{var r;const{isMobile:i}=bi();let a="/archive";return n&&(a=sd(n)?(0,oe.getSectionUrl)(t,{section:n}):(0,oe.getPostTagUrl)(t,n)),(0,e.h)(y.tu,{paddingBottom:12,paddingX:i?0:8},(0,e.h)(y.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(y.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(r=n==null?void 0:n.name)!=null?r:"Recent posts"),(0,e.h)(cu,{href:a},"See all")))},jF=n=>{const t=n,{onIntersectCallback:r,groupModel:i,loadingSync:a,postsForId:D,setHasInvalidGroupSelection:B}=t,j=vP(t,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[U,Y]=(0,RF.Z)();return(0,o.d4)(()=>{Y!=null&&Y.isIntersecting&&!a&&r()},[Y==null?void 0:Y.isIntersecting,r,a]),D?D.length===0?B?(B(!0),(0,e.h)(yP,{groupModel:i})):(0,e.h)(di,il(es({},j),{variant:"three-column-grid",posts:j.posts.slice(0,3)})):(0,e.h)(di,il(es({},j),{variant:"three-column-grid",posts:D})):(0,e.h)(Ip,{postCount:3,variant:"grid-groups",ref:U})};var WF=Object.defineProperty,HF=Object.defineProperties,VF=Object.getOwnPropertyDescriptors,bP=Object.getOwnPropertySymbols,KF=Object.prototype.hasOwnProperty,$F=Object.prototype.propertyIsEnumerable,PP=(n,t,r)=>t in n?WF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,EP=(n,t)=>{for(var r in t||(t={}))KF.call(t,r)&&PP(n,r,t[r]);if(bP)for(var r of bP(t))$F.call(t,r)&&PP(n,r,t[r]);return n},zF=(n,t)=>HF(n,VF(t));function GF({pub:n,user:t,freeSignup:r,freeSignupEmail:i,className:a=""}){const{iString:D}=(0,P.M1)();return(0,e.h)("div",{className:u()("home-sitemap",a)},(0,e.h)("h4",{className:"home-sitemap-title"},n.name),r||t&&t.is_free_subscribed?!(t&&t.is_subscribed)&&n.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,p.getSubscribeUrl)(n,{utm_source:"home-sitemap"}),native:!0},(0,Vt.getSubscribeText)(n)):null:(0,e.h)(y.xu,{paddingTop:20},(0,e.h)(Le.Z,{className:"home-sitemap-signup-form",freeSignup:r,freeSignupEmail:i,pub:n,source:"home-sitemap",user:t,onSuccess:B=>{B.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,p.pathWithQuery)("/account/login",{redirect:document.location.href,email:B.body.email})},30):n.plans?document.location.href=(0,p.pathWithQuery)("/subscribe",zF(EP(EP({next:document.location.href,later:!0,just_signed_up:!0},B.body.subscription_id&&{subscription_id:B.body.subscription_id}),B.body.referral_token&&{referral_token:B.body.referral_token}),{requires_confirmation:B.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,p.getAboutUrl)(n),native:!!n.parent_publication_id},D("About")),(0,e.h)("a",{href:(0,p.getBaseArchiveUrl)(n)},"Archive"),n.has_recommendations&&(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(n),native:!0},D("Recommendations")),n.can_have_sitemap&&(0,e.h)("a",{href:(0,p.getSitemapUrl)(n),native:!0},"Sitemap")))}var ZF=Object.defineProperty,YF=Object.defineProperties,JF=Object.getOwnPropertyDescriptors,wP=Object.getOwnPropertySymbols,XF=Object.prototype.hasOwnProperty,QF=Object.prototype.propertyIsEnumerable,CP=(n,t,r)=>t in n?ZF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ss=(n,t)=>{for(var r in t||(t={}))XF.call(t,r)&&CP(n,r,t[r]);if(wP)for(var r of wP(t))QF.call(t,r)&&CP(n,r,t[r]);return n},Ts=(n,t)=>YF(n,JF(t));const OP=["newspaper","magaziney","magazine-5"],SP=16,cz=7,TP={newspaper:{id:"newspaper",label:"Feature",description:"One featured post",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:"Newspaper",description:"A side column of top posts",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:"Magazine",description:"Five featured posts",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},qF=OP.map(n=>({value:n,label:TP[n].label})),dz=()=>qF,ej=OP.reduce((n,t)=>Ts(Ss({},n),{[t]:TP[t].postCount}),{}),IP=["list","grid","grid-groups","custom"],xP={list:{id:"list",label:"List",description:"A list of posts",postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:"Grid",description:"A grid of nine posts",postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:"Groups (sections or tags)",description:"A grid of nine posts, grouped by section or tag",postCount:{desktop:9,tablet:9,mobile:7}},custom:{id:"custom",label:"Custom",description:"Custom layout",postCount:{desktop:0,tablet:0,mobile:0}}},tj=IP.reduce((n,t)=>Ts(Ss({},n),{[t]:xP[t].postCount}),{}),fz=({excludeCustom:n})=>IP.filter(t=>!n||t!=="custom").map(t=>({value:t,label:xP[t].label})),pz={subscribe:{id:"subscribe",label:"Subscribe"},recommendations:{id:"recommendations",label:"Recommendations"},links:{id:"links",label:"Links"},contributors:{id:"contributors",label:"Contributors"},newsletters:{id:"newsletters",label:"Newsletters"},podcasts:{id:"podcasts",label:"Podcasts"}},ld={posts:{min:3,default:6,max:7},rows:{min:1,default:2,max:3}},hz=n=>{let t=!1;const r=[],i={},a=new Set,D=new Set;let B=0;return n.length===0&&(t=!0,r.push("You must have at least one content block")),n.forEach(j=>{const U=nj(j);U==="latest"&&(B+=DP(j),B>SP&&(t=!0,i[j.id]=Ts(Ss({},i[j.id]),{post_source:[`You can't have more than ${SP} of your most recent posts`]}))),U!=="latest"&&U!=="none"&&(a.has(U)?(t=!0,i[j.id]=Ts(Ss({},i[j.id]),{post_source:["You can't use the same post source more than once"]})):a.add(U)),U==="none"&&j.block_type!=="subscribe"&&(t=!0,i[j.id]=Ts(Ss({},i[j.id]),{post_source:["This block type requires a post source"]})),j.primary_sidebar_modules.forEach(Y=>{D.has(Y)?(t=!0,i[j.id]=Ts(Ss({},i[j.id]),{primary_sidebar_modules:["You can't use the same module more than once"]})):D.add(Y)}),j.secondary_sidebar_modules.forEach(Y=>{D.has(Y)?(t=!0,i[j.id]=Ts(Ss({},i[j.id]),{secondary_sidebar_modules:["You can't use the same module more than once"]})):D.add(Y)})}),{hasError:t,errorObject:{global:r.length?r:null,contentBlocks:i}}},nj=n=>n.post_source==="tag"?`tag:${n.post_tag_id}`:n.post_source==="section"?`section:${n.section_id}`:n.post_source,DP=n=>{if(n.block_type==="list")return n.num_posts||ld.posts.default;if(n.block_type==="grid"){const t=4-(n.primary_sidebar_modules.length>0?1:0)-(n.secondary_sidebar_modules.length>0?1:0),r=n.num_rows||ld.rows.default;return t*r}return n.block_type==="feature"?4:0};var rj=Object.defineProperty,oj=Object.defineProperties,ij=Object.getOwnPropertyDescriptors,ud=Object.getOwnPropertySymbols,MP=Object.prototype.hasOwnProperty,AP=Object.prototype.propertyIsEnumerable,NP=(n,t,r)=>t in n?rj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Up=(n,t)=>{for(var r in t||(t={}))MP.call(t,r)&&NP(n,r,t[r]);if(ud)for(var r of ud(t))AP.call(t,r)&&NP(n,r,t[r]);return n},Fp=(n,t)=>oj(n,ij(t)),aj=(n,t)=>{var r={};for(var i in n)MP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ud)for(var i of ud(n))t.indexOf(i)<0&&AP.call(n,i)&&(r[i]=n[i]);return r};const sj={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},lj={grid:"three-column-grid",list:"two-column-list"},uj={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},cj=n=>{var t=n,{freeSignup:r,freeSignupEmail:i,hideImagesFromList:a,posts:D,pub:B,showSiteMap:j,source:U,user:Y,utm:ge,variant:Se,onChange:De,bodyPostGroups:Fe,postsByGroupId:qe}=t,Ye=aj(t,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:st}=bi(),gt=tj[Se][st],yt=Se==="list"&&(a||D.slice(0,gt).every(At=>!At.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(Xa,{variant:sj[Se],showContentBelowOnMobile:!0},(0,e.h)(Qc,Fp(Up({},Ye),{maxPosts:gt,newPosts:D,pub:B,user:Y,variant:Se}),({posts:At,linkToComments:Bt,onClickPost:xt})=>{const Ht={hideImages:yt,linkToComments:Bt,posts:At,pub:B,source:U,user:Y,utm:ge,onChange:De,onClickPost:xt};return Se==="grid-groups"?(0,e.h)(FF,Fp(Up({},Ht),{bodyPostGroups:Fe,postsByGroupId:qe,setHasInvalidGroupSelection:Ye.setHasInvalidGroupSelection,hasEmptyGroupOptions:Ye.hasEmptyGroupOptions})):(0,e.h)(di,Fp(Up({},Ht),{variant:lj[Se]}))}),(0,e.h)(AF,{pub:B,user:Y})),j&&(0,e.h)(Xa,{variant:uj[Se]},(0,e.h)(GF,{pub:B,user:Y,freeSignup:r,freeSignupEmail:i})))},dj={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"},jp=()=>(0,e.h)(y.xu,{paddingX:16,paddingY:48,radius:6,className:dj.container},(0,e.h)(y.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found")),Wp=({title:n,viewAllUrl:t})=>{const{isMobile:r}=bi();return(0,e.h)(y.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:r?12:16},r?(0,e.h)(Os,null,n):(0,e.h)(y.xv.H2,{color:"pub-primary-text",font:"pub-headings"},n),t&&(0,e.h)(cu,{href:t},"View all"))},pu={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"},fj=({leftContent:n,rightContent:t,mobileContent:r})=>{const{isMobile:i}=bi();return i&&r?r:(0,e.h)("div",{className:pu.container},(0,e.h)("div",{className:u()(pu.column,pu.left)},n),(0,e.h)("div",{className:u()(pu.column,pu.right)},t))},pj=({posts:n,pub:t,showEmptyState:r,title:i,user:a,viewAllUrl:D,onChange:B})=>{const{isTablet:j}=bi();return!r&&n.length===0?null:(0,e.h)(e.Fragment,null,i&&(0,e.h)(Wp,{title:i,viewAllUrl:D}),n.length?(0,e.h)(fj,{leftContent:(0,e.h)(rl,{imageAspectRatio:"wide",hideWash:!0,post:n[0],pub:t,user:a,variant:"large",onChange:B}),rightContent:(0,e.h)(di,{posts:n.slice(1,4),pub:t,user:a,variant:j?"one-column-list":"two-column-list",onChange:B}),mobileContent:(0,e.h)(di,{posts:n.slice(0,4),pub:t,user:a,variant:"two-column-list",onChange:B})}):(0,e.h)(jp,null))},Sa={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"},Hp=({leftContent:n,mainContent:t,rightContent:r,stretchToFullWidth:i})=>{const{isMobile:a,isTablet:D,isDesktop:B}=bi(),j=n&&r;let U=2;return i&&(B?U=4-(n?1:0)-(r?1:0):D&&(U=3-(n||r?1:0))),a&&(U=1),(0,e.h)("div",{className:Sa.outerContainer},(0,e.h)("div",{className:Sa.container},n&&(0,e.h)(y.xu,{className:u()(Sa.column,Sa.column1),borderRight:j?"detail-themed":void 0,paddingTop:8},n),(0,e.h)(y.xu,{className:u()(Sa.column,{[Sa.column2]:U===2,[Sa.column3]:U===3,[Sa.column4]:U===4}),borderRight:j?"detail-themed":void 0},t),r&&(0,e.h)(y.xu,{className:u()(Sa.column,Sa.column1),paddingTop:8},r)))};var hj=wt(8400),mj=wt.n(hj);const hu={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"},_j=({posts:n,pub:t,numColumns:r,user:i,onChange:a})=>{const D=mj()(n,r);return(0,e.h)(y.tu,{gap:16},D.map(B=>(0,e.h)(y.gq,{className:hu.postRow},B.map(j=>(0,e.h)("div",{className:u()(hu.postContainer,{[hu.postContainerTwoColumn]:r===2,[hu.postContainerThreeColumn]:r===3,[hu.postContainerFourColumn]:r===4})},(0,e.h)(rl,{post:j,pub:t,user:i,variant:"square",onChange:a}))))))},gj=()=>{const{contributors:n}=(0,o.qp)(ol);return n?(0,e.h)(y.tu,{gap:16},(0,e.h)(Os,null,"Contributors"),(0,e.h)(y.tu,{gap:4},n.length?n.map(t=>(0,e.h)(du,{image:t.photo_url?(0,e.h)(ec,{imageUrl:t.photo_url,size:"md"}):void 0,title:t.name||"",url:"#"})):(0,e.h)(id,null))):null},Is={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG",logoPlaceholder:"frontend-main-home-sidebar-PodcastArt-module__logoPlaceholder--D2tNI"},RP=({altText:n="Section logo",size:t=64,url:r,showPlaceholder:i})=>r?(0,e.h)("img",{className:u()(Is.logo,{[Is["logo-64"]]:t===64,[Is["logo-72"]]:t===72}),src:(0,p.imginary)(r,t*2),alt:n}):i?(0,e.h)("div",{className:u()(Is.logo,Is.logoPlaceholder,{[Is["logo-64"]]:t===64,[Is["logo-72"]]:t===72})}):null,vj=({pub:n})=>{const t=n.sections.filter(i=>!i.is_podcast),r=t.some(i=>i.logo_url);return(0,e.h)(y.tu,{gap:16},(0,e.h)(Os,null,"Newsletters"),(0,e.h)(y.tu,{gap:4},t.length?t.map(i=>(0,e.h)(du,{image:i.logo_url||r?(0,e.h)(RP,{size:64,url:i.logo_url,altText:`Logo for ${i.name}`,showPlaceholder:!0}):null,title:i.name,subtitle:i.description,url:(0,oe.getSectionUrl)(n,{section:i,addBase:!0})})):(0,e.h)(id,null)))},yj=({pub:n})=>{const t=(0,Xl.FV)(n),r=t.some(i=>i.podcast_art_url);return(0,e.h)(y.tu,{gap:16},(0,e.h)(Os,null,"Podcasts"),(0,e.h)(y.tu,{gap:4},t.length?t.map(i=>(0,e.h)(du,{image:i.podcast_art_url||r?(0,e.h)(RP,{size:64,url:i.podcast_art_url,altText:`Logo for ${i.title}`,showPlaceholder:!0}):null,title:i.title,subtitle:i.subtitle,url:i.url})):(0,e.h)(id,null)))};var bj=Object.defineProperty,LP=Object.getOwnPropertySymbols,Pj=Object.prototype.hasOwnProperty,Ej=Object.prototype.propertyIsEnumerable,BP=(n,t,r)=>t in n?bj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wj=(n,t)=>{for(var r in t||(t={}))Pj.call(t,r)&&BP(n,r,t[r]);if(LP)for(var r of LP(t))Ej.call(t,r)&&BP(n,r,t[r]);return n};const ts=({ids:n,pub:t,user:r})=>{const i=Tb()(n.map(a=>a==="subscribe"?(0,e.h)(hP,{pub:t,user:r}):a==="recommendations"?(0,e.h)(fP,{pub:t,user:r,showEmptyState:!0,hideHeaderBorder:!0}):a==="links"?Cj(aP,{pub:t,hideHeaderBorder:!0}):a==="contributors"?(0,e.h)(gj,null):a==="podcasts"?(0,e.h)(yj,{pub:t}):a==="newsletters"?(0,e.h)(vj,{pub:t}):null));return(0,e.h)(y.tu,null,i.map((a,D)=>(0,e.h)(e.Fragment,null,a,D<i.length-1&&(0,e.h)(Vl,null))))},Cj=(n,t)=>{const r=(0,e.h)(n,wj({},t));return typeof r.type=="function"&&r.type(t)===null?null:r},Oj=({numRows:n,posts:t,pub:r,showEmptyState:i,sidebarLeft:a,sidebarRight:D,title:B,user:j,viewAllUrl:U,onChange:Y})=>{const{isDesktop:ge,isTablet:Se}=bi();if(!i&&t.length===0)return null;const De=a&&a.length>0,Fe=D&&D.length>0;let qe,Ye,st;ge?(qe=De?(0,e.h)(ts,{ids:a,pub:r,user:j}):void 0,Ye=Fe?(0,e.h)(ts,{ids:D,pub:r,user:j}):void 0,st=4-(Fe?1:0)-(De?1:0)):Se?Fe?(Ye=(0,e.h)(ts,{ids:[...D,...a!=null?a:[]],pub:r,user:j}),st=2):De?(qe=(0,e.h)(ts,{ids:a,pub:r,user:j}),st=2):st=3:st=1;const gt=st*n,yt=(0,e.h)(e.Fragment,null,B&&(0,e.h)(Wp,{title:B,viewAllUrl:U}),t.length?(0,e.h)(_j,{posts:t.slice(0,gt),pub:r,user:j,numColumns:st,onChange:Y}):(0,e.h)(jp,null));return(0,e.h)(Hp,{mainContent:yt,leftContent:qe,rightContent:Ye,stretchToFullWidth:!0})},Sj=({numPosts:n,posts:t,pub:r,showEmptyState:i,sidebarLeft:a,sidebarRight:D,title:B,user:j,viewAllUrl:U,onChange:Y})=>{const{isTablet:ge,isDesktop:Se}=bi();if(!i&&t.length===0)return null;const De=a&&a.length>0,Fe=D&&D.length>0;let qe,Ye;const st=(0,e.h)(e.Fragment,null,B&&(0,e.h)(Wp,{title:B,viewAllUrl:U}),t.length?(0,e.h)(di,{posts:t.slice(0,n),pub:r,user:j,variant:"two-column-list",onChange:Y}):(0,e.h)(jp,null));return Se?(qe=De?(0,e.h)(ts,{ids:a,pub:r,user:j}):void 0,Ye=Fe?(0,e.h)(ts,{ids:D,pub:r,user:j}):void 0):ge&&(Fe?Ye=(0,e.h)(ts,{ids:[...D,...a!=null?a:[]],pub:r,user:j}):De&&(qe=(0,e.h)(ts,{ids:a,pub:r,user:j}))),(0,e.h)(Hp,{mainContent:st,leftContent:qe,rightContent:Ye})},kP={outerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__outerContainer--y7q8i",innerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__innerContainer--kL5ui"},Tj=({contentBlock:n,pub:t,user:r})=>{const{iString:i}=(0,P.M1)(),{freeSignup:a,freeSignupEmail:D}=(0,o.qp)(ol),{isMobile:B}=bi(),j=a||(r==null?void 0:r.is_free_subscribed),U=r==null?void 0:r.is_subscribed,Y=(0,oe.getSubscribeUrl)(t,{params:{utm_source:"subscribe_content_block",gift:!0,next:document.location.href}});return(0,e.h)("div",{className:kP.outerContainer},(0,e.h)(y.xu,{className:kP.innerContainer,paddingY:B?40:48},(0,e.h)(y.hs,{direction:B?"column":"row",alignItems:"center",gap:16,justifyContent:"center"},(0,e.h)(y.xv.B1,{textAlign:B?"center":"left"},U?n.attrs.paid_subscriber_message:j?n.attrs.free_subscriber_message:n.attrs.non_subscriber_message),(0,e.h)(y.xu,{flex:"auto"},U?(0,e.h)(y.zx,{priority:"primary-theme",href:Y,localNavigation:!1},i("Gift a subscription")):(0,e.h)(ys,{pub:t,user:r,freeSignup:a,freeSignupEmail:D,source:"content-block"})))))},Ij=({contentBlock:n,posts:t,pub:r,showEmptyState:i,title:a,user:D,viewAllUrl:B,onChange:j})=>{var U,Y;return n.block_type==="list"?(0,e.h)(Sj,{numPosts:(U=n.num_posts)!=null?U:ld.posts.default,posts:t,pub:r,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:a,user:D,viewAllUrl:B,onChange:j}):n.block_type==="grid"?(0,e.h)(Oj,{numRows:(Y=n.num_rows)!=null?Y:ld.rows.default,posts:t,pub:r,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:a,user:D,viewAllUrl:B,onChange:j}):n.block_type==="feature"?(0,e.h)(pj,{posts:t,pub:r,showEmptyState:i,title:a,user:D,viewAllUrl:B,onChange:j}):n.block_type==="subscribe"?(0,e.h)(Tj,{contentBlock:n,pub:r,user:D}):null},xj=()=>(0,e.h)(y.xu,{paddingBottom:120},(0,e.h)(Hp,{mainContent:(0,e.h)(Ip,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")})),Dj=({contentBlocks:n,postsBySectionId:t,postsByTagId:r,postTagsById:i,pub:a,recentPosts:D,sectionsById:B,showEmptyStates:j,user:U,onChange:Y})=>{let ge=0;const Se=n.filter(De=>De.post_source==="latest").length>1;return(0,e.h)(y.tu,{paddingBottom:40},n.length||!j?n.map((De,Fe)=>{var qe,Ye;let st=[],gt="",yt;if(De.post_source==="latest"){const At=DP(De);st=D.slice(ge,ge+At),ge+=At,gt=Se?"":"Recent posts",yt=(0,p.getBaseArchiveUrl)(a)}else if(De.post_source==="section"&&De.section_id){const At=B[De.section_id];st=(qe=t[De.section_id])!=null?qe:[],gt=At.name,yt=(0,oe.getSectionUrl)(a,{section:At})}else if(De.post_source==="tag"&&De.post_tag_id){const At=i[De.post_tag_id];st=(Ye=r[De.post_tag_id])!=null?Ye:[],gt=At==null?void 0:At.name,yt=(0,oe.getPostTagUrl)(a,At)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${De.id}`,style:{scrollMarginTop:48}},(0,e.h)(Ij,{key:De.id,contentBlock:De,posts:st,pub:a,showEmptyState:j,title:gt,user:U,viewAllUrl:yt,onChange:Y})),Fe<n.length-1&&(0,e.h)(Vl,null))}):(0,e.h)(xj,null))};var Mj=Object.defineProperty,Aj=Object.defineProperties,Nj=Object.getOwnPropertyDescriptors,cd=Object.getOwnPropertySymbols,UP=Object.prototype.hasOwnProperty,FP=Object.prototype.propertyIsEnumerable,jP=(n,t,r)=>t in n?Mj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Rj=(n,t)=>{for(var r in t||(t={}))UP.call(t,r)&&jP(n,r,t[r]);if(cd)for(var r of cd(t))FP.call(t,r)&&jP(n,r,t[r]);return n},Lj=(n,t)=>Aj(n,Nj(t)),Bj=(n,t)=>{var r={};for(var i in n)UP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&cd)for(var i of cd(n))t.indexOf(i)<0&&FP.call(n,i)&&(r[i]=n[i]);return r};const kj=n=>{var t=n,{columns:r=4,posts:i,pub:a}=t,D=Bj(t,["columns","posts","pub"]);const{isMobile:B}=bi();return B?null:(0,e.h)(Xa,{variant:r===3?"three-column-width":"full-width"},(0,e.h)(y.tu,{gap:12},(0,e.h)(Bb,{pub:a}),(0,e.h)(di,Lj(Rj({},D),{pub:a,posts:i,variant:r===3?"three-column-mini-row":"mini-row"}))))},dd={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var Uj=Object.defineProperty,Fj=Object.defineProperties,jj=Object.getOwnPropertyDescriptors,fd=Object.getOwnPropertySymbols,WP=Object.prototype.hasOwnProperty,HP=Object.prototype.propertyIsEnumerable,VP=(n,t,r)=>t in n?Uj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Wj=(n,t)=>{for(var r in t||(t={}))WP.call(t,r)&&VP(n,r,t[r]);if(fd)for(var r of fd(t))HP.call(t,r)&&VP(n,r,t[r]);return n},Hj=(n,t)=>Fj(n,jj(t)),Vj=(n,t)=>{var r={};for(var i in n)WP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&fd)for(var i of fd(n))t.indexOf(i)<0&&HP.call(n,i)&&(r[i]=n[i]);return r};const Kj="modular-home-posts",$j=n=>{var t;const r=n,{alwaysShowActions:i,bodyPostGroups:a,contentBlocks:D,contributors:B,freeSignup:j,freeSignupEmail:U,homepageLinks:Y,numRecommendations:ge,postsByGroupId:Se,postsBySectionId:De,postsByTagId:Fe,postTagsById:qe,pub:Ye,recommendations:st,sectionsById:gt,showEmptyStates:yt,showSiteMap:At,theme:Bt,user:xt,utm:Ht}=r,en=Vj(r,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:Xt,topPosts:tn,onChange:fn}=kw(Db()(n,["newPosts","pinnedPosts","topPosts"])),{breakpoint:xn,isMobile:yn}=bi();if(Xt.length===0)return(0,e.h)(zj,null);const Gn=Xt[0],pn=tn==null?void 0:tn.filter(tr=>!Gn||tr.id!==Gn.id),Sn=!((t=Xt[0])!=null&&t.cover_image);let ur=ej[Bt.home_hero][xn];Sn&&["magaziney","magazine-5"].includes(Bt.home_hero)&&["desktop","tablet"].includes(xn)&&(ur+=2);let Qn=Bt.home_hero;Xt.length<ur+1&&(Qn="newspaper",ur=1);const jn=["newspaper","feature"].includes(Qn)&&Bt.home_posts==="list",Kn=Xt.length>=ur+1,Wn=Kn?Xt.slice(ur):Xt;return(0,e.h)(lb.Provider,{value:{alwaysShowActions:i}},(0,e.h)(ol.Provider,{value:{contributors:B,freeSignup:j,freeSignupEmail:U,homepageLinks:Y,numRecommendations:ge,recommendations:st}},(0,e.h)(y.tu,{className:dd.container},(0,e.h)(y.tu,{gap:32,paddingTop:!Kn&&yn?24:0},Kn&&(0,e.h)(kU,{firstPostMissingImage:Sn,bodyVariant:Bt.home_posts,isMobile:yn,posts:Xt.slice(0,ur),pub:Ye,topPosts:pn,user:xt,utm:Ht,variant:Qn,onChange:fn}),Bt.home_show_top_posts&&pn&&Qn!=="magaziney"&&Kn&&(0,e.h)(kj,{columns:jn?3:4,posts:pn,pub:Ye,user:xt,utm:Ht,onChange:fn})),(0,e.h)(y.tu,{className:dd.bodyContainer,id:Kj},Kn&&(0,e.h)(Vl,{numColumns:jn?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},Bt.home_posts!=="custom"&&(0,e.h)(cj,Hj(Wj({},en),{freeSignup:j,freeSignupEmail:U,hideImagesFromList:Bt.hide_images_from_list,posts:Wn,pub:Ye,showSiteMap:At,source:`${Bt.home_hero}-${Bt.home_posts}-home`,user:xt,utm:Ht,variant:Bt.home_posts,onChange:fn,bodyPostGroups:a,postsByGroupId:Se,hasEmptyGroupOptions:n.hasEmptyGroupOptions})),Bt.home_posts==="custom"&&D&&De&&Fe&&qe&&gt&&(0,e.h)(Dj,{contentBlocks:D,postsBySectionId:De,postsByTagId:Fe,postTagsById:qe,pub:Ye,recentPosts:Wn,sectionsById:gt,showEmptyStates:yt,user:xt,onChange:fn}))))))},zj=()=>(0,e.h)(y.tu,{className:u()(dd.container,dd["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var Gj=Object.defineProperty,Zj=Object.defineProperties,Yj=Object.getOwnPropertyDescriptors,pd=Object.getOwnPropertySymbols,KP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable,zP=(n,t,r)=>t in n?Gj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Jj=(n,t)=>{for(var r in t||(t={}))KP.call(t,r)&&zP(n,r,t[r]);if(pd)for(var r of pd(t))$P.call(t,r)&&zP(n,r,t[r]);return n},Xj=(n,t)=>Zj(n,Yj(t)),Qj=(n,t)=>{var r={};for(var i in n)KP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&pd)for(var i of pd(n))t.indexOf(i)<0&&$P.call(n,i)&&(r[i]=n[i]);return r};const qj=n=>{var t=n,{blurbs:r,contentBlocks:i,contentBlockPostTagsById:a,contentBlockSectionsById:D,contributors:B,freeSignup:j,freeSignupEmail:U,hasEmptyGroupOptions:Y,hide_intro_popup:ge,noBalanceHeroText:Se,notify_user:De,numRecommendations:Fe,pinnedPosts:qe,pub:Ye,recommendations:st,referralCode:gt,showEmptyStates:yt,showWelcome:At,user:Bt,postTags:xt,postsByGroupId:Ht,postsBySectionId:en,postsByTagId:Xt,sections:tn,launchWelcomePage:fn}=t,xn=Qj(t,["blurbs","contentBlocks","contentBlockPostTagsById","contentBlockSectionsById","contributors","freeSignup","freeSignupEmail","hasEmptyGroupOptions","hide_intro_popup","noBalanceHeroText","notify_user","numRecommendations","pinnedPosts","pub","recommendations","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","postsBySectionId","postsByTagId","sections","launchWelcomePage"]),yn;(0,o.d4)(()=>{De&&typeof window!="undefined"&&(0,ds.ZP)(De)},[De]);const Gn=!!(qe&&qe.length>0),pn=Tb()((yn=Ye.theme.body_post_groups)==null?void 0:yn.map(Sn=>{var ur,Qn,jn,Kn;return Sn.tag_id?(Qn=(ur=Sn.post_tag)!=null?ur:xt==null?void 0:xt.find(Wn=>Wn.id===Sn.tag_id))!=null?Qn:null:Sn.section_id&&(Kn=(jn=Sn.section)!=null?jn:tn==null?void 0:tn.find(Wn=>Wn.id===Sn.section_id))!=null?Kn:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(Ib,{pub:Ye}),(0,e.h)($j,Xj(Jj({},xn),{alwaysShowActions:!1,bodyPostGroups:pn,contentBlocks:i,contributors:B,freeSignup:j,freeSignupEmail:U,hasEmptyGroupOptions:Y,numRecommendations:Fe,pinnedPosts:qe,postsByGroupId:Ht,postsBySectionId:en,postsByTagId:Xt,postTagsById:a,pub:Ye,recommendations:st,sectionsById:D,showEmptyStates:!!yt,showSiteMap:Gn,theme:Ye.theme,user:Bt})),(0,e.h)(xb,{blurbs:r,freeSignup:j,freeSignupEmail:U,hide_intro_popup:ge,noBalanceHeroText:Se,pub:Ye,referralCode:gt,showWelcome:At,user:Bt,launchWelcomePage:fn}))},eW={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"},GP=({logoUrl:n,name:t,description:r})=>(0,e.h)(y.tu,{gap:12,paddingTop:32,paddingBottom:24},n&&(0,e.h)("img",{className:eW.logo,src:(0,p.imginary)(n,72*2),alt:t}),(0,e.h)(y.xv.H1,{font:"pub-headings",color:"pub-primary-text"},t),(0,e.h)(y.xv.B3,{color:"pub-secondary-text"},r)),tW={container:"frontend-main-home-SectionPage-module__container--W1M1c"},Vp=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:a,newPosts:D,noBalanceHeroText:B,notify_user:j,pinnedPosts:U,pub:Y,referralCode:ge,search:Se,section:De,sort:Fe,showWelcome:qe,user:Ye,utm:st,launchWelcomePage:gt})=>{var yt,At;if((0,o.d4)(()=>{j&&typeof window!="undefined"&&(0,ds.ZP)(j)},[j]),!De&&!a)return console.warn("Should be either a section or podcast or both"),null;let Bt=null;return a&&(Bt=De?(0,Pl.getSectionPodcastSettings)({pub:Y,section:De}):(0,Pl.getPubPodcastSettings)({pub:Y})),(0,e.h)("div",{className:u()("home-page",tW.container)},(0,e.h)(Ib,{pub:Y,section:De,isPodcast:a}),Bt?(0,e.h)(GP,{name:(yt=Bt.title)!=null?yt:"",description:(At=Bt.description)!=null?At:"",logoUrl:Bt.artUrl}):De&&(0,e.h)(GP,{name:De.name,description:De.description,logoUrl:De.logo_url}),(0,e.h)(Vl,null),(0,e.h)(Qc,{isPodcast:a,maxPosts:7,newPosts:D,pinnedPosts:U,pub:Y,search:Se,sectionId:De==null?void 0:De.id,sort:Fe,user:Ye,variant:"list"},({posts:xt,linkToComments:Ht,onClickPost:en})=>(0,e.h)(di,{hideImages:Y.theme.hide_images_from_list,linkToComments:Ht,posts:xt,pub:Y,showSectionPins:!0,user:Ye,utm:st,variant:"two-column-list",onChange:()=>{},onClickPost:en})),(0,e.h)(xb,{blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:a,noBalanceHeroText:B,pub:Y,referralCode:ge,showWelcome:qe,user:Ye,launchWelcomePage:gt}))};var nW=Object.defineProperty,rW=(n,t,r)=>t in n?nW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ZP=(n,t,r)=>(rW(n,typeof t!="symbol"?t+"":t,r),r),YP=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});class oW extends e.Component{constructor(){super(...arguments),ZP(this,"state",{loading:!0,invites:[]}),ZP(this,"onSuccess",()=>YP(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){(0,T.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:t,user:r}=this.props;return t.invite_only?r&&r.is_contributor?!0:!(!(t.subscriber_invites>0)||!(r&&r.is_subscribed)):!1}loadInvites(){return YP(this,null,function*(){try{const t=yield $t().get("/api/v1/publication/invite");this.setState({invites:t.body,loading:!1})}catch(t){console.error("Failed to fetch invites:",t),alert((0,T.getNetworkErrorMessage)(t))}})}render({pub:t,user:r},{loading:i,invites:a}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const D=r&&r.is_contributor,B=Math.max(r&&r.invites,a.length),j=Math.max(B,t.subscriber_invites),U=j-B;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,t.name," is invite-only, but you\u2019ve been granted"," ",D?"an infinite number of invites":(0,Vt.pluralize)(j,"invite")," to give out."),(U>0||D)&&[!D&&(0,e.h)("h5",null,"You have ",(0,Vt.pluralize)(U,"invite")," left"),(0,e.h)(Rt.ZP,{ref:Y=>this.form=Y,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(Je.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],i&&B>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):a.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,a.sort((Y,ge)=>new Date(ge.created_at)-new Date(Y.created_at)).map(Y=>(0,e.h)("li",null,Y.inviteeUser&&Y.inviteeUser.name||""," on"," ",Mt()(Y.created_at).standardDate())))]:null))}}function iW({pub:n,post:t}){return(0,e.h)(je.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(je.tu,{alignItems:"center",gap:4},(0,e.h)(je.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(x.xv.H1,null,"You rejected your invite to ",n.name)),(0,e.h)(x.xv.B3,null,"If you change your mind, you can accept from your email invitation."),t.is_published?(0,e.h)(x.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,p.getPostUrl)(n,t)},t.title)):null),(0,e.h)(ft.zx,{href:n.base_url},`Go to ${n.name}`))}function aW({pub:n,user:t,post:r,freeSignup:i,freeSignupEmail:a}){const D=(0,o.sO)(null),B=()=>D.current&&D.current.open();if(!r)return(0,e.h)(je.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",n.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(Lt.Z,{onClick:B},"profile is up to date")),(0,e.h)(tp.EB,{ref:D,user:t,freeSignup:i,freeSignupEmail:a,needsPhoto:!0})));const j=r.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",U="Your profile is set up and good to go!";return(0,e.h)(je.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(je.tu,{alignItems:"center",gap:4},(0,e.h)(je.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(x.xv.H1,null,j)),(0,e.h)(x.xv.B3,null,U)),(0,e.h)(ft.zx,{href:n.base_url},`Go to ${n.name}`))}const sW=(0,Po.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var lW=wt(78041),uW=(n=>(n.feedCtaDismissKey="feed-dashboard-cta.dismissed",n.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",n.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",n.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",n.newDashboardAnnouncement="new-dashboard-announcement.dismissed",n.enablePaid="enable-paid.dismissed",n.chatEnableReaderParticipation="chat-enable-reader-participation.dismissed",n.readerReferral="reader-referral.dismissed",n))(uW||{}),cW=(n=>(n.post="post",n))(cW||{}),dW=(n=>(n.DIRECT_EMAIL="direct_email",n.POST_REPLY="post_reply",n))(dW||{}),fW=(n=>(n.SENT="sent",n.REJECTED="rejected",n.NEEDS_REVIEW="needs_review",n.FAILED="failed",n))(fW||{});const pW={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"},hW=({isSelected:n,tier:t})=>(0,e.h)(je.tu,{className:pW.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:n?"var(--color-accent-themed)":void 0}},(0,e.h)(je.gq,{gap:4,alignItems:"center"},new Array(t.display_order).fill(0).map(()=>(0,e.h)(dy,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(x.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},t.reward_type==="custom"?t.reward_description:__[t.reward_type]),(0,e.h)(x.xv.Meta,{weight:"semibold",style:{color:n?"var(--color-accent-themed)":void 0}},n?"You're here!":`${t.num_referrals_required} Referrals`)),ia={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var mW=Object.defineProperty,_W=Object.defineProperties,gW=Object.getOwnPropertyDescriptors,JP=Object.getOwnPropertySymbols,vW=Object.prototype.hasOwnProperty,yW=Object.prototype.propertyIsEnumerable,XP=(n,t,r)=>t in n?mW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,QP=(n,t)=>{for(var r in t||(t={}))vW.call(t,r)&&XP(n,r,t[r]);if(JP)for(var r of JP(t))yW.call(t,r)&&XP(n,r,t[r]);return n},qP=(n,t)=>_W(n,gW(t)),eE=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const Kp=(n,t)=>{(0,C.j)(C.FP.SHARE_LINK_CLICKED,{name:t,source:"leaderboard"}),n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n)},tE=({user:n,rank:t,referrals:r,isSelf:i,isHighlighted:a})=>(0,e.h)(x.xv,{as:n?"a":"div",href:n?(0,oe.getProfileUrlById)(n.id,n.name):void 0,className:ia.referrerLink},(0,e.h)(je.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:i||a?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:i?16:8,paddingRight:20,justifyContent:"space-between",className:u()(ia.referrerRow,{[ia.referrerRowInverted]:!i})},(0,e.h)(je.gq,{gap:8,alignItems:"center"},(0,e.h)(x.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},t,"."),n?(0,e.h)(ca.Ct,{subject:n,dontStopPropagation:!1},(0,e.h)(Ks.qE,{size:36,user:n})):(0,e.h)(Ks.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(x.xv.B4,{color:"primary-themed",weight:"semibold"},(n==null?void 0:n.name)||"Anonymous Reader")),(0,e.h)(x.xv.B4,{color:"primary-themed",weight:"semibold"},r))),bW=({pub:n,user:t,freeSignupEmail:r})=>{const{getExperimentVariant:i,exposeExperiment:a}=(0,Zt.jc)(),D=(0,ei.pm)(),{result:B,isLoading:j,refetch:U}=(0,Ut.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:Y}=(0,Ut.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,o.d4)(()=>{!j&&!B&&(0,T.redirect)((0,oe.getBaseUrl)(n))},[B,j,n]),j||!B)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:ge,tiers:Se,top_referrers:De,current_user_can_share:Fe,current_user_id:qe,current_user_profile_hidden:Ye}=B,st=t==null?void 0:t.is_admin,gt=t==null?void 0:t.is_contributor,yt=(0,p.getQueryItem)("referrer_token"),At=t&&!t.is_magic&&t.email||r||null,Bt=(0,oe.pathWithQuery)((0,oe.getBaseUrl)(n),{r:(qe==null?void 0:qe.toString(36))||yt});let xt,Ht;Se.find((Xt,tn)=>{const fn=(ge==null?void 0:ge.referrals)||0,xn=Se[tn+1];fn>=Xt.num_referrals_required&&(!xn||fn<xn.num_referrals_required)&&(xt=Xt,Ht=xn)});let en="";return!xt&&ge?en=`You have ${ge.referrals} referrals \u2014 only ${Se[0].num_referrals_required-ge.referrals} more referrals to earn your first reward!`:xt&&Ht&&ge?en=`You\u2019ve referred ${ge.referrals} readers! You\u2019ve qualified for the Tier ${xt.display_order} reward. Invite ${Ht.num_referrals_required-ge.referrals} more readers to earn the Tier ${Ht.display_order} reward!`:xt&&!Ht&&ge&&(en=`You\u2019ve referred ${ge.referrals} readers! You\u2019re number #${ge.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(je.tu,{gap:64,className:ia.wrapper},(st||gt)&&(0,e.h)(je.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(je.tu,{gap:4},(0,e.h)(x.xv.Meta,{color:"pub-primary-text"},st?"Admin View":"Contributor View"),(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},st?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard.")),st&&(0,e.h)(ft.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},"Edit Referral Settings")),(0,e.h)(je.tu,{alignItems:"center"},(0,e.h)(je.tu,{gap:24,className:ia.headerWrapper,alignItems:"center"},(0,e.h)(zs.xu,null,(0,e.h)(Vd.F,{pub:n,size:64})),(0,e.h)(je.tu,{alignItems:"center",gap:4},(0,e.h)(x.xv,{className:ia.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},Fe||yt?`Refer friends to ${n.name}`:`Subscribe and invite friends to ${n.name}`),(0,e.h)(x.xv.B3,{color:"pub-secondary-text",textAlign:"center",className:ia.introText},"Show your support by sharing ",n.name," and earn rewards for your referrals.")),!Fe&&!yt&&!(gt||st)&&(0,e.h)(je.tu,{style:{width:"100%"}},(0,e.h)(pe.Z,{onVisible:()=>{a("subscribe_icon"),(0,C.j)(C.FP.SUBSCRIBE_BUTTON_SHOWN,{source:"referral-leaderboard"})}}),(0,e.h)(ft.zx,{grow:!0,priority:"primary-theme",onClick:Xt=>eE(void 0,null,function*(){Xt.preventDefault();let tn;try{At&&(tn=(yield $t().post("/api/v1/free").send({source:"referral-leaderboard",email:At,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU})).body.referral_token)}catch(fn){(0,C.j)(C.FP.FREE_SIGNUP_FAILED,{reason:fn.message,source:"referral-leaderboard"})}window.location.href=(0,oe.getSubscribeUrl)(n,{addBase:!0,params:{simple:!0,next:document.location.href,utm_source:"referral-leaderboard",utm_medium:"web",skip_redirect_check:!0,just_signed_up:!0,referral_token:tn}})}),href:(0,oe.pathWithQuery)("/subscribe",{next:(0,oe.getLeaderboardUrl)(n,void 0,{addBase:!0}),utm_source:"referral-leaderboard"}),localNavigation:!1},(0,e.h)(je.gq,{alignItems:"center",gap:8},i("subscribe_icon")==="treatment"?(0,e.h)(_l.Z,{size:20}):null,"Subscribe"))))),(Fe||gt||st||yt)&&(0,e.h)(je.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(je.gq,{style:{width:"100%"}},(0,e.h)(y.oi,{className:ia.copyLinkInput,readOnly:!0,value:Bt}),(0,e.h)(ft.zx,{className:ia.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,C.j)(C.FP.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,T.copyToClipboard)(Bt),D.popToast(Xt=>(0,e.h)(ei.FN,qP(QP({},Xt),{Icon:Ul.Z,text:"Link copied to clipboard"})))}},"Copy link")),(0,e.h)(je.hs,{className:ia.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(ft.zx,{className:ia.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(Tt.Z,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>Kp((0,oe.pathWithQuery)("https://twitter.com/share",{url:Bt,text:n.name}),"twitter")},"Twitter"),(0,e.h)(ft.zx,{className:ia.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(lW.Z,{height:20,width:20}),onClick:()=>Kp((0,oe.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Bt}),"facebook")},"Facebook"),(0,e.h)(ft.zx,{className:ia.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(sy,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>Kp((0,oe.pathWithQuery)("mailto:",{subject:n.name,body:Bt}),"email")},"Email"))),(0,e.h)(je.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(x.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(je.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},Se.map(Xt=>(0,e.h)(hW,{key:Xt.display_order,tier:Xt,isSelected:Xt.display_order===(xt==null?void 0:xt.display_order)}))),Fe&&ge&&(0,e.h)(je.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(tE,{user:t,isSelf:!0,referrals:ge.referrals,rank:ge.rank}),!Ye&&(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},en),Ye&&(0,e.h)(je.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(je.tu,{textAlign:"left",gap:4},(0,e.h)(x.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",n.name)),(0,e.h)(ft.zx,{fill:"outline",priority:"primary-theme",onClick:()=>eE(void 0,null,function*(){yield Y({body:{ids:[B.current_user_subscription_id],visibility:"public"}}),U(),D.popToast(Xt=>(0,e.h)(ei.FN,qP(QP({},Xt),{text:`${n.name} is now visible on your profile!`})))})},"Show on profile")))),(0,e.h)(je.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(x.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(De==null?void 0:De.length)===0&&(0,e.h)(je.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)(sW,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},`No referrers yet. Be the first on ${n.name}'s leaderboard by helping them find new readers.`)),(De==null?void 0:De.length)>0&&(0,e.h)(je.tu,{gap:8,style:{width:"100%"}},(0,e.h)(je.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(x.xv.Meta,{weight:"semibold"},"Referrer"),(0,e.h)(x.xv.Meta,{weight:"semibold"},"Referrals")),De==null?void 0:De.map(Xt=>(0,e.h)(tE,{key:Xt.rank,user:Xt.user,isHighlighted:Xt.isCurrentUser,rank:Xt.rank,referrals:Xt.referrals})))))))},PW=(0,Po.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),EW=(0,Po.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xi={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},nE=({pub:n})=>{const t=()=>{const r=(0,p.getQueryItem)("referrer"),i=r!=null?r:(0,p.getPubUrl)(n);(0,T.redirect)(i,{local_navigation:!1})};return(0,e.h)(ft.hU,{onClick:t,className:Xi.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(Hs.Z,{className:Xi.closeIcon}))},al=({pub:n,user_id:t,user_profile_photo_url:r,children:i})=>(0,Ci.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(je.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(Vd.F,{className:Xi.pubLogo,pub:n,size:112}),i):(0,e.h)(je.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:Xi.avatarWithPubLogo},(0,e.h)(Ks.qE,{className:Xi.avatar,user:{id:t,photo_url:r},size:112}),(n.logo_url||n.cover_photo_url)&&(0,e.h)(Vd.F,{className:Xi.pubIcon,pub:n,size:40})),i),wW=({pub:n,user:t,settings:r})=>{var i,a,D,B;const{selected_event_type:{price:j,subscriber_price:U,founding_price:Y,currency:ge,description_html:Se,duration:De,num_availabilities:Fe},user_name:qe}=r;let Ye=j,st=null;((a=(i=n.plans)==null?void 0:i.length)!=null?a:0>0)&&(t!=null&&t.is_subscribed&&U&&(Ye=U,st="SUBSCRIBER DISCOUNT"),t!=null&&t.is_founding&&Y&&(Ye=Y,st=`${(D=(0,ri.getFoundingTierName)(n)||"FOUNDING")==null?void 0:D.toUpperCase()} DISCOUNT`)),(0,o.d4)(()=>{var xt,Ht;(0,C.j)(C.FP.MEETING_PAGE_VIEWED,{publication_id:n.id,user_id:t.id,referrer:(xt=(0,p.getQueryItem)("referrer"))!=null?xt:null,source:(Ht=(0,p.getQueryItem)("source"))!=null?Ht:null})},[]);const gt=(B=(0,p.getQueryItem)("referrer"))!=null?B:void 0,yt=(0,p.updateQuery)("/meetings/book",{referrer:gt}),At=Fe>0,Bt=Se?{__html:Se.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(nE,{pub:n}),(0,e.h)(je.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(je.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(al,{pub:n,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(x.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(x.xv.H2,{align:"center",paddingTop:4},(0,Ci.getConfigFor)("meetings_embed_publication_name")?n.name:qe))),(0,e.h)(je.tu,{bg:"primary",className:u()(Xi.offer,{[Xi.unavailable]:!At}),radius:12,shadow:"xl",padding:20},st&&(0,e.h)("div",{className:Xi.displayedBadge},st),(0,e.h)(je.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(je.tu,null,Ye&&ge&&De&&(0,e.h)(e.Fragment,null,(0,e.h)(x.xv.H3,{color:At?"primary":"secondary"},De,"-minute meeting"),(0,e.h)(x.xv.B4,{color:At?"primary":"secondary",paddingTop:4},Ye<j&&(0,e.h)("span",{className:Xi.originalPrice},(0,Vt.centsToPriceString)(j,ge)),(0,Vt.centsToPriceString)(Ye,ge)," \xB7"," ",At?Fe>50?"Many availabilities":`${(0,Vt.pluralize)(Fe,"slot")} available this month`:"No slots available in the next week"))),At?(0,e.h)(PW,{className:Xi.check,size:28}):(0,e.h)(EW,{size:28,className:Xi.disabledCheck})),(0,e.h)(x.xv.B4,{color:"secondary"},(0,e.h)("div",{className:Xi.description,dangerouslySetInnerHTML:Bt}))),(0,e.h)(ft.zx,{className:Xi.button,disabled:!At,grow:!0,localNavigation:!1,href:yt},At?"Continue to book":"No meetings available"))))},rE={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var CW=Object.defineProperty,OW=Object.defineProperties,SW=Object.getOwnPropertyDescriptors,oE=Object.getOwnPropertySymbols,TW=Object.prototype.hasOwnProperty,IW=Object.prototype.propertyIsEnumerable,iE=(n,t,r)=>t in n?CW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,xW=(n,t)=>{for(var r in t||(t={}))TW.call(t,r)&&iE(n,r,t[r]);if(oE)for(var r of oE(t))IW.call(t,r)&&iE(n,r,t[r]);return n},DW=(n,t)=>OW(n,SW(t));const MW=(n,t,r)=>{var i,a,D,B,j,U,Y,ge,Se,De,Fe,qe,Ye,st,gt,yt,At,Bt,xt,Ht,en,Xt,tn,fn,xn,yn,Gn,pn,Sn,ur,Qn,jn,Kn;return!((i=n.location)!=null&&i.location)&&!((a=n.location)!=null&&a.join_url)?t&&r?{href:(0,oe.getMeetingOrderUrl)(r,n.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(D=n.location)==null?void 0:D.join_url,copyContent:(B=n.location)==null?void 0:B.join_url,label:"Join Zoom"},zoom_conference:{href:(j=n.location)==null?void 0:j.join_url,copyContent:(U=n.location)==null?void 0:U.join_url,label:"Join Zoom"},google:{href:(Y=n.location)==null?void 0:Y.join_url,copyContent:(ge=n.location)==null?void 0:ge.join_url,label:"Join Meet"},google_conference:{href:(Se=n.location)==null?void 0:Se.join_url,copyContent:(De=n.location)==null?void 0:De.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(Fe=n.location)==null?void 0:Fe.location}`,copyContent:(qe=n.location)==null?void 0:qe.location,label:(Ye=n.location)==null?void 0:Ye.location},outbound_call:{href:null,label:`${(0,Vt.guessFirstName)(n.user_name)} will call you at ${(st=n.location)==null?void 0:st.location}`},microsoft_teams:{href:(gt=n.location)==null?void 0:gt.join_url,copyContent:(yt=n.location)==null?void 0:yt.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(At=n.location)==null?void 0:At.join_url,copyContent:(Bt=n.location)==null?void 0:Bt.join_url,label:"Join Teams"},webex:{href:(xt=n.location)==null?void 0:xt.join_url,copyContent:(Ht=n.location)==null?void 0:Ht.join_url,label:"Join Webex"},webex_conference:{href:(en=n.location)==null?void 0:en.join_url,copyContent:(Xt=n.location)==null?void 0:Xt.join_url,label:"Join Webex"},gotomeeting:{href:(tn=n.location)==null?void 0:tn.join_url,copyContent:(fn=n.location)==null?void 0:fn.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(xn=n.location)==null?void 0:xn.join_url,copyContent:(yn=n.location)==null?void 0:yn.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(pn=(Gn=n.location)==null?void 0:Gn.location)!=null?pn:"Unknown"},ask_invitee:{href:null,label:(ur=(Sn=n.location)==null?void 0:Sn.location)!=null?ur:"Unknown"},custom:{href:null,label:(jn=(Qn=n.location)==null?void 0:Qn.location)!=null?jn:"Unknown"}}[(Kn=n.location)==null?void 0:Kn.type]||{}},AW=({order:n,isStatic:t=!1,pub:r=null})=>{const i=(0,ei.pm)(),{href:a,label:D,copyContent:B}=MW(n,t,r),j=(0,e.h)(x.xv.B3,{align:"right"},a?(0,e.h)("a",{href:a},D):D);return t||!B?j:(0,e.h)(je.gq,{gap:4,alignItems:"center"},j,(0,e.h)(ft.hU,{size:24,onClick:()=>{(0,T.copyToClipboard)(B),i.popToast(U=>(0,e.h)(ei.FN,DW(xW({},U),{Icon:El.Z,text:"Invite link copied"})))}},(0,e.h)(jd,{height:20})))},NW=({order:n,pub:t})=>{const r=Mt()(n.start_time),i=Mt()(n.end_time),a=`${r.format("MMMM D, YYYY")} at ${r.format("h:mm A z")}`,D=i.diff(r,"minute");return(0,e.h)(je.tu,{gap:8,className:rE.meetingDetails},(0,e.h)(je.gq,{justifyContent:"space-between",gap:8},(0,e.h)(x.xv.B3,{weight:"bold"},"Time"),(0,e.h)(x.xv.B3,null,a)),(0,e.h)(je.gq,{justifyContent:"space-between",gap:8},(0,e.h)(x.xv.B3,{weight:"bold"},"Length"),(0,e.h)(x.xv.B3,null,D," minutes")),(0,e.h)(je.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(x.xv.B3,{weight:"bold"},"Location"),(0,e.h)(AW,{order:n,pub:t})),(0,e.h)(x.xv.B3,{align:"center",className:rE.description,paddingTop:16},(0,e.h)("i",null,n.description)))},RW=({booking:n,settings:t,pub:r})=>{const i=(0,Ci.getConfigFor)("meetings_embed_publication_name")?r.name:n.user_name;return n.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(al,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(x.xv.H2,{align:"center"},"Your meeting with ",i," has been cancelled")),n.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(x.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(x.xv.B4,{align:"center",paddingBottom:32},n.cancellation_reason)),n.refunded_at&&(0,e.h)(x.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),t.enabled&&(0,e.h)(x.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,oe.getMeetingsUrl)(r,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(al,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(x.xv.H2,{align:"center"},"Your meeting with ",i," has been ",n.num_rebookings>0?"rebooked":"booked")),(0,e.h)(je.tu,{gap:16,alignItems:"center"},(0,e.h)(NW,{order:n,pub:r}),(0,e.h)(x.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),n.refunded_at&&(0,e.h)(x.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(ft.zx,{onClick:()=>{const a=(0,p.getQueryItem)("referrer"),D=a!=null?a:(0,p.getPubUrl)(r);(0,T.redirect)(D,{local_navigation:!1})}},"Done")))};var $p=wt(44043);const LW=(0,Po.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),xs={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var aE=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const BW=({onFileSelected:n,dragCTA:t="Drag file here",dropCTA:r=(0,e.h)("a",{className:xs.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:i,dropEvent:a,pickEvent:D,loading:B,className:j,multiple:U=!1,addMode:Y=!1})=>{const[ge,Se]=(0,o.eJ)(!1),De=(0,o.sO)(),Fe=st=>{st.preventDefault(),Se(!0)},qe=st=>{st.preventDefault(),Se(!1)},Ye=st=>aE(void 0,null,function*(){var gt,yt,At,Bt;st.preventDefault(),a&&(0,C.j)(a),Se(!1);let xt,Ht;if(((yt=(gt=st.dataTransfer)==null?void 0:gt.items)==null?void 0:yt.length)>0){const en=Array.from(st.dataTransfer.items);for(const Xt of en)if(Xt.kind!=="file"){alert("Please only drag files!");return}xt=st.dataTransfer.items[0].getAsFile(),Ht=en.map(Xt=>Xt.getAsFile())}else if(((Bt=(At=st.dataTransfer)==null?void 0:At.files)==null?void 0:Bt.length)>0)xt=st.dataTransfer.files[0],Ht=st.dataTransfer.files;else{alert("Something went wrong!");return}U?yield n(Ht):yield n(xt)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()(xs.dragArea,j,{[xs.dragActive]:ge,"test-drag-active":ge}),onDragEnter:Fe,onDragOver:Fe,onDragLeave:qe,onDrop:Ye,onClick:()=>De.current.click(),"aria-label":"File Picker"},Y?(0,e.h)(_l.Z,{size:20,className:xs.icon}):(0,e.h)(LW,{size:32,className:xs.icon}),(0,e.h)("p",{className:xs.text},B?"Loading...":ge?"Release to upload":Y?"Add another image":(0,e.h)(e.Fragment,null,t," or ")),B?null:r),(0,e.h)("input",{className:u()(xs.file,"file-picker-input"),ref:De,type:"file",name:"file",accept:i,multiple:U,onInput:st=>aE(void 0,null,function*(){D&&(0,C.j)(D);const gt=st.target.files;gt&&gt[0]&&(U?yield n(gt):yield n(gt[0]))})}))},kW={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},sE=({className:n,children:t,detail:r,label:i,alignment:a="vertical",error:D=!1})=>{const B=a==="vertical"?UW:FW;return(0,e.h)(B,{className:n,detail:r,error:D,label:i},dt.Children.map(t,j=>(0,dt.isValidElement)(j)?(0,e.cloneElement)(j,{error:D}):j))},UW=({children:n,className:t,detail:r,error:i,label:a})=>(0,e.h)(je.tu,{className:t,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(x.xv.B4,{weight:"semibold",as:"div",color:i?"error":"primary",paddingBottom:8},a),n),r&&(0,e.h)(lE,{detail:r,error:i})),FW=({children:n,className:t,detail:r,error:i,label:a})=>(0,e.h)(je.gq,{className:t,justifyContent:"space-between",alignItems:"center"},(0,e.h)(je.tu,{gap:4},a&&(0,e.h)(jW,{label:a,error:i}),r&&(0,e.h)(lE,{detail:r,error:i})),n),jW=({label:n,error:t})=>(0,e.h)(x.xv.B4,{weight:"semibold",className:kW.label,color:t?"error":"primary"},n),lE=({detail:n,error:t})=>(0,e.h)(x.xv.B4,{color:t?"error":"secondary"},n),aa={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var zp=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const WW=({stripe_publishable_key:n,onComplete:t,user:r,pub:i,booking:a,settings:D})=>{const[B,j]=(0,o.eJ)(a.name),[U,Y]=(0,o.eJ)(a.description),[ge,Se]=(0,o.eJ)(null),[De,Fe]=(0,o.eJ)(null),[qe,Ye]=(0,o.eJ)(null),[st,gt]=(0,o.eJ)(null),[yt,At]=(0,o.eJ)(!1),[Bt,xt]=(0,o.eJ)(null);(0,o.d4)(()=>{const Qn=(0,Rt.lQ)(n,i),jn=Qn&&(0,Rt.UD)(Qn);Fe(Qn),Ye(jn)},[i,n,Fe,Ye]),(0,o.d4)(()=>{(0,C.j)($p.F.MEETING_ORDER_PAGE_VIEWED,{user_id:r.id,publication_id:i.id})},[]),(0,o.d4)(()=>{(()=>zp(void 0,null,function*(){var jn;const Kn=yield $t().get("/api/v1/subscription/last4");(jn=Kn.body)!=null&&jn.last4&&gt(Kn.body.last4)}))()},[i]);const Ht=D.selected_event_type,{price:en,duration:Xt,subscriber_price:tn,founding_price:fn,currency:xn}=Ht;let yn=en;r.is_subscribed&&tn&&(yn=tn),r.is_founding&&fn&&(yn=fn);const Gn=!!(r!=null&&r.has_saved_payment),pn=(0,o.I4)(()=>zp(void 0,null,function*(){return De?yield De.createToken(qe):{token:null,error:{message:""}}}),[De,qe]),Sn=(0,o.I4)(()=>zp(void 0,null,function*(){var Qn,jn,Kn,Wn;At(!0),xt(null);let tr;if(!Gn){const{token:gn,error:kn}=yield pn();if(kn){At(!1),xt(kn&&kn.message),(0,C.j)($p.F.MEETING_MISSING_PAYMENT,{type:kn&&kn.type,code:kn&&kn.code,decline_code:kn&&kn.decline_code,reason:kn&&kn.message});return}tr=gn}const Rn=new FormData;Rn.append("name",B),Rn.append("description",U),tr&&Rn.append("stripe_token",JSON.stringify(tr)),ge&&Rn.append("attachment",ge);const Zn=Intl.DateTimeFormat().resolvedOptions().timeZone;Zn&&Rn.append("timezone",Zn),(0,C.j)($p.F.MEETING_SUBMIT_PRESSED,{publication_id:i.id,user_id:r.id});try{const gn=yield $t().post("/api/v1/meetings/book").send(Rn);history.pushState({},"",`/meetings/book/${gn.body.order_id}`),t("schedule",Db()(gn.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(gn){(jn=(Qn=gn.response)==null?void 0:Qn.body)!=null&&jn.error?xt((Wn=(Kn=gn.response)==null?void 0:Kn.body)==null?void 0:Wn.error):xt("Something went wrong.")}At(!1)}),[B,U,pn,ge,At,xt]),ur=!!B&&!!U;return(0,e.h)(e.Fragment,null,(0,e.h)(al,{pub:i,user_id:D.user_id,user_profile_photo_url:D.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(y.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(y.xv.H2,{align:"center",paddingTop:4},(0,Ci.getConfigFor)("meetings_embed_publication_name")?i.name:D.user_name),(0,e.h)(y.xv.B3,{align:"center",paddingTop:8},yn<en&&(0,e.h)("span",{className:aa.originalPrice},(0,Vt.centsToPriceString)(en,xn)),(0,Vt.centsToPriceString)(yn,xn)," \xB7 ",Xt,"-minute meeting"))),(0,e.h)(y.tu,{gap:32},(0,e.h)(sE,{alignment:"vertical",label:"Your name"},(0,e.h)(y.oi,{name:"name",value:B||"",onChange:Qn=>j(Qn.target.value),placeholder:"Name...",disabled:yt,maxLength:500})),(0,e.h)(sE,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(y.gx,{name:"description",value:U,onChange:Qn=>Y(Qn.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:yt})),ge?(0,e.h)("div",null,(0,e.h)(y.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(y.gq,{className:aa.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(Hs.Z,{onClick:()=>Se(null),className:aa.fileRemoveIcon,height:24}),(0,e.h)(y.xv.B3,{className:aa.fileName},ge.name))):(0,e.h)("div",null,(0,e.h)(y.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(BW,{className:aa.filePicker,onFileSelected:Qn=>Se(Qn),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:aa.checkoutBox},Gn&&(0,e.h)(y.gq,{className:aa.savedCard,padding:12,gap:12},(0,e.h)(Vy,{className:aa.cardOnFileIcon}),(0,e.h)(y.xv.B4,null,st?`**** **** **** ${st}`:"Use card on file")),!Gn&&qe&&(0,e.h)(Rt.GP,{className:aa.input,card:qe}),Bt&&(0,e.h)(y.xv.B4,{paddingTop:12,className:aa.errorContainer},Bt),(0,e.h)(y.hs,{paddingTop:12},(0,e.h)(Ry.u,{text:D.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:yt||ur&&D.enabled,preferPlacement:"top-center",className:aa.errorTooltip},(0,e.h)(y.zx,{className:aa.button,grow:!0,type:"submit",onClick:Sn,disabled:yt||!ur||!D.enabled},yt?"Loading...":"Book meeting"))))),(0,e.h)(y.xv,{className:aa.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",i.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gp=function(n,t){return Gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Gp(n,t)};function mu(n,t){Gp(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _u=function(){return _u=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var D in r)Object.prototype.hasOwnProperty.call(r,D)&&(t[D]=r[D])}return t},_u.apply(this,arguments)};function HW(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var VW=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;HW(VW);var sl;(function(n){n.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",n.EVENT_TYPE_VIEWED="calendly.event_type_viewed",n.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",n.EVENT_SCHEDULED="calendly.event_scheduled"})(sl||(sl={}));var uE=function(n){var t=n.url,r=n.prefill,i=r===void 0?{}:r,a=n.pageSettings,D=a===void 0?{}:a,B=n.utm,j=B===void 0?{}:B,U=n.embedType,Y=D.backgroundColor,ge=D.hideEventTypeDetails,Se=D.hideLandingPageDetails,De=D.primaryColor,Fe=D.textColor,qe=D.hideGdprBanner,Ye=i.customAnswers,st=i.date,gt=i.email,yt=i.firstName,At=i.guests,Bt=i.lastName,xt=i.location,Ht=i.name,en=j.utmCampaign,Xt=j.utmContent,tn=j.utmMedium,fn=j.utmSource,xn=j.utmTerm,yn=j.salesforce_uuid,Gn=t.indexOf("?"),pn=Gn>-1,Sn=t.slice(Gn+1),ur=pn?t.slice(0,Gn):t,Qn=[pn?Sn:null,Y?"background_color="+Y:null,ge?"hide_event_type_details=1":null,Se?"hide_landing_page_details=1":null,De?"primary_color="+De:null,Fe?"text_color="+Fe:null,qe?"hide_gdpr_banner=1":null,Ht?"name="+encodeURIComponent(Ht):null,xt?"location="+encodeURIComponent(xt):null,yt?"first_name="+encodeURIComponent(yt):null,Bt?"last_name="+encodeURIComponent(Bt):null,At?"guests="+At.map(encodeURIComponent).join(","):null,gt?"email="+encodeURIComponent(gt):null,st&&st instanceof Date?"date="+KW(st):null,en?"utm_campaign="+encodeURIComponent(en):null,Xt?"utm_content="+encodeURIComponent(Xt):null,tn?"utm_medium="+encodeURIComponent(tn):null,fn?"utm_source="+encodeURIComponent(fn):null,xn?"utm_term="+encodeURIComponent(xn):null,yn?"salesforce_uuid="+encodeURIComponent(yn):null,U?"embed_type="+U:null,"embed_domain=1"].concat(Ye?zW(Ye):[]).filter(function(jn){return jn!==null}).join("&");return ur+"?"+Qn},KW=function(n){var t=n.getMonth()+1,r=n.getDate(),i=n.getFullYear();return[i,t<10?"0"+t:t,r<10?"0"+r:r].join("-")},$W=/^a\d{1,2}$/,zW=function(n){var t=Object.keys(n).filter(function(r){return r.match($W)});return t.length?t.map(function(r){return r+"="+encodeURIComponent(n[r])}):[]},cE=function(n){mu(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(){return(0,dt.createElement)("div",{className:"calendly-spinner"},(0,dt.createElement)("div",{className:"calendly-bounce1"}),(0,dt.createElement)("div",{className:"calendly-bounce2"}),(0,dt.createElement)("div",{className:"calendly-bounce3"}))},t}(dt.Component),GW={minWidth:"320px",height:"630px"},ZW=function(n){mu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=uE({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,dt.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||GW},this.state.isLoading&&(0,dt.createElement)(cE,null),(0,dt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(dt.Component),YW=function(n){mu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=uE({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,dt.createElement)(dt.Fragment,null,this.state.isLoading&&(0,dt.createElement)(cE,null),(0,dt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(dt.Component),dE=function(n){return n.open?(0,dt.createPortal)((0,dt.createElement)("div",{className:"calendly-overlay"},(0,dt.createElement)("div",{onClick:n.onModalClose,className:"calendly-close-overlay"}),(0,dt.createElement)("div",{className:"calendly-popup"},(0,dt.createElement)("div",{className:"calendly-popup-content"},(0,dt.createElement)(YW,_u({},n)))),(0,dt.createElement)("button",{className:"calendly-popup-close",onClick:n.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),n.rootElement):null},_z=function(n){mu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(r){r.preventDefault(),this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,dt.createElement)(dt.Fragment,null,(0,dt.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,dt.createElement)(dE,_u({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(dt.Component),gz=function(n){mu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(){this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,dt.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,dt.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,dt.createElement)("span",null,"powered by Calendly")),(0,dt.createElement)(dE,_u({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(dt.Component),fE="message";function JW(n){var t=n||{},r=t.onDateAndTimeSelected,i=t.onEventScheduled,a=t.onEventTypeViewed,D=t.onProfilePageViewed;(0,dt.useEffect)(function(){var B=function(j){var U=j.data.event;U===sl.DATE_AND_TIME_SELECTED?r&&r(j):U===sl.EVENT_SCHEDULED?i&&i(j):U===sl.EVENT_TYPE_VIEWED?a&&a(j):U===sl.PROFILE_PAGE_VIEWED&&D&&D(j)};return window.addEventListener(fE,B),function(){window.removeEventListener(fE,B)}},[n])}var XW=wt(56288),QW=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const qW=({booking:n,onComplete:t,settings:r,pub:i})=>{const a="calendly",[D,B]=(0,o.eJ)(!1),[j,U]=(0,o.eJ)(!1),{duration:Y}=r.selected_event_type,ge=(0,Ci.getConfigFor)("meetings_embed_publication_name")?i.name:n.user_name,Se=(0,zt.useMediaQuery)({maxWidth:698});return JW({onEventScheduled:De=>QW(void 0,null,function*(){var Fe,qe,Ye;const st=(Ye=(qe=(Fe=De.data)==null?void 0:Fe.payload)==null?void 0:qe.event)==null?void 0:Ye.uri;B(!0);try{const gt=yield $t().put(`/api/v1/meetings/order/${n.order_id}`).send({calendly_event_uri:st});yield new Promise(yt=>setTimeout(yt,2e3)),t("confirmation",gt.body)}catch(gt){U(!0)}})}),j?(0,e.h)(al,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(x.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):D?(0,e.h)(je.hs,{justifyContent:"center"},(0,e.h)(XW.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(al,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(x.xv.H2,{align:"center"},n.num_rebookings>0?"Rebook":"Book"," your meeting with ",ge),(0,e.h)(x.xv.B3,{align:"center",paddingTop:8},"Schedule your ",Y,"-minute meeting"))),typeof window!="undefined"&&n.calendly_scheduling_uri&&(0,e.h)(ZW,{iframeTitle:a,url:`${n.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:n.name||"",email:n.email,customAnswers:{a1:n.description}},styles:{minWidth:"320px",height:"700px",marginTop:Se?"0px":"-66px"}}))};var eH=Object.defineProperty,hd=Object.getOwnPropertySymbols,pE=Object.prototype.hasOwnProperty,hE=Object.prototype.propertyIsEnumerable,mE=(n,t,r)=>t in n?eH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ll=(n,t)=>{for(var r in t||(t={}))pE.call(t,r)&&mE(n,r,t[r]);if(hd)for(var r of hd(t))hE.call(t,r)&&mE(n,r,t[r]);return n},tH=(n,t)=>{var r={};for(var i in n)pE.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&hd)for(var i of hd(n))t.indexOf(i)<0&&hE.call(n,i)&&(r[i]=n[i]);return r};const nH=n=>{var t=n,{step:r}=t,i=tH(t,["step"]);switch(r){case"order":return(0,e.h)(WW,ll({},i));case"schedule":return(0,e.h)(qW,ll({},i));case"confirmation":return(0,e.h)(RW,ll({},i))}},_E=({stripe_publishable_key:n,pub:t,user:r,order:i,order_id:a,settings:D})=>{const B=a?i.calendly_scheduling_uri?"schedule":"confirmation":"order",[j,U]=(0,o.eJ)(B),[Y,ge]=(0,o.eJ)(ll({name:r.name,email:r.email,description:""},i)),Se=nH({step:j,booking:Y,settings:D,order:i,onComplete:(De,Fe)=>{ge(ll(ll({},Y),Fe)),U(De)},pub:t,stripe_publishable_key:n,user:r,orderId:a});return(0,e.h)(e.Fragment,null,(0,e.h)(nE,{pub:t}),(0,e.h)(je.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(je.tu,{paddingX:24,gap:32,style:{width:j==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},Se)))},rH=({subdomain:n})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,T.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getDiscoverSearchUrl)({query:n,params:{searching:"publication"}})},'Search Substack for "',n,'"'))));var oH=wt(66141),gE=wt(19696);function iH(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function vz({user:n,pathname:t="/inbox"}){const[r,i]=iH(),a=EE();if(r||!a||n!=null&&n.reader_installed_at&&a==="ios"&&(t.startsWith("/notes")||t.includes("/note/")))return null;const D=()=>{track(EVENTS.APP_BANNER_DISMISSED),i()},B=j=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(yE,{className:"app-banner-fixed"},h(vE,{surface:"reader"}),h(PE,null),h(bE,null,h("div",null,"Get the full experience")),h("a",{href:sH(t,n,a),className:"app-banner-cta",onClick:B},"Get app"),h("button",{className:"reader2-button-reset",onClick:D},h(X,{size:16,className:"app-banner-x-out"})))}function aH({post:n,subdomain:t}){const r=EE();if(!(0,M.isMobile)({checkFirst4:!0})||!r)return null;const i=(0,p.getPostAppLinkUrl)(t,n.slug,{redirect:"app-store",source:"post-banner"}),a=()=>{(0,C.j)(C.FP.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(yE,null,(0,e.h)(vE,{surface:"post"}),(0,e.h)(PE,null),(0,e.h)(bE,null,(0,e.h)("div",null,n.type==="podcast"?"Listen":n.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:i,onClick:a},"Open app"))}function vE({surface:n}){return(0,o.d4)(()=>{(0,C.j)(C.FP.APP_BANNER_VIEWED,{surface:"post"})},[]),null}const yE=(0,gE.L)("app-banner"),bE=(0,gE.L)("app-banner-text");function PE(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(ae.Z,{height:16}))}function EE(){return(0,M.isIos)()?"ios":(0,M.isAndroid)()?"android":null}function sH(n,t,r){return t!=null&&t.reader_installed_at?r==="android"&&["/chat","/notes","/activity","/library"].includes(n)?getAppLinkTabUrl({tab:n.substring(1),redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"}):r==="android"?getPlayStoreUrl():getAppStoreUrl()}var lH=Object.defineProperty,uH=Object.defineProperties,cH=Object.getOwnPropertyDescriptors,wE=Object.getOwnPropertySymbols,dH=Object.prototype.hasOwnProperty,fH=Object.prototype.propertyIsEnumerable,CE=(n,t,r)=>t in n?lH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pH=(n,t)=>{for(var r in t||(t={}))dH.call(t,r)&&CE(n,r,t[r]);if(wE)for(var r of wE(t))fH.call(t,r)&&CE(n,r,t[r]);return n},hH=(n,t)=>uH(n,cH(t));const yz=n=>h(SvgIcon,hH(pH({},n),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),bz=null,md=({children:n,dismissKey:t,dismissDurationInSeconds:r,beforeDismiss:i,className:a,level:D="info"}={})=>{const[B,j]=(0,oH.Z)(t,r,i);if(!B)return(0,e.h)("div",{className:u()("banner",D,a)},n,(0,e.h)(O.Z,{width:12,height:12,className:"banner-close",onClick:U=>{U.preventDefault(),U.stopPropagation(),j()}}))},Pz=null,Ez=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(md,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),wz=({action:n="connect"})=>{const{getConfigFor:t}=useSiteConfigs(),[r,i]=useState(!1);return r||!t("twitter_connect_flows_enabled")?null:h(md,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),n==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),n==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>i(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},mH=()=>(0,e.h)(md,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{$t().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},"Welcome to Substack!"),(0,e.h)("br",null),(0,e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),(0,e.h)("br",null),(0,e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),Cz=({children:n,className:t,level:r="info",onClose:i}={})=>{const[a,D]=useState(!1);if(!(a&&r!=="error"))return h("div",{className:classnames("banner",r,t)},n,r!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:B=>{B.preventDefault(),B.stopPropagation(),i&&i(),D(!0)}}))},Oz=({featureName:n,featureLink:t,preText:r,linkedText:i,postText:a,children:D})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:n})},[n]);const B=isMobileBrowser();return h(md,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!B&&D,h("p",{className:"new-feature-banner-text"},r," ",h("a",{href:t,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:n})}},i)," ",a))};var _H=wt(65207),gH=Object.defineProperty,vH=Object.defineProperties,yH=Object.getOwnPropertyDescriptors,OE=Object.getOwnPropertySymbols,bH=Object.prototype.hasOwnProperty,PH=Object.prototype.propertyIsEnumerable,SE=(n,t,r)=>t in n?gH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,EH=(n,t)=>{for(var r in t||(t={}))bH.call(t,r)&&SE(n,r,t[r]);if(OE)for(var r of OE(t))PH.call(t,r)&&SE(n,r,t[r]);return n},wH=(n,t)=>vH(n,yH(t));const CH=n=>(0,e.h)(k.l,wH(EH({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(_H.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var OH=Object.defineProperty,SH=Object.defineProperties,TH=Object.getOwnPropertyDescriptors,TE=Object.getOwnPropertySymbols,IH=Object.prototype.hasOwnProperty,xH=Object.prototype.propertyIsEnumerable,IE=(n,t,r)=>t in n?OH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,DH=(n,t)=>{for(var r in t||(t={}))IH.call(t,r)&&IE(n,r,t[r]);if(TE)for(var r of TE(t))xH.call(t,r)&&IE(n,r,t[r]);return n},MH=(n,t)=>SH(n,TH(t));const AH=n=>(0,e.h)(k.l,MH(DH({},n),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var NH=wt(7775),RH=wt(74957);const Zp={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var LH=Object.defineProperty,BH=Object.defineProperties,kH=Object.getOwnPropertyDescriptors,xE=Object.getOwnPropertySymbols,UH=Object.prototype.hasOwnProperty,FH=Object.prototype.propertyIsEnumerable,DE=(n,t,r)=>t in n?LH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gu=(n,t)=>{for(var r in t||(t={}))UH.call(t,r)&&DE(n,r,t[r]);if(xE)for(var r of xE(t))FH.call(t,r)&&DE(n,r,t[r]);return n},ME=(n,t)=>BH(n,kH(t));const AE="https://twitter.com",NE=()=>{const n=(0,ei.pm)();return(t,r=null)=>n.popToast(i=>(0,e.h)(ei.FN,ME(gu({},i),{className:Zp.toast,text:t,cta:r})))},jH=({post:n,publication:t,autoSharedOnTwitter:r,showAfter:i,publicationTwitterScreenName:a,authorVersion:D})=>{const B=(0,o.sO)(null),[j,U]=(0,o.eJ)(!0),Y=NE();(0,o.d4)(()=>{r&&Y("Post shared to Twitter",a?(0,e.h)("a",{className:Zp.cta,href:`${AE}/${a}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const ge=()=>{U(!1)};return!j&&i?i:(0,e.h)($e.Z,{testID:"share-modal",openByDefault:!0,className:u()("force-light-theme",Zp.modal),ref:B,variant:"structured",modalTitle:`Share your ${D?"substack:":"post:"}`,modalFooter:(0,e.h)(ua.z,{variant:D?"primary":"secondary",look:"button",onClick:Se=>{Se.preventDefault(),B.current.close()}},D?"View Dashboard":"View post"),onBeforeClose:ge},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(Ul.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,D?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!D&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(HH,{modalRef:B})),(0,e.h)(WH,{post:n,publication:t,hideEmailOption:!D,trackingParams:{sd:"pf"},autoSharedOnTwitter:r,authorVersion:D})))},WH=({post:n,publication:t,hideEmailOption:r=!1,trackingParams:i,autoSharedOnTwitter:a,authorVersion:D})=>{const B=D?(0,p.getBaseUrl)(t):n.canonical_url,j=Y=>{(0,C.j)(C.FP.SHARE_LINK_CLICKED,{name:Y,post_id:n==null?void 0:n.id,source:"fullscreen-author-share-dialog"})},U=NE();return(0,e.h)(e.Fragment,null,(0,e.h)(vu,{onClick:()=>{j("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,p.serializeQuery)({u:(0,p.updateQuery)(B,gu({utm_source:"facebook"},i))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(AH,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!a&&(0,e.h)(vu,{onClick:()=>{j("twitter"),window.open(`${AE}/share?${(0,p.serializeQuery)({url:(0,p.updateQuery)(B,gu({utm_source:"twitter"},i))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(Tt.Z,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(vu,{onClick:()=>{(0,T.copyToClipboard)((0,p.updateQuery)(B,i)),j("copy"),U("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(NH.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!r&&(0,e.h)(vu,{onClick:()=>{j("email"),window.open(`mailto:?${(0,p.serializeQuery)({subject:D?`Check out ${t.name}`:n.title,body:(0,p.updateQuery)(B,gu({utm_source:"email"},i))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(RH.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!D&&(0,e.h)(vu,{onClick:()=>{j("media-assets"),window.open(`${(0,p.getPostUrl)(t,n)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(CH,{stroke:"#404040",fill:"white"}),"View media assets")))},vu=n=>(0,e.h)("a",ME(gu({},n),{native:!0})),HH=({modalRef:n})=>{var t,r,i;let a="";typeof window!="undefined"&&(a=window.location.host);const D=(t=document.head.querySelector('meta[property="og:image"]'))==null?void 0:t.content,B=(r=document.head.querySelector('meta[property="og:title"]'))==null?void 0:r.content,j=(i=document.head.querySelector('meta[property="og:description"]'))==null?void 0:i.content;return(0,e.h)("div",{onClick:()=>{n.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},D&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:D,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},a),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},B),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},j)))},VH=jH;var KH=Object.defineProperty,$H=Object.defineProperties,zH=Object.getOwnPropertyDescriptors,RE=Object.getOwnPropertySymbols,GH=Object.prototype.hasOwnProperty,ZH=Object.prototype.propertyIsEnumerable,LE=(n,t,r)=>t in n?KH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,BE=(n,t)=>{for(var r in t||(t={}))GH.call(t,r)&&LE(n,r,t[r]);if(RE)for(var r of RE(t))ZH.call(t,r)&&LE(n,r,t[r]);return n},YH=(n,t)=>$H(n,zH(t)),JH=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const XH=({pub:n,pubsToRecommend:t})=>{const[r,i]=(0,o.eJ)(!0),[a,D]=(0,o.eJ)(!0),[B,j]=(0,o.eJ)((t||[]).reduce((Fe,qe)=>YH(BE({},Fe),{[qe.id]:!0}),{})),U=()=>{i(!r),D(!1)},Y=Fe=>{const qe=BE({},B);qe[Fe]=!qe[Fe],j(qe)},ge=()=>JH(void 0,null,function*(){try{const Fe=Object.keys(B).filter(qe=>B[qe]===!0).map(qe=>Number(qe));yield $t().put("/api/v1/recommendations/multiple").send({recommending_publication_id:n.id,recommended_publication_ids:Fe,source:"post_publish_cta",suggested:Fe.map(()=>!0)}),Fe.length&&(0,ds.ZP)(`Recommended ${(0,Vt.pluralize)(Fe.length,"publication")}`,{timeout:1500}),U()}catch(Fe){console.error("Failed to add recommendations: ",Fe),U()}});let Se,De;return t!=null&&t.length&&(Se=(Object.values(B).filter(Fe=>Fe===!0)||[]).length,De=`Do you want to recommend ${t[0].name}${t.length>1?` and ${t.length-1} other ${(0,Vt.pluralize)(t.length-1,"publication",{just_word:!0})}`:""}?`),(0,e.h)(e.Fragment,null,a?(0,e.h)(ra.u_,{isOpen:r,onClose:U},(0,e.h)(ra.xB,{onClose:U,title:De}),(0,e.h)(ra.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},"Since you embedded"," ",t.length>1?`${t.length} publications`:t[0].name," on your post, we thought you might want to recommend them to your readers"),t&&t.length&&t.map((Fe,qe)=>(0,e.h)("div",{className:u()("recommend-publication-container",{last:qe===t.length-1}),onClick:()=>Y(Fe.id)},(0,e.h)(Yt.Z,{pub:Fe,size:40,logo_url:Fe.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,p.getBaseUrl)(Fe),target:"_blank"},Fe.name),(0,e.h)("p",{className:"author-name"},(0,Vt.getByLine)(Fe))),(0,e.h)(M_.p,{checked:B[Fe.id]?B[Fe.id]:!1}))))),(0,e.h)(ra.mz,{alignment:"center",primaryButton:(0,e.h)(ua.z,{onClick:ge,variant:"primary"},Se===0?"Continue":`Recommend ${(0,Vt.pluralize)(Se,"publication")}`),secondaryButton:(0,e.h)(ua.z,{onClick:U,variant:"secondary"},"Maybe later")})):null)};class QH extends e.Component{isSubscribed(){const{user:t}=this.props;return t&&t.is_subscribed}isFreeSubscribed(){const{freeSignup:t,user:r}=this.props;return t||r&&r.is_free_subscribed&&!r.is_contributor}onFreeSubscribe(t){if(this.props.publication.plans){let r=(0,p.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:t.body.referral_token});t.body.prompt_to_login&&(r=`/account/login?redirect=${encodeURIComponent(r)}&email=${encodeURIComponent(t.body.email)}`),document.location.href=r}else window.location.reload()}render({publication:t,user:r,freeSignupEmail:i,features:a}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!t.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Ready for more?"),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,p.getSubscribeUrl)(t,{utm_source:"ready-for-more"}),native:!0},(0,e.h)(Je.Z,{className:"primary"},(0,e.h)("b",null,(0,Vt.getSubscribeText)(t))))):(0,e.h)(y.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(Le.Z,{freeSignupEmail:i,onAccentBackground:!0,pub:t,source:"subscribe_footer",submitButtonText:(0,Vt.getSubscribeText)(t),user:r,onSuccess:this.onFreeSubscribe.bind(this)})))))}}var qH=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});function Iz(n,t={}){n=n||getQueryItem("selection");const{isLoading:r,error:i,result:a}=useFetch({pathname:`/api/v1/post_selection/${n}`,auto:!!n,deps:[n]});return{isLoading:r,error:i,postSelection:a!=null?a:null,highlightSelection:()=>{a&&kE(a,t)}}}function eV(n){return qH(this,arguments,function*(t,r={}){t=t||(0,p.getQueryItem)("selection");let i=null;try{i=yield(0,Ut.rd)(`/api/v1/post_selection/${t}`,{})}catch(a){}i&&kE(i,r)})}function kE(n,t={}){var r,i;if(t.ignoreSafari&&(0,T.isSafari)()||!n.text)return;const a=(i=(r=/^[^.]+\./.exec(n.text))==null?void 0:r[0])!=null?i:n.text;if(!a)return;const D=`#:~:text=${encodeURIComponent(a)}`;history.replaceState({},document.title,D),document.location.hash=D}const tV=n=>{const{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:a,pub:D,search:B,sort:j,sortTabs:U,source:Y,user:ge}=n;return(0,e.h)(y.xu,{paddingY:24},(0,e.h)(Qc,{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:a,pub:D,search:B,sort:j,sortTabs:U,source:Y,user:ge},({posts:Se,linkToComments:De,onClickPost:Fe})=>(0,e.h)(di,{hideImages:D.theme.hide_images_from_list,linkToComments:De,posts:Se,pub:D,user:ge,variant:"two-column-list",onChange:()=>{},onClickPost:Fe})))};var nV=Object.defineProperty,rV=Object.defineProperties,oV=Object.getOwnPropertyDescriptors,UE=Object.getOwnPropertySymbols,iV=Object.prototype.hasOwnProperty,aV=Object.prototype.propertyIsEnumerable,Yp=(n,t,r)=>t in n?nV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,sV=(n,t)=>{for(var r in t||(t={}))iV.call(t,r)&&Yp(n,r,t[r]);if(UE)for(var r of UE(t))aV.call(t,r)&&Yp(n,r,t[r]);return n},lV=(n,t)=>rV(n,oV(t)),Ds=(n,t,r)=>(Yp(n,typeof t!="symbol"?t+"":t,r),r),_d=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});class Jp extends e.Component{constructor(t,r){super(t,r),Ds(this,"updateSubscribeTakeover",()=>{const a=this.props.publication.id,D=`pub-${a}-subscribe-prompt-next-shown-at`,B=`pub-${a}-takeover-next-shown-at`,j=(0,Li.mM)(B),U=!j||Date.now()>=j;(0,T.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(U&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),(0,Li.ex)(D,Mt()().add(1,"hour").valueOf()),(0,Li.ex)(B,Mt()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),Ds(this,"onChangeComment",a=>{this.setState({comments:zl(this.state.comments,a)})}),Ds(this,"onVisible",a=>{const D=`${a} Seen`;this.state.post&&(this.state[D]||(this.setState({[D]:!0}),(0,C.j)(D,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))}),Ds(this,"_inlineComments",()=>{const{inlineComments:a,publication:D}=this.props;return a||(0,Vt.shouldUseInlineComments)(D,this.state.post||this.props.post)}),Ds(this,"fillEmbeddedEmailInputs",()=>{var a;const D=document.querySelectorAll('article.post input[type="email"]'),B=((a=this.state.user)==null?void 0:a.email)||this.props.freeSignupEmail;if(B)for(const j of D)j.value=B;this.setState({embeddedEmailInputsFilled:!0})});let{user:i}=t;t.postPreview&&(i=lV(sV({},i),{is_draft:!1,is_subscribed:t.postPreview!=="free",is_founding:t.postPreview==="founding"})),t.post&&[t.post.slug,t.post.uuid].filter(a=>a).includes(t.slug)&&!this.shouldRedirectToComments(t.post)?this.state={post:t.post,comments:t.renderedComments,user:i}:this.state={post:null,comments:null,user:i}}componentDidMount(){return _d(this,null,function*(){(0,T.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Ap();const t=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(r=>r).includes(this.props.slug)&&this.props.post;this.shouldRedirectToComments(t)?this.redirectToComments(t):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&((0,T.removeQueryParam)("justPublished"),(0,T.preloadImage)(ap(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,T.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,T.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,T.removeQueryParam)("showRestackModal"),this.props.action&&(0,T.removeQueryParam)("action"),this.props.showWelcome||(0,T.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&eV(this.props.selectionFromQuery)})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this),(0,T.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(t){return _d(this,null,function*(){t.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(t){if(t&&t.type==="thread")return!0}redirectToComments(t){(0,v.route)((0,p.getPostUrl)(this.props.publication,t,{comments:!0,noBase:!0}),!0)}loadPost(){return _d(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(t=>t).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,T.scrollToHash)());else{this.setState({post:null,comments:null});try{const t=yield $t().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview});this.shouldRedirectToComments(t.body)?this.redirectToComments(t.body):(yield(0,T.setState)(this,{post:t.body,comments:t.body.comments}),(0,T.scrollToHash)())}catch(t){console.error("Failed to load post:",t),t.status===404?this.setState({notFound:!0}):alert((0,T.getNetworkErrorMessage)(t))}}})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:t,freeSignup:r,freeSignupEmail:i,publication:a,reaction_token:D,hide_intro_popup:B,freewallVariant:j,unlock:U,sort:Y,search:ge,children:Se,showWelcome:De,justPublished:Fe,autoSharedOnTwitter:qe,readerIsSearchCrawler:Ye,postPreview:st,truncatedPost:gt,selectionFromQuery:yt,embeddedPublications:At,siteConfigs:Bt={},freeTrialCoupon:xt,showRestackModal:Ht,action:en,publicationSettings:Xt,show_reaction_upsell:tn,stripe_publishable_key:fn,bannedFromNotes:xn},{comments:yn,notFound:Gn,post:pn,user:Sn,showSubscribeTakeover:ur}){const Qn=this._inlineComments(),jn=pn!=null&&pn.audience?(0,sr.userHasFullAccessToPost)(Sn,pn):!0,Kn=(Sn==null?void 0:Sn.is_subscribed)&&jn,Wn=pn&&pn.slug&&pn.slug!=="coming-soon"&&pn.type!=="page",tr=(0,Vt.commentsEnabledForPost)({publication:a,post:pn}),Rn=(0,Vt.showCommentsOnPost)({publication:a,post:pn}),Zn=Kn||(Sn==null?void 0:Sn.is_free_subscriber)||r,kn=(U||(pn==null?void 0:pn.free_unlock_required))&&!Zn&&["treatment_short","treatment_long"].includes(j),Gt=Sn&&Sn.is_contributor&&(pn==null?void 0:pn.slug)=="coming-soon"&&!(Xt!=null&&Xt.seen_coming_soon_explainer);kn&&(gt?pn.body_html=gt.body_html:pn.truncatedBody&&(pn.body_html=pn.truncatedBody));const or=(pn==null?void 0:pn.type)==="podcast",_n=!(pn!=null&&pn.hidden)&&((0,Vt.isUUID)(t)||Kn||Ye||pn&&!(0,sr.isPaidAudience)(pn.audience)&&!kn||pn&&!pn.slug&&!kn),fr=!_n||(Sn==null?void 0:Sn.is_contributor)&&pn&&(0,sr.isPaidAudience)(pn.audience),yr=Fe&&(Sn==null?void 0:Sn.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(pn.type);return(0,e.h)("div",null,en==="restack-comment"&&(0,e.h)(dV,{post:pn,pub:a}),(0,e.h)(cV,{pub:a,post:pn}),De||ur?(0,e.h)($,{freeSignup:r,freeSignupEmail:i,user:Sn,post:pn,publication:a,hidden:B||kn}):null,pn&&a&&!Ye&&(0,e.h)(aH,{user:Sn,subdomain:a.subdomain,post:pn}),Gt&&(0,e.h)(mH,null),(0,e.h)("div",{className:u()("single-post-container")},(0,e.h)("div",{className:u()({container:!or})},(0,e.h)("div",{className:"single-post"},(0,e.h)(ip,{post:pn,publication:a,selection:yt,siteConfigs:Bt}),pn?(0,e.h)(Ep,{ref:Ar=>{this.post=Ar},commentsEnabled:tr,postPreview:st,showComments:Rn,user:Sn,post:pn,pub:a,freeSignup:r,freeSignupEmail:i,reaction_token:D,disableSubscribePrompt:De&&!(B||kn),paywall:_n?!1:kn?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${a.name} to unlock this ${pn.type==="podcast"?"episode":"post"}`}:!0,noTitleLink:!0,onChange:Ar=>this.setState(Ar),fromPostPage:!0,freeTrialCoupon:xt,showRestackModal:!!Ht,stripe_publishable_key:fn,readerIsSearchCrawler:Ye}):Gn?(0,e.h)("p",{className:"main-loader"},"Post not found"):(0,e.h)(eb,{pub:a}),Se)),Wn&&_n&&[Rn&&!or&&(0,e.h)(uV,{commentsEnabled:tr,comments:yn,post:pn,slug:t,user:Sn,freeSignup:r,freeSignupEmail:i,publication:a,reaction_token:D,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Qn,selectionFromQuery:yt,onChange:Ar=>this.setState(Ar),bannedFromNotes:xn}),a.has_posts&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(pe.Z,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(tV,{user:Sn,freeSignup:r,freeSignupEmail:i,pub:a,maxPosts:!fr&&!Kn&&!(Zn&&!a.plans)?3:10,filterPosts:Ar=>Ar.id!==pn.id,sort:Y,search:ge,stateInUrl:!0,sortTabs:Ar=>{const Yn=Ar.findIndex(vr=>vr.id==="top");if(Yn!==-1)return[Ar[Yn]].concat(Ar.filter((vr,mr)=>mr!==Yn))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!fr&&[(0,e.h)(pe.Z,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(QH,{publication:a,user:Sn,freeSignupEmail:i,freeSignup:r})]],yr?(0,e.h)(VH,{post:pn,autoSharedOnTwitter:qe==="true",publicationTwitterScreenName:a.twitter_screen_name,publication:a,showAfter:At!=null&&At.length?(0,e.h)(XH,{pub:a,pubsToRecommend:At}):null}):null,tn?(0,e.h)(b1.hF,{user:Sn,pub:a,post:pn}):null))}}Ds(Jp,"contextType",Et.QA);class uV extends e.Component{constructor(t,r){super(t,r),Ds(this,"modalRef",(0,e.createRef)(null)),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:t.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(bp,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(bp,this.handleFocusInput)}render({commentsEnabled:t,inlineComments:r,post:i,user:a,freeSignup:D,freeSignupEmail:B,publication:j,reaction_token:U,onVisible:Y,onChangeComment:ge,selectionFromQuery:Se,slug:De,onChange:Fe,bannedFromNotes:qe},{comments:Ye,reactionSigninComment:st}){if(r)return(0,e.h)("div",null,(0,e.h)("div",{className:"full-container-border"}),(0,e.h)(cp,{slug:De,user:a,freeSignupEmail:B,freeSignup:D,post:i,publication:j,post_reaction_token:U,selectionFromQuery:Se,initialComments:Ye,inline:!0,onChange:Fe}));const gt=(yt,At)=>_d(this,null,function*(){return x1({user:a,reactionToken:U,comments:Ye,id:yt,reacted:At,setComments:Bt=>this.setState({comments:Bt}),onNeedsSignin:Bt=>new Promise(xt=>this.setState({reactionSigninComment:Bt},()=>this.modalRef.current.open(xt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(t||i.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},i.comment_count>0?(0,Vt.pluralize)(i.comment_count,"Comment"):"Comments"),(0,e.h)(pe.Z,{onVisible:()=>Y("Post Comments Footer")}),t&&(0,e.h)(Jl,{user:a,freeSignup:D,freeSignupEmail:B,pub:j,post:i,token:U,ref:this.inputRef,bannedFromNotes:qe}),Ye.length>0&&!t&&(0,e.h)(I1,{post:i}),Ye&&Ye.length>0&&j.community_enabled&&(0,e.h)(Rc,{className:"post-page-root-comment-list",key:`post:${i.id}`,user:a,freeSignup:D,freeSignupEmail:B,pub:j,post:i,comments:Ye,reaction_token:U,onChange:ge,updateCommentReacted:gt,noRestack:!0}),t&&i.comment_count>(Ye||[]).length&&(0,e.h)("a",{className:"more-comments",href:Gl(i,j)},(0,Vt.pluralize)(i.comment_count-(Ye||[]).length,"more comment"),"\u2026"),st&&(0,e.h)(ws.oq,{comment:st,pub:j,user:a,react:()=>gt(st.id,!0),modalRef:this.modalRef})))}}const cV=({pub:n,post:t})=>{if(t)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Ud()((0,Fd.Rg)(n,t),{json:!0,isScriptContext:!0})}})};function dV({pub:n,post:t}){const r=(0,Wu.i3)();return(0,o.d4)(()=>{r.open({restackUrl:(0,p.getPostUrl)(n,t)})},[]),null}var fV=Object.defineProperty,pV=Object.defineProperties,hV=Object.getOwnPropertyDescriptors,FE=Object.getOwnPropertySymbols,mV=Object.prototype.hasOwnProperty,_V=Object.prototype.propertyIsEnumerable,jE=(n,t,r)=>t in n?fV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gV=(n,t)=>{for(var r in t||(t={}))mV.call(t,r)&&jE(n,r,t[r]);if(FE)for(var r of FE(t))_V.call(t,r)&&jE(n,r,t[r]);return n},vV=(n,t)=>pV(n,hV(t));const yV=n=>(0,e.h)(k.l,vV(gV({},n),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"})),va={root:"frontend-components-PressKitImage-module__root--ERwr7",sharePage:"frontend-components-PressKitImage-module__sharePage--vXr1v",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",image:"frontend-components-PressKitImage-module__image--MPbfI",download:"frontend-components-PressKitImage-module__download--qS9sv",inline:"frontend-components-PressKitImage-module__inline--zFs8S",secondaryBorder:"frontend-components-PressKitImage-module__secondaryBorder--gmc0v",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L"};var bV=(n,t,r)=>new Promise((i,a)=>{var D=U=>{try{j(r.next(U))}catch(Y){a(Y)}},B=U=>{try{j(r.throw(U))}catch(Y){a(Y)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,B);j((r=r.apply(n,t)).next())});const PV=({pub:n,post:t,style:r,text:i,inline:a,sharePage:D})=>{const[B,j]=(0,o.eJ)(""),[U,Y]=(0,o.eJ)(""),[ge,Se]=(0,o.eJ)(!1),[De,Fe]=(0,o.eJ)({});(0,o.d4)(()=>{(0,M.isMobile)()&&navigator.share&&navigator.canShare(De)&&Se(!0)},[De]),(0,o.d4)(()=>{function Ye(){return bV(this,null,function*(){j("");const st=(0,p.getPressKitUrl)(n,t,r);if((0,T.preloadImage)((0,p.getPressKitUrl)(n,t,r),()=>{j(st),Y((0,p.getPressKitUrl)(n,t,r,`${i}${r.aspectRatio?` - ${r.aspectRatio}`:""}`))}),(0,M.isMobile)()){const gt=yield fetch(st);Fe({title:"Share this post",text:t.title,files:[new File([yield gt.blob()],"image.png",{type:"image/png"})],url:(0,p.getPostUrl)(n,t)})}})}Ye()},[Y,j,n,t,r,i]);const qe=(0,dt.useCallback)(()=>{if((0,C.j)(C.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:t.id,type:i,aspectRatio:r.aspectRatio,share_center:D,inline:!!a}),ge&&De)try{navigator.share(De)}catch(Ye){}},[t,i,r,D,a,ge,De]);return(0,e.h)("a",{onClick:qe,href:ge?void 0:U,alt:"Download Image",download:!0,className:va.link,target:"_blank"},(0,e.h)("div",{className:u()(va.root,{[va.sharePage]:D})},!(0,M.isMobile)()&&(0,e.h)("div",{className:va.download},(0,e.h)(yV,{stroke:"#404040",fill:"white"})),!B&&(0,e.h)("div",{className:u()(va.image,va.imageLoading,{[va.secondaryBorder]:D}),alt:"Loading"},(0,e.h)(Ha.Sv,null)),B&&(0,e.h)("img",{src:B,className:u()(va.image,{[va.inline]:a,[va.sharePage]:D&&!a,[va.secondaryBorder]:D})})))},Dz=({pub:n,post:t,style:r,text:i,downloadUrl:a})=>h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:a||getPressKitUrl(n,t,r,"image"),alt:"Download Image",download:!0,target:"_blank",className:PressKitCss.link},h("img",{src:getPressKitUrl(n,t,r),className:PressKitCss.imageEmail}))))),gd=PV,ul={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH"},EV=n=>{const t=n.themeVariables,r=t.web_bg_color||t.cover_bg_color,i=n.post.cover_image||n.publication.cover_photo_url,[a,D]=(0,o.eJ)("square");return(0,o.d4)(()=>{(0,C.j)(C.FP.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:n.post.id})},[n.post.id]),(0,e.h)("div",{className:ul.root},(0,e.h)(x.xv.H2,{color:"pub-primary-text",className:ul.pageTitle},"Media Assets"),(0,e.h)(x.xv.B3,{color:"pub-primary-text",className:ul.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(je.gq,{paddingY:24,gap:8,alignItems:"center"},(0,e.h)(x.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Aspect Ratio:"),(0,e.h)(y.gu,{name:"aspectRatio",value:a,onChange:D,options:[{value:"square",label:"Square"},{value:"instagram",label:(0,M.isMobile)()?"Insta":"Instagram"},{value:"stories",label:(0,M.isMobile)()?"IG Stories":"Instagram Stories"}],horizontal:!0,labelProps:{color:"pub-primary-text"}})),(0,e.h)(je.tu,{justifyContent:"center",className:ul.container},(0,e.h)(je.gq,{paddingBottom:16,alignItems:"center",justifyContent:"space-between"},(0,e.h)(x.xv.H4,{color:"pub-primary-text"},n.post.title),!(0,M.isMobile)()&&(0,e.h)(y.zx,{priority:"secondary",leftIcon:(0,e.h)(Jf.Z,{stroke:"#404040",size:20}),href:(0,p.pathWithQuery)(`/api/v1/press_kit/all/${n.post.id}`,{aspectRatio:a,isDraft:n.post.is_draft}),newTab:!0},"Download")),(0,e.h)("div",{className:ul.divider}),(0,M.isMobile)()&&(0,e.h)(y.xu,{bg:"secondary",radius:12,color:"secondary",paddingTop:8,paddingBottom:8,style:{"margin-bottom":"16px"}},(0,e.h)(x.xv.B4,{textAlign:"center",color:"pub-secondary-text",fontSize:14},"Press and hold to download an image, or tap to share.")),(0,e.h)(je.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(gd,{pub:n.publication,post:n.post,style:{bgColor:r,textColor:t.print_on_web_bg_color||t.cover_print_primary||"#1a1a1a",aspectRatio:a},text:"Background Color"}),t.background_pop&&(0,e.h)(gd,{pub:n.publication,post:n.post,style:{bgColor:t.background_pop,textColor:t.print_on_pop,aspectRatio:a},text:"Accent Color"}),i&&(0,e.h)(gd,{pub:n.publication,post:n.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:a},text:"Image"}),r.toLowerCase()!=="#ffffff"?(0,e.h)(gd,{pub:n.publication,post:n.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:a},text:"Black and White"}):null)),(0,e.h)("div",{className:ul.textFooter},(0,e.h)(x.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,p.getPublishSettingsUrl)(n.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},WE=({sitemapHeader:n,sitemapDescription:t,sitemapLinks:r})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,T.setMetaData)({title:n,description:t}),(0,e.h)("h1",null,n),(0,e.h)("div",null,r.map(i=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:i.href,native:!0},i.text))))),HE={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},cl=wt(6378),wV=({})=>{const{iString:n}=(0,P.M1)();return(0,e.h)("div",{className:HE.noPodcasts},n("No podcasts."))},Xp=(n,t,r)=>{let i=n[t.id];return i||(i=(0,p.getPodcatcherSetupUrl)(t,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:"all-podcasts"}})),i},CV=({pub:n,user:t,idToMagicLink:r,openInNewTab:i})=>n.subdomain!=="thebulwark"?null:(0,e.h)(x.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:Xp(r!=null?r:{},n,t),target:i?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),OV=({pub:n,user:t,idToMagicLink:r={},openInNewTab:i=!1,newFormatting:a=!1})=>{const D=[],{iString:B}=(0,P.M1)();cl.isMultiPub(n)?cl.getMultiPubChildPodcasts(n).forEach(Se=>{const De=Hl(Se,Xp(r,Se,t));D.push(De)}):cl.getSectionPodcasts(n)&&cl.getSectionPodcasts(n).forEach(Se=>{var De,Fe;if(!Ew({pub:n,section:Se}))return;const qe=(0,Pl.getSectionPodcastSettings)({pub:n,section:Se});if(!qe.title)return;const Ye={logoUrl:(De=qe.artUrl)!=null?De:void 0,mainClickUrl:(0,p.getPodcastLandingUrl)({pub:n,section:Se,addBase:!0}),buttonClickUrl:r[Se.id]||(0,p.getPodcatcherSetupUrl)(n,{section:Se,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!t||!t.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:qe.title,description:(Fe=qe.description)!=null?Fe:"",buttonText:B("Set up podcast")};D.push(Ye)}),Pw(n)&&D.push(Hl(n,Xp(r,n,t)));const j=Object.keys(r).length>0||!!(t!=null&&t.is_free_subscribed);let U=D.length>1?B("Podcast feeds"):B("Podcast feed");j&&(U=cl.hasMultiplePodcasts(n)?B("Private podcast feeds"):B("Private podcast feed"));const Y=(0,e.h)(je.tu,{radius:12,border:"detail",padding:16},cl.hasPodcast(n)?(0,e.h)(e.Fragment,null,(0,e.h)(wc,{showButton:!0,items:D,openInNewTab:i,buttonText:B("Set up podcast")}),(0,e.h)(CV,{pub:n,user:t,idToMagicLink:r,openInNewTab:i})):(0,e.h)(wV,null));return a?(0,e.h)(e.Fragment,null,(0,e.h)(x.xv.H4,{paddingTop:20,paddingBottom:8},U),Y):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(x.xv.H3,{paddingTop:16,paddingBottom:16},U),Y))},SV=({pub:n,user:t,idToMagicLink:r,openInNewTab:i=!1})=>(0,e.h)("div",{className:u()("page","typography",HE.container)},(0,e.h)(OV,{pub:n,user:t,idToMagicLink:r,openInNewTab:i}));function TV({slug:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a,tagPagePreloads:D}){var B,j;const U=!!(t!=null&&t.theme),Y=(0,Ut.ib)({pathname:`/api/v1/publication/post-tag/slug/${n}`,auto:(D==null?void 0:D.slug)!==n,initialResult:(D==null?void 0:D.slug)===n?D.postTag:null,deps:[D,n]});return(0,e.h)(N.ze,{value:{hasThemedBackground:U}},(0,e.h)("div",{className:u()("archive-page typography",{"use-theme-bg":U})},(0,e.h)("div",{className:"container"},Y.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)("h2",null,((B=Y.result)==null?void 0:B.name)||"Page not found"),(0,e.h)(Op,{user:r,freeSignup:i,freeSignupEmail:a,pub:t,sort:"new",postTagId:(j=Y.result)==null?void 0:j.id,newPosts:(D==null?void 0:D.slug)===n?D.posts:null,source:"tag-archive"})))))}var IV=Object.defineProperty,VE=Object.getOwnPropertySymbols,xV=Object.prototype.hasOwnProperty,DV=Object.prototype.propertyIsEnumerable,KE=(n,t,r)=>t in n?IV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,yu=(n,t)=>{for(var r in t||(t={}))xV.call(t,r)&&KE(n,r,t[r]);if(VE)for(var r of VE(t))DV.call(t,r)&&KE(n,r,t[r]);return n};const MV=1e3*60*60*24,$E="domain-redirect-time";class AV extends e.Component{constructor(t,r){super(t,r),this.state=t.initialData||{}}componentDidUpdate(t,r){var i,a,D,B;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(yu({},this.props.initialData));const j=(a=(i=this.state.pub)==null?void 0:i.theme)==null?void 0:a.web_bg_color,U=document.documentElement;U&&j&&((B=(D=r==null?void 0:r.pub)==null?void 0:D.theme)==null?void 0:B.web_bg_color)!==j&&(U.style.background=j)}componentDidMount(){var t,r,i,a;const D=(a=(i=(r=(t=this.props)==null?void 0:t.initialData)==null?void 0:r.pub)==null?void 0:i.theme)==null?void 0:a.web_bg_color,B=document.documentElement;B&&D&&(B.style.background=D);const j=this.loadedWithLikelyLoggedInParam()?"param":null;j&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:j}):this.useIframe()&&window.addEventListener("message",U=>this.handleFrameMessage(U))}shouldBlockLoginRedirect(){var t;const r=parseInt((0,Li.mM)($E,0));return this.state.block_auto_login||!((t=this.state.pub)!=null&&t.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-r<=MV||(0,p.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(t){var r,i,a;if(((r=t.data)==null?void 0:r.type)!=="frame-state")return;const D=!this.shouldBlockLoginRedirect()&&((i=t.data)==null?void 0:i.loggedInAtSubstack);(0,C.j)(C.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(a=t.data)==null?void 0:a.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:D}),D&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:t}={}){(0,C.j)(C.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:t==="param",source:t}),(0,Li.ex)($E,`${Date.now()}`),location.href=(0,T.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!(0,p.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var t,r;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((t=this.state.pub)!=null&&t.custom_domain)||(0,p.urlIsRegularlyShownInIframe)((r=window==null?void 0:window.location)==null?void 0:r.href))}render({coupon:t},{pub:r,section:i,user:a,userProfile:D,freeSignup:B,freeSignupEmail:j,posts:U,post:Y,truncatedPost:ge,pinnedPosts:Se,newPosts:De,topPosts:Fe,contentBlocks:qe,communityPosts:Ye,communityAction:st,searchPosts:gt,contentBlockSectionsById:yt,contentBlockPostTagsById:At,contributors:Bt,postsByGroupId:xt,postsBySectionId:Ht,postsByTagId:en,inlineComments:Xt,latestChildPosts:tn,latestSectionPosts:fn,subscribeContent:xn,homepageLinks:yn,recommendations:Gn,numRecommendations:pn,allSubscribedPubs:Sn,fullySubscribedPubs:ur,sitemapHeader:Qn,sitemapDescription:jn,sitemapLinks:Kn,referralCode:Wn,hide_intro_popup:tr,post_reaction_token:Rn,stripe_publishable_key:Zn,viral_gift_data:gn,campaign:kn,referralCampaign:Gt,file:or,primaryEligiblePublications:_n,flagged_as_spam:fr,switchAccountRedirectUrl:yr,readerIsSearchCrawler:Ar,commentId:Yn,selectionFromQuery:vr,siteConfigs:mr={},blurbs:br,noBalanceHeroText:lo,embeddedPublications:Kr,themeVariables:oo,subdomainNotFound:Wi,freeTrialCoupon:Uo,signupForFreeVariant:Hi,people:Qi,useNewSubscribePage:Oi,idToMagicLink:Jr,token:ti,podcast_rss_url:bu,publicationSettings:Ta,pledgePlans:qi,isChatActive:Pu,isMeetingsActive:Ms,optOutLegacyTheming:Qp,meetingsOrder:Eu,meetingsSettings:wu,appModalOpenByDefault:qr,twitterCardUrl:io,tagPagePreloads:Wo,initialComments:qo,bannedFromNotes:Ho,intro_text:ya,crossPostedPub:Ia,crossPostingByLine:ns,userWithCrossPostedPubContext:dl,crossPostedPublicationSettings:ha,crossPostedSiteConfig:ba,launchWelcomePage:As}){var Cu;const Ou=g()(this.state.comments)?this.state.comments:[];if(Wi)return(0,e.h)(rH,{subdomain:Wi});if(fr&&!(a!=null&&a.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,T.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,p.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const vd=!!(r!=null&&r.theme&&!Qp),BV=(0,v.getCurrentUrl)().startsWith("/chat"),{iString:rs,iTemplate:is}=I18N.i(this.state.language);return(0,e.h)(aC,{pub:r,user:a,siteConfigs:mr,hasThemedBackground:vd,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Ta},(0,e.h)(FN,{publication:r,twitterCardUrl:io}),(0,e.h)(NV,{user:a}),(0,e.h)(RV,{user:a,pub:r}),(0,e.h)(LV,null),(0,e.h)("div",{className:u()("main typography",{"use-theme-bg":vd,"should-flex":BV}),id:"main"},this.useIframe()&&(0,e.h)("iframe",{src:`${(0,p.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}),(0,e.h)(E.qE,{path:"/"},({path:Do})=>{var zE,GE;let ea="/home";/^\/about\b/.test(Do)?ea="/about":/^\/notes\b/.test(Do)?ea="/notes":/^\/leaderboard\b/.test(Do)?ea="/leaderboard":/^\/chat\b/.test(Do)?ea="/chat":/^\/podcast\b/.test(Do)?ea="/podcast":/^\/archive\b/.test(Do)?ea="/archive":/^\/newsletters\b/.test(Do)?ea="/newsletters":/^\/recommendations\b/.test(Do)?ea="/recommendations":/^\/listen\b/.test(Do)?ea="/listen":i?ea=i.id:/^\/p\//.test(Do)?ea=((zE=/^\/p\/([^/?#]+)/.exec(Do))==null?void 0:zE[0])||"/p":/^\/t\//.test(Do)&&(ea=((GE=/^\/t\/([^/?#]+)/.exec(Do))==null?void 0:GE[0])||"/p");let Su;typeof window!="undefined"&&window.location.search&&(Su=(0,p.parseQuery)(window.location.search));const ZE=/^\/p\/([^/?#]*)/.exec(Do),YE=ZE&&!((Y==null?void 0:Y.type)==="page"&&Y.slug===ZE[1]),JE=Do.startsWith("/subscribe")||Do.startsWith("/finish-invite")||Do.startsWith("/meetings"),kV=Do.startsWith("/chat/posts/");return i?(0,e.h)(Fu,{pub:r,user:a,freeSignup:B,freeSignupEmail:j,hide_subscribe_cta:Do.startsWith("/subscribe"),selectedSectionId:ea,isPostView:YE,showCustomerSupportModeModal:!!(Su!=null&&Su.showCustomerSupportModeModal),lowChrome:JE,numRecommendations:pn,isChatActive:Pu,isMeetingsActive:Ms,signupForFreeVariant:Hi}):!["welcome","embed","meetings"].some(UV=>Do.startsWith(`/${UV}`))&&!(Do.startsWith("/subscribe")&&(Oi||qi))&&(0,e.h)(Fu,{pub:r,user:a,freeSignup:B,freeSignupEmail:j,hide_subscribe_cta:Do.startsWith("/subscribe"),isPostView:YE,selectedSectionId:ea,showCustomerSupportModeModal:!!(Su!=null&&Su.showCustomerSupportModeModal),lowChrome:JE,numRecommendations:pn,isChatActive:Pu,isMeetingsActive:Ms,signupForFreeVariant:Hi,hideSections:kV})}),(0,e.h)(ds.g1,{pub:r,user:a}),(0,e.h)(v.Router,{onChange:EC},["newspaper","magaziney"].includes(r.homepage_type)?(0,e.h)(qj,{path:"/",blurbs:br,bodyPostGroups:(Cu=r.theme)==null?void 0:Cu.body_post_groups,contentBlocks:qe!=null?qe:[],freeSignup:B,freeSignupEmail:j,hide_intro_popup:tr,homepageLinks:yn,contentBlockSectionsById:yt!=null?yt:{},contentBlockPostTagsById:At!=null?At:{},contributors:Bt,latestChildPosts:tn,latestSectionPosts:fn,newPosts:De,noBalanceHeroText:lo,numRecommendations:pn,pinnedPosts:Se,postsByGroupId:xt,postsBySectionId:Ht,postsByTagId:en,pub:r,recommendations:Gn,referralCampaign:Gt,referralCode:Wn,topPosts:Fe,user:a,launchWelcomePage:As}):(0,e.h)(vb,{path:"/",user:a,freeSignupEmail:j,freeSignup:B,hide_intro_popup:tr,preloadedPosts:U,pub:r,blurbs:br,noBalanceHeroText:lo,launchWelcomePage:As}),(0,e.h)(Vp,{path:"/listen/:sectionSlug",blurbs:br,user:a,freeSignupEmail:j,freeSignup:B,hide_intro_popup:tr,pub:r,pinnedPosts:Se,newPosts:De,latestChildPosts:tn,latestSectionPosts:fn,section:r.section,referralCampaign:Gt,isPodcast:!0,launchWelcomePage:As}),(0,e.h)(Vp,{path:"/podcast",blurbs:br,user:a,freeSignupEmail:j,freeSignup:B,hide_intro_popup:tr,pub:r,pinnedPosts:Se,newPosts:De,latestChildPosts:tn,latestSectionPosts:fn,recommendations:Gn,numRecommendations:pn,referralCampaign:Gt,isPodcast:!0,includePinnedPosts:!0,launchWelcomePage:As}),(0,e.h)(uu,{path:"/podcast/archive",blurbs:br,user:a,newPosts:De,topPosts:Fe,communityPosts:Ye,searchPosts:gt,pub:r,freeSignupEmail:j,freeSignup:B,isPodcast:!0,metadata:yu({title:is`Podcast Archive - ${r.name}`,description:is`Full archive of all the episodes from ${r.name}.`},!!(gt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Vp,{path:"/s/:slug",blurbs:br,user:a,freeSignupEmail:j,freeSignup:B,hide_intro_popup:tr,pub:r,pinnedPosts:Se,newPosts:De,latestChildPosts:tn,latestSectionPosts:fn,section:r.section,referralCampaign:Gt,launchWelcomePage:As}),(0,e.h)(uu,{path:"/archive",user:a,newPosts:De,topPosts:Fe,communityPosts:Ye,searchPosts:gt,pub:r,freeSignupEmail:j,freeSignup:B,metadata:yu({title:is`Archive - ${r.name}`,description:is`Full archive of all the posts from ${r.name}.`},!!(gt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(uu,{path:"/s/:slug/archive",user:a,newPosts:De,topPosts:Fe,communityPosts:Ye,searchPosts:gt,pub:r,freeSignupEmail:j,freeSignup:B,sectionId:i==null?void 0:i.id,metadata:yu({title:is`Archive - ${i==null?void 0:i.name} of ${r.name}`,description:is`Full archive of all the posts from ${i==null?void 0:i.name} of ${r.name}.`},!!(gt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(uu,{path:"/listen/:sectionSlug/archive/",user:a,newPosts:De,topPosts:Fe,communityPosts:Ye,searchPosts:gt,pub:r,freeSignupEmail:j,freeSignup:B,sectionId:i==null?void 0:i.id,metadata:yu({title:rs("Podcast Archive - %1",(0,Pl.getSectionPodcastSettings)({pub:r,section:r.section}).title),description:is`Full archive of all the episodes from ${(0,Pl.getSectionPodcastSettings)({pub:r,section:r.section}).title}.`},!!(gt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(TV,{path:"/t/:slug",user:a,freeSignupEmail:j,freeSignup:B,pub:r,tagPagePreloads:Wo}),(0,e.h)(uu,{default:!0,title:rs("Page not found"),user:a,newPosts:De,topPosts:Fe,communityPosts:Ye,searchPosts:gt,pub:r,freeSignupEmail:j,freeSignup:B}),(0,e.h)(Re,{path:"/tos",html:r.tos_content_html||rs("Terms of Service"),metadata:{title:rs("Terms of Service")}},(0,e.h)(y.xv,{translated:!0,as:"p"},"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(Re,{path:"/privacy",html:r.privacy_content_html||rs("Privacy Policy"),metadata:{title:rs("Privacy Policy")}},(0,e.h)(y.xv,{translated:!0,as:"p"},"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,p.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(Re,{path:"/disclosures",html:r.disclosures_content_html||rs("Disclosures"),metadata:{title:rs("Disclosures")}}),(0,e.h)($,{path:"/welcome",publication:r,post:null,user:a,freeSignup:B,freeSignupEmail:j,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)($,{path:"/podcast",publication:r,post:null,referralCode:Wn,user:a,freeSignup:B,freeSignupEmail:j,coupon:t,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(oW,{pub:r,path:"/invite",user:a,freeSignup:B,freeSignupEmail:j}),(0,e.h)(aW,{path:"/invite-success/:id",pub:r,user:a,post:Y,freeSignup:B,freeSignupEmail:j}),(0,e.h)(iW,{path:"/invite-reject-success/:id",pub:r,user:a,post:Y}),(0,e.h)(Rp,{path:"/finish-invite/:id",pub:r,user:a,freeSignup:B,freeSignupEmail:j}),(0,e.h)(Rp,{path:"/finish-post-invite/:id",pub:r,post:Y,user:a,freeSignup:B,freeSignupEmail:j,inviteToPost:!0,primaryEligiblePublications:_n||[],switchAccountRedirectUrl:yr}),(0,e.h)(bF,{path:"/recommendations",pub:r,user:a,recommendations:Gn,allSubscribedPubs:Sn,fullySubscribedPubs:ur}),(0,e.h)(WE,{path:"/sitemap",pub:r,sitemapHeader:Qn,sitemapDescription:jn,sitemapLinks:Kn}),(0,e.h)(WE,{path:"/sitemap/:year",pub:r,sitemapHeader:Qn,sitemapDescription:jn,sitemapLinks:Kn}),(0,e.h)(XM,{path:"/about",pub:r,user:a,freeSignup:B,freeSignupEmail:j,subscribeContent:xn,people:Qi,metadata:{title:is`About - ${r.name}`}}),(0,e.h)(Jp,{path:"/p/:slug",user:a,freeSignupEmail:j,freeSignup:B,referralCode:Wn,post:Y,truncatedPost:ge,publication:r,renderedComments:Ou,inlineComments:Xt,reaction_token:Rn,hide_intro_popup:tr,stripe_publishable_key:Zn,readerIsSearchCrawler:Ar,selectionFromQuery:vr,embeddedPublications:Kr,siteConfigs:mr,freeTrialCoupon:Uo,publicationSettings:Ta,bannedFromNotes:Ho}),(0,e.h)(Ek,{path:"/cp/:post_id",user:a,freeSignupEmail:j,freeSignup:B,post:Y,publication:r,introText:ya,crossPostedPub:Ia,crossPostingByLine:ns,userWithCrossPostedPubContext:dl,crossPostedPublicationSettings:ha,crossPostedSiteConfig:ba}),(0,e.h)(SV,{path:"/listen",pub:r,user:a||null,openInNewTab:!0,idToMagicLink:Jr}),(0,e.h)(Yw,{path:"/newsletters",pub:r,user:a!=null?a:null}),(0,e.h)(EV,{path:"/p/:slug/media-assets",post:Y,publication:r,themeVariables:oo}),Xt?(0,e.h)(Jp,{path:"/p/:slug/comments",user:a,freeSignupEmail:j,freeSignup:B,referralCode:Wn,post:Y,truncatedPost:ge,publication:r,renderedComments:Ou,inlineComments:Xt,reaction_token:Rn,hide_intro_popup:tr,stripe_publishable_key:Zn,readerIsSearchCrawler:Ar,selectionFromQuery:vr,siteConfigs:mr,freeTrialCoupon:Uo,bannedFromNotes:Ho}):(0,e.h)(cp,{path:"/p/:slug/comments",user:a,freeSignupEmail:j,freeSignup:B,post:Y,publication:r,post_reaction_token:Rn,commentId:Yn,freeTrialCoupon:Uo,initialComments:qo,bannedFromNotes:Ho}),!Xt&&(0,e.h)(cp,{path:"/p/:slug/comment/:comment_id",user:a,freeSignupEmail:j,freeSignup:B,post:Y,publication:r,post_reaction_token:Rn,commentId:Yn,freeTrialCoupon:Uo,initialComments:qo,bannedFromNotes:Ho}),(0,e.h)(aU,{path:"/rewards/receive",pub:r,user:a,freeSignupEmail:j,viral_gift_data:gn}),(0,e.h)(wk,{path:"/embed",pub:r,user:a,freeSignup:B,freeSignupEmail:j}),(0,e.h)(Sk,{path:"/embed/test",pub:r,user:a,freeSignup:B,freeSignupEmail:j}),(0,e.h)(Ok,{path:"/embed/podcast/:slug",pub:r}),(0,e.h)(Ik,{path:"/embed/video/:slug",pub:r}),(0,e.h)(tU,{path:"/f/:fileId",pub:r,user:a,hide_subscribe_cta:!0,file:or}),mr.live_events&&(0,e.h)(ml.cr,{module:"../live_events",onRequest:()=>Promise.all([wt.e(968),wt.e(829)]).then(wt.bind(wt,20829)),resolve:Do=>Do.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:r,user:a}),(0,e.h)(M5,{path:"/chat",publication:r,user:a}),(0,e.h)(A5,{path:"/chat/posts/:postId",publication:r,communityAction:st,user:a,appModalOpenByDefault:qr}),(0,e.h)(N5,{path:"/chat/replies/:commentId",publication:r,communityAction:st,user:a,appModalOpenByDefault:qr}),mr.meetings_v1&&(Ms||(a==null?void 0:a.is_author))&&(0,e.h)(wW,{path:"/meetings",exact:!0,pub:r,user:a,settings:wu}),mr.meetings_v1&&(Ms||(a==null?void 0:a.is_author))&&(0,e.h)(_E,{path:"/meetings/book",pub:r,user:a,stripe_publishable_key:Zn,order:Eu,settings:wu}),mr.meetings_v1&&(Eu||Ms||(a==null?void 0:a.is_author))&&(0,e.h)(_E,{path:"/meetings/book/:order_id?",pub:r,user:a,stripe_publishable_key:Zn,order:Eu,settings:wu}),mr.subscriber_referrals_enabled&&(0,e.h)(bW,{pub:r,user:a,freeSignupEmail:j,path:"/leaderboard"}),(0,e.h)(sC,{path:"/notes"})),(0,e.h)(E.qE,{path:"/"},({path:Do})=>!Do.startsWith("/welcome")&&!Do.startsWith("/embed")&&!Do.startsWith("/subscribe")&&!Do.startsWith("/meetings")&&!Do.startsWith("/chat")&&(0,e.h)(Ie,{publication:r,user:a,showIntrinioAttrib:Y&&Y.hasCashtag,path:Do})),(0,e.h)(w,{pub:r,user:a})))}}function NV({user:n}){const t=(0,Jh.S)({user:n});return(0,o.d4)(()=>{const r=new URLSearchParams(location.search);if(r.get("reaction")==="\u2764"){t(),r.delete("reaction");const i=r.toString();history.replaceState({},document.title,location.pathname+(i&&`?${i}`))}},[]),null}function RV({user:n,pub:t}){return yC({user:n,pub:t}),null}function LV(){return _C(),null}(0,z.Z)(AV)})()})()});KV();})();

//# sourceMappingURL=main.76ac9330c636de378bc8.bundle.js.map